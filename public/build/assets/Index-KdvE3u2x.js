import{_ as Je,a as He,b as Y,c as ee}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-BBXLv6Zh.js";import{b as ft,c as Xe,_ as xt}from"./Ecommerce.vue_vue_type_script_setup_true_lang-BwV_WEFm.js";import{d as Q,r as L,p as K,c as T,g as n,u as e,w as a,b as s,e as t,s as r,K as l,cy as oe,aM as ue,bv as gt,d1 as vt,dx as bt,Q as j,E as Me,v as f,M as xe,Y as yt,F as Z,x as te,J as W,t as C,aX as _t,$ as kt,z as Ke,h as ae,j as ne,D as de,dm as ht,dK as wt,dL as ot,cv as $t,dv as Pt,aH as Ne,aE as ie,aD as Ct,dI as St,ad as Le,aG as qe,dk as Tt,cQ as it,L as Pe,a2 as Te,aj as jt,am as Ce,C as Rt,aN as Ze,dM as dt,dN as Mt,a3 as Dt,dO as ut,dP as mt,o as Qe,dr as ze,ap as Ae,dG as Ve,cz as Ye,cx as Be,dd as Re,dQ as Se,dR as Lt,dS as At,dT as ce,dU as Vt,dV as Bt,dW as It,dX as Ut,dY as Et,dZ as he,d_ as se,d$ as we,e0 as pe,e1 as et,e2 as tt,e3 as fe,e4 as Kt,e5 as Nt,e6 as zt,aq as $e,as as st,e7 as at,dA as lt,e8 as nt,e9 as Ot,at as Ft,ea as Gt,a1 as Wt,ar as ct,eb as pt,a0 as Jt}from"./vendor-0sCoMzHy.js";import{_ as Ht,a as qt}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-BhL6n9ND.js";import{_ as Zt}from"./AvatarImage.vue_vue_type_script_setup_true_lang-CAfd5pFE.js";import{_ as B}from"./index-D12gyL4d.js";import{_ as O,a as F}from"./CardContent.vue_vue_type_script_setup_true_lang-DUWiWpeg.js";import{_ as I}from"./index-DJk7aHkf.js";import{_ as H}from"./CardHeader.vue_vue_type_script_setup_true_lang-Bo9DeG24.js";import{_ as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-SuNAGsFF.js";import{a as ge,b as ve,c as be,d as ye,_ as _e}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C6bUxMpH.js";import{_ as ke}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BB1UFE69.js";import{_ as X}from"./Input.vue_vue_type_script_setup_true_lang-nikPKNAJ.js";import{_ as N}from"./Label.vue_vue_type_script_setup_true_lang-f9xrDwSP.js";import{_ as je}from"./Textarea.vue_vue_type_script_setup_true_lang-Dm2fw_pR.js";import{_ as Qt}from"./Switch.vue_vue_type_script_setup_true_lang-TzFTMwvu.js";import{_ as le}from"./Separator.vue_vue_type_script_setup_true_lang-Bszm7esH.js";import{_ as Oe,a as Fe,b as Ge,c as We,d as De}from"./SelectValue.vue_vue_type_script_setup_true_lang-Dc4bXstG.js";import{_ as re}from"./CardDescription.vue_vue_type_script_setup_true_lang-CcT-2mF2.js";import{f as Xt,g as Yt,h as es,i as ts,j as ss}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-KgsqrYLn.js";import{_ as Ie,a as Ue,b as Ee}from"./index-y5IglBua.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-Gc81cOnN.js";import"./app-BS8kD5jR.js";function me(){return{formatCurrency:d=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d),formatDate:d=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(d)),getStatusLabel:d=>({pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",delivered:"Selesai",cancelled:"Dibatalkan"})[d]||d,getTransactionTypeLabel:d=>({topup:"Top Up",withdrawal:"Penarikan",bonus:"Bonus",purchase:"Pembelian",refund:"Refund"})[d]||d,getTransactionStatusLabel:d=>({pending:"Menunggu",completed:"Selesai",failed:"Gagal",cancelled:"Dibatalkan"})[d]||d}}const as={class:"flex flex-col items-center text-center"},ls={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},ns={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},rs={class:"mt-4 w-full space-y-2 text-sm"},os={class:"space-y-1.5"},is={class:"flex items-center justify-between"},ds={class:"flex gap-1"},us={class:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},ms={class:"flex items-center justify-between"},cs={class:"font-mono font-semibold"},ps={class:"text-[10px] text-gray-500 dark:text-gray-400 mt-1 break-all"},fs={class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},xs={class:"font-mono font-semibold"},gs={class:"flex items-center justify-between p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},vs={class:"font-semibold text-emerald-700 dark:text-emerald-400"},bs=Q({__name:"ProfileCard",props:{customer:{}},setup(o){const x=o,{formatCurrency:i}=me(),m=L(!1),k=K(()=>x.customer.name.split(" ").map(R=>R[0]).join("").toUpperCase().slice(0,2)),d=K(()=>typeof window>"u"?"":`${window.location.origin}/client/register?ref=${x.customer.ref_code}`),u=async()=>{if(typeof window>"u"||!navigator.clipboard){j.error("Tidak dapat menyalin link ke clipboard");return}try{await navigator.clipboard.writeText(d.value),m.value=!0,j.success("Link referral telah disalin ke clipboard"),setTimeout(()=>{m.value=!1},2e3)}catch{j.error("Tidak dapat menyalin link ke clipboard")}},S=async()=>{if(typeof window>"u")return;const R={title:"Bergabung dengan Referral Saya",text:`Gunakan kode referral saya: ${x.customer.ref_code}`,url:d.value};if(navigator.share)try{await navigator.share(R),j.success("Link referral berhasil dibagikan")}catch(v){v.name!=="AbortError"&&console.error("Error sharing:",v)}else await u()};return(R,v)=>(n(),T(e(O),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",as,[s(e(Ht),{class:"h-24 w-24 mb-4"},{default:a(()=>[s(e(Zt),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${o.customer.name}`},null,8,["src"]),s(e(qt),null,{default:a(()=>[r(l(k.value),1)]),_:1})]),_:1}),t("h2",ls,l(o.customer.name),1),t("p",ns,l(o.customer.email),1),o.customer.email_verified_at?(n(),T(e(B),{key:0,class:"mt-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100"},{default:a(()=>[s(e(oe),{class:"w-3 h-3 mr-1"}),v[0]||(v[0]=r(" Email Terverifikasi ",-1))]),_:1})):(n(),T(e(B),{key:1,variant:"secondary",class:"mt-3"},{default:a(()=>[s(e(ue),{class:"w-3 h-3 mr-1"}),v[1]||(v[1]=r(" Email Belum Terverifikasi ",-1))]),_:1})),t("div",rs,[t("div",os,[t("div",is,[v[3]||(v[3]=t("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Referral Link",-1)),t("div",ds,[s(e(I),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:u},{default:a(()=>[m.value?(n(),T(e(gt),{key:0,class:"w-3 h-3 mr-1"})):(n(),T(e(vt),{key:1,class:"w-3 h-3 mr-1"})),r(" "+l(m.value?"Tersalin":"Salin"),1)]),_:1}),s(e(I),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:S},{default:a(()=>[s(e(bt),{class:"w-3 h-3 mr-1"}),v[2]||(v[2]=r(" Bagikan ",-1))]),_:1})])]),t("div",us,[t("div",ms,[v[4]||(v[4]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Kode Referral",-1)),t("span",cs,l(o.customer.ref_code),1)]),t("p",ps,l(d.value),1)])]),t("div",fs,[v[5]||(v[5]=t("span",{class:"text-gray-600 dark:text-gray-400"},"E-Wallet ID",-1)),t("span",xs,l(o.customer.ewallet_id),1)]),t("div",gs,[v[6]||(v[6]=t("span",{class:"text-emerald-700 dark:text-emerald-400"},"Saldo",-1)),t("span",vs,l(e(i)(o.customer.ewallet_saldo)),1)])])])]),_:1})]),_:1}))}}),ys={class:"flex items-center justify-between"},_s={key:0,class:"text-center py-12 text-muted-foreground"},ks={key:1,class:"space-y-4"},hs={class:"flex items-start gap-3 mb-3"},ws={class:"flex-1 min-w-0"},$s={class:"flex items-center gap-2 mb-1"},Ps={class:"font-semibold text-sm"},Cs={class:"text-sm font-medium"},Ss={class:"text-xs text-muted-foreground"},Ts={class:"space-y-1 mb-3"},js={class:"text-sm"},Rs={key:0,class:"text-sm text-muted-foreground"},Ms={class:"text-sm text-muted-foreground"},Ds={key:0},Ls={class:"text-xs text-muted-foreground"},As={key:1,class:"text-xs text-muted-foreground italic mt-2"},Vs={class:"flex items-center gap-2"},Bs={class:"space-y-4 py-4"},Is={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Us={class:"space-y-2"},Es={class:"flex items-center space-x-2 pt-8"},Ks={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ns={class:"space-y-2"},zs={class:"space-y-2"},Os={class:"space-y-2"},Fs={class:"space-y-2"},Gs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ws={class:"space-y-2"},Js={class:"space-y-2"},Hs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},qs={class:"space-y-2"},Zs={class:"space-y-2"},Qs={class:"space-y-2"},Xs=Q({__name:"AddressManagement",props:{addresses:{}},setup(o){const x=L(!1),i=L(!1),m=L(!1),k=L(!1),d=L([]),u=L([]),S=L(!1),R=L(!1),v=L(""),w=L(""),y=L({label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""}),g=L(null),p=async()=>{S.value=!0;try{const D=await ae.get("/api/shipping/provinces");d.value=D.data.data}catch(D){j.error("Gagal memuat data provinsi"),console.error("Error loading provinces:",D)}finally{S.value=!1}},M=async D=>{if(D){R.value=!0,u.value=[],w.value="";try{const $=await ae.get("/api/shipping/cities",{params:{province_id:D}});u.value=$.data.data}catch($){j.error("Gagal memuat data kota"),console.error("Error loading cities:",$)}finally{R.value=!1}}};Me(v,D=>{if(!D)return;const $=d.value.find(_=>_.id.toString()===D);$&&(y.value.province_id=parseInt(D),y.value.province_label=$.name,M(D))}),Me(w,D=>{if(!D)return;const $=u.value.find(_=>_.id.toString()===D);$&&(y.value.city_id=parseInt(D),y.value.city_label=$.name)});const U=()=>{i.value=!1,y.value={label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""},v.value="",w.value="",u.value=[],p(),x.value=!0},A=D=>{i.value=!0,g.value=D.id,y.value={...D},p().then(()=>{D.province_id&&(v.value=D.province_id.toString(),M(D.province_id.toString()).then(()=>{D.city_id&&(w.value=D.city_id.toString())}))}),x.value=!0},z=()=>{x.value=!1,g.value=null},E=()=>{if(!y.value.recipient_name||!y.value.recipient_phone||!y.value.address_line1){j.error("Mohon lengkapi nama penerima, telepon, dan alamat");return}if(!y.value.province_id||!y.value.city_id){j.error("Mohon pilih provinsi dan kota/kabupaten");return}k.value=!0;const D=i.value&&g.value?`/client/profile/addresses/${g.value}`:"/client/profile/addresses",$=i.value?"put":"post";ne[$](D,y.value,{preserveScroll:!0,onSuccess:()=>{j.success(`Alamat berhasil ${i.value?"diperbarui":"ditambahkan"}`),z()},onError:_=>{if(console.error("Address save error:",_),typeof _=="object"&&_!==null){const P=Object.values(_)[0],b=Array.isArray(P)?P[0]:P;j.error(b||"Gagal menyimpan alamat")}else j.error("Gagal menyimpan alamat. Silakan coba lagi.")},onFinish:()=>{k.value=!1}})},G=D=>{confirm("Apakah Anda yakin ingin menghapus alamat ini?")&&(m.value=!0,ne.delete(`/client/profile/addresses/${D}`,{preserveScroll:!0,onSuccess:()=>{j.success("Alamat berhasil dihapus")},onError:$=>{if(console.error("Address delete error:",$),typeof $=="object"&&$!==null){const _=Object.values($)[0],P=Array.isArray(_)?_[0]:_;j.error(P||"Gagal menghapus alamat")}else j.error("Gagal menghapus alamat. Silakan coba lagi.")},onFinish:()=>{m.value=!1}}))},V=D=>{de({}).post(`/client/profile/addresses/${D}/set-default`,{preserveScroll:!0,onSuccess:()=>{j.success("Alamat utama berhasil diubah")},onError:_=>{if(console.error("Set default address error:",_),typeof _=="object"&&_!==null){const P=Object.values(_)[0],b=Array.isArray(P)?P[0]:P;j.error(b||"Gagal mengubah alamat utama")}else j.error("Gagal mengubah alamat utama. Silakan coba lagi.")}})},J=D=>D?D.toLowerCase().includes("rumah")||D.toLowerCase().includes("home")?ht:D.toLowerCase().includes("kantor")||D.toLowerCase().includes("office")?wt:xe:xe;return(D,$)=>(n(),f(Z,null,[s(e(O),null,{default:a(()=>[s(e(H),null,{default:a(()=>[t("div",ys,[s(e(q),{class:"flex items-center gap-2"},{default:a(()=>[s(e(xe),{class:"w-5 h-5"}),$[11]||($[11]=r(" Kelola Alamat ",-1))]),_:1}),s(e(I),{size:"sm",onClick:U},{default:a(()=>[s(e(yt),{class:"w-4 h-4 mr-2"}),$[12]||($[12]=r(" Tambah Alamat ",-1))]),_:1})])]),_:1}),s(e(F),null,{default:a(()=>[o.addresses.length===0?(n(),f("div",_s,[s(e(xe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),$[13]||($[13]=t("p",{class:"mb-2"},"Belum ada alamat tersimpan",-1)),$[14]||($[14]=t("p",{class:"text-sm"},"Tambahkan alamat untuk mempermudah proses pengiriman",-1))])):(n(),f("div",ks,[(n(!0),f(Z,null,te(o.addresses,_=>(n(),f("div",{key:_.id,class:W(["relative p-4 rounded-lg border transition-all",_.is_default?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[_.is_default?(n(),T(e(B),{key:0,variant:"default",class:"absolute top-2 right-2 text-xs"},{default:a(()=>[...$[15]||($[15]=[r(" Utama ",-1)])]),_:1})):C("",!0),t("div",hs,[(n(),T(_t(J(_.label)),{class:W(["w-5 h-5 mt-1 flex-shrink-0",_.is_default?"text-primary":"text-muted-foreground"])},null,8,["class"])),t("div",ws,[t("div",$s,[t("h4",Ps,l(_.label||"Alamat"),1)]),t("p",Cs,l(_.recipient_name),1),t("p",Ss,l(_.recipient_phone),1)])]),t("div",Ts,[t("p",js,l(_.address_line1),1),_.address_line2?(n(),f("p",Rs,l(_.address_line2),1)):C("",!0),t("p",Ms,[r(l(_.city_label)+", "+l(_.province_label)+" ",1),_.postal_code?(n(),f("span",Ds,l(_.postal_code),1)):C("",!0)]),t("p",Ls,l(_.country),1),_.description?(n(),f("p",As,l(_.description),1)):C("",!0)]),s(e(le),{class:"my-3"}),t("div",Vs,[_.is_default?C("",!0):(n(),T(e(I),{key:0,variant:"outline",size:"sm",onClick:P=>V(_.id)},{default:a(()=>[...$[16]||($[16]=[r(" Jadikan Utama ",-1)])]),_:1},8,["onClick"])),s(e(I),{variant:"outline",size:"sm",onClick:P=>A(_)},{default:a(()=>[s(e(kt),{class:"w-3 h-3 mr-1"}),$[17]||($[17]=r(" Edit ",-1))]),_:1},8,["onClick"]),s(e(I),{variant:"destructive",size:"sm",disabled:m.value,onClick:P=>G(_.id)},{default:a(()=>[s(e(Ke),{class:"w-3 h-3 mr-1"}),$[18]||($[18]=r(" Hapus ",-1))]),_:1},8,["disabled","onClick"])])],2))),128))]))]),_:1})]),_:1}),s(e(_e),{open:x.value,"onUpdate:open":z},{default:a(()=>[s(e(ge),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[s(e(ve),null,{default:a(()=>[s(e(be),null,{default:a(()=>[r(l(i.value?"Edit Alamat":"Tambah Alamat Baru"),1)]),_:1}),s(e(ye),null,{default:a(()=>[r(l(i.value?"Perbarui informasi alamat Anda":"Tambahkan alamat pengiriman baru"),1)]),_:1})]),_:1}),t("div",Bs,[t("div",Is,[t("div",Us,[s(e(N),{for:"label"},{default:a(()=>[...$[19]||($[19]=[r("Label Alamat",-1)])]),_:1}),s(e(X),{id:"label",modelValue:y.value.label,"onUpdate:modelValue":$[0]||($[0]=_=>y.value.label=_),placeholder:"Rumah, Kantor, dll"},null,8,["modelValue"])]),t("div",Es,[s(e(Qt),{id:"is_default",checked:y.value.is_default,"onUpdate:checked":$[1]||($[1]=_=>y.value.is_default=_)},null,8,["checked"]),s(e(N),{for:"is_default",class:"cursor-pointer"},{default:a(()=>[...$[20]||($[20]=[r("Jadikan alamat utama",-1)])]),_:1})])]),t("div",Ks,[t("div",Ns,[s(e(N),{for:"recipient_name"},{default:a(()=>[...$[21]||($[21]=[r("Nama Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(X),{id:"recipient_name",modelValue:y.value.recipient_name,"onUpdate:modelValue":$[2]||($[2]=_=>y.value.recipient_name=_),placeholder:"Nama lengkap penerima",required:""},null,8,["modelValue"])]),t("div",zs,[s(e(N),{for:"recipient_phone"},{default:a(()=>[...$[22]||($[22]=[r("No. Telepon Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(X),{id:"recipient_phone",modelValue:y.value.recipient_phone,"onUpdate:modelValue":$[3]||($[3]=_=>y.value.recipient_phone=_),placeholder:"08xxxxxxxxxx",required:""},null,8,["modelValue"])])]),t("div",Os,[s(e(N),{for:"address_line1"},{default:a(()=>[...$[23]||($[23]=[r("Alamat Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(je),{id:"address_line1",modelValue:y.value.address_line1,"onUpdate:modelValue":$[4]||($[4]=_=>y.value.address_line1=_),placeholder:"Jalan, nomor rumah, RT/RW, blok",rows:"3",required:""},null,8,["modelValue"])]),t("div",Fs,[s(e(N),{for:"address_line2"},{default:a(()=>[...$[24]||($[24]=[r("Detail Tambahan (Opsional)",-1)])]),_:1}),s(e(X),{id:"address_line2",modelValue:y.value.address_line2,"onUpdate:modelValue":$[5]||($[5]=_=>y.value.address_line2=_),placeholder:"Patokan, gedung, unit, warna rumah, dll"},null,8,["modelValue"])]),t("div",Gs,[t("div",Ws,[s(e(N),{for:"province"},{default:a(()=>[...$[25]||($[25]=[r("Provinsi ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Oe),{modelValue:v.value,"onUpdate:modelValue":$[6]||($[6]=_=>v.value=_),disabled:S.value},{default:a(()=>[s(e(Fe),{id:"province"},{default:a(()=>[s(e(Ge),{placeholder:S.value?"Memuat provinsi...":"Pilih provinsi"},null,8,["placeholder"])]),_:1}),s(e(We),null,{default:a(()=>[(n(!0),f(Z,null,te(d.value,_=>(n(),T(e(De),{key:_.id,value:_.id.toString()},{default:a(()=>[r(l(_.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",Js,[s(e(N),{for:"city"},{default:a(()=>[...$[26]||($[26]=[r("Kota/Kabupaten ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Oe),{modelValue:w.value,"onUpdate:modelValue":$[7]||($[7]=_=>w.value=_),disabled:!v.value||R.value},{default:a(()=>[s(e(Fe),{id:"city"},{default:a(()=>[s(e(Ge),{placeholder:R.value?"Memuat kota...":v.value?"Pilih kota/kabupaten":"Pilih provinsi terlebih dahulu"},null,8,["placeholder"])]),_:1}),s(e(We),null,{default:a(()=>[(n(!0),f(Z,null,te(u.value,_=>(n(),T(e(De),{key:_.id,value:_.id.toString()},{default:a(()=>[r(l(_.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),t("div",Hs,[t("div",qs,[s(e(N),{for:"postal_code"},{default:a(()=>[...$[27]||($[27]=[r("Kode Pos",-1)])]),_:1}),s(e(X),{id:"postal_code",modelValue:y.value.postal_code,"onUpdate:modelValue":$[8]||($[8]=_=>y.value.postal_code=_),placeholder:"12345"},null,8,["modelValue"])]),t("div",Zs,[s(e(N),{for:"country"},{default:a(()=>[...$[28]||($[28]=[r("Negara",-1)])]),_:1}),s(e(X),{id:"country",modelValue:y.value.country,"onUpdate:modelValue":$[9]||($[9]=_=>y.value.country=_),placeholder:"Indonesia"},null,8,["modelValue"])])]),t("div",Qs,[s(e(N),{for:"description"},{default:a(()=>[...$[29]||($[29]=[r("Catatan (Opsional)",-1)])]),_:1}),s(e(je),{id:"description",modelValue:y.value.description,"onUpdate:modelValue":$[10]||($[10]=_=>y.value.description=_),placeholder:"Catatan khusus untuk alamat ini",rows:"2"},null,8,["modelValue"])])]),s(e(ke),null,{default:a(()=>[s(e(I),{variant:"outline",onClick:z,disabled:k.value},{default:a(()=>[...$[30]||($[30]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{onClick:E,disabled:k.value},{default:a(()=>[r(l(k.value?"Menyimpan...":i.value?"Perbarui":"Simpan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Ys={class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},ea={class:"text-xl font-bold text-emerald-700 dark:text-emerald-400"},ta={class:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},sa={class:"text-xl font-bold text-amber-700 dark:text-amber-400"},aa=Q({__name:"BonusStatsCard",props:{customer:{}},setup(o){const{formatCurrency:x}=me();return(i,m)=>(n(),T(e(O),null,{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(q),{class:"flex items-center gap-2"},{default:a(()=>[s(e(ot),{class:"w-5 h-5"}),m[0]||(m[0]=r(" Statistik Bonus ",-1))]),_:1})]),_:1}),s(e(F),{class:"space-y-3"},{default:a(()=>[t("div",Ys,[m[1]||(m[1]=t("p",{class:"text-xs text-emerald-700 dark:text-emerald-400 mb-1"},"Total Dirilis",-1)),t("p",ea,l(e(x)(o.customer.bonus_stats.total_released)),1)]),t("div",ta,[m[2]||(m[2]=t("p",{class:"text-xs text-amber-700 dark:text-amber-400 mb-1"},"Total Pending",-1)),t("p",sa,l(e(x)(o.customer.bonus_stats.total_pending)),1)])]),_:1})]),_:1}))}}),la={class:"flex items-center gap-3"},na={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},ra={class:"font-semibold"},oa=Q({__name:"MemberSinceCard",props:{createdAt:{}},setup(o){const{formatDate:x}=me();return(i,m)=>(n(),T(e(O),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",la,[t("div",na,[s(e($t),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[m[0]||(m[0]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Member Sejak",-1)),t("p",ra,l(e(x)(o.createdAt)),1)])])]),_:1})]),_:1}))}}),ia={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},da={class:"space-y-2"},ua={class:"relative"},ma={key:0,class:"text-sm text-red-500"},ca={class:"space-y-2"},pa={class:"relative"},fa={key:0,class:"text-sm text-red-500"},xa={class:"space-y-2"},ga={class:"relative"},va={key:0,class:"text-sm text-red-500"},ba={class:"space-y-2"},ya={key:0,class:"text-sm text-red-500"},_a={class:"space-y-2"},ka={class:"relative"},ha={key:0,class:"text-sm text-red-500"},wa={class:"space-y-2"},$a={class:"relative"},Pa={key:0,class:"text-sm text-red-500"},Ca={class:"space-y-2"},Sa={class:"relative"},Ta={key:0,class:"text-sm text-red-500"},ja={class:"space-y-2"},Ra={key:0,class:"text-sm text-red-500"},Ma={class:"flex items-center justify-end gap-3"},Da=Q({__name:"ProfileInformationTab",props:{customer:{}},setup(o){const x=o,i=de({name:x.customer.name,username:x.customer.username||"",nik:x.customer.nik||"",gender:x.customer.gender||"",alamat:x.customer.alamat||"",email:x.customer.email,phone:x.customer.phone,description:x.customer.description||""}),m=()=>{i.patch("/client/profile",{preserveScroll:!0,onSuccess:()=>{j.success("Informasi profil berhasil diperbarui")}})};return(k,d)=>(n(),T(e(O),null,{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(q),null,{default:a(()=>[...d[9]||(d[9]=[r("Informasi Profile",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...d[10]||(d[10]=[r(" Update informasi profil Anda di sini ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:Le(m,["prevent"]),class:"space-y-6"},[t("div",ia,[t("div",da,[s(e(N),{for:"username"},{default:a(()=>[...d[11]||(d[11]=[r(" Username ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ua,[s(e(Pt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"username",modelValue:e(i).username,"onUpdate:modelValue":d[0]||(d[0]=u=>e(i).username=u),type:"text",placeholder:"username",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.username?(n(),f("p",ma,l(e(i).errors.username),1)):C("",!0)]),t("div",ca,[s(e(N),{for:"name"},{default:a(()=>[...d[12]||(d[12]=[r(" Nama Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",pa,[s(e(Ne),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"name",modelValue:e(i).name,"onUpdate:modelValue":d[1]||(d[1]=u=>e(i).name=u),type:"text",placeholder:"Masukkan nama lengkap",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.name?(n(),f("p",fa,l(e(i).errors.name),1)):C("",!0)]),t("div",xa,[s(e(N),{for:"nik"},{default:a(()=>[...d[13]||(d[13]=[r("NIK (Nomor Induk Kependudukan)",-1)])]),_:1}),t("div",ga,[s(e(ie),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"nik",modelValue:e(i).nik,"onUpdate:modelValue":d[2]||(d[2]=u=>e(i).nik=u),type:"text",placeholder:"16 digit NIK",class:"pl-10",maxlength:"16"},null,8,["modelValue"])]),e(i).errors.nik?(n(),f("p",va,l(e(i).errors.nik),1)):C("",!0)]),t("div",ba,[s(e(N),{for:"gender"},{default:a(()=>[...d[14]||(d[14]=[r("Jenis Kelamin",-1)])]),_:1}),s(e(Oe),{modelValue:e(i).gender,"onUpdate:modelValue":d[3]||(d[3]=u=>e(i).gender=u)},{default:a(()=>[s(e(Fe),null,{default:a(()=>[s(e(Ge),{placeholder:"Pilih jenis kelamin"})]),_:1}),s(e(We),null,{default:a(()=>[s(e(De),{value:"male"},{default:a(()=>[...d[15]||(d[15]=[r("Laki-laki",-1)])]),_:1}),s(e(De),{value:"female"},{default:a(()=>[...d[16]||(d[16]=[r("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(i).errors.gender?(n(),f("p",ya,l(e(i).errors.gender),1)):C("",!0)]),t("div",_a,[s(e(N),{for:"email"},{default:a(()=>[...d[17]||(d[17]=[r(" Email ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ka,[s(e(Ct),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"email",modelValue:e(i).email,"onUpdate:modelValue":d[4]||(d[4]=u=>e(i).email=u),type:"email",placeholder:"email@example.com",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.email?(n(),f("p",ha,l(e(i).errors.email),1)):C("",!0)]),t("div",wa,[s(e(N),{for:"phone"},{default:a(()=>[...d[18]||(d[18]=[r(" Nomor Telepon ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",$a,[s(e(St),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"phone",modelValue:e(i).phone,"onUpdate:modelValue":d[5]||(d[5]=u=>e(i).phone=u),type:"tel",placeholder:"08123456789",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.phone?(n(),f("p",Pa,l(e(i).errors.phone),1)):C("",!0)])]),t("div",Ca,[s(e(N),{for:"alamat"},{default:a(()=>[...d[19]||(d[19]=[r("Alamat",-1)])]),_:1}),t("div",Sa,[s(e(xe),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(je),{id:"alamat",modelValue:e(i).alamat,"onUpdate:modelValue":d[6]||(d[6]=u=>e(i).alamat=u),placeholder:"Masukkan alamat lengkap...",rows:"3",class:"pl-10"},null,8,["modelValue"])]),e(i).errors.alamat?(n(),f("p",Ta,l(e(i).errors.alamat),1)):C("",!0)]),t("div",ja,[s(e(N),{for:"description"},{default:a(()=>[...d[20]||(d[20]=[r("Deskripsi",-1)])]),_:1}),s(e(je),{id:"description",modelValue:e(i).description,"onUpdate:modelValue":d[7]||(d[7]=u=>e(i).description=u),placeholder:"Ceritakan tentang diri Anda...",rows:"4"},null,8,["modelValue"]),d[21]||(d[21]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Maksimal 1000 karakter ",-1)),e(i).errors.description?(n(),f("p",Ra,l(e(i).errors.description),1)):C("",!0)]),t("div",Ma,[s(e(I),{type:"button",variant:"outline",onClick:d[8]||(d[8]=u=>e(i).reset()),disabled:e(i).processing},{default:a(()=>[...d[22]||(d[22]=[r(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(i).processing},{default:a(()=>[e(i).processing?C("",!0):(n(),T(e(oe),{key:0,class:"w-4 h-4 mr-2"})),r(" "+l(e(i).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),La={key:0,class:"flex items-center justify-center py-12"},Aa={key:1,class:"space-y-6 py-6"},Va={class:"space-y-3"},Ba={class:"flex items-center gap-2 text-sm font-medium"},Ia={class:"space-y-2"},Ua={class:"flex justify-between"},Ea={class:"text-sm font-medium"},Ka={class:"flex justify-between items-center"},Na={key:0,class:"flex justify-between"},za={class:"text-sm font-medium"},Oa={key:1,class:"flex justify-between items-center"},Fa={class:"space-y-3"},Ga={class:"flex items-center gap-2 text-sm font-medium"},Wa={class:"space-y-3"},Ja=["src","alt"],Ha={class:"flex-1"},qa={class:"font-medium text-sm"},Za={class:"text-xs text-muted-foreground"},Qa={class:"text-xs text-muted-foreground"},Xa={class:"text-right"},Ya={class:"font-semibold text-sm"},el={key:0,class:"space-y-3"},tl={class:"flex items-center gap-2 text-sm font-medium"},sl={class:"p-3 bg-muted/30 rounded-lg space-y-1"},al={class:"font-medium text-sm"},ll={class:"text-sm text-muted-foreground"},nl={class:"text-sm text-muted-foreground"},rl={class:"text-sm text-muted-foreground"},ol={key:1,class:"space-y-3"},il={class:"flex items-center gap-2 text-sm font-medium"},dl={class:"p-3 bg-muted/30 rounded-lg space-y-2"},ul={class:"flex justify-between"},ml={class:"text-sm font-medium"},cl={class:"flex justify-between"},pl={class:"text-sm font-medium"},fl={class:"flex justify-between"},xl={class:"text-sm font-medium"},gl={class:"space-y-3"},vl={class:"flex items-center gap-2 text-sm font-medium"},bl={class:"space-y-2 text-sm"},yl={class:"flex justify-between"},_l={key:0,class:"flex justify-between"},kl={class:"text-red-600"},hl={class:"flex justify-between"},wl={key:1,class:"flex justify-between"},$l={class:"flex justify-between font-semibold text-base"},Pl={class:"text-primary"},Cl={key:2,class:"space-y-2"},Sl={class:"space-y-1"},Tl={class:"text-sm text-muted-foreground"},jl={key:3,class:"space-y-4 pt-4"},Rl={class:"space-y-3"},Ml={class:"flex items-center gap-2 text-sm font-medium"},Dl={class:"flex items-start justify-between"},Ll={class:"flex items-center gap-2 font-medium text-sm"},Al={class:"text-xs text-muted-foreground"},Vl={key:0,class:"mt-1 text-xs text-destructive"},Bl={class:"flex items-start justify-between"},Il={class:"flex items-center gap-2 font-medium text-sm"},Ul={key:3},El={key:4},Kl={key:4,class:"pt-4"},Nl={key:2,class:"flex items-center justify-center py-12 text-muted-foreground"},zl=Q({__name:"OrderDetailSheet",props:{open:{type:Boolean},orderId:{}},emits:["update:open"],setup(o,{emit:x}){const i=o,m=x,{formatCurrency:k,formatDate:d,getStatusLabel:u}=me(),S=qe(),R=K(()=>S.props.auth?.user?.ewallet_saldo??0),v=L(!1),w=L(!1),y=L(!1),g=L(!1),p=L(null),M=L("midtrans"),U=K(()=>p.value?.status?.toUpperCase()==="SHIPPED"),A=K(()=>p.value?.status?.toUpperCase()==="PENDING"&&!p.value?.paid_at),z=K(()=>p.value?R.value>=p.value.grand_total:!1);Tt(()=>{typeof document<"u"&&(g.value?document.body.classList.add("midtrans-popup-active"):document.body.classList.remove("midtrans-popup-active"))}),it(()=>{typeof document<"u"&&document.body.classList.remove("midtrans-popup-active")});const E=K(()=>{const _=p.value?.status?.toLowerCase();return{"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":_==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":_==="processing"||_==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":_==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":_==="delivered"||_==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":_==="cancelled"}}),G=async()=>{if(i.orderId){v.value=!0;try{const _=await ae.get(`/api/client/orders/${i.orderId}`);p.value=_.data.data}catch(_){console.error("Failed to load order:",_),j.error("Gagal memuat detail pesanan")}finally{v.value=!1}}},V=async()=>{if(!(!p.value||!U.value||w.value)){w.value=!0;try{await ae.post(`/api/client/orders/${p.value.id}/complete`),await G(),ne.reload({only:["orders"]}),j.success('Status pesanan berhasil diperbarui menjadi "Selesai".')}catch(_){console.error("Failed to update order status:",_),j.error(_.response?.data?.message||"Gagal memperbarui status pesanan")}finally{w.value=!1}}},J=async()=>{if(!p.value||!A.value||y.value)return;const _=window.snap;if(!_){j.error("Sistem pembayaran belum siap. Mohon refresh halaman.");return}y.value=!0;try{const b=(await ae.post(`/api/client/orders/${p.value.id}/pay`)).data;b.success&&b.snap_token?(g.value=!0,_.pay(b.snap_token,{onSuccess:function(){g.value=!1,y.value=!1,j.success("Pembayaran berhasil!"),G(),ne.reload({only:["orders"]})},onPending:function(){g.value=!1,y.value=!1,j.info("Pembayaran tertunda. Silakan selesaikan pembayaran."),G(),ne.reload({only:["orders"]})},onError:function(){g.value=!1,y.value=!1,j.error("Pembayaran gagal. Silakan coba lagi."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)},onClose:function(){g.value=!1,y.value=!1,j.info("Pembayaran dibatalkan."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)}})):j.error(b.message||"Gagal memproses pembayaran")}catch(P){console.error("Failed to initiate payment:",P),j.error(P.response?.data?.message||"Gagal memproses pembayaran")}finally{g.value||(y.value=!1)}},D=async()=>{if(!(!p.value||!A.value||y.value)){if(!z.value){j.error("Saldo e-wallet Anda tidak mencukupi");return}y.value=!0;try{const P=(await ae.post(`/api/client/orders/${p.value.id}/pay-wallet`)).data;P.success?(j.success(P.message||"Pembayaran berhasil!"),await G(),ne.reload({only:["orders","auth"]})):j.error(P.message||"Gagal memproses pembayaran")}catch(_){console.error("Failed to pay with wallet:",_),j.error(_.response?.data?.message||"Gagal memproses pembayaran")}finally{y.value=!1}}},$=()=>{M.value==="wallet"?D():J()};return Me(()=>[i.open,i.orderId],([_,P])=>{_&&P&&G()}),(_,P)=>(n(),T(e(Xt),{open:o.open,"onUpdate:open":P[3]||(P[3]=b=>m("update:open",b))},{default:a(()=>[s(e(Yt),{side:"right",class:"sm:max-w-2xl w-full overflow-y-auto"},{default:a(()=>[s(e(es),null,{default:a(()=>[s(e(ts),null,{default:a(()=>[...P[4]||(P[4]=[r("Detail Pesanan",-1)])]),_:1}),s(e(ss),null,{default:a(()=>[...P[5]||(P[5]=[r(" Informasi lengkap pesanan Anda ",-1)])]),_:1})]),_:1}),v.value?(n(),f("div",La,[s(e(Pe),{class:"h-8 w-8 animate-spin text-muted-foreground"})])):p.value?(n(),f("div",Aa,[t("div",Va,[t("div",Ba,[s(e(Te),{class:"h-4 w-4"}),P[6]||(P[6]=t("span",null,"Ringkasan Pesanan",-1))]),t("div",Ia,[t("div",Ua,[P[7]||(P[7]=t("span",{class:"text-sm text-muted-foreground"},"Nomor Pesanan",-1)),t("span",Ea,l(p.value.order_no),1)]),t("div",Ka,[P[8]||(P[8]=t("span",{class:"text-sm text-muted-foreground"},"Status",-1)),s(e(B),{class:W(E.value)},{default:a(()=>[r(l(e(u)(p.value.status)),1)]),_:1},8,["class"])]),p.value.placed_at?(n(),f("div",Na,[P[9]||(P[9]=t("span",{class:"text-sm text-muted-foreground"},"Tanggal Pesan",-1)),t("span",za,l(e(d)(p.value.placed_at)),1)])):C("",!0),p.value.paid_at?(n(),f("div",Oa,[P[10]||(P[10]=t("span",{class:"text-sm text-muted-foreground"},"Status Pembayaran",-1)),s(e(B),{variant:"secondary"},{default:a(()=>[s(e(oe),{class:"w-3 h-3 mr-1"}),r(" Dibayar "+l(e(d)(p.value.paid_at)),1)]),_:1})])):C("",!0)])]),s(e(le)),t("div",Fa,[t("div",Ga,[s(e(Te),{class:"h-4 w-4"}),P[11]||(P[11]=t("span",null,"Produk Pesanan",-1))]),t("div",Wa,[(n(!0),f(Z,null,te(p.value.items,b=>(n(),f("div",{key:b.id,class:"flex gap-4 p-3 bg-muted/30 rounded-lg"},[b.meta_json?.image?(n(),f("img",{key:0,src:b.meta_json.image,alt:b.name,class:"w-16 h-16 object-cover rounded-md"},null,8,Ja)):C("",!0),t("div",Ha,[t("h4",qa,l(b.name),1),t("p",Za,"SKU: "+l(b.sku),1),t("p",Qa,l(b.qty)+"x "+l(e(k)(b.unit_price)),1)]),t("div",Xa,[t("p",Ya,l(e(k)(b.row_total)),1)])]))),128))])]),s(e(le)),p.value.shipping_address?(n(),f("div",el,[t("div",tl,[s(e(xe),{class:"h-4 w-4"}),P[12]||(P[12]=t("span",null,"Alamat Pengiriman",-1))]),t("div",sl,[t("p",al,l(p.value.shipping_address.recipient_name),1),t("p",ll,l(p.value.shipping_address.recipient_phone),1),t("p",nl,l(p.value.shipping_address.address_line1),1),t("p",rl,l(p.value.shipping_address.city_label)+", "+l(p.value.shipping_address.province_label)+" "+l(p.value.shipping_address.postal_code),1)])])):C("",!0),s(e(le)),p.value.applied_promos?.shipping?(n(),f("div",ol,[t("div",il,[s(e(jt),{class:"h-4 w-4"}),P[13]||(P[13]=t("span",null,"Informasi Pengiriman",-1))]),t("div",dl,[t("div",ul,[P[14]||(P[14]=t("span",{class:"text-sm text-muted-foreground"},"Kurir",-1)),t("span",ml,l(p.value.applied_promos.shipping.courier),1)]),t("div",cl,[P[15]||(P[15]=t("span",{class:"text-sm text-muted-foreground"},"Layanan",-1)),t("span",pl,l(p.value.applied_promos.shipping.service),1)]),t("div",fl,[P[16]||(P[16]=t("span",{class:"text-sm text-muted-foreground"},"Estimasi",-1)),t("span",xl,l(p.value.applied_promos.shipping.etd)+" hari",1)])])])):C("",!0),s(e(le)),t("div",gl,[t("div",vl,[s(e(ie),{class:"h-4 w-4"}),P[17]||(P[17]=t("span",null,"Ringkasan Pembayaran",-1))]),t("div",bl,[t("div",yl,[P[18]||(P[18]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),t("span",null,l(e(k)(p.value.subtotal_amount)),1)]),p.value.discount_amount>0?(n(),f("div",_l,[P[19]||(P[19]=t("span",{class:"text-muted-foreground"},"Diskon",-1)),t("span",kl,"-"+l(e(k)(p.value.discount_amount)),1)])):C("",!0),t("div",hl,[P[20]||(P[20]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),t("span",null,l(e(k)(p.value.shipping_amount)),1)]),p.value.tax_amount>0?(n(),f("div",wl,[P[21]||(P[21]=t("span",{class:"text-muted-foreground"},"Pajak",-1)),t("span",null,l(e(k)(p.value.tax_amount)),1)])):C("",!0),s(e(le)),t("div",$l,[P[22]||(P[22]=t("span",null,"Total",-1)),t("span",Pl,l(e(k)(p.value.grand_total)),1)])])]),p.value.notes?(n(),f("div",Cl,[s(e(le)),t("div",Sl,[P[23]||(P[23]=t("p",{class:"text-sm font-medium"},"Catatan",-1)),t("p",Tl,l(p.value.notes),1)])])):C("",!0),A.value?(n(),f("div",jl,[s(e(le)),t("div",Rl,[t("div",Ml,[s(e(Ce),{class:"h-4 w-4"}),P[24]||(P[24]=t("span",null,"Metode Pembayaran",-1))]),s(e(ft),{modelValue:M.value,"onUpdate:modelValue":P[2]||(P[2]=b=>M.value=b),class:"space-y-3"},{default:a(()=>[t("div",{class:W(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":M.value==="wallet","hover:bg-muted":M.value!=="wallet","cursor-not-allowed opacity-50":!z.value}]),onClick:P[0]||(P[0]=b=>z.value&&(M.value="wallet"))},[s(e(Xe),{value:"wallet",id:"payment-wallet-detail",disabled:!z.value},null,8,["disabled"]),s(e(N),{for:"payment-wallet-detail",class:W(["flex-1 cursor-pointer",{"cursor-not-allowed":!z.value}])},{default:a(()=>[t("div",Dl,[t("div",null,[t("div",Ll,[s(e(Ce),{class:"h-4 w-4"}),P[25]||(P[25]=r(" E-Wallet ",-1))]),t("div",Al," Saldo: "+l(e(k)(R.value)),1),z.value?C("",!0):(n(),f("div",Vl," Saldo tidak mencukupi (kurang "+l(e(k)(p.value.grand_total-R.value))+") ",1))])])]),_:1},8,["class"])],2),t("div",{class:W(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":M.value==="midtrans","hover:bg-muted":M.value!=="midtrans"}]),onClick:P[1]||(P[1]=b=>M.value="midtrans")},[s(e(Xe),{value:"midtrans",id:"payment-midtrans-detail"}),s(e(N),{for:"payment-midtrans-detail",class:"flex-1 cursor-pointer"},{default:a(()=>[t("div",Bl,[t("div",null,[t("div",Il,[s(e(ie),{class:"h-4 w-4"}),P[26]||(P[26]=r(" Payment Gateway ",-1))]),P[27]||(P[27]=t("div",{class:"text-xs text-muted-foreground"}," Transfer Bank, E-wallet, Kartu Kredit ",-1))])])]),_:1})],2)]),_:1},8,["modelValue"])]),s(e(I),{onClick:$,disabled:y.value||g.value||M.value==="wallet"&&!z.value,class:"w-full",size:"lg"},{default:a(()=>[y.value?(n(),T(e(Pe),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):M.value==="wallet"?(n(),T(e(Ce),{key:1,class:"h-4 w-4 mr-2"})):(n(),T(e(ie),{key:2,class:"h-4 w-4 mr-2"})),M.value==="wallet"?(n(),f("span",Ul," Bayar dengan E-Wallet "+l(e(k)(p.value.grand_total)),1)):(n(),f("span",El," Bayar "+l(e(k)(p.value.grand_total)),1))]),_:1},8,["disabled"])])):C("",!0),U.value?(n(),f("div",Kl,[s(e(I),{onClick:V,disabled:w.value,class:"w-full",size:"lg"},{default:a(()=>[w.value?(n(),T(e(Pe),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(n(),T(e(oe),{key:1,class:"h-4 w-4 mr-2"})),P[28]||(P[28]=r(" Tandai Pesanan Selesai ",-1))]),_:1},8,["disabled"])])):C("",!0)])):(n(),f("div",Nl," Tidak ada data pesanan "))]),_:1})]),_:1},8,["open"]))}}),Ol={class:"space-y-6 py-4"},Fl={key:2,class:"flex gap-4 rounded-lg bg-muted p-4"},Gl=["src","alt"],Wl={class:"flex-1"},Jl={class:"font-medium"},Hl={class:"space-y-2"},ql={class:"flex items-center gap-2"},Zl=["onClick","onMouseenter"],Ql={class:"ml-2 text-sm text-muted-foreground"},Xl={class:"space-y-2"},Yl={key:0,class:"text-sm text-destructive"},en={class:"space-y-2"},tn={class:"text-right text-xs text-muted-foreground"},sn={key:0,class:"text-sm text-destructive"},an=Q({__name:"ProductReviewDialog",props:{open:{type:Boolean},orderId:{},orderItems:{}},emits:["update:open","review-submitted"],setup(o,{emit:x}){const i=o,m=x,k=L(0),d=L(null),u=L(!1),S=L({}),R=K(()=>i.orderItems[k.value]),v=K(()=>k.value<i.orderItems.length-1),w=K(()=>k.value===i.orderItems.length-1),y=L({order_item_id:0,product_id:0,rating:5,title:"",comment:""}),g=L(0),p=G=>{y.value.rating=G},M=async()=>{if(R.value){y.value.order_item_id=R.value.id,y.value.product_id=R.value.product_id,d.value=null,S.value={},u.value=!0;try{const G=await ae.post(`/api/client/orders/${i.orderId}/reviews`,y.value);if(G.data.success){const V=G.data.message||"Review berhasil dikirim dan menunggu persetujuan!";d.value={type:"success",message:V},j.success(V),v.value?setTimeout(()=>{k.value++,A(),d.value=null},1500):setTimeout(()=>{m("update:open",!1),m("review-submitted"),z()},2e3)}}catch(G){console.error("Submit review error:",G);let V="Gagal mengirim review. Silakan coba lagi.";if(G.response?.data){const J=G.response.data;if(J.message&&(V=J.message),J.errors){S.value=J.errors;const D=Object.values(J.errors)[0];Array.isArray(D)&&D.length>0?V=D[0]:typeof D=="string"&&(V=D)}}d.value={type:"error",message:V},j.error(V)}finally{u.value=!1}}},U=()=>{v.value?(k.value++,A(),d.value=null):(m("update:open",!1),m("review-submitted"),z())},A=()=>{y.value={order_item_id:0,product_id:0,rating:5,title:"",comment:""},S.value={}},z=()=>{k.value=0,A(),d.value=null},E=G=>{m("update:open",G),G||z()};return(G,V)=>(n(),T(e(_e),{open:o.open,"onUpdate:open":E},{default:a(()=>[s(e(ge),{class:"sm:max-w-[500px]"},{default:a(()=>[s(e(ve),null,{default:a(()=>[s(e(be),null,{default:a(()=>[...V[4]||(V[4]=[r("Beri Rating & Review",-1)])]),_:1}),s(e(ye),null,{default:a(()=>[r(" Bagikan pengalaman Anda dengan produk ini ("+l(k.value+1)+" dari "+l(o.orderItems.length)+") ",1)]),_:1})]),_:1}),t("div",Ol,[!R.value||o.orderItems.length===0?(n(),T(e(Ie),{key:0,variant:"default"},{default:a(()=>[s(e(ue),{class:"h-4 w-4"}),s(e(Ue),null,{default:a(()=>[...V[5]||(V[5]=[r("Tidak Ada Item",-1)])]),_:1}),s(e(Ee),null,{default:a(()=>[...V[6]||(V[6]=[r(" Tidak ada produk yang dapat direview dari pesanan ini. ",-1)])]),_:1})]),_:1})):(n(),f(Z,{key:1},[d.value?.type==="success"?(n(),T(e(Ie),{key:0,variant:"default"},{default:a(()=>[s(e(Rt),{class:"h-4 w-4"}),s(e(Ue),null,{default:a(()=>[...V[7]||(V[7]=[r("Berhasil!",-1)])]),_:1}),s(e(Ee),null,{default:a(()=>[r(l(d.value.message),1)]),_:1})]),_:1})):C("",!0),d.value?.type==="error"?(n(),T(e(Ie),{key:1,variant:"destructive"},{default:a(()=>[s(e(ue),{class:"h-4 w-4"}),s(e(Ue),null,{default:a(()=>[...V[8]||(V[8]=[r("Terjadi Kesalahan",-1)])]),_:1}),s(e(Ee),null,{default:a(()=>[r(l(d.value.message),1)]),_:1})]),_:1})):C("",!0),R.value?(n(),f("div",Fl,[R.value.product_image?(n(),f("img",{key:0,src:R.value.product_image,alt:R.value.product_name,class:"h-20 w-20 rounded-md object-cover"},null,8,Gl)):C("",!0),t("div",Wl,[t("h4",Jl,l(R.value.product_name),1)])])):C("",!0),t("div",Hl,[s(e(N),null,{default:a(()=>[...V[9]||(V[9]=[r("Rating Produk",-1)])]),_:1}),t("div",ql,[(n(),f(Z,null,te(5,J=>t("button",{key:J,type:"button",onClick:D=>p(J),onMouseenter:D=>g.value=J,onMouseleave:V[0]||(V[0]=D=>g.value=0),class:"transition-transform hover:scale-110 focus:outline-none"},[s(e(Ze),{class:W(["h-8 w-8 transition-colors",(g.value||y.value.rating)>=J?"fill-yellow-400 text-yellow-400":"text-gray-300"])},null,8,["class"])],40,Zl)),64)),t("span",Ql,l(y.value.rating)+" / 5 ",1)])]),t("div",Xl,[s(e(N),{for:"title"},{default:a(()=>[...V[10]||(V[10]=[r("Judul Review (Opsional)",-1)])]),_:1}),s(e(X),{id:"title",modelValue:y.value.title,"onUpdate:modelValue":V[1]||(V[1]=J=>y.value.title=J),placeholder:"Ringkasan singkat pengalaman Anda",maxlength:"100"},null,8,["modelValue"]),S.value.title?(n(),f("p",Yl,l(S.value.title),1)):C("",!0)]),t("div",en,[s(e(N),{for:"comment"},{default:a(()=>[...V[11]||(V[11]=[r("Komentar (Opsional)",-1)])]),_:1}),s(e(je),{id:"comment",modelValue:y.value.comment,"onUpdate:modelValue":V[2]||(V[2]=J=>y.value.comment=J),placeholder:"Ceritakan pengalaman Anda dengan produk ini...",rows:"4",maxlength:"500"},null,8,["modelValue"]),t("p",tn,l(y.value.comment?.length||0)+" / 500 karakter ",1),S.value.comment?(n(),f("p",sn,l(S.value.comment),1)):C("",!0)])],64))]),s(e(ke),{class:"flex-col gap-2 sm:flex-row"},{default:a(()=>[R.value&&o.orderItems.length>0?(n(),f(Z,{key:0},[v.value||w.value?(n(),T(e(I),{key:0,type:"button",variant:"outline",onClick:U,disabled:u.value},{default:a(()=>[r(l(v.value?"Lewati":"Tutup"),1)]),_:1},8,["disabled"])):C("",!0),s(e(I),{type:"button",onClick:M,disabled:u.value||y.value.rating===0,class:"w-full sm:w-auto"},{default:a(()=>[u.value?(n(),T(e(Pe),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):C("",!0),r(" "+l(v.value?"Kirim & Lanjut":"Kirim Review"),1)]),_:1},8,["disabled"])],64)):(n(),T(e(I),{key:1,type:"button",variant:"outline",onClick:V[3]||(V[3]=J=>E(!1))},{default:a(()=>[...V[12]||(V[12]=[r(" Tutup ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"]))}}),ln={class:"rounded-lg border p-4 transition-colors hover:border-primary"},nn={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},rn={class:"flex-1"},on={class:"mb-2 flex items-center gap-3"},dn={class:"text-sm font-semibold"},un={class:"text-xs text-muted-foreground"},mn={class:"mt-2 flex items-center gap-2"},cn={class:"flex flex-col gap-2 md:items-end"},pn={class:"text-lg font-bold text-primary"},fn={class:"flex flex-wrap gap-2"},xn=Q({__name:"OrderCard",props:{order:{}},setup(o){const x=o,{formatCurrency:i,formatDate:m,getStatusLabel:k}=me(),d=L(!1),u=L(!1),S=L(!1),R=L(!1),v=L(x.order.status),w=L(x.order.paid_at),y=async()=>{if(!S.value){S.value=!0;try{const U=await ae.post(`/api/client/orders/${x.order.id}/check-payment-status`);U.data.success?(v.value=U.data.status,U.data.paid_at&&(w.value=U.data.paid_at),j.success(U.data.message),setTimeout(()=>{ne.reload({only:["orders"]})},500)):j.error(U.data.message)}catch(U){console.error("Check payment status error:",U),j.error(U.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{S.value=!1}}},g=async()=>{if(!R.value){R.value=!0;try{const U=await ae.post(`/api/client/orders/${x.order.id}/complete`);U.data.success&&(v.value="COMPLETED",j.success(U.data.message||"Pesanan berhasil diselesaikan"),U.data.items&&U.data.items.length>0?(x.order.items=U.data.items,u.value=!0):setTimeout(()=>{ne.reload({only:["orders"]})},500))}catch(U){console.error("Complete order error:",U),j.error(U.response?.data?.message||"Gagal menandai pesanan sebagai diterima")}finally{R.value=!1}}},p=()=>{ne.reload({only:["orders"]})},M=()=>{const U=(x.order.items||[]).filter(A=>!A.has_review);U.length>0?(x.order.items=U,u.value=!0):j.info("Semua produk sudah direview")};return(U,A)=>(n(),f("div",ln,[t("div",nn,[t("div",rn,[t("div",on,[s(e(Te),{class:"h-5 w-5 text-muted-foreground"}),t("div",null,[t("p",dn,l(o.order.order_no),1),t("p",un,l(o.order.placed_at?e(m)(o.order.placed_at):"Belum ditempatkan"),1)])]),t("div",mn,[s(e(B),{class:W({"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":v.value.toUpperCase()==="PENDING","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":v.value.toUpperCase()==="PROCESSING"||v.value.toUpperCase()==="PAID","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":v.value.toUpperCase()==="SHIPPED","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":v.value.toUpperCase()==="DELIVERED"||v.value.toUpperCase()==="COMPLETED","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":v.value.toUpperCase()==="CANCELLED"})},{default:a(()=>[r(l(e(k)(v.value)),1)]),_:1},8,["class"]),w.value?(n(),T(e(B),{key:0,variant:"secondary"},{default:a(()=>[s(e(oe),{class:"mr-1 h-3 w-3"}),A[3]||(A[3]=r(" Dibayar ",-1))]),_:1})):C("",!0)])]),t("div",cn,[t("p",pn,l(e(i)(o.order.grand_total)),1),t("div",fn,[v.value.toUpperCase()==="PENDING"&&!w.value?(n(),T(e(I),{key:0,variant:"outline",size:"sm",disabled:S.value,onClick:y},{default:a(()=>[s(e(dt),{class:W(["mr-1 h-3 w-3",{"animate-spin":S.value}])},null,8,["class"]),A[4]||(A[4]=r(" Cek Status ",-1))]),_:1},8,["disabled"])):C("",!0),v.value.toUpperCase()==="SHIPPED"?(n(),T(e(I),{key:1,variant:"default",size:"sm",disabled:R.value,onClick:g},{default:a(()=>[s(e(Mt),{class:"mr-1 h-3 w-3"}),A[5]||(A[5]=r(" Pesanan Diterima ",-1))]),_:1},8,["disabled"])):C("",!0),v.value.toUpperCase()==="COMPLETED"&&o.order.has_unreviewed_items?(n(),T(e(I),{key:2,variant:"outline",size:"sm",onClick:M},{default:a(()=>[s(e(Ze),{class:"mr-1 h-3 w-3"}),A[6]||(A[6]=r(" Tambah Review ",-1))]),_:1})):C("",!0),s(e(I),{variant:"outline",size:"sm",onClick:A[0]||(A[0]=z=>d.value=!0)},{default:a(()=>[...A[7]||(A[7]=[r(" Lihat Detail ",-1)])]),_:1})])])]),s(zl,{open:d.value,"onUpdate:open":A[1]||(A[1]=z=>d.value=z),"order-id":o.order.id},null,8,["open","order-id"]),s(an,{open:u.value,"onUpdate:open":A[2]||(A[2]=z=>u.value=z),"order-id":o.order.id,"order-items":o.order.items||[],onReviewSubmitted:p},null,8,["open","order-id","order-items"])]))}}),gn={key:0,class:"space-y-4"},vn={key:1,class:"py-12 text-center"},bn=Q({__name:"OrdersTab",props:{orders:{}},setup(o){return(x,i)=>(n(),T(e(O),null,{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(q),null,{default:a(()=>[...i[0]||(i[0]=[r("Pesanan Saya",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...i[1]||(i[1]=[r(" Riwayat pesanan dan status pengiriman ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[o.orders.length>0?(n(),f("div",gn,[(n(!0),f(Z,null,te(o.orders,m=>(n(),T(xn,{key:m.id,order:m},null,8,["order"]))),128))])):(n(),f("div",vn,[s(e(Te),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),i[3]||(i[3]=t("p",{class:"text-muted-foreground mb-4"},"Belum ada pesanan",-1)),s(e(Dt),{href:"/beranda"},{default:a(()=>[s(e(I),null,{default:a(()=>[...i[2]||(i[2]=[r(" Mulai Belanja ",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),yn={class:"text-center"},_n={class:"text-4xl font-bold text-primary mb-4"},kn={class:"flex gap-3 justify-center"},hn=Q({__name:"WalletBalance",props:{balance:{}},emits:["topup","withdrawal"],setup(o,{emit:x}){const i=x,{formatCurrency:m}=me();return(k,d)=>(n(),T(e(O),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",yn,[d[4]||(d[4]=t("p",{class:"text-sm text-muted-foreground mb-2"},"Saldo E-Wallet",-1)),t("p",_n,l(e(m)(o.balance)),1),t("div",kn,[s(e(I),{onClick:d[0]||(d[0]=u=>i("topup")),size:"sm"},{default:a(()=>[s(e(ut),{class:"w-4 h-4 mr-2"}),d[2]||(d[2]=r(" Top Up ",-1))]),_:1}),s(e(I),{onClick:d[1]||(d[1]=u=>i("withdrawal")),variant:"outline",size:"sm"},{default:a(()=>[s(e(mt),{class:"w-4 h-4 mr-2"}),d[3]||(d[3]=r(" Tarik Dana ",-1))]),_:1})])])]),_:1})]),_:1}))}}),wn={class:"space-y-2"},$n={class:"relative"},Pn={key:0,class:"text-sm text-red-500"},Cn={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},Sn={class:"flex items-start gap-3"},Tn={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},jn={class:"flex items-start gap-3"},Rn={class:"flex items-center justify-end gap-3"},Mn={key:0},Dn={key:1},Ln={key:2},An={key:3},Vn=Q({__name:"WalletTopupForm",emits:["cancel"],setup(o,{emit:x}){const i=x,m=de({amount:"",payment_method:"midtrans"}),k=L(!1),d=L(!1);Qe(()=>{if(window.snap){k.value=!0;return}if(typeof window>"u")return;const v=()=>{window.snap&&(k.value=!0,d.value=!1,console.log("Midtrans Snap loaded (event)."))};window.addEventListener("midtrans:snap:loaded",v,{once:!0}),setTimeout(()=>{k.value||(window.snap?(k.value=!0,console.log("Midtrans Snap loaded (fallback).")):(d.value=!0,console.error("Failed to load Midtrans Snap (timeout).")))},5e3)});const u=v=>{if(!window.snap){console.error("Snap not available"),alert("Pembayaran tidak dapat diproses. Silakan refresh halaman dan coba lagi."),i("cancel");return}try{window.snap.pay(v,{onSuccess:function(w){console.log("Payment success:",w),j.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(w){console.log("Payment pending:",w),j.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(w){console.error("Payment error (Midtrans):",w),j.error("Pembayaran gagal.");try{console.log("Midtrans raw error JSON:",JSON.stringify(w,null,2))}catch{}const y=w?.status_message||w?.status_code||"Terjadi kesalahan pembayaran.",g=w?.status_code==="505"?`
Catatan: Sandbox sering menolak VA dengan nominal rendah (coba >= 15000 atau metode lain).`:"";if(w?.status_code==="505"){alert("Midtrans Error: "+y+g+`
Sandbox akan otomatis mencoba QRIS.`),R("qris");return}alert("Midtrans Error: "+y+`
Silakan coba metode lain atau refresh.`),i("cancel")},onClose:function(){console.log("Payment modal closed"),j("Pembayaran ditutup sebelum selesai."),i("cancel")}})}catch(w){console.error("Error opening Snap modal:",w),alert("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),j.error("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),i("cancel")}},S=async()=>{if(!m.processing){if(!k.value||!window.snap){j.error("Sistem pembayaran belum siap. Silakan tunggu beberapa saat atau refresh halaman.");return}try{m.processing=!0;const w=(await ae.post("/client/wallet/topup",{amount:m.amount,payment_method:m.payment_method})).data,y=w.snap_token;if(w.success===!1&&w.message){j.error(w.message),m.processing=!1;return}y&&typeof y=="string"&&y.trim()!==""?(m.reset(),m.processing=!1,setTimeout(()=>{u(y)},100)):(m.processing=!1,console.error("Invalid snap token:",y),console.error("Full response:",w),j.error("Gagal mendapatkan token pembayaran. Silakan coba lagi."),m.reset(),i("cancel"))}catch(v){if(m.processing=!1,console.error("Form submission error:",v),j.error("Terjadi kesalahan saat mengirim formulir."),v.response?.status===422&&v.response?.data?.errors){const w=v.response.data.errors,y=Object.values(w)[0],g=Array.isArray(y)?y[0]:y;j.error(g)}else{const w=v.response?.data?.message||v.message||"Terjadi kesalahan. Silakan coba lagi.";j.error(w)}m.reset()}}},R=async v=>{if(!m.processing){if(!k.value||!window.snap){alert("Sistem pembayaran belum siap untuk retry.");return}try{m.processing=!0;const y=(await ae.post("/client/wallet/topup",{amount:m.amount||"20000",payment_method:m.payment_method,force_payment:v})).data,g=y.snap_token;if(!y.success||!g){j.error(y.message||"Retry gagal mendapatkan token."),m.processing=!1;return}m.processing=!1,j.success("Metode dialihkan ke "+v.toUpperCase()+". Silakan lanjutkan pembayaran."),u(g)}catch(w){m.processing=!1,j.error(w?.response?.data?.message||w.message||"Retry gagal.")}}};return(v,w)=>(n(),T(e(O),null,{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(q),null,{default:a(()=>[...w[2]||(w[2]=[r("Top Up E-Wallet",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...w[3]||(w[3]=[r(" Isi saldo e-wallet Anda melalui Midtrans ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:Le(S,["prevent"]),class:"space-y-6"},[t("div",wn,[s(e(N),{for:"topup_amount"},{default:a(()=>[...w[4]||(w[4]=[r(" Jumlah Top Up ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",$n,[s(e(ie),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"topup_amount",modelValue:e(m).amount,"onUpdate:modelValue":w[0]||(w[0]=y=>e(m).amount=y),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:"10000000",required:""},null,8,["modelValue"])]),w[5]||(w[5]=t("p",{class:"text-xs text-muted-foreground"}," Minimum Rp 10.000 - Maximum Rp 10.000.000. Disarankan >= Rp 15.000 untuk Virtual Account agar tidak ditolak (505). ",-1)),e(m).errors.amount?(n(),f("p",Pn,l(e(m).errors.amount),1)):C("",!0)]),t("div",Cn,[t("div",Sn,[s(e(ie),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),w[6]||(w[6]=t("div",null,[t("p",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"}," Pembayaran via Midtrans "),t("p",{class:"text-xs text-blue-700 dark:text-blue-300 mt-1"}," Anda akan diarahkan ke halaman pembayaran Midtrans untuk menyelesaikan transaksi ")],-1))])]),d.value?(n(),f("div",Tn,[t("div",jn,[s(e(ue),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),w[7]||(w[7]=t("div",null,[t("p",{class:"text-sm font-semibold text-red-900 dark:text-red-100"}," Sistem Pembayaran Belum Siap "),t("p",{class:"text-xs text-red-700 dark:text-red-300 mt-1"}," Silakan refresh halaman untuk memuat ulang sistem pembayaran. ")],-1))])])):C("",!0),t("div",Rn,[s(e(I),{type:"button",variant:"outline",onClick:w[1]||(w[1]=y=>{e(m).reset(),i("cancel")}),disabled:e(m).processing},{default:a(()=>[...w[8]||(w[8]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(m).processing||d.value||!k.value},{default:a(()=>[e(m).processing?(n(),f("span",Mn,"Memproses...")):!k.value&&!d.value?(n(),f("span",Dn,"Memuat sistem pembayaran...")):d.value?(n(),f("span",Ln,"Sistem pembayaran error")):(n(),f("span",An,"Lanjut ke Pembayaran"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Bn={class:"space-y-2"},In={class:"relative"},Un={class:"text-xs text-muted-foreground"},En={key:0,class:"text-sm text-red-500"},Kn={class:"space-y-4"},Nn={class:"space-y-2"},zn={key:0,class:"text-sm text-red-500"},On={class:"space-y-2"},Fn={key:0,class:"text-sm text-red-500"},Gn={class:"space-y-2"},Wn={key:0,class:"text-sm text-red-500"},Jn={class:"flex items-center justify-end gap-3"},Hn=Q({__name:"WalletWithdrawalForm",props:{maxAmount:{}},emits:["cancel"],setup(o,{emit:x}){const i=x,m=de({amount:"",bank_name:"",bank_account:"",bank_holder:""}),k=()=>{m.post("/client/wallet/withdrawal",{preserveScroll:!0,onSuccess:()=>{m.reset(),i("cancel"),j.success("Permintaan penarikan berhasil diajukan.")}})};return(d,u)=>(n(),T(e(O),null,{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(q),null,{default:a(()=>[...u[5]||(u[5]=[r("Tarik Dana E-Wallet",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...u[6]||(u[6]=[r(" Tarik saldo ke rekening bank Anda ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:Le(k,["prevent"]),class:"space-y-6"},[t("div",Bn,[s(e(N),{for:"withdrawal_amount"},{default:a(()=>[...u[7]||(u[7]=[r(" Jumlah Penarikan ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",In,[s(e(ie),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"withdrawal_amount",modelValue:e(m).amount,"onUpdate:modelValue":u[0]||(u[0]=S=>e(m).amount=S),type:"number",placeholder:"Minimal Rp 50.000",class:"pl-10",min:"50000",max:o.maxAmount,required:""},null,8,["modelValue","max"])]),t("p",Un," Minimum Rp 50.000 - Maksimal Rp "+l(o.maxAmount.toLocaleString("id-ID")),1),e(m).errors.amount?(n(),f("p",En,l(e(m).errors.amount),1)):C("",!0)]),s(e(le)),t("div",Kn,[u[11]||(u[11]=t("h4",{class:"font-semibold"},"Informasi Rekening",-1)),t("div",Nn,[s(e(N),{for:"bank_name"},{default:a(()=>[...u[8]||(u[8]=[r(" Nama Bank ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(X),{id:"bank_name",modelValue:e(m).bank_name,"onUpdate:modelValue":u[1]||(u[1]=S=>e(m).bank_name=S),type:"text",placeholder:"e.g., BCA, Mandiri, BNI",required:""},null,8,["modelValue"]),e(m).errors.bank_name?(n(),f("p",zn,l(e(m).errors.bank_name),1)):C("",!0)]),t("div",On,[s(e(N),{for:"bank_account"},{default:a(()=>[...u[9]||(u[9]=[r(" Nomor Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(X),{id:"bank_account",modelValue:e(m).bank_account,"onUpdate:modelValue":u[2]||(u[2]=S=>e(m).bank_account=S),type:"text",placeholder:"Nomor rekening bank",required:""},null,8,["modelValue"]),e(m).errors.bank_account?(n(),f("p",Fn,l(e(m).errors.bank_account),1)):C("",!0)]),t("div",Gn,[s(e(N),{for:"bank_holder"},{default:a(()=>[...u[10]||(u[10]=[r(" Nama Pemilik Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(X),{id:"bank_holder",modelValue:e(m).bank_holder,"onUpdate:modelValue":u[3]||(u[3]=S=>e(m).bank_holder=S),type:"text",placeholder:"Nama sesuai rekening bank",required:""},null,8,["modelValue"]),e(m).errors.bank_holder?(n(),f("p",Wn,l(e(m).errors.bank_holder),1)):C("",!0)])]),u[13]||(u[13]=t("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},[t("p",{class:"text-sm text-amber-700 dark:text-amber-300"},[t("strong",null,"Catatan:"),r(" Penarikan akan diproses dalam 1-3 hari kerja. Pastikan data rekening sudah benar. ")])],-1)),t("div",Jn,[s(e(I),{type:"button",variant:"outline",onClick:u[4]||(u[4]=S=>{e(m).reset(),i("cancel")}),disabled:e(m).processing},{default:a(()=>[...u[12]||(u[12]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(m).processing},{default:a(()=>[r(l(e(m).processing?"Memproses...":"Ajukan Penarikan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),qn={class:"p-3 border rounded-lg"},Zn={class:"flex items-center justify-between"},Qn={class:"flex items-center gap-3"},Xn={class:"font-semibold text-sm"},Yn={class:"text-xs text-muted-foreground"},er={class:"text-xs text-muted-foreground"},tr={class:"text-right"},sr={key:0,class:"mt-3 pt-3 border-t"},ar={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},lr={class:"flex gap-2"},nr=Q({__name:"WalletTransactionCard",props:{transaction:{}},emits:["continue-payment","status-updated"],setup(o,{emit:x}){const i=o,m=x,{formatCurrency:k,formatDate:d,getTransactionTypeLabel:u,getTransactionStatusLabel:S}=me(),R=L(!1),v=L(i.transaction.status),w=async y=>{if(!R.value){R.value=!0;try{const g=await ae.post("/client/wallet/check-status",{transaction_ref:y});g.data.success?(v.value=g.data.status,m("status-updated",{transactionRef:y,status:g.data.status,newBalance:g.data.new_balance}),j.success(g.data.message),setTimeout(()=>{ne.reload({only:["customer","transactions"]})},500)):j.error(g.data.message)}catch(g){console.error("Check status error:",g),j.error(g.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{R.value=!1}}};return(y,g)=>(n(),f("div",qn,[t("div",Zn,[t("div",Qn,[t("div",{class:W(["p-2 rounded-full",{"bg-emerald-100 dark:bg-emerald-900/20":o.transaction.type==="topup"||o.transaction.type==="bonus","bg-red-100 dark:bg-red-900/20":o.transaction.type==="withdrawal"||o.transaction.type==="purchase","bg-blue-100 dark:bg-blue-900/20":o.transaction.type==="refund"}])},[o.transaction.type==="topup"||o.transaction.type==="bonus"||o.transaction.type==="refund"?(n(),T(e(ut),{key:0,class:W(["w-4 h-4",{"text-emerald-600 dark:text-emerald-400":o.transaction.type==="topup"||o.transaction.type==="bonus","text-blue-600 dark:text-blue-400":o.transaction.type==="refund"}])},null,8,["class"])):(n(),T(e(mt),{key:1,class:"w-4 h-4 text-red-600 dark:text-red-400"}))],2),t("div",null,[t("p",Xn,l(e(u)(o.transaction.type)),1),t("p",Yn,l(o.transaction.transaction_ref),1),t("p",er,l(e(d)(o.transaction.created_at)),1)])]),t("div",tr,[t("p",{class:W(["font-bold",{"text-emerald-600 dark:text-emerald-400":o.transaction.type==="topup"||o.transaction.type==="bonus"||o.transaction.type==="refund","text-red-600 dark:text-red-400":o.transaction.type==="withdrawal"||o.transaction.type==="purchase"}])},l(o.transaction.type==="topup"||o.transaction.type==="bonus"||o.transaction.type==="refund"?"+":"-")+" "+l(e(k)(o.transaction.amount)),3),s(e(B),{variant:"secondary",class:W({"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100":v.value==="pending","bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-100":v.value==="completed","bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-100":v.value==="failed"||v.value==="cancelled"})},{default:a(()=>[r(l(e(S)(v.value)),1)]),_:1},8,["class"])])]),o.transaction.type==="topup"&&v.value==="pending"&&o.transaction.midtrans_transaction_id?(n(),f("div",sr,[t("div",ar,[g[4]||(g[4]=t("p",{class:"text-xs text-muted-foreground"}," Pembayaran menunggu konfirmasi ",-1)),t("div",lr,[s(e(I),{size:"sm",variant:"outline",disabled:R.value,onClick:g[0]||(g[0]=p=>w(o.transaction.transaction_ref)),class:"shrink-0"},{default:a(()=>[s(e(dt),{class:W(["w-3 h-3 mr-1",{"animate-spin":R.value}])},null,8,["class"]),g[2]||(g[2]=r(" Cek Status ",-1))]),_:1},8,["disabled"]),s(e(I),{size:"sm",onClick:g[1]||(g[1]=p=>m("continue-payment",o.transaction.midtrans_transaction_id)),class:"shrink-0"},{default:a(()=>[s(e(ie),{class:"w-3 h-3 mr-1"}),g[3]||(g[3]=r(" Lanjutkan Pembayaran ",-1))]),_:1})])])])):C("",!0)]))}}),rr={key:0,class:"space-y-3"},or={key:1,class:"py-12 text-center"},ir=Q({__name:"WalletTransactionList",props:{transactions:{}},setup(o){const x=qe(),i=K(()=>x.props.customer),m=d=>{typeof window>"u"||(window.snap?window.snap.pay(d,{onSuccess:function(u){console.log("Payment success:",u),j.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(u){console.log("Payment pending:",u),j.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(u){j.error("Pembayaran gagal."),console.error("Payment error:",u)},onClose:function(){j("Pembayaran ditutup sebelum selesai."),console.log("Payment modal closed")}}):alert("Midtrans Snap belum siap. Silakan refresh halaman."))},k=d=>{d.newBalance!==void 0&&i.value&&(i.value.ewallet_saldo=d.newBalance)};return(d,u)=>(n(),T(e(O),null,{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(q),null,{default:a(()=>[...u[0]||(u[0]=[r("Riwayat Transaksi",-1)])]),_:1}),s(e(re),null,{default:a(()=>[r(l(o.transactions.length)+" transaksi e-wallet terbaru ",1)]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[o.transactions.length>0?(n(),f("div",rr,[(n(!0),f(Z,null,te(o.transactions,S=>(n(),T(nr,{key:S.id,transaction:S,onContinuePayment:m,onStatusUpdated:k},null,8,["transaction"]))),128))])):(n(),f("div",or,[s(e(Ce),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),u[1]||(u[1]=t("p",{class:"text-muted-foreground"},"Belum ada transaksi",-1))]))]),_:1})]),_:1}))}}),dr={class:"flex-1"},ur={key:0,class:"text-xs mt-1 text-gray-700 dark:text-gray-300"},mr={class:"font-mono"},cr={class:"uppercase"},pr=["disabled"],fr={key:1,class:"border border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 text-xs text-amber-800 dark:text-amber-200"},xr=Q({__name:"WalletStatusBanner",props:{initialTransactions:{}},setup(o){const x=o,i=L(!1),m=L(null),k=L(null),d=K(()=>{const v=k.value?.status||"";return v==="completed"||v==="success"?{tone:"success",title:"Top up berhasil",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900",text:"text-green-800 dark:text-green-200"}:v==="pending"?{tone:"pending",title:"Menunggu pembayaran",bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-900",text:"text-yellow-800 dark:text-yellow-200"}:v==="cancelled"||v==="failed"||v==="expire"||v==="denied"||v==="deny"?{tone:"failed",title:"Pembayaran gagal / dibatalkan",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-900",text:"text-red-800 dark:text-red-200"}:{tone:"info",title:"Status transaksi",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900",text:"text-blue-800 dark:text-blue-200"}});function u(v,w=2){const y=new Date(v).getTime();return(Date.now()-y)/36e5<=w}const S=K(()=>{if(!k.value)return!1;const v=k.value.status;return v==="pending"?!0:v==="completed"||v==="success"?u(k.value.created_at,2):u(k.value.created_at,6)});async function R(){try{i.value=!0,m.value=null;const{data:v}=await ae.get("/client/wallet/history",{params:{type:"topup"}}),w=Array.isArray(v?.data)?v.data:Array.isArray(v)?v:[];w.length>0&&(k.value=w[0])}catch(v){m.value=v?.response?.data?.message||v?.message||"Gagal memuat status transaksi."}finally{i.value=!1}}return Qe(()=>{x.initialTransactions&&x.initialTransactions.length>0&&(k.value=x.initialTransactions[0]),R()}),(v,w)=>S.value?(n(),f("div",{key:0,class:W(["border rounded-lg p-4 flex items-start gap-3",d.value.border,d.value.bg])},[t("div",dr,[t("p",{class:W(["text-sm font-semibold",d.value.text])},l(d.value.title),3),k.value?(n(),f("p",ur,[w[0]||(w[0]=r(" Ref: ",-1)),t("span",mr,l(k.value.transaction_ref),1),r("  Jumlah: Rp "+l(new Intl.NumberFormat("id-ID").format(k.value.amount))+"  Status: ",1),t("span",cr,l(k.value.status),1)])):C("",!0)]),t("button",{type:"button",class:"text-xs underline text-gray-700 dark:text-gray-300",onClick:R,disabled:i.value},l(i.value?"Menyegarkan...":"Segarkan"),9,pr)],2)):m.value?(n(),f("div",fr,l(m.value),1)):C("",!0)}}),gr={class:"space-y-6"},vr=Q({__name:"WalletTab",props:{customer:{},transactions:{}},setup(o){const x=L("wallet");return(i,m)=>(n(),f("div",gr,[s(hn,{balance:Number(o.customer.ewallet_saldo)||0,onTopup:m[0]||(m[0]=k=>x.value="wallet-topup"),onWithdrawal:m[1]||(m[1]=k=>x.value="wallet-withdrawal")},null,8,["balance"]),x.value==="wallet"?(n(),T(xr,{key:0,"initial-transactions":o.transactions},null,8,["initial-transactions"])):C("",!0),x.value==="wallet-topup"?(n(),T(Vn,{key:1,onCancel:m[2]||(m[2]=k=>x.value="wallet")})):C("",!0),x.value==="wallet-withdrawal"?(n(),T(Hn,{key:2,"max-amount":Number(o.customer.ewallet_saldo)||0,onCancel:m[3]||(m[3]=k=>x.value="wallet")},null,8,["max-amount"])):C("",!0),x.value==="wallet"?(n(),T(ir,{key:3,transactions:o.transactions},null,8,["transactions"])):C("",!0)]))}}),br={class:"space-y-2"},yr={class:"relative"},_r={key:0,class:"text-sm text-red-500"},kr={class:"space-y-2"},hr={class:"relative"},wr={key:0,class:"text-sm text-red-500"},$r={class:"space-y-2"},Pr={class:"relative"},Cr={class:"flex items-center justify-end gap-3"},Sr=Q({__name:"SecurityTab",setup(o){const x=de({current_password:"",password:"",password_confirmation:""}),i=L(!1),m=L(!1),k=L(!1),d=()=>{x.patch("/client/profile/password",{preserveScroll:!0,onSuccess:()=>{x.reset(),i.value=!1,m.value=!1,k.value=!1,j.success("Password berhasil diubah")}})};return(u,S)=>(n(),T(e(O),null,{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(q),null,{default:a(()=>[...S[7]||(S[7]=[r("Ubah Password",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...S[8]||(S[8]=[r(" Pastikan akun Anda menggunakan password yang kuat ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:Le(d,["prevent"]),class:"space-y-6"},[t("div",br,[s(e(N),{for:"current_password"},{default:a(()=>[...S[9]||(S[9]=[r(" Password Saat Ini ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",yr,[s(e(ze),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"current_password",modelValue:e(x).current_password,"onUpdate:modelValue":S[0]||(S[0]=R=>e(x).current_password=R),type:i.value?"text":"password",placeholder:"Masukkan password saat ini",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:S[1]||(S[1]=R=>i.value=!i.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[i.value?(n(),T(e(Ve),{key:1,class:"h-4 w-4"})):(n(),T(e(Ae),{key:0,class:"h-4 w-4"}))])]),e(x).errors.current_password?(n(),f("p",_r,l(e(x).errors.current_password),1)):C("",!0)]),s(e(le)),t("div",kr,[s(e(N),{for:"password"},{default:a(()=>[...S[10]||(S[10]=[r(" Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",hr,[s(e(Ye),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"password",modelValue:e(x).password,"onUpdate:modelValue":S[2]||(S[2]=R=>e(x).password=R),type:m.value?"text":"password",placeholder:"Masukkan password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:S[3]||(S[3]=R=>m.value=!m.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[m.value?(n(),T(e(Ve),{key:1,class:"h-4 w-4"})):(n(),T(e(Ae),{key:0,class:"h-4 w-4"}))])]),S[11]||(S[11]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimal 8 karakter ",-1)),e(x).errors.password?(n(),f("p",wr,l(e(x).errors.password),1)):C("",!0)]),t("div",$r,[s(e(N),{for:"password_confirmation"},{default:a(()=>[...S[12]||(S[12]=[r(" Konfirmasi Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Pr,[s(e(Ye),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"password_confirmation",modelValue:e(x).password_confirmation,"onUpdate:modelValue":S[4]||(S[4]=R=>e(x).password_confirmation=R),type:k.value?"text":"password",placeholder:"Konfirmasi password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:S[5]||(S[5]=R=>k.value=!k.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[k.value?(n(),T(e(Ve),{key:1,class:"h-4 w-4"})):(n(),T(e(Ae),{key:0,class:"h-4 w-4"}))])])]),t("div",Cr,[s(e(I),{type:"button",variant:"outline",onClick:S[6]||(S[6]=R=>e(x).reset()),disabled:e(x).processing},{default:a(()=>[...S[13]||(S[13]=[r(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(x).processing},{default:a(()=>[e(x).processing?C("",!0):(n(),T(e(ze),{key:0,class:"w-4 h-4 mr-2"})),r(" "+l(e(x).processing?"Mengupdate...":"Update Password"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Tr={class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},jr={class:"flex items-start gap-3"},Rr={class:"flex-1"},Mr=Q({__name:"DangerZoneTab",setup(o){const x=L(!1),i=de({}),m=()=>{i.delete("/client/profile",{onFinish:()=>{x.value=!1}})};return(k,d)=>(n(),f(Z,null,[s(e(O),{class:"border-red-200 dark:border-red-900"},{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(q),{class:"text-red-600 dark:text-red-400"},{default:a(()=>[...d[3]||(d[3]=[r("Zona Bahaya",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...d[4]||(d[4]=[r(" Tindakan di bawah ini bersifat permanen dan tidak dapat dibatalkan ",-1)])]),_:1})]),_:1}),s(e(F),{class:"space-y-6"},{default:a(()=>[t("div",Tr,[t("div",jr,[s(e(ue),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),t("div",Rr,[d[6]||(d[6]=t("h3",{class:"font-semibold text-red-900 dark:text-red-100"}," Hapus Akun ",-1)),d[7]||(d[7]=t("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Setelah akun Anda dihapus, semua data akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1)),s(e(I),{type:"button",variant:"destructive",class:"mt-4",onClick:d[0]||(d[0]=u=>x.value=!0)},{default:a(()=>[s(e(Ke),{class:"w-4 h-4 mr-2"}),d[5]||(d[5]=r(" Hapus Akun Saya ",-1))]),_:1})])])])]),_:1})]),_:1}),s(e(_e),{open:x.value,"onUpdate:open":d[2]||(d[2]=u=>x.value=u)},{default:a(()=>[s(e(ge),null,{default:a(()=>[s(e(ve),null,{default:a(()=>[s(e(be),{class:"flex items-center gap-2 text-red-600"},{default:a(()=>[s(e(ue),{class:"w-5 h-5"}),d[8]||(d[8]=r(" Konfirmasi Hapus Akun ",-1))]),_:1}),s(e(ye),null,{default:a(()=>[...d[9]||(d[9]=[r(" Apakah Anda yakin ingin menghapus akun Anda? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan dihapus secara permanen. ",-1)])]),_:1})]),_:1}),d[11]||(d[11]=t("div",{class:"py-4"},[t("div",{class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},[t("p",{class:"text-sm text-red-700 dark:text-red-300"},[t("strong",null,"Data yang akan dihapus:")]),t("ul",{class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside space-y-1"},[t("li",null,"Informasi profil dan akun"),t("li",null,"Riwayat transaksi"),t("li",null,"E-wallet dan saldo"),t("li",null,"Jaringan dan bonus")])])],-1)),s(e(ke),null,{default:a(()=>[s(e(I),{type:"button",variant:"outline",onClick:d[1]||(d[1]=u=>x.value=!1),disabled:e(i).processing},{default:a(()=>[...d[10]||(d[10]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"button",variant:"destructive",onClick:m,disabled:e(i).processing},{default:a(()=>[s(e(Ke),{class:"w-4 h-4 mr-2"}),r(" "+l(e(i).processing?"Menghapus...":"Ya, Hapus Akun"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Dr={key:0,class:"text-center py-12 text-muted-foreground"},Lr={class:"flex items-start justify-between"},Ar={class:"flex-1"},Vr={class:"flex items-center gap-2 mb-2"},Br={class:"font-semibold text-lg"},Ir={class:"space-y-1 text-sm text-muted-foreground"},Ur={key:0},Er={key:1,class:"text-xs font-medium text-primary"},Kr={key:2,class:"text-xs"},Nr={class:"text-blue-600 dark:text-blue-400"},zr={class:"text-green-600 dark:text-green-400"},Or={class:"text-xs"},Fr={class:"text-xs font-medium text-green-600 dark:text-green-400"},Gr={class:"flex flex-col items-end gap-2"},Wr={key:0,class:"text-center py-12 text-muted-foreground"},Jr={class:"flex items-start justify-between"},Hr={class:"flex-1"},qr={class:"flex items-center gap-2 mb-2"},Zr={class:"font-semibold text-lg"},Qr={class:"space-y-1 text-sm text-muted-foreground"},Xr={key:0},Yr={key:1,class:"text-xs font-medium text-primary"},eo={key:2,class:"text-xs"},to={class:"text-blue-600 dark:text-blue-400"},so={class:"text-green-600 dark:text-green-400"},ao={class:"text-xs"},lo={class:"text-xs font-medium text-orange-600 dark:text-orange-400"},no={class:"flex flex-col items-end gap-2"},ro={key:0,class:"text-center py-12 text-muted-foreground"},oo={class:"flex items-start justify-between"},io={class:"flex-1"},uo={class:"flex items-center gap-2 mb-2"},mo={class:"font-semibold text-lg"},co={class:"space-y-1 text-sm text-muted-foreground"},po={key:0},fo={key:1,class:"text-xs font-medium text-primary"},xo={key:2,class:"text-xs"},go={class:"text-blue-600 dark:text-blue-400"},vo={class:"text-green-600 dark:text-green-400"},bo={class:"text-xs"},yo={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},_o={class:"flex flex-col items-end gap-2"},ko={class:"font-semibold"},ho={class:"grid grid-cols-2 gap-4 py-4"},wo=["disabled"],$o={class:"text-xs text-muted-foreground mt-1"},Po=["disabled"],Co={class:"text-xs text-muted-foreground mt-1"},So=Q({__name:"NetworkMembersTab",props:{activeMembers:{},passiveMembers:{},prospectMembers:{},hasLeft:{type:Boolean},hasRight:{type:Boolean}},setup(o){const x=L(!1),i=L(null),m=L(null),k=de({member_id:0,position:""}),d=y=>{i.value=y,m.value=null,k.member_id=y.id,k.position="",x.value=!0},u=()=>{x.value=!1,i.value=null,m.value=null,k.reset()},S=()=>{if(!i.value||!m.value){j.error("Pilih posisi terlebih dahulu");return}k.position=m.value,k.post("/client/profile/place-member",{onSuccess:()=>{j.success(`${i.value?.name} berhasil ditempatkan di posisi ${m.value}`),u()},onError:y=>{const g=y.error||"Gagal menempatkan member ke binary tree";j.error(g)}})},R=y=>new Date(y).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),v=y=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(y),w=y=>y?{variant:y==="left"?"default":"secondary",text:y==="left"?"Kiri":"Kanan"}:{variant:"outline",text:"Belum Ditempatkan"};return(y,g)=>(n(),f(Z,null,[s(e(O),null,{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(q),null,{default:a(()=>[...g[2]||(g[2]=[r("Jaringan Member",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...g[3]||(g[3]=[r("Kelola dan lihat member dalam jaringan Anda",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(Je),{"default-value":"active",class:"w-full"},{default:a(()=>[s(e(He),{class:"grid w-full grid-cols-3"},{default:a(()=>[s(e(Y),{value:"active"},{default:a(()=>[s(e(oe),{class:"w-4 h-4 mr-2"}),r(" Aktif ("+l(o.activeMembers.length)+") ",1)]),_:1}),s(e(Y),{value:"passive"},{default:a(()=>[s(e(Be),{class:"w-4 h-4 mr-2"}),r(" Pasif ("+l(o.passiveMembers.length)+") ",1)]),_:1}),s(e(Y),{value:"prospect"},{default:a(()=>[s(e(Re),{class:"w-4 h-4 mr-2"}),r(" Prospek ("+l(o.prospectMembers.length)+") ",1)]),_:1})]),_:1}),s(e(ee),{value:"active",class:"space-y-4"},{default:a(()=>[o.activeMembers.length===0?(n(),f("div",Dr,[s(e(oe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),g[4]||(g[4]=t("p",null,"Belum ada member aktif",-1)),g[5]||(g[5]=t("p",{class:"text-sm mt-2"},"Member aktif adalah member yang sudah ditempatkan di binary tree",-1))])):C("",!0),(n(!0),f(Z,null,te(o.activeMembers,p=>(n(),T(e(O),{key:p.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",Lr,[t("div",Ar,[t("div",Vr,[t("h4",Br,l(p.name),1),s(e(B),{variant:w(p.position).variant},{default:a(()=>[r(l(w(p.position).text),1)]),_:2},1032,["variant"]),p.level?(n(),T(e(B),{key:0,variant:"outline"},{default:a(()=>[r(" Level "+l(p.level),1)]),_:2},1024)):C("",!0)]),t("div",Ir,[t("p",null,l(p.email),1),p.phone?(n(),f("p",Ur,l(p.phone),1)):C("",!0),p.package_name?(n(),f("p",Er," Paket: "+l(p.package_name),1)):C("",!0),(p.total_left??0)>0||(p.total_right??0)>0?(n(),f("p",Kr,[t("span",Nr,"Kiri: "+l(p.total_left??0),1),g[6]||(g[6]=t("span",{class:"mx-1"},"|",-1)),t("span",zr,"Kanan: "+l(p.total_right??0),1)])):C("",!0),t("p",Or,"Bergabung: "+l(R(p.joined_at)),1),t("p",Fr," Omzet: "+l(v(p.omzet)),1)])]),t("div",Gr,[s(e(B),{variant:"default"},{default:a(()=>[s(e(oe),{class:"w-3 h-3 mr-1"}),g[7]||(g[7]=r(" Aktif ",-1))]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(ee),{value:"passive",class:"space-y-4"},{default:a(()=>[o.passiveMembers.length===0?(n(),f("div",Wr,[s(e(Be),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),g[8]||(g[8]=t("p",null,"Belum ada member pasif",-1)),g[9]||(g[9]=t("p",{class:"text-sm mt-2"},"Member pasif adalah member yang belum ditempatkan di binary tree tapi sudah memiliki pembelian/order",-1))])):C("",!0),(n(!0),f(Z,null,te(o.passiveMembers,p=>(n(),T(e(O),{key:p.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",Jr,[t("div",Hr,[t("div",qr,[t("h4",Zr,l(p.name),1),s(e(B),{variant:"secondary"},{default:a(()=>[...g[10]||(g[10]=[r("Belum Ditempatkan",-1)])]),_:1})]),t("div",Qr,[t("p",null,l(p.email),1),p.phone?(n(),f("p",Xr,l(p.phone),1)):C("",!0),p.package_name?(n(),f("p",Yr," Paket: "+l(p.package_name),1)):C("",!0),(p.total_left??0)>0||(p.total_right??0)>0?(n(),f("p",eo,[t("span",to,"Kiri: "+l(p.total_left??0),1),g[11]||(g[11]=t("span",{class:"mx-1"},"|",-1)),t("span",so,"Kanan: "+l(p.total_right??0),1)])):C("",!0),t("p",ao,"Bergabung: "+l(R(p.joined_at)),1),t("p",lo," Omzet: "+l(v(p.omzet)),1)])]),t("div",no,[s(e(B),{variant:"outline"},{default:a(()=>[s(e(Be),{class:"w-3 h-3 mr-1"}),g[12]||(g[12]=r(" Pasif ",-1))]),_:1}),s(e(B),{variant:"default"},{default:a(()=>[...g[13]||(g[13]=[r(" Sudah Belanja ",-1)])]),_:1}),!o.hasLeft||!o.hasRight?(n(),T(e(I),{key:0,size:"sm",variant:"default",class:"mt-2",onClick:M=>d(p)},{default:a(()=>[s(e(Se),{class:"w-3 h-3 mr-1"}),g[14]||(g[14]=r(" Tempatkan ke Binary ",-1))]),_:1},8,["onClick"])):C("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(ee),{value:"prospect",class:"space-y-4"},{default:a(()=>[o.prospectMembers.length===0?(n(),f("div",ro,[s(e(Re),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),g[15]||(g[15]=t("p",null,"Belum ada member prospek",-1)),g[16]||(g[16]=t("p",{class:"text-sm mt-2"},"Member prospek adalah member yang baru mendaftar, belum ditempatkan di binary tree dan belum memiliki pembelian/order",-1))])):C("",!0),(n(!0),f(Z,null,te(o.prospectMembers,p=>(n(),T(e(O),{key:p.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",oo,[t("div",io,[t("div",uo,[t("h4",mo,l(p.name),1),s(e(B),{variant:"outline"},{default:a(()=>[...g[17]||(g[17]=[r("Baru Bergabung",-1)])]),_:1})]),t("div",co,[t("p",null,l(p.email),1),p.phone?(n(),f("p",po,l(p.phone),1)):C("",!0),p.package_name?(n(),f("p",fo," Paket: "+l(p.package_name),1)):C("",!0),(p.total_left??0)>0||(p.total_right??0)>0?(n(),f("p",xo,[t("span",go,"Kiri: "+l(p.total_left??0),1),g[18]||(g[18]=t("span",{class:"mx-1"},"|",-1)),t("span",vo,"Kanan: "+l(p.total_right??0),1)])):C("",!0),t("p",bo,"Bergabung: "+l(R(p.joined_at)),1),t("p",yo," Omzet: "+l(v(p.omzet)),1)])]),t("div",_o,[s(e(B),{variant:"secondary"},{default:a(()=>[s(e(Re),{class:"w-3 h-3 mr-1"}),g[19]||(g[19]=r(" Prospek ",-1))]),_:1}),s(e(B),{variant:"secondary"},{default:a(()=>[...g[20]||(g[20]=[r(" Belum Belanja ",-1)])]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),s(e(_e),{open:x.value,"onUpdate:open":u},{default:a(()=>[s(e(ge),{class:"sm:max-w-md"},{default:a(()=>[s(e(ve),null,{default:a(()=>[s(e(be),null,{default:a(()=>[...g[21]||(g[21]=[r("Tempatkan Member ke Binary Tree",-1)])]),_:1}),s(e(ye),null,{default:a(()=>[g[22]||(g[22]=r(" Pilih posisi untuk menempatkan ",-1)),t("span",ko,l(i.value?.name),1),g[23]||(g[23]=r(" di jaringan binary tree Anda. ",-1))]),_:1})]),_:1}),t("div",ho,[t("button",{type:"button",disabled:o.hasLeft,class:W(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",o.hasLeft?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":m.value==="left"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:g[0]||(g[0]=p=>!o.hasLeft&&(m.value="left"))},[s(e(Se),{class:"w-8 h-8 mb-2 rotate-90"}),g[24]||(g[24]=t("span",{class:"font-semibold"},"Posisi Kiri",-1)),t("span",$o,l(o.hasLeft?"Sudah Terisi":"Left Position"),1)],10,wo),t("button",{type:"button",disabled:o.hasRight,class:W(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",o.hasRight?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":m.value==="right"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:g[1]||(g[1]=p=>!o.hasRight&&(m.value="right"))},[s(e(Se),{class:"w-8 h-8 mb-2 -rotate-90"}),g[25]||(g[25]=t("span",{class:"font-semibold"},"Posisi Kanan",-1)),t("span",Co,l(o.hasRight?"Sudah Terisi":"Right Position"),1)],10,Po)]),s(e(ke),null,{default:a(()=>[s(e(I),{variant:"outline",onClick:u,disabled:e(k).processing},{default:a(()=>[...g[26]||(g[26]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{onClick:S,disabled:!m.value||e(k).processing},{default:a(()=>[r(l(e(k).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),rt=Q({__name:"GoJSBinaryTree",props:{binaryTree:{},onOpenPlacement:{},isDialog:{type:Boolean,default:!1}},emits:["openPlacement","memberClick"],setup(o,{expose:x,emit:i}){const m=o,k=i,d=L(null);let u=null;const S=(p,M=null)=>{if(!p)return{nodes:[],links:[]};const U=[],A=[],z=(E,G,V)=>{const J={key:E.id,name:E.name,email:E.email,package:E.package_name||"Tidak ada paket",totalLeft:E.total_left||0,totalRight:E.total_right||0,position:V,isActive:E.status,hasLeft:!!E.left,hasRight:!!E.right,order:V==="left"?0:V==="right"?1:0};if(U.push(J),G!==null&&A.push({from:G,to:E.id,order:V==="left"?0:1}),!E.left&&E.status){const D=-E.id*2;U.push({key:D,name:"+ Kiri",email:"",package:"",isPlaceholder:!0,parentId:E.id,placeholderPosition:"left",order:0}),A.push({from:E.id,to:D,order:0})}if(!E.right&&E.status){const D=-E.id*2-1;U.push({key:D,name:"+ Kanan",email:"",package:"",isPlaceholder:!0,parentId:E.id,placeholderPosition:"right",order:1}),A.push({from:E.id,to:D,order:1})}E.left&&z(E.left,E.id,"left"),E.right&&z(E.right,E.id,"right")};return z(p,M,null),{nodes:U,links:A}},R=()=>{if(!d.value)return;const p=Lt.make;u=p(At,d.value,{"undoManager.isEnabled":!1,"animationManager.isEnabled":!0,initialAutoScale:Vt.Uniform,contentAlignment:ce.Top,layout:p(Bt,{angle:90,layerSpacing:50,nodeSpacing:20,arrangement:Ut.Horizontal,sorting:It.Ascending,comparer:(M,U)=>{const A=M.node?.data?.order??0,z=U.node?.data?.order??0;return A-z}}),maxSelectionCount:1}),u.nodeTemplate=p(Et,"Auto",{cursor:"pointer",selectionAdorned:!1},p(he,"RoundedRectangle",{fill:"white",stroke:"#e2e8f0",strokeWidth:2,parameter1:8},new se("fill","",M=>M.isPlaceholder?"#f8fafc":M.isActive?"#ffffff":"#fef3c7"),new se("stroke","",M=>M.isPlaceholder?"#cbd5e1":M.position==="left"?"#3b82f6":M.position==="right"?"#22c55e":"#6366f1"),new se("strokeWidth","",M=>M.isPlaceholder?1:2),new se("strokeDashArray","isPlaceholder",M=>M?[4,4]:null)),p(we,"Vertical",{margin:8,defaultAlignment:ce.Left},p(pe,{font:"bold 13px Inter, sans-serif",stroke:"#1e293b",maxSize:new tt(140,NaN),wrap:et.Fit,textAlign:"center",alignment:ce.Center},new se("text","name"),new se("stroke","isPlaceholder",M=>M?"#64748b":"#1e293b"),new se("font","isPlaceholder",M=>M?"12px Inter, sans-serif":"bold 13px Inter, sans-serif")),p(pe,{font:"11px Inter, sans-serif",stroke:"#64748b",maxSize:new tt(140,NaN),wrap:et.Fit,margin:new fe(2,0,0,0),alignment:ce.Center},new se("text","email"),new se("visible","isPlaceholder",M=>!M)),p(we,"Auto",{margin:new fe(4,0,0,0),alignment:ce.Center},new se("visible","isPlaceholder",M=>!M),p(he,"RoundedRectangle",{fill:"#eff6ff",stroke:"#bfdbfe",strokeWidth:1,parameter1:4}),p(pe,{font:"10px Inter, sans-serif",stroke:"#1d4ed8",margin:new fe(2,6,2,6)},new se("text","package"))),p(we,"Horizontal",{margin:new fe(6,0,0,0),alignment:ce.Center},new se("visible","isPlaceholder",M=>!M),p(we,"Horizontal",p(he,"Circle",{width:8,height:8,fill:"#3b82f6",stroke:null,margin:new fe(0,4,0,0)}),p(pe,{font:"10px Inter, sans-serif",stroke:"#64748b"},new se("text","totalLeft",M=>`L: ${M}`))),p(pe," | ",{font:"10px Inter, sans-serif",stroke:"#cbd5e1"}),p(we,"Horizontal",p(he,"Circle",{width:8,height:8,fill:"#22c55e",stroke:null,margin:new fe(0,4,0,0)}),p(pe,{font:"10px Inter, sans-serif",stroke:"#64748b"},new se("text","totalRight",M=>`R: ${M}`))))),{click:(M,U)=>{const A=U.part?.data;A?.isPlaceholder&&A?.parentId&&A?.placeholderPosition?k("openPlacement",A.parentId,A.placeholderPosition):!A?.isPlaceholder&&A?.key&&!m.isDialog&&k("memberClick",A.key)}}),u.linkTemplate=p(Kt,{routing:Nt.Orthogonal,corner:10,selectable:!1},p(he,{strokeWidth:2,stroke:"#cbd5e1"})),v()},v=()=>{if(!u||!m.binaryTree)return;const{nodes:p,links:M}=S(m.binaryTree);u.model=new zt(p,M),u.zoomToFit()},w=()=>{u&&u.commandHandler.increaseZoom()},y=()=>{u&&u.commandHandler.decreaseZoom()},g=()=>{u&&u.zoomToFit()};return Me(()=>m.binaryTree,()=>{v()},{deep:!0}),Qe(()=>{R()}),it(()=>{u&&(u.div=null,u=null)}),x({zoomIn:w,zoomOut:y,resetZoom:g}),(p,M)=>(n(),f("div",{ref_key:"diagramDiv",ref:d,class:W(["w-full border rounded-lg bg-slate-50",o.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},null,2))}}),To={class:"space-y-4 sm:space-y-6"},jo={class:"grid grid-cols-3 gap-2 sm:gap-4"},Ro={class:"text-lg sm:text-2xl font-bold"},Mo={class:"text-lg sm:text-2xl font-bold text-blue-600"},Do={class:"text-lg sm:text-2xl font-bold text-green-600"},Lo={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Ao={class:"flex items-center gap-1 sm:gap-2"},Vo={key:1,class:"h-[400px] flex items-center justify-center text-muted-foreground"},Bo={class:"text-center"},Io={class:"font-semibold"},Uo={class:"flex-1 overflow-y-auto py-2 sm:py-4"},Eo={key:0,class:"text-center py-8 sm:py-12 text-muted-foreground"},Ko={key:1,class:"space-y-2"},No=["onClick"],zo={class:"flex items-start justify-between gap-2"},Oo={class:"flex-1 min-w-0"},Fo={class:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1"},Go={class:"font-semibold text-sm sm:text-base truncate"},Wo={class:"space-y-0.5 text-xs sm:text-sm text-muted-foreground"},Jo={class:"truncate"},Ho={key:0,class:"truncate"},qo={class:"text-[10px] sm:text-xs"},Zo={key:0,class:"flex-shrink-0"},Qo={key:0},Xo={key:0,class:"flex-1 flex items-center justify-center py-12"},Yo={class:"text-center"},ei={key:1,class:"flex-1 overflow-hidden flex flex-col"},ti={class:"grid grid-cols-3 gap-2 mb-4"},si={class:"p-2 sm:p-3 rounded-lg bg-muted/50 text-center"},ai={class:"text-sm sm:text-lg font-bold"},li={class:"p-2 sm:p-3 rounded-lg bg-blue-50 dark:bg-blue-950/30 text-center"},ni={class:"text-sm sm:text-lg font-bold text-blue-600"},ri={class:"p-2 sm:p-3 rounded-lg bg-green-50 dark:bg-green-950/30 text-center"},oi={class:"text-sm sm:text-lg font-bold text-green-600"},ii={class:"flex items-center justify-end gap-1 sm:gap-2 mb-2"},di={class:"flex-1 min-h-0 border rounded-lg overflow-hidden"},ui={key:2,class:"flex-1 flex items-center justify-center py-12"},mi={class:"text-center text-muted-foreground"},ci=Q({__name:"BinaryTreeTab",props:{binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},passiveMembers:{}},setup(o){const x=L(null),i=L(null),m=L(!1),k=L(null),d=L(null),u=L(null),S=L(!1),R=L(!1),v=L(null),w=L(null),y=L({totalDownlines:0,totalLeft:0,totalRight:0}),g=de({member_id:0,position:""}),p=(b,c)=>{k.value=b,d.value=c,u.value=null,m.value=!0},M=()=>{m.value=!1,k.value=null,d.value=null,u.value=null},U=b=>{u.value=b},A=()=>{if(!u.value||!d.value){j.error("Pilih member terlebih dahulu");return}g.member_id=u.value.id,g.position=d.value,g.post("/client/profile/place-member",{onSuccess:()=>{j.success(`${u.value?.name} berhasil ditempatkan di posisi ${d.value}`),M()},onError:b=>{const c=b.error||"Gagal menempatkan member ke binary tree";j.error(c)}})},z=b=>new Date(b).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),E=async b=>{R.value=!0,S.value=!0,w.value=null;try{const c=await ae.get(`/client/profile/member-tree/${b}`);c.data.success?(v.value=c.data.data.member,w.value=c.data.data.tree,y.value={totalDownlines:c.data.data.totalDownlines,totalLeft:c.data.data.totalLeft,totalRight:c.data.data.totalRight}):(j.error("Gagal memuat data jaringan member"),S.value=!1)}catch(c){j.error(c.response?.data?.message||"Gagal memuat data jaringan member"),S.value=!1}finally{R.value=!1}},G=()=>{S.value=!1,v.value=null,w.value=null,y.value={totalDownlines:0,totalLeft:0,totalRight:0}},V=()=>{i.value?.zoomIn()},J=()=>{i.value?.zoomOut()},D=()=>{i.value?.resetZoom()},$=()=>{x.value?.zoomIn()},_=()=>{x.value?.zoomOut()},P=()=>{x.value?.resetZoom()};return(b,c)=>(n(),f(Z,null,[t("div",To,[t("div",jo,[s(e(O),{class:"p-0"},{default:a(()=>[s(e(H),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(q),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...c[0]||(c[0]=[r("Total Jaringan",-1)])]),_:1}),s(e($e),{class:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Ro,l(o.totalDownlines),1),c[1]||(c[1]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member aktif di jaringan Anda",-1))]),_:1})]),_:1}),s(e(O),{class:"p-0"},{default:a(()=>[s(e(H),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(q),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...c[2]||(c[2]=[r("Kaki Kiri",-1)])]),_:1}),s(e(st),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Mo,l(o.totalLeft),1),c[3]||(c[3]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kiri",-1))]),_:1})]),_:1}),s(e(O),{class:"p-0"},{default:a(()=>[s(e(H),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(q),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...c[4]||(c[4]=[r("Kaki Kanan",-1)])]),_:1}),s(e(st),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Do,l(o.totalRight),1),c[5]||(c[5]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kanan",-1))]),_:1})]),_:1})]),s(e(O),null,{default:a(()=>[s(e(H),{class:"p-3 sm:p-6"},{default:a(()=>[t("div",Lo,[t("div",null,[s(e(q),{class:"text-sm sm:text-base"},{default:a(()=>[...c[6]||(c[6]=[r("Struktur Binary Tree",-1)])]),_:1}),s(e(re),{class:"text-xs sm:text-sm"},{default:a(()=>[...c[7]||(c[7]=[r(" Visualisasi jaringan MLM binary tree Anda ",-1)])]),_:1})]),t("div",Ao,[s(e(I),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:_},{default:a(()=>[s(e(at),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(I),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:$},{default:a(()=>[s(e(lt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(I),{variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:P,title:"Fit to Screen"},{default:a(()=>[s(e(nt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1})])])]),_:1}),s(e(F),{class:"p-2 sm:p-6 pt-0"},{default:a(()=>[o.binaryTree?(n(),T(rt,{key:0,ref_key:"goJSTreeRef",ref:x,"binary-tree":o.binaryTree,onOpenPlacement:p,onMemberClick:E},null,8,["binary-tree"])):(n(),f("div",Vo,[t("div",Bo,[s(e($e),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),c[8]||(c[8]=t("p",null,"Belum ada jaringan binary tree",-1))])])),c[9]||(c[9]=t("div",{class:"mt-4 sm:mt-6 p-2 sm:p-4 rounded-lg bg-muted/50"},[t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-center sm:text-left"},[t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[r("  "),t("span",{class:"hidden sm:inline"},'Klik member untuk melihat jaringannya  Klik "+" untuk menambah member'),t("span",{class:"sm:hidden"},"Klik member untuk lihat jaringan")]),t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[t("span",{class:"hidden sm:inline"},"Scroll/drag untuk navigasi  Mouse wheel untuk zoom"),t("span",{class:"sm:hidden"},"Drag & Pinch untuk navigasi")])])],-1))]),_:1})]),_:1})]),s(e(_e),{open:m.value,"onUpdate:open":M},{default:a(()=>[s(e(ge),{class:"w-[95vw] max-w-2xl max-h-[85vh] overflow-hidden flex flex-col p-4 sm:p-6"},{default:a(()=>[s(e(ve),{class:"space-y-1 sm:space-y-2"},{default:a(()=>[s(e(be),{class:"text-base sm:text-lg"},{default:a(()=>[...c[10]||(c[10]=[r("Pilih Member untuk Ditempatkan",-1)])]),_:1}),s(e(ye),{class:"text-xs sm:text-sm"},{default:a(()=>[c[11]||(c[11]=r(" Pilih member pasif untuk ditempatkan di posisi ",-1)),t("span",Io,l(d.value==="left"?"Kiri":"Kanan"),1)]),_:1})]),_:1}),t("div",Uo,[o.passiveMembers.length===0?(n(),f("div",Eo,[s(e(Re),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),c[12]||(c[12]=t("p",{class:"text-sm sm:text-base"},"Tidak ada member pasif",-1)),c[13]||(c[13]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Semua member sudah ditempatkan",-1))])):(n(),f("div",Ko,[(n(!0),f(Z,null,te(o.passiveMembers,h=>(n(),f("button",{key:h.id,type:"button",class:W(["w-full p-3 sm:p-4 rounded-lg border-2 text-left transition-all",u.value?.id===h.id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"]),onClick:vu=>U(h)},[t("div",zo,[t("div",Oo,[t("div",Fo,[t("h4",Go,l(h.name),1),h.has_purchase?(n(),T(e(B),{key:0,variant:"default",class:"text-[10px] sm:text-xs"},{default:a(()=>[...c[14]||(c[14]=[t("span",{class:"hidden sm:inline"},"Ada Pembelian",-1),t("span",{class:"sm:hidden"},"Beli",-1)])]),_:1})):(n(),T(e(B),{key:1,variant:"secondary",class:"text-[10px] sm:text-xs"},{default:a(()=>[...c[15]||(c[15]=[t("span",{class:"hidden sm:inline"},"Belum Belanja",-1),t("span",{class:"sm:hidden"},"Belum",-1)])]),_:1}))]),t("div",Wo,[t("p",Jo,l(h.email),1),h.phone?(n(),f("p",Ho,l(h.phone),1)):C("",!0),t("p",qo,"Bergabung: "+l(z(h.joined_at)),1)])]),u.value?.id===h.id?(n(),f("div",Zo,[...c[16]||(c[16]=[t("div",{class:"flex h-5 w-5 sm:h-6 sm:w-6 items-center justify-center rounded-full bg-primary text-primary-foreground"},[t("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):C("",!0)])],10,No))),128))]))]),s(e(ke),{class:"flex-col-reverse sm:flex-row gap-2 sm:gap-0"},{default:a(()=>[s(e(I),{variant:"outline",onClick:M,disabled:e(g).processing,class:"w-full sm:w-auto"},{default:a(()=>[...c[17]||(c[17]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{onClick:A,disabled:!u.value||e(g).processing,class:"w-full sm:w-auto"},{default:a(()=>[r(l(e(g).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(e(_e),{open:S.value,"onUpdate:open":G},{default:a(()=>[s(e(ge),{class:"w-[95vw] max-w-4xl max-h-[90vh] overflow-hidden flex flex-col p-4 sm:p-6"},{default:a(()=>[s(e(ve),{class:"space-y-1 sm:space-y-2"},{default:a(()=>[s(e(be),{class:"text-base sm:text-lg flex items-center gap-2"},{default:a(()=>[s(e($e),{class:"h-5 w-5 text-primary"}),r(" Jaringan "+l(v.value?.name||"Member"),1)]),_:1}),s(e(ye),{class:"text-xs sm:text-sm"},{default:a(()=>[v.value?(n(),f("span",Qo,l(v.value.email),1)):C("",!0)]),_:1})]),_:1}),R.value?(n(),f("div",Xo,[t("div",Yo,[s(e(Pe),{class:"w-8 h-8 mx-auto mb-4 animate-spin text-primary"}),c[18]||(c[18]=t("p",{class:"text-sm text-muted-foreground"},"Memuat data jaringan...",-1))])])):w.value?(n(),f("div",ei,[t("div",ti,[t("div",si,[t("div",ai,l(y.value.totalDownlines),1),c[19]||(c[19]=t("div",{class:"text-[10px] sm:text-xs text-muted-foreground"},"Total",-1))]),t("div",li,[t("div",ni,l(y.value.totalLeft),1),c[20]||(c[20]=t("div",{class:"text-[10px] sm:text-xs text-muted-foreground"},"Kiri",-1))]),t("div",ri,[t("div",oi,l(y.value.totalRight),1),c[21]||(c[21]=t("div",{class:"text-[10px] sm:text-xs text-muted-foreground"},"Kanan",-1))])]),t("div",ii,[s(e(I),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:J},{default:a(()=>[s(e(at),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(I),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:V},{default:a(()=>[s(e(lt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(I),{variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:D,title:"Fit to Screen"},{default:a(()=>[s(e(nt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1})]),t("div",di,[s(rt,{ref_key:"dialogGoJSTreeRef",ref:i,"binary-tree":w.value,"is-dialog":!0},null,8,["binary-tree"])])])):(n(),f("div",ui,[t("div",mi,[s(e($e),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),c[22]||(c[22]=t("p",null,"Tidak ada data jaringan",-1))])])),s(e(ke),{class:"mt-4"},{default:a(()=>[s(e(I),{variant:"outline",onClick:G,class:"w-full sm:w-auto"},{default:a(()=>[...c[23]||(c[23]=[r(" Tutup ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),pi={class:"space-y-4 sm:space-y-6"},fi={class:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},xi={class:"text-xl sm:text-2xl font-bold truncate"},gi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},vi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},bi={class:"text-xl sm:text-2xl font-bold truncate"},yi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},_i={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},ki={class:"text-xl sm:text-2xl font-bold truncate"},hi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},wi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},$i={class:"text-xl sm:text-2xl font-bold truncate"},Pi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Ci={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Si={class:"text-xl sm:text-2xl font-bold truncate"},Ti={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ji={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Ri={class:"text-xl sm:text-2xl font-bold truncate"},Mi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Di={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Li={class:"text-xl sm:text-2xl font-bold truncate"},Ai={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Vi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Bi={class:"text-xl sm:text-2xl font-bold text-primary truncate"},Ii={class:"w-full text-center overflow-x-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] -mx-2 px-2 sm:mx-0 sm:px-0",style:{"-webkit-overflow-scrolling":"touch"}},Ui={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Ei={key:1,class:"space-y-1.5 sm:space-y-3"},Ki={class:"flex-1 min-w-0"},Ni={class:"flex flex-wrap items-center gap-1 sm:gap-2"},zi={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Oi={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Fi={key:0,class:"block sm:inline"},Gi={class:"block sm:inline sm:ml-1"},Wi={class:"text-left sm:text-right flex-shrink-0"},Ji={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Hi={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},qi={key:1,class:"space-y-1.5 sm:space-y-3"},Zi={class:"flex-1 min-w-0"},Qi={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Xi={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Yi={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},ed={key:0,class:"block sm:inline"},td={class:"block sm:inline sm:ml-2"},sd={class:"text-left sm:text-right flex-shrink-0"},ad={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},ld={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},nd={key:1,class:"space-y-3"},rd={class:"flex-1 min-w-0"},od={class:"flex flex-wrap items-center gap-2"},id={class:"text-xs sm:text-sm font-medium break-words"},dd={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ud={class:"text-left sm:text-right flex-shrink-0"},md={class:"text-base sm:text-lg font-bold text-green-600"},cd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},pd={key:1,class:"space-y-1.5 sm:space-y-3"},fd={class:"flex-1 min-w-0"},xd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},gd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},vd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},bd={key:0,class:"block sm:inline"},yd={class:"block sm:inline sm:ml-1"},_d={class:"text-left sm:text-right flex-shrink-0"},kd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},hd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},wd={key:1,class:"space-y-1.5 sm:space-y-3"},$d={class:"flex-1 min-w-0"},Pd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Cd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Sd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Td={class:"text-left sm:text-right flex-shrink-0"},jd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Rd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Md={key:1,class:"space-y-1.5 sm:space-y-3"},Dd={class:"flex-1 min-w-0"},Ld={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Ad={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Vd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Bd={key:0,class:"block sm:inline"},Id={class:"block sm:inline sm:ml-1"},Ud={class:"text-left sm:text-right flex-shrink-0"},Ed={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Kd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Nd={key:1,class:"space-y-1.5 sm:space-y-3"},zd={class:"flex-1 min-w-0"},Od={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Fd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Gd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Wd={class:"block sm:inline"},Jd={class:"block sm:inline sm:ml-1"},Hd={class:"text-left sm:text-right flex-shrink-0"},qd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Zd=Q({__name:"BonusTab",props:{bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{}},setup(o){const x=o,i=b=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(b),m=b=>new Date(b).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),k=K(()=>x.bonusSponsors.reduce((b,c)=>b+c.amount,0)),d=K(()=>x.bonusMatchings.reduce((b,c)=>b+c.amount,0)),u=K(()=>x.bonusPairings.reduce((b,c)=>b+c.amount,0)),S=K(()=>x.bonusCashbacks.reduce((b,c)=>b+c.amount,0)),R=K(()=>x.bonusRewards.reduce((b,c)=>b+c.amount,0)),v=K(()=>x.bonusSponsors.filter(b=>b.status===0).reduce((b,c)=>b+c.amount,0)),w=K(()=>x.bonusSponsors.filter(b=>b.status===1).reduce((b,c)=>b+c.amount,0)),y=K(()=>x.bonusMatchings.filter(b=>b.status===0).reduce((b,c)=>b+c.amount,0)),g=K(()=>x.bonusMatchings.filter(b=>b.status===1).reduce((b,c)=>b+c.amount,0)),p=K(()=>x.bonusPairings.filter(b=>b.status===0).reduce((b,c)=>b+c.amount,0)),M=K(()=>x.bonusPairings.filter(b=>b.status===1).reduce((b,c)=>b+c.amount,0)),U=K(()=>x.bonusCashbacks.filter(b=>b.status===0).reduce((b,c)=>b+c.amount,0)),A=K(()=>x.bonusCashbacks.filter(b=>b.status===1).reduce((b,c)=>b+c.amount,0)),z=K(()=>x.bonusRewards.filter(b=>b.status===0).reduce((b,c)=>b+c.amount,0)),E=K(()=>x.bonusRewards.filter(b=>b.status===1).reduce((b,c)=>b+c.amount,0)),G=K(()=>x.bonusRetails.reduce((b,c)=>b+c.amount,0)),V=K(()=>x.bonusRetails.filter(b=>b.status===0).reduce((b,c)=>b+c.amount,0)),J=K(()=>x.bonusRetails.filter(b=>b.status===1).reduce((b,c)=>b+c.amount,0)),D=K(()=>x.bonusLifetimeCashRewards.reduce((b,c)=>b+c.amount,0)),$=K(()=>x.bonusLifetimeCashRewards.filter(b=>b.status===0).reduce((b,c)=>b+c.amount,0)),_=K(()=>x.bonusLifetimeCashRewards.filter(b=>b.status===1).reduce((b,c)=>b+c.amount,0)),P=K(()=>k.value+d.value+u.value+S.value+R.value+G.value+D.value);return(b,c)=>(n(),f("div",pi,[t("div",fi,[s(e(O),null,{default:a(()=>[s(e(H),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(q),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e($e),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),c[0]||(c[0]=t("span",{class:"truncate"},"Referral Incentive",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",xi,l(i(k.value)),1),t("p",gi,l(o.bonusSponsors.length)+" transaksi ",1),t("div",vi,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(v.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(w.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(H),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(q),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ot),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"}),c[1]||(c[1]=t("span",{class:"truncate"},"Team Affiliate Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",bi,l(i(d.value)),1),t("p",yi,l(o.bonusMatchings.length)+" transaksi ",1),t("div",_i,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(y.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(g.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(H),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(q),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ft),{class:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),c[2]||(c[2]=t("span",{class:"truncate"},"Partner Team Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",ki,l(i(u.value)),1),t("p",hi,l(o.bonusPairings.length)+" transaksi ",1),t("div",wi,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(p.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(M.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(H),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(q),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Gt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-orange-500 flex-shrink-0"}),c[3]||(c[3]=t("span",{class:"truncate"},"Cashback Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",$i,l(i(S.value)),1),t("p",Pi,l(o.bonusCashbacks.length)+" transaksi ",1),t("div",Ci,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(U.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(A.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(H),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(q),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ot),{class:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 flex-shrink-0"}),c[4]||(c[4]=t("span",{class:"truncate"},"Promotions Rewards",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",Si,l(i(R.value)),1),t("p",Ti,l(o.bonusRewards.length)+" transaksi ",1),t("div",ji,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(z.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(E.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(H),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(q),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Wt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-500 flex-shrink-0"}),c[5]||(c[5]=t("span",{class:"truncate"},"Retail Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",Ri,l(i(G.value)),1),t("p",Mi,l(o.bonusRetails.length)+" transaksi ",1),t("div",Di,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(V.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(J.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(H),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(q),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ze),{class:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"}),c[6]||(c[6]=t("span",{class:"truncate"},"Lifetime Cash Rewards",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",Li,l(i(D.value)),1),t("p",Ai,l(o.bonusLifetimeCashRewards.length)+" transaksi ",1),t("div",Vi,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i($.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(_.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(H),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(q),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ct),{class:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"}),c[7]||(c[7]=t("span",{class:"truncate"},"Total Bonus",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",Bi,l(i(P.value)),1),c[8]||(c[8]=t("p",{class:"text-[10px] sm:text-xs text-muted-foreground mt-1"}," Semua jenis bonus ",-1))]),_:1})]),_:1})]),s(e(O),null,{default:a(()=>[s(e(H),{class:"p-2 sm:p-4 md:p-6 pb-2"},{default:a(()=>[s(e(q),{class:"text-xs sm:text-base md:text-lg"},{default:a(()=>[...c[9]||(c[9]=[r("Riwayat Bonus",-1)])]),_:1}),s(e(re),{class:"text-[9px] sm:text-xs md:text-sm"},{default:a(()=>[...c[10]||(c[10]=[r(" Detail transaksi bonus ",-1)])]),_:1})]),_:1}),s(e(F),{class:"p-2 sm:p-4 md:p-6 pt-0"},{default:a(()=>[s(e(Je),{"default-value":"sponsor",class:"w-full"},{default:a(()=>[t("div",Ii,[s(e(He),{class:"flex w-max sm:grid sm:w-full sm:grid-cols-7 gap-0.5 sm:gap-1 h-7 sm:h-auto bg-muted/30"},{default:a(()=>[s(e(Y),{value:"sponsor",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...c[11]||(c[11]=[r(" Referral ",-1)])]),_:1}),s(e(Y),{value:"matching",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...c[12]||(c[12]=[r(" Team Aff. ",-1)])]),_:1}),s(e(Y),{value:"pairing",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...c[13]||(c[13]=[r(" Partner ",-1)])]),_:1}),s(e(Y),{value:"cashback",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...c[14]||(c[14]=[r(" Cashback ",-1)])]),_:1}),s(e(Y),{value:"reward",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...c[15]||(c[15]=[r(" Rewards ",-1)])]),_:1}),s(e(Y),{value:"retail",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...c[16]||(c[16]=[r(" Retail ",-1)])]),_:1}),s(e(Y),{value:"lifetime",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...c[17]||(c[17]=[r(" Lifetime ",-1)])]),_:1})]),_:1})]),s(e(ee),{value:"sponsor",class:"mt-2 sm:mt-4"},{default:a(()=>[o.bonusSponsors.length===0?(n(),f("div",Ui," Belum ada bonus referral incentive ")):(n(),f("div",Ei,[(n(!0),f(Z,null,te(o.bonusSponsors,h=>(n(),f("div",{key:h.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Ki,[t("div",Ni,[s(e(B),{variant:h.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(h.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",zi,l(h.description||"Bonus Sponsor"),1)]),t("p",Oi,[h.from_member?(n(),f("span",Fi," Dari: "+l(h.from_member.name),1)):C("",!0),t("span",Gi,l(m(h.created_at)),1)])]),t("div",Wi,[t("div",Ji,l(i(h.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",h.status===1?"text-green-600":"text-yellow-600"])},l(h.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"matching",class:"mt-2 sm:mt-4"},{default:a(()=>[o.bonusMatchings.length===0?(n(),f("div",Hi," Belum ada bonus team affiliate commission ")):(n(),f("div",qi,[(n(!0),f(Z,null,te(o.bonusMatchings,h=>(n(),f("div",{key:h.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Zi,[t("div",Qi,[s(e(B),{variant:h.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(h.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(B),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(" L"+l(h.level),1)]),_:2},1024),t("span",Xi,l(h.description||"Bonus Matching"),1)]),t("p",Yi,[h.from_member?(n(),f("span",ed," Dari: "+l(h.from_member.name),1)):C("",!0),t("span",td,l(m(h.created_at)),1)])]),t("div",sd,[t("div",ad,l(i(h.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",h.status===1?"text-green-600":"text-yellow-600"])},l(h.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"pairing",class:"mt-2 sm:mt-4"},{default:a(()=>[o.bonusPairings.length===0?(n(),f("div",ld," Belum ada bonus partner team commission ")):(n(),f("div",nd,[(n(!0),f(Z,null,te(o.bonusPairings,h=>(n(),f("div",{key:h.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",rd,[t("div",od,[s(e(B),{variant:h.status===1?"secondary":"outline",class:"text-xs"},{default:a(()=>[r(l(h.status===1?"Released":"Pending"),1)]),_:2},1032,["variant"]),s(e(B),{variant:"outline",class:"text-xs"},{default:a(()=>[r(l(h.pair)+" Pairs ",1)]),_:2},1024),t("span",id,l(h.description||"Bonus Pairing"),1)]),t("p",dd,l(m(h.created_at)),1)]),t("div",ud,[t("div",md,l(i(h.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",h.status===1?"text-green-600":"text-yellow-600"])},l(h.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"cashback",class:"mt-2 sm:mt-4"},{default:a(()=>[o.bonusCashbacks.length===0?(n(),f("div",cd," Belum ada bonus cashback commission ")):(n(),f("div",pd,[(n(!0),f(Z,null,te(o.bonusCashbacks,h=>(n(),f("div",{key:h.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",fd,[t("div",xd,[s(e(B),{variant:h.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(h.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",gd,l(h.description||"Bonus Cashback"),1)]),t("p",vd,[c[18]||(c[18]=r('eground mt-0.5"> ',-1)),h.order_id?(n(),f("span",bd," #"+l(h.order_id),1)):C("",!0),t("span",yd,l(m(h.created_at)),1)])]),t("div",_d,[t("div",kd,l(i(h.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",h.status===1?"text-green-600":"text-yellow-600"])},l(h.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"reward",class:"mt-2 sm:mt-4"},{default:a(()=>[o.bonusRewards.length===0?(n(),f("div",hd," Belum ada promotions rewards ")):(n(),f("div",wd,[(n(!0),f(Z,null,te(o.bonusRewards,h=>(n(),f("div",{key:h.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",$d,[t("div",Pd,[s(e(B),{variant:h.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(h.status===1?"R":"P"),1)]),_:2},1032,["variant"]),h.reward_type?(n(),T(e(B),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(h.reward_type),1)]),_:2},1024)):C("",!0),t("span",Cd,l(h.description||"Promotions Reward"),1)]),t("p",Sd,l(m(h.created_at)),1)]),t("div",Td,[t("div",jd,l(i(h.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",h.status===1?"text-green-600":"text-yellow-600"])},l(h.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"retail",class:"mt-2 sm:mt-4"},{default:a(()=>[o.bonusRetails.length===0?(n(),f("div",Rd," Belum ada bonus retail commission ")):(n(),f("div",Md,[(n(!0),f(Z,null,te(o.bonusRetails,h=>(n(),f("div",{key:h.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Dd,[t("div",Ld,[s(e(B),{variant:h.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(h.status===1?"R":"P"),1)]),_:2},1032,["variant"]),h.index_value?(n(),T(e(B),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(" IDX: "+l(h.index_value),1)]),_:2},1024)):C("",!0),t("span",Ad,l(h.description||"Retail Commission"),1)]),t("p",Vd,[h.from_member?(n(),f("span",Bd," Dari: "+l(h.from_member.name),1)):C("",!0),t("span",Id,l(m(h.created_at)),1)])]),t("div",Ud,[t("div",Ed,l(i(h.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",h.status===1?"text-green-600":"text-yellow-600"])},l(h.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"lifetime",class:"mt-2 sm:mt-4"},{default:a(()=>[o.bonusLifetimeCashRewards.length===0?(n(),f("div",Kd," Belum ada lifetime cash rewards ")):(n(),f("div",Nd,[(n(!0),f(Z,null,te(o.bonusLifetimeCashRewards,h=>(n(),f("div",{key:h.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",zd,[t("div",Od,[s(e(B),{variant:h.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(h.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(B),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(h.reward_name),1)]),_:2},1024),t("span",Fd,l(h.description||"Lifetime Cash Reward"),1)]),t("p",Gd,[t("span",Wd," Reward: "+l(i(h.reward))+" | BV: "+l(h.bv),1),t("span",Jd,l(m(h.created_at)),1)])]),t("div",Hd,[t("div",qd,l(i(h.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",h.status===1?"text-green-600":"text-yellow-600"])},l(h.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Qd={class:"flex items-center justify-between"},Xd={class:"font-semibold"},Yd={class:"flex items-center justify-between"},eu={class:"font-semibold"},tu={class:"flex items-center justify-between"},su=Q({__name:"NetworkStatsCard",props:{customer:{}},setup(o){return(x,i)=>(n(),T(e(O),null,{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(q),{class:"flex items-center gap-2"},{default:a(()=>[s(e(pt),{class:"w-5 h-5"}),i[0]||(i[0]=r(" Statistik Jaringan ",-1))]),_:1})]),_:1}),s(e(F),{class:"space-y-3"},{default:a(()=>[t("div",Qd,[i[1]||(i[1]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kiri",-1)),t("span",Xd,l(o.customer.network_stats.left_count),1)]),s(e(le)),t("div",Yd,[i[2]||(i[2]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kanan",-1)),t("span",eu,l(o.customer.network_stats.right_count),1)]),s(e(le)),t("div",tu,[i[3]||(i[3]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Downline",-1)),s(e(B),{variant:"secondary"},{default:a(()=>[r(l(o.customer.network_stats.total_downlines),1)]),_:1})])]),_:1})]),_:1}))}}),au={class:"bg-gradient-to-br from-primary/10 via-primary/5 to-background border-b"},lu={class:"container mx-auto px-3 py-6 sm:px-4 sm:py-12 max-w-7xl"},nu={class:"flex items-center justify-between"},ru={class:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-background/80 backdrop-blur-sm border shadow-sm"},ou={class:"font-semibold"},iu={class:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-7xl"},du={class:"grid gap-4 sm:gap-6 lg:grid-cols-3"},uu={class:"lg:col-span-1 space-y-4 sm:space-y-6"},mu={class:"lg:col-span-2"},cu={class:"rounded-xl border bg-card overflow-hidden"},pu={class:"border-b bg-muted/30"},fu={class:"overflow-x-auto text-center overflow-y-hidden px-1.5 py-1.5 sm:px-2 sm:py-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},xu={class:"p-3 sm:p-4 md:p-6"},gu={key:1,class:"text-center py-12"},Nu=Q({__name:"Index",props:{customer:{},orders:{},walletTransactions:{},activeMembers:{},passiveMembers:{},prospectMembers:{},binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{},addresses:{}},setup(o){const x=o,i=qe(),m=K(()=>Number(x.customer.status)===3),k=K(()=>{if(typeof window>"u")return"profile";const d=i.url;try{return new URL(d,window.location.origin).searchParams.get("tab")||"profile"}catch{return"profile"}});return(d,u)=>(n(),T(xt,null,{default:a(()=>[s(e(Jt),{title:"Profile Saya"}),t("div",au,[t("div",lu,[t("div",nu,[u[0]||(u[0]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-2"},"Profile Saya"),t("p",{class:"text-sm sm:text-base md:text-lg text-muted-foreground"}," Kelola informasi profil dan keamanan akun Anda ")],-1)),t("div",ru,[s(e(Ne),{class:"w-5 h-5 text-primary"}),t("span",ou,l(o.customer.name),1)])])])]),t("div",iu,[t("div",du,[t("div",uu,[s(bs,{customer:o.customer},null,8,["customer"]),m.value?(n(),T(su,{key:0,customer:o.customer},null,8,["customer"])):C("",!0),s(Xs,{addresses:o.addresses},null,8,["addresses"]),m.value?(n(),T(aa,{key:1,customer:o.customer},null,8,["customer"])):C("",!0),s(oa,{"created-at":o.customer.created_at},null,8,["created-at"])]),t("div",mu,[t("div",cu,[s(e(Je),{"default-value":k.value,class:"w-full"},{default:a(()=>[t("div",pu,[t("div",fu,[s(e(He),{class:"inline-flex h-auto w-max bg-transparent gap-1 sm:gap-1.5 p-0"},{default:a(()=>[s(e(Y),{value:"profile",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ne),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[1]||(u[1]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Info",-1))]),_:1}),s(e(Y),{value:"orders",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Te),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[2]||(u[2]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Order",-1))]),_:1}),m.value?(n(),T(e(Y),{key:0,value:"network",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(pt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[3]||(u[3]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Mitra",-1))]),_:1})):C("",!0),m.value?(n(),T(e(Y),{key:1,value:"binary",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Se),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[4]||(u[4]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Network",-1))]),_:1})):C("",!0),m.value?(n(),T(e(Y),{key:2,value:"bonus",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ct),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[5]||(u[5]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Bonus",-1))]),_:1})):C("",!0),s(e(Y),{value:"wallet",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ce),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[6]||(u[6]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Wallet",-1))]),_:1}),s(e(Y),{value:"security",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ze),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[7]||(u[7]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lock",-1))]),_:1}),s(e(Y),{value:"danger",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ue),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[8]||(u[8]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Del",-1))]),_:1})]),_:1})])]),t("div",xu,[s(e(ee),{value:"profile",class:"mt-0"},{default:a(()=>[s(Da,{customer:o.customer},null,8,["customer"])]),_:1}),s(e(ee),{value:"orders",class:"mt-0"},{default:a(()=>[s(bn,{orders:o.orders},null,8,["orders"])]),_:1}),m.value?(n(),T(e(ee),{key:0,value:"network",class:"mt-0"},{default:a(()=>[s(So,{"active-members":o.activeMembers,"passive-members":o.passiveMembers,"prospect-members":o.prospectMembers,"has-left":!!o.binaryTree?.left,"has-right":!!o.binaryTree?.right},null,8,["active-members","passive-members","prospect-members","has-left","has-right"])]),_:1})):C("",!0),m.value?(n(),T(e(ee),{key:1,value:"binary",class:"mt-0"},{default:a(()=>[o.binaryTree?(n(),T(ci,{key:0,"binary-tree":o.binaryTree,"total-downlines":o.totalDownlines,"total-left":o.totalLeft,"total-right":o.totalRight,"passive-members":o.passiveMembers},null,8,["binary-tree","total-downlines","total-left","total-right","passive-members"])):(n(),f("div",gu,[s(e(Se),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),u[9]||(u[9]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Jaringan Binary",-1)),u[10]||(u[10]=t("p",{class:"text-muted-foreground"}," Anda belum memiliki posisi dalam jaringan binary tree MLM. ",-1))]))]),_:1})):C("",!0),m.value?(n(),T(e(ee),{key:2,value:"bonus",class:"mt-0"},{default:a(()=>[s(Zd,{"bonus-sponsors":o.bonusSponsors,"bonus-matchings":o.bonusMatchings,"bonus-pairings":o.bonusPairings,"bonus-cashbacks":o.bonusCashbacks,"bonus-rewards":o.bonusRewards,"bonus-retails":o.bonusRetails,"bonus-lifetime-cash-rewards":o.bonusLifetimeCashRewards},null,8,["bonus-sponsors","bonus-matchings","bonus-pairings","bonus-cashbacks","bonus-rewards","bonus-retails","bonus-lifetime-cash-rewards"])]),_:1})):C("",!0),s(e(ee),{value:"wallet",class:"mt-0"},{default:a(()=>[s(vr,{customer:o.customer,transactions:o.walletTransactions},null,8,["customer","transactions"])]),_:1}),s(e(ee),{value:"security",class:"mt-0"},{default:a(()=>[s(Sr)]),_:1}),s(e(ee),{value:"danger",class:"mt-0"},{default:a(()=>[s(Mr)]),_:1})])]),_:1},8,["default-value"])])])])])]),_:1}))}});export{Nu as default};
