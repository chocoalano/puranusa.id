import{d as U,D as B,r as k,c as T,g as F,w as l,b as a,e as t,u as s,a0 as q,s as d,ar as L,a3 as $,G as E,ad as A,S as K,K as j,Q as C}from"./vendor-flWeloHs.js";import{_ as u}from"./InputError.vue_vue_type_script_setup_true_lang-DpGhdNkQ.js";import{_ as b}from"./index-D9Hie8NE.js";import{_ as G,a as Q}from"./CardContent.vue_vue_type_script_setup_true_lang-DFr8PgO7.js";import{_ as h}from"./CardDescription.vue_vue_type_script_setup_true_lang-DE7w0u2_.js";import{_ as z}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cgov_qDz.js";import{_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-BdUxjhrU.js";import{_ as p}from"./Input.vue_vue_type_script_setup_true_lang-BI8FpPnw.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-BiIJwSLe.js";import{_ as J,a as O,b as W,c as X,d as R}from"./SelectValue.vue_vue_type_script_setup_true_lang-CnNjP2es.js";import{_ as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dq658Cth.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-D5yDigSh.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dv6VzhWI.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BLeUwnH4.js";import"./index-DqFeuJ-n.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BC4ik9Oa.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-BsQpZQb0.js";const Z={class:"flex h-full flex-1 flex-col gap-6 p-6"},ee={class:"flex items-center justify-between"},se={class:"text-3xl font-bold tracking-tight flex items-center gap-2"},ae={class:"grid gap-6 md:grid-cols-2"},te={class:"space-y-2"},re={class:"space-y-2"},le={class:"space-y-2 md:col-span-2"},oe={class:"space-y-2"},de={class:"relative"},ne={class:"space-y-2"},ie={class:"space-y-2"},ue={class:"space-y-2"},me={class:"space-y-2"},pe={class:"flex justify-end gap-4 pt-4"},Ne=U({__name:"Edit",props:{reward:{}},setup(D){const n=D,S=[{title:"Pengaturan",href:"#"},{title:"Promotions Rewards",href:"/admin/settings/promotions-rewards"},{title:"Edit",href:"#"}],r=B({code:n.reward.code||"",name:n.reward.name,reward:n.reward.reward||"",value:n.reward.value,bv:n.reward.bv,start:n.reward.start,end:n.reward.end,status:String(n.reward.status)}),v=i=>i===0||isNaN(i)?"":new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(i),y=i=>{if(!i)return 0;const e=i.replace(/\./g,"").replace(",","."),o=parseFloat(e);return isNaN(o)?0:o},w=k(v(n.reward.value)),_=k(v(n.reward.bv)),I=i=>{const e=i.target,o=e.selectionStart||0,c=e.value.length,V=y(e.value),f=Math.min(V,999999999999999e-2);r.value=f,w.value=v(f);const x=w.value.length,g=Math.max(0,o+(x-c));setTimeout(()=>e.setSelectionRange(g,g),0)},M=i=>{const e=i.target,o=e.selectionStart||0,c=e.value.length,V=y(e.value),f=Math.min(V,999999999999999e-2);r.bv=f,_.value=v(f);const x=_.value.length,g=Math.max(0,o+(x-c));setTimeout(()=>e.setSelectionRange(g,g),0)},P=()=>{r.put(`/admin/settings/promotions-rewards/${n.reward.id}`,{onSuccess:()=>{C.success("Promotions Reward berhasil diperbarui")}})};return(i,e)=>(F(),T(Y,{breadcrumbs:S},{default:l(()=>[a(s(q),{title:"Edit Promotions Reward"}),t("div",Z,[t("div",ee,[t("div",null,[t("h1",se,[a(s(L),{class:"h-8 w-8"}),e[8]||(e[8]=d(" Edit Promotions Reward ",-1))]),e[9]||(e[9]=t("p",{class:"text-muted-foreground mt-1"}," Ubah detail reward promosi ",-1))]),a(s($),{href:"/admin/settings/promotions-rewards"},{default:l(()=>[a(s(b),{variant:"outline"},{default:l(()=>[a(s(E),{class:"h-4 w-4 mr-2"}),e[10]||(e[10]=d(" Kembali ",-1))]),_:1})]),_:1})]),t("form",{onSubmit:A(P,["prevent"])},[a(s(G),null,{default:l(()=>[a(s(z),null,{default:l(()=>[a(s(H),null,{default:l(()=>[...e[11]||(e[11]=[d("Informasi Reward",-1)])]),_:1}),a(s(h),null,{default:l(()=>[...e[12]||(e[12]=[d("Ubah detail reward promosi",-1)])]),_:1})]),_:1}),a(s(Q),{class:"space-y-6"},{default:l(()=>[t("div",ae,[t("div",te,[a(s(m),{for:"code"},{default:l(()=>[...e[13]||(e[13]=[d("Kode",-1)])]),_:1}),a(s(p),{id:"code",modelValue:s(r).code,"onUpdate:modelValue":e[0]||(e[0]=o=>s(r).code=o),placeholder:"Masukkan kode (opsional)",maxlength:"10"},null,8,["modelValue"]),a(u,{message:s(r).errors.code},null,8,["message"])]),t("div",re,[a(s(m),{for:"name"},{default:l(()=>[...e[14]||(e[14]=[d("Nama Reward ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),a(s(p),{id:"name",modelValue:s(r).name,"onUpdate:modelValue":e[1]||(e[1]=o=>s(r).name=o),placeholder:"Masukkan nama reward",required:""},null,8,["modelValue"]),a(u,{message:s(r).errors.name},null,8,["message"])]),t("div",le,[a(s(m),{for:"reward"},{default:l(()=>[...e[15]||(e[15]=[d("Deskripsi Reward",-1)])]),_:1}),a(s(p),{id:"reward",modelValue:s(r).reward,"onUpdate:modelValue":e[2]||(e[2]=o=>s(r).reward=o),placeholder:"Deskripsi atau detail reward"},null,8,["modelValue"]),a(u,{message:s(r).errors.reward},null,8,["message"])]),t("div",oe,[a(s(m),{for:"value"},{default:l(()=>[...e[16]||(e[16]=[d("Nilai (IDR) ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",de,[e[17]||(e[17]=t("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm"},"Rp",-1)),a(s(p),{id:"value",modelValue:w.value,"onUpdate:modelValue":e[3]||(e[3]=o=>w.value=o),type:"text",inputmode:"decimal",class:"pl-10",placeholder:"0",required:"",onInput:I},null,8,["modelValue"])]),e[18]||(e[18]=t("p",{class:"text-xs text-muted-foreground"},"Maks: Rp 9.999.999.999.999,99",-1)),a(u,{message:s(r).errors.value},null,8,["message"])]),t("div",ne,[a(s(m),{for:"bv"},{default:l(()=>[...e[19]||(e[19]=[d("BV (Business Value) ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),a(s(p),{id:"bv",modelValue:_.value,"onUpdate:modelValue":e[4]||(e[4]=o=>_.value=o),type:"text",inputmode:"decimal",placeholder:"0",required:"",onInput:M},null,8,["modelValue"]),e[20]||(e[20]=t("p",{class:"text-xs text-muted-foreground"},"Maks: 9.999.999.999.999,99",-1)),a(u,{message:s(r).errors.bv},null,8,["message"])]),t("div",ie,[a(s(m),{for:"start"},{default:l(()=>[...e[21]||(e[21]=[d("Tanggal Mulai ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),a(s(p),{id:"start",modelValue:s(r).start,"onUpdate:modelValue":e[5]||(e[5]=o=>s(r).start=o),type:"date",required:""},null,8,["modelValue"]),a(u,{message:s(r).errors.start},null,8,["message"])]),t("div",ue,[a(s(m),{for:"end"},{default:l(()=>[...e[22]||(e[22]=[d("Tanggal Berakhir ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),a(s(p),{id:"end",modelValue:s(r).end,"onUpdate:modelValue":e[6]||(e[6]=o=>s(r).end=o),type:"date",required:""},null,8,["modelValue"]),a(u,{message:s(r).errors.end},null,8,["message"])]),t("div",me,[a(s(m),{for:"status"},{default:l(()=>[...e[23]||(e[23]=[d("Status ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),a(s(J),{modelValue:s(r).status,"onUpdate:modelValue":e[7]||(e[7]=o=>s(r).status=o)},{default:l(()=>[a(s(O),null,{default:l(()=>[a(s(W),{placeholder:"Pilih status"})]),_:1}),a(s(X),null,{default:l(()=>[a(s(R),{value:"1"},{default:l(()=>[...e[24]||(e[24]=[d("Aktif",-1)])]),_:1}),a(s(R),{value:"0"},{default:l(()=>[...e[25]||(e[25]=[d("Tidak Aktif",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(u,{message:s(r).errors.status},null,8,["message"])])]),t("div",pe,[a(s($),{href:"/admin/settings/promotions-rewards"},{default:l(()=>[a(s(b),{type:"button",variant:"outline"},{default:l(()=>[...e[26]||(e[26]=[d("Batal",-1)])]),_:1})]),_:1}),a(s(b),{type:"submit",disabled:s(r).processing},{default:l(()=>[a(s(K),{class:"h-4 w-4 mr-2"}),d(" "+j(s(r).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})],32)])]),_:1}))}});export{Ne as default};
