import{d as N,D as P,r as y,c as T,g as B,w as o,b as t,e as a,u as s,a0 as U,s as n,ar as F,a3 as k,G as q,ad as L,S as A,K as C,Q as K}from"./vendor-flWeloHs.js";import{_ as i}from"./InputError.vue_vue_type_script_setup_true_lang-DpGhdNkQ.js";import{_ as x}from"./index-D9Hie8NE.js";import{_ as j,a as G}from"./CardContent.vue_vue_type_script_setup_true_lang-DFr8PgO7.js";import{_ as h}from"./CardDescription.vue_vue_type_script_setup_true_lang-DE7w0u2_.js";import{_ as Q}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cgov_qDz.js";import{_ as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-BdUxjhrU.js";import{_ as m}from"./Input.vue_vue_type_script_setup_true_lang-BI8FpPnw.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-BiIJwSLe.js";import{_ as E,a as H,b as J,c as O,d as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-CnNjP2es.js";import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dq658Cth.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-D5yDigSh.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dv6VzhWI.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BLeUwnH4.js";import"./index-DqFeuJ-n.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BC4ik9Oa.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-BsQpZQb0.js";const X={class:"flex h-full flex-1 flex-col gap-6 p-6"},Y={class:"flex items-center justify-between"},Z={class:"text-3xl font-bold tracking-tight flex items-center gap-2"},ee={class:"grid gap-6 md:grid-cols-2"},se={class:"space-y-2"},te={class:"space-y-2"},ae={class:"space-y-2 md:col-span-2"},le={class:"space-y-2"},oe={class:"relative"},re={class:"space-y-2"},ne={class:"space-y-2"},de={class:"space-y-2"},ie={class:"space-y-2"},ue={class:"flex justify-end gap-4 pt-4"},Ne=N({__name:"Create",setup(me){const R=[{title:"Pengaturan",href:"#"},{title:"Promotions Rewards",href:"/admin/settings/promotions-rewards"},{title:"Tambah",href:"/admin/settings/promotions-rewards/create"}],l=P({code:"",name:"",reward:"",value:0,bv:0,start:"",end:"",status:"1"}),g=y(""),_=y(""),w=d=>d===0||isNaN(d)?"":new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(d),b=d=>{if(!d)return 0;const e=d.replace(/\./g,"").replace(",","."),r=parseFloat(e);return isNaN(r)?0:r},D=d=>{const e=d.target,r=e.selectionStart||0,c=e.value.length,v=b(e.value),p=Math.min(v,999999999999999e-2);l.value=p,g.value=w(p);const V=g.value.length,f=Math.max(0,r+(V-c));setTimeout(()=>e.setSelectionRange(f,f),0)},I=d=>{const e=d.target,r=e.selectionStart||0,c=e.value.length,v=b(e.value),p=Math.min(v,999999999999999e-2);l.bv=p,_.value=w(p);const V=_.value.length,f=Math.max(0,r+(V-c));setTimeout(()=>e.setSelectionRange(f,f),0)},M=()=>{l.post("/admin/settings/promotions-rewards",{onSuccess:()=>{K.success("Promotions Reward berhasil ditambahkan")}})};return(d,e)=>(B(),T(W,{breadcrumbs:R},{default:o(()=>[t(s(U),{title:"Tambah Promotions Reward"}),a("div",X,[a("div",Y,[a("div",null,[a("h1",Z,[t(s(F),{class:"h-8 w-8"}),e[8]||(e[8]=n(" Tambah Promotions Reward ",-1))]),e[9]||(e[9]=a("p",{class:"text-muted-foreground mt-1"}," Buat reward baru dengan periode waktu ",-1))]),t(s(k),{href:"/admin/settings/promotions-rewards"},{default:o(()=>[t(s(x),{variant:"outline"},{default:o(()=>[t(s(q),{class:"h-4 w-4 mr-2"}),e[10]||(e[10]=n(" Kembali ",-1))]),_:1})]),_:1})]),a("form",{onSubmit:L(M,["prevent"])},[t(s(j),null,{default:o(()=>[t(s(Q),null,{default:o(()=>[t(s(z),null,{default:o(()=>[...e[11]||(e[11]=[n("Informasi Reward",-1)])]),_:1}),t(s(h),null,{default:o(()=>[...e[12]||(e[12]=[n("Isi detail reward promosi",-1)])]),_:1})]),_:1}),t(s(G),{class:"space-y-6"},{default:o(()=>[a("div",ee,[a("div",se,[t(s(u),{for:"code"},{default:o(()=>[...e[13]||(e[13]=[n("Kode",-1)])]),_:1}),t(s(m),{id:"code",modelValue:s(l).code,"onUpdate:modelValue":e[0]||(e[0]=r=>s(l).code=r),placeholder:"Masukkan kode (opsional)",maxlength:"10"},null,8,["modelValue"]),t(i,{message:s(l).errors.code},null,8,["message"])]),a("div",te,[t(s(u),{for:"name"},{default:o(()=>[...e[14]||(e[14]=[n("Nama Reward ",-1),a("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(s(m),{id:"name",modelValue:s(l).name,"onUpdate:modelValue":e[1]||(e[1]=r=>s(l).name=r),placeholder:"Masukkan nama reward",required:""},null,8,["modelValue"]),t(i,{message:s(l).errors.name},null,8,["message"])]),a("div",ae,[t(s(u),{for:"reward"},{default:o(()=>[...e[15]||(e[15]=[n("Deskripsi Reward",-1)])]),_:1}),t(s(m),{id:"reward",modelValue:s(l).reward,"onUpdate:modelValue":e[2]||(e[2]=r=>s(l).reward=r),placeholder:"Deskripsi atau detail reward"},null,8,["modelValue"]),t(i,{message:s(l).errors.reward},null,8,["message"])]),a("div",le,[t(s(u),{for:"value"},{default:o(()=>[...e[16]||(e[16]=[n("Nilai (IDR) ",-1),a("span",{class:"text-red-500"},"*",-1)])]),_:1}),a("div",oe,[e[17]||(e[17]=a("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm"},"Rp",-1)),t(s(m),{id:"value",modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=r=>g.value=r),type:"text",inputmode:"decimal",class:"pl-10",placeholder:"0",required:"",onInput:D},null,8,["modelValue"])]),e[18]||(e[18]=a("p",{class:"text-xs text-muted-foreground"},"Maks: Rp 9.999.999.999.999,99",-1)),t(i,{message:s(l).errors.value},null,8,["message"])]),a("div",re,[t(s(u),{for:"bv"},{default:o(()=>[...e[19]||(e[19]=[n("BV (Business Value) ",-1),a("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(s(m),{id:"bv",modelValue:_.value,"onUpdate:modelValue":e[4]||(e[4]=r=>_.value=r),type:"text",inputmode:"decimal",placeholder:"0",required:"",onInput:I},null,8,["modelValue"]),e[20]||(e[20]=a("p",{class:"text-xs text-muted-foreground"},"Maks: 9.999.999.999.999,99",-1)),t(i,{message:s(l).errors.bv},null,8,["message"])]),a("div",ne,[t(s(u),{for:"start"},{default:o(()=>[...e[21]||(e[21]=[n("Tanggal Mulai ",-1),a("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(s(m),{id:"start",modelValue:s(l).start,"onUpdate:modelValue":e[5]||(e[5]=r=>s(l).start=r),type:"date",required:""},null,8,["modelValue"]),t(i,{message:s(l).errors.start},null,8,["message"])]),a("div",de,[t(s(u),{for:"end"},{default:o(()=>[...e[22]||(e[22]=[n("Tanggal Berakhir ",-1),a("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(s(m),{id:"end",modelValue:s(l).end,"onUpdate:modelValue":e[6]||(e[6]=r=>s(l).end=r),type:"date",required:""},null,8,["modelValue"]),t(i,{message:s(l).errors.end},null,8,["message"])]),a("div",ie,[t(s(u),{for:"status"},{default:o(()=>[...e[23]||(e[23]=[n("Status ",-1),a("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(s(E),{modelValue:s(l).status,"onUpdate:modelValue":e[7]||(e[7]=r=>s(l).status=r)},{default:o(()=>[t(s(H),null,{default:o(()=>[t(s(J),{placeholder:"Pilih status"})]),_:1}),t(s(O),null,{default:o(()=>[t(s($),{value:"1"},{default:o(()=>[...e[24]||(e[24]=[n("Aktif",-1)])]),_:1}),t(s($),{value:"0"},{default:o(()=>[...e[25]||(e[25]=[n("Tidak Aktif",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(i,{message:s(l).errors.status},null,8,["message"])])]),a("div",ue,[t(s(k),{href:"/admin/settings/promotions-rewards"},{default:o(()=>[t(s(x),{type:"button",variant:"outline"},{default:o(()=>[...e[26]||(e[26]=[n("Batal",-1)])]),_:1})]),_:1}),t(s(x),{type:"submit",disabled:s(l).processing},{default:o(()=>[t(s(A),{class:"h-4 w-4 mr-2"}),n(" "+C(s(l).processing?"Menyimpan...":"Simpan"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})],32)])]),_:1}))}});export{Ne as default};
