import{_ as U}from"./index-CRPqrtU2.js";import{_ as v}from"./index-B4cH97KR.js";import{_ as S,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-CC80hHWr.js";import{_ as P}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as N}from"./CardTitle.vue_vue_type_script_setup_true_lang-Mk0zvokq.js";import{_ as O}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as E,a as G,b as J,c as Y,d as D}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import{_ as Z,a as A,b as y,c as o,d as H,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import{a as Q,_ as oe}from"./AppLayout.vue_vue_type_script_setup_true_lang-BpcLPOXg.js";import{d as me,r as z,E as W,v as x,g as m,b as t,u as e,a1 as fe,w as s,e as i,s as d,as as X,a4 as I,c as _,t as R,F as k,x as T,K as n,av as ee,az as ge,Z as te,J as ae,aw as ce,ax as ve,a5 as se,a6 as le,a7 as re,a8 as de,au as _e,at as xe,j as K}from"./vendor-FclwbLvj.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-B_n2dl-_.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const we={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4"},pe={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},be={class:"text-3xl font-bold tracking-tight flex items-center gap-2"},ye={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},De={class:"text-xs text-muted-foreground mb-1"},Re={class:"text-sm"},ke={class:"font-semibold"},he={class:"text-sm text-green-600"},$e={class:"font-semibold"},Ce={class:"text-xs text-muted-foreground mt-2"},Se={class:"text-xs text-muted-foreground"},Ve={class:"text-center text-muted-foreground"},ze={class:"flex items-center gap-2"},Te={class:"flex flex-col gap-4 md:flex-row md:items-center mb-4"},Be={class:"relative flex-1 md:max-w-sm"},Pe={class:"rounded-md border"},Ne={class:"font-medium"},Ie={class:"text-xs text-muted-foreground"},Ke={class:"font-medium"},Fe={class:"text-xs text-muted-foreground"},je={key:0,class:"flex items-center justify-between mt-4"},Me={class:"text-sm text-muted-foreground"},Le={class:"flex items-center gap-2"},Ue={class:"text-sm"},qe={class:"flex items-center gap-2"},Oe={class:"flex flex-col gap-4 md:flex-row md:items-center mb-4"},Ee={class:"relative flex-1 md:max-w-sm"},Ge={class:"rounded-md border"},Je={class:"font-medium"},Ye={class:"text-xs text-muted-foreground"},Ze={key:0,class:"flex items-center justify-between mt-4"},Ae={class:"text-sm text-muted-foreground"},He={class:"flex items-center gap-2"},Qe={class:"text-sm"},_t=me({__name:"Index",props:{activeRewards:{},progressData:{},claimedRewards:{},filters:{}},setup(r){const h=r,ie=[{title:"Pengaturan",href:"#"},{title:"Promotions Rewards Progress",href:"/admin/settings/promotions-rewards/progress"}],w=z(h.filters.search||""),g=z(h.filters.reward_id||"all"),c=z(h.filters.status||"all"),p=z(h.filters.claimed_search||""),b=f=>new Intl.NumberFormat("id-ID").format(f),ne=f=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(f),F=f=>new Date(f).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),ue=f=>new Date(f).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),j=f=>f===0?{text:"Belum Tercapai",variant:"secondary"}:{text:"Diproses",variant:"default"},M=()=>{K.get("/admin/settings/promotions-rewards/progress",{search:w.value||void 0,reward_id:g.value!=="all"?g.value:void 0,status:c.value!=="all"?c.value:void 0,claimed_search:p.value||void 0},{preserveState:!0,replace:!0})};let L;W([w,p],()=>{clearTimeout(L),L=setTimeout(M,300)}),W([g,c],M);const $=f=>{K.get("/admin/settings/promotions-rewards/progress",{page:f,search:w.value||void 0,reward_id:g.value!=="all"?g.value:void 0,status:c.value!=="all"?c.value:void 0,claimed_search:p.value||void 0},{preserveState:!0,replace:!0})},C=f=>{K.get("/admin/settings/promotions-rewards/progress",{claimed_page:f,search:w.value||void 0,reward_id:g.value!=="all"?g.value:void 0,status:c.value!=="all"?c.value:void 0,claimed_search:p.value||void 0},{preserveState:!0,replace:!0})};return(f,a)=>(m(),x(k,null,[t(e(fe),{title:"Promotions Rewards Progress"}),t(oe,{breadcrumbs:ie},{default:s(()=>[i("div",we,[i("div",pe,[i("div",null,[i("h1",be,[t(e(X),{class:"h-8 w-8"}),a[12]||(a[12]=d(" Promotions Rewards Progress ",-1))]),a[13]||(a[13]=i("p",{class:"text-muted-foreground mt-1"}," Lihat progress dan riwayat klaim reward promosi semua member ",-1))]),t(e(I),{href:"/admin/settings/promotions-rewards"},{default:s(()=>[t(e(v),{variant:"outline"},{default:s(()=>[...a[14]||(a[14]=[d(" Kelola Rewards ",-1)])]),_:1})]),_:1})]),i("div",ye,[(m(!0),x(k,null,T(r.activeRewards,l=>(m(),_(e(S),{key:l.id},{default:s(()=>[t(e(P),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(N),{class:"text-sm font-medium"},{default:s(()=>[d(n(l.name),1)]),_:2},1024),t(e(ee),{class:"h-4 w-4 text-muted-foreground"})]),_:2},1024),t(e(V),null,{default:s(()=>[i("div",De,n(l.reward),1),i("div",Re,[i("span",ke,n(l.progress_count),1),a[15]||(a[15]=d(" member dalam progress ",-1))]),i("div",he,[i("span",$e,n(l.achieved_count),1),a[16]||(a[16]=d(" tercapai/diproses ",-1))]),i("div",Ce,n(F(l.start))+" - "+n(F(l.end)),1),i("div",Se," Syarat: "+n(b(l.bv_left))+" BV Kiri & Kanan ",1)]),_:2},1024)]),_:2},1024))),128)),r.activeRewards.length===0?(m(),_(e(S),{key:0,class:"md:col-span-2 lg:col-span-4"},{default:s(()=>[t(e(V),{class:"flex items-center justify-center py-8"},{default:s(()=>[i("div",Ve,[t(e(X),{class:"h-12 w-12 mx-auto mb-2 opacity-50"}),a[17]||(a[17]=i("p",null,"Tidak ada reward promosi aktif saat ini",-1))])]),_:1})]),_:1})):R("",!0)]),t(e(S),null,{default:s(()=>[t(e(P),null,{default:s(()=>[i("div",ze,[t(e(ge),{class:"h-5 w-5 text-primary"}),t(e(N),null,{default:s(()=>[...a[18]||(a[18]=[d("Progress Reward Member",-1)])]),_:1})]),t(e(q),null,{default:s(()=>[...a[19]||(a[19]=[d(" Daftar member dengan progress pencapaian reward promosi aktif ",-1)])]),_:1})]),_:1}),t(e(V),null,{default:s(()=>[i("div",Te,[i("div",Be,[t(e(te),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(O),{modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=l=>w.value=l),placeholder:"Cari member...",class:"pl-9"},null,8,["modelValue"])]),t(e(E),{modelValue:g.value,"onUpdate:modelValue":a[1]||(a[1]=l=>g.value=l)},{default:s(()=>[t(e(G),{class:"w-full md:w-48"},{default:s(()=>[t(e(J),{placeholder:"Filter Reward"})]),_:1}),t(e(Y),null,{default:s(()=>[t(e(D),{value:"all"},{default:s(()=>[...a[20]||(a[20]=[d("Semua Reward",-1)])]),_:1}),(m(!0),x(k,null,T(r.activeRewards,l=>(m(),_(e(D),{key:l.id,value:l.id.toString()},{default:s(()=>[d(n(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t(e(E),{modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=l=>c.value=l)},{default:s(()=>[t(e(G),{class:"w-full md:w-40"},{default:s(()=>[t(e(J),{placeholder:"Filter Status"})]),_:1}),t(e(Y),null,{default:s(()=>[t(e(D),{value:"all"},{default:s(()=>[...a[21]||(a[21]=[d("Semua Status",-1)])]),_:1}),t(e(D),{value:"0"},{default:s(()=>[...a[22]||(a[22]=[d("Belum Tercapai",-1)])]),_:1}),t(e(D),{value:"1"},{default:s(()=>[...a[23]||(a[23]=[d("Diproses",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),i("div",Pe,[t(e(Z),null,{default:s(()=>[t(e(A),null,{default:s(()=>[t(e(y),null,{default:s(()=>[t(e(o),null,{default:s(()=>[...a[24]||(a[24]=[d("No",-1)])]),_:1}),t(e(o),null,{default:s(()=>[...a[25]||(a[25]=[d("Member",-1)])]),_:1}),t(e(o),null,{default:s(()=>[...a[26]||(a[26]=[d("Reward",-1)])]),_:1}),t(e(o),{class:"text-right"},{default:s(()=>[...a[27]||(a[27]=[d("Syarat BV Kiri",-1)])]),_:1}),t(e(o),{class:"text-right"},{default:s(()=>[...a[28]||(a[28]=[d("Syarat BV Kanan",-1)])]),_:1}),t(e(o),{class:"text-right"},{default:s(()=>[...a[29]||(a[29]=[d("Omset Kiri",-1)])]),_:1}),t(e(o),{class:"text-right"},{default:s(()=>[...a[30]||(a[30]=[d("Omset Kanan",-1)])]),_:1}),t(e(o),null,{default:s(()=>[...a[31]||(a[31]=[d("Status",-1)])]),_:1})]),_:1})]),_:1}),t(e(H),null,{default:s(()=>[r.progressData.data.length===0?(m(),_(e(y),{key:0},{default:s(()=>[t(e(u),{colspan:"8",class:"text-center py-8 text-muted-foreground"},{default:s(()=>[...a[32]||(a[32]=[d(" Tidak ada data progress ",-1)])]),_:1})]),_:1})):R("",!0),(m(!0),x(k,null,T(r.progressData.data,(l,B)=>(m(),_(e(y),{key:l.id},{default:s(()=>[t(e(u),null,{default:s(()=>[d(n((r.progressData.current_page-1)*r.progressData.per_page+B+1),1)]),_:2},1024),t(e(u),null,{default:s(()=>[t(e(I),{href:e(Q).url(l.member_id),class:"hover:underline"},{default:s(()=>[i("div",Ne,n(l.member_name),1),i("div",Ie,n(l.member_ewallet_id),1)]),_:2},1032,["href"])]),_:2},1024),t(e(u),null,{default:s(()=>[i("div",Ke,n(l.reward_name),1),i("div",Fe,n(l.reward_prize),1)]),_:2},1024),t(e(u),{class:"text-right"},{default:s(()=>[d(n(b(l.bv_required)),1)]),_:2},1024),t(e(u),{class:"text-right"},{default:s(()=>[d(n(b(l.bv_required)),1)]),_:2},1024),t(e(u),{class:"text-right"},{default:s(()=>[i("span",{class:ae(l.omzet_left>=l.bv_required?"text-green-600 font-semibold":"")},n(b(l.omzet_left)),3)]),_:2},1024),t(e(u),{class:"text-right"},{default:s(()=>[i("span",{class:ae(l.omzet_right>=l.bv_required?"text-green-600 font-semibold":"")},n(b(l.omzet_right)),3)]),_:2},1024),t(e(u),null,{default:s(()=>[t(e(U),{variant:j(l.status).variant},{default:s(()=>[(m(),_(ce(l.status===1?e(ve):e(ee)),{class:"h-3 w-3 mr-1"})),d(" "+n(j(l.status).text),1)]),_:2},1032,["variant"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),r.progressData.total>0?(m(),x("div",je,[i("div",Me," Menampilkan "+n((r.progressData.current_page-1)*r.progressData.per_page+1)+" - "+n(Math.min(r.progressData.current_page*r.progressData.per_page,r.progressData.total))+" dari "+n(r.progressData.total)+" data ",1),i("div",Le,[t(e(v),{variant:"outline",size:"sm",disabled:r.progressData.current_page===1,onClick:a[3]||(a[3]=l=>$(1))},{default:s(()=>[t(e(se),{class:"h-4 w-4"})]),_:1},8,["disabled"]),t(e(v),{variant:"outline",size:"sm",disabled:r.progressData.current_page===1,onClick:a[4]||(a[4]=l=>$(r.progressData.current_page-1))},{default:s(()=>[t(e(le),{class:"h-4 w-4"})]),_:1},8,["disabled"]),i("span",Ue,n(r.progressData.current_page)+" / "+n(r.progressData.last_page),1),t(e(v),{variant:"outline",size:"sm",disabled:r.progressData.current_page===r.progressData.last_page,onClick:a[5]||(a[5]=l=>$(r.progressData.current_page+1))},{default:s(()=>[t(e(re),{class:"h-4 w-4"})]),_:1},8,["disabled"]),t(e(v),{variant:"outline",size:"sm",disabled:r.progressData.current_page===r.progressData.last_page,onClick:a[6]||(a[6]=l=>$(r.progressData.last_page))},{default:s(()=>[t(e(de),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):R("",!0)]),_:1})]),_:1}),t(e(S),null,{default:s(()=>[t(e(P),null,{default:s(()=>[i("div",qe,[t(e(_e),{class:"h-5 w-5 text-yellow-500"}),t(e(N),null,{default:s(()=>[...a[33]||(a[33]=[d("Reward Yang Sudah Diklaim",-1)])]),_:1})]),t(e(q),null,{default:s(()=>[...a[34]||(a[34]=[d(" Riwayat reward promosi yang telah berhasil diklaim oleh member ",-1)])]),_:1})]),_:1}),t(e(V),null,{default:s(()=>[i("div",Oe,[i("div",Ee,[t(e(te),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(O),{modelValue:p.value,"onUpdate:modelValue":a[7]||(a[7]=l=>p.value=l),placeholder:"Cari member...",class:"pl-9"},null,8,["modelValue"])])]),i("div",Ge,[t(e(Z),null,{default:s(()=>[t(e(A),null,{default:s(()=>[t(e(y),null,{default:s(()=>[t(e(o),null,{default:s(()=>[...a[35]||(a[35]=[d("No",-1)])]),_:1}),t(e(o),null,{default:s(()=>[...a[36]||(a[36]=[d("Member",-1)])]),_:1}),t(e(o),null,{default:s(()=>[...a[37]||(a[37]=[d("Reward",-1)])]),_:1}),t(e(o),{class:"text-right"},{default:s(()=>[...a[38]||(a[38]=[d("Syarat Omset Group (BV)",-1)])]),_:1}),t(e(o),{class:"text-right"},{default:s(()=>[...a[39]||(a[39]=[d("Nilai",-1)])]),_:1}),t(e(o),null,{default:s(()=>[...a[40]||(a[40]=[d("Tanggal Klaim",-1)])]),_:1}),t(e(o),null,{default:s(()=>[...a[41]||(a[41]=[d("Status",-1)])]),_:1})]),_:1})]),_:1}),t(e(H),null,{default:s(()=>[r.claimedRewards.data.length===0?(m(),_(e(y),{key:0},{default:s(()=>[t(e(u),{colspan:"7",class:"text-center py-8 text-muted-foreground"},{default:s(()=>[...a[42]||(a[42]=[d(" Belum ada reward yang diklaim ",-1)])]),_:1})]),_:1})):R("",!0),(m(!0),x(k,null,T(r.claimedRewards.data,(l,B)=>(m(),_(e(y),{key:l.id},{default:s(()=>[t(e(u),null,{default:s(()=>[d(n((r.claimedRewards.current_page-1)*r.claimedRewards.per_page+B+1),1)]),_:2},1024),t(e(u),null,{default:s(()=>[t(e(I),{href:e(Q).url(l.member_id),class:"hover:underline"},{default:s(()=>[i("div",Je,n(l.member_name),1),i("div",Ye,n(l.member_ewallet_id),1)]),_:2},1032,["href"])]),_:2},1024),t(e(u),{class:"font-medium"},{default:s(()=>[d(n(l.reward),1)]),_:2},1024),t(e(u),{class:"text-right"},{default:s(()=>[d(n(b(l.bv)),1)]),_:2},1024),t(e(u),{class:"text-right"},{default:s(()=>[d(n(ne(l.amount)),1)]),_:2},1024),t(e(u),null,{default:s(()=>[d(n(ue(l.claimed_at)),1)]),_:2},1024),t(e(u),null,{default:s(()=>[t(e(U),{variant:"default",class:"bg-green-500"},{default:s(()=>[t(e(xe),{class:"h-3 w-3 mr-1"}),a[43]||(a[43]=d(" Diklaim ",-1))]),_:1})]),_:1})]),_:2},1024))),128))]),_:1})]),_:1})]),r.claimedRewards.total>0?(m(),x("div",Ze,[i("div",Ae," Menampilkan "+n((r.claimedRewards.current_page-1)*r.claimedRewards.per_page+1)+" - "+n(Math.min(r.claimedRewards.current_page*r.claimedRewards.per_page,r.claimedRewards.total))+" dari "+n(r.claimedRewards.total)+" data ",1),i("div",He,[t(e(v),{variant:"outline",size:"sm",disabled:r.claimedRewards.current_page===1,onClick:a[8]||(a[8]=l=>C(1))},{default:s(()=>[t(e(se),{class:"h-4 w-4"})]),_:1},8,["disabled"]),t(e(v),{variant:"outline",size:"sm",disabled:r.claimedRewards.current_page===1,onClick:a[9]||(a[9]=l=>C(r.claimedRewards.current_page-1))},{default:s(()=>[t(e(le),{class:"h-4 w-4"})]),_:1},8,["disabled"]),i("span",Qe,n(r.claimedRewards.current_page)+" / "+n(r.claimedRewards.last_page),1),t(e(v),{variant:"outline",size:"sm",disabled:r.claimedRewards.current_page===r.claimedRewards.last_page,onClick:a[10]||(a[10]=l=>C(r.claimedRewards.current_page+1))},{default:s(()=>[t(e(re),{class:"h-4 w-4"})]),_:1},8,["disabled"]),t(e(v),{variant:"outline",size:"sm",disabled:r.claimedRewards.current_page===r.claimedRewards.last_page,onClick:a[11]||(a[11]=l=>C(r.claimedRewards.last_page))},{default:s(()=>[t(e(de),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):R("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{_t as default};
