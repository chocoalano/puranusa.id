import{d as T,p as E,v as u,g as r,b as l,u as e,a1 as N,w as n,e as a,c as m,t as _,a4 as y,G as S,K as d,s as i,$ as b,F as D,x as A}from"./vendor-ppbe-N6l.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-CAMiCJvC.js";import{_ as g}from"./index-BYj0gYCc.js";import{_ as h,a as k}from"./CardContent.vue_vue_type_script_setup_true_lang-vqvbNoPF.js";import{_ as $}from"./CardDescription.vue_vue_type_script_setup_true_lang-DlqFqAdi.js";import{_ as F}from"./CardHeader.vue_vue_type_script_setup_true_lang-_r3YWix0.js";import{_ as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-CuQE-qUU.js";import{_ as p}from"./index-uV4J0ulh.js";import{u as G}from"./usePermissions-ooJviFw8.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-DiRTNO4J.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-BAAtcDkZ.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DA3JUaxj.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CKDVFyjr.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-B3c6JmTR.js";const H={class:"container mx-auto py-6 space-y-6"},I={class:"flex flex-wrap items-center justify-between gap-4"},Z={class:"flex items-center gap-4"},O={class:"text-3xl font-bold"},U={class:"space-y-4"},W={class:"flex flex-wrap gap-3"},q={class:"space-y-2"},J={key:0,class:"text-sm"},Q=["href"],R={key:1,class:"text-sm text-muted-foreground"},X={key:0,class:"space-y-2"},Y={key:0,class:"space-y-3"},ee=["src"],te=["href"],se={key:1,class:"space-y-2"},ae=["src"],ne=["href"],le={key:2,class:"space-y-2"},oe=["src"],re=["href"],ie={key:3,class:"space-y-2"},de=["href"],ue={key:4,class:"space-y-2"},ce=["href"],fe={class:"space-y-2"},me=["innerHTML"],Pe=T({__name:"Show",props:{category:{},contents:{}},setup(c){const V=c,{isSuperAdmin:v,isAdmin:w}=G(),C=E(()=>V.contents.length),P=o=>new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),f=o=>o?o.startsWith("http")?o:`/storage/${o}`:null,x=o=>o?o.split("?")[0].split("#")[0].split(".").pop()?.toLowerCase()??"":"",j=o=>{const t=x(o);return["jpg","jpeg","png","webp","gif","svg"].includes(t)},z=o=>{const t=x(o);return["mp4","mov","avi","webm","mkv"].includes(t)},B=o=>x(o)==="pdf",K=o=>{const t=x(o);return["doc","docx","xls","xlsx","ppt","pptx","txt"].includes(t)};return(o,t)=>(r(),u(D,null,[l(e(N),{title:`Zenner Club - ${c.category.name}`},null,8,["title"]),l(M,null,{default:n(()=>[a("div",H,[a("div",I,[a("div",Z,[l(e(y),{href:"/admin/zenner-club/categories"},{default:n(()=>[l(e(g),{variant:"outline",size:"icon"},{default:n(()=>[l(e(S),{class:"h-4 w-4"})]),_:1})]),_:1}),a("div",null,[a("h1",O,d(c.category.name),1),t[0]||(t[0]=a("p",{class:"text-muted-foreground"},"Detail kategori Zenner Club",-1))])]),e(v)||e(w)?(r(),m(e(y),{key:0,href:`/admin/zenner-club/categories/${c.category.id}/edit`},{default:n(()=>[l(e(g),null,{default:n(()=>[l(e(b),{class:"mr-2 h-4 w-4"}),t[1]||(t[1]=i(" Edit Kategori ",-1))]),_:1})]),_:1},8,["href"])):_("",!0)]),l(e(h),null,{default:n(()=>[l(e(F),null,{default:n(()=>[l(e(L),null,{default:n(()=>[i(d(c.category.name),1)]),_:1}),l(e($),null,{default:n(()=>[i(d(c.category.slug),1)]),_:1})]),_:1}),l(e(k),{class:"flex flex-wrap gap-3"},{default:n(()=>[l(e(p),{variant:"outline"},{default:n(()=>[i(d(c.category.parent?.name||"Tanpa Parent"),1)]),_:1}),l(e(p),{variant:"outline"},{default:n(()=>[i(" Total Konten: "+d(C.value),1)]),_:1})]),_:1})]),_:1}),a("div",U,[t[9]||(t[9]=a("div",null,[a("h2",{class:"text-xl font-semibold"},"Konten"),a("p",{class:"text-muted-foreground"},"Menampilkan data lengkap berdasarkan kategori ini.")],-1)),c.contents.length?_("",!0):(r(),m(e(h),{key:0},{default:n(()=>[l(e(k),{class:"py-6 text-sm text-muted-foreground"},{default:n(()=>[...t[2]||(t[2]=[i(" Belum ada konten untuk kategori ini. ",-1)])]),_:1})]),_:1})),(r(!0),u(D,null,A(c.contents,s=>(r(),m(e(h),{key:s.id},{default:n(()=>[l(e(F),{class:"flex flex-wrap items-start justify-between gap-4"},{default:n(()=>[a("div",null,[l(e(L),null,{default:n(()=>[i(d(s.title),1)]),_:2},1024),l(e($),null,{default:n(()=>[i(d(s.slug),1)]),_:2},1024)]),e(v)||e(w)?(r(),m(e(y),{key:0,href:`/admin/zenner-club/contents/${s.id}/edit`},{default:n(()=>[l(e(g),{size:"sm"},{default:n(()=>[l(e(b),{class:"mr-2 h-4 w-4"}),t[3]||(t[3]=i(" Edit Konten ",-1))]),_:1})]),_:1},8,["href"])):_("",!0)]),_:2},1024),l(e(k),{class:"space-y-4"},{default:n(()=>[a("div",W,[s.status==="published"?(r(),m(e(p),{key:0,variant:"default"},{default:n(()=>[...t[4]||(t[4]=[i("Published",-1)])]),_:1})):s.status==="draft"?(r(),m(e(p),{key:1,variant:"secondary"},{default:n(()=>[...t[5]||(t[5]=[i("Draft",-1)])]),_:1})):(r(),m(e(p),{key:2,variant:"outline"},{default:n(()=>[i(d(s.status||"Draft"),1)]),_:2},1024)),l(e(p),{variant:"outline"},{default:n(()=>[i("Dibuat "+d(P(s.created_at)),1)]),_:2},1024),s.creator?.name?(r(),m(e(p),{key:3,variant:"outline"},{default:n(()=>[i("Oleh "+d(s.creator.name),1)]),_:2},1024)):_("",!0)]),a("div",q,[t[6]||(t[6]=a("p",{class:"text-sm text-muted-foreground"},"Video Link",-1)),s.vlink?(r(),u("p",J,[a("a",{href:s.vlink,target:"_blank",class:"text-primary underline"},d(s.vlink),9,Q)])):(r(),u("p",R,"-"))]),s.file?(r(),u("div",X,[t[7]||(t[7]=a("p",{class:"text-sm text-muted-foreground"},"File Lampiran",-1)),B(s.file)?(r(),u("div",Y,[a("iframe",{src:f(s.file)||"",class:"h-[420px] w-full rounded-md border",title:"PDF Viewer"},null,8,ee),a("a",{href:f(s.file)||"",class:"text-sm text-primary underline",download:""}," Download PDF ",8,te)])):z(s.file)?(r(),u("div",se,[a("video",{src:f(s.file)||"",class:"w-full rounded-md border",autoplay:"",muted:"",playsinline:"",controls:""},null,8,ae),a("a",{href:f(s.file)||"",class:"text-sm text-primary underline",download:""}," Download Video ",8,ne)])):j(s.file)?(r(),u("div",le,[a("img",{src:f(s.file)||"",alt:"Lampiran",class:"max-h-[480px] w-full rounded-md border object-contain"},null,8,oe),a("a",{href:f(s.file)||"",class:"text-sm text-primary underline",download:""}," Download Gambar ",8,re)])):K(s.file)?(r(),u("div",ie,[a("a",{href:f(s.file)||"",class:"text-sm text-primary underline",download:""}," Download Dokumen ",8,de)])):(r(),u("div",ue,[a("a",{href:f(s.file)||"",class:"text-sm text-primary underline",download:""}," Download File ",8,ce)]))])):_("",!0),a("div",fe,[t[8]||(t[8]=a("p",{class:"text-sm text-muted-foreground"},"Deskripsi",-1)),a("div",{class:"prose max-w-none",innerHTML:s.content||"<p>-</p>"},null,8,me)])]),_:2},1024)]),_:2},1024))),128))])])]),_:1})],64))}});export{Pe as default};
