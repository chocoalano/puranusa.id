import{d as j,r as _,v as w,g as d,b as a,u as e,a1 as F,w as t,e as n,a4 as C,s,Y as K,Z as D,P,c as y,t as V,F as T,x as I,K as p,$ as U,z as E,j as H,D as L,Q as z}from"./vendor-FclwbLvj.js";import{_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-BpcLPOXg.js";import{_ as Z,a as q}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as G}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as c}from"./index-B4cH97KR.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as A}from"./index-CRPqrtU2.js";import{_ as J,a as M,b as S,c as o,d as O,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import{_ as R,a as W,b as X,c as ee,d as v}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import{_ as ae,a as te,b as le,c as se,d as ie,e as ne,f as re,g as ue}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D_xJ4jwR.js";import{_ as fe}from"./Pagination.vue_vue_type_script_setup_true_lang-CQM_G0lK.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-B_n2dl-_.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const de={class:"rounded-xl p-4 space-y-6 py-6"},oe={class:"flex items-center justify-between"},me={class:"flex flex-col sm:flex-row gap-4"},_e={class:"relative flex-1"},pe={class:"flex items-center justify-end gap-2"},ce={class:"mt-4"},Fe=j({__name:"Index",props:{certificates:{},filters:{}},setup(r){const b=r,k=_(b.filters.search||""),$=_(b.filters.type||""),g=_(null),m=_(!1),B=f=>f?new Date(f).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",x=()=>{H.get("/admin/zenner/certificates",{search:k.value,type:$.value},{preserveState:!0,preserveScroll:!0})},N=f=>{g.value=f,m.value=!0},h=()=>{g.value&&L({}).delete(`/admin/zenner/certificates/${g.value}`,{preserveScroll:!0,onSuccess:()=>{z.success("Sertifikat berhasil dihapus"),m.value=!1},onError:()=>{z.error("Gagal menghapus sertifikat")}})};return(f,l)=>(d(),w(T,null,[a(e(F),{title:"Sertifikat"}),a(Q,null,{default:t(()=>[n("div",de,[n("div",oe,[l[4]||(l[4]=n("div",null,[n("h1",{class:"text-3xl font-bold"},"Sertifikat"),n("p",{class:"text-muted-foreground"},"Kelola sertifikat Zenner Club")],-1)),a(e(C),{href:"/admin/zenner/certificates/create"},{default:t(()=>[a(e(c),null,{default:t(()=>[a(e(K),{class:"h-4 w-4 mr-2"}),l[3]||(l[3]=s(" Tambah Sertifikat ",-1))]),_:1})]),_:1})]),a(e(Z),null,{default:t(()=>[a(e(G),null,{default:t(()=>[n("div",me,[n("div",_e,[a(e(D),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a(e(Y),{modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=i=>k.value=i),placeholder:"Cari sertifikat...",class:"pl-9",onKeyup:P(x,["enter"])},null,8,["modelValue"])]),a(e(R),{modelValue:$.value,"onUpdate:modelValue":[l[1]||(l[1]=i=>$.value=i),x]},{default:t(()=>[a(e(W),{class:"w-48"},{default:t(()=>[a(e(X),{placeholder:"Semua Tipe"})]),_:1}),a(e(ee),null,{default:t(()=>[a(e(v),{value:""},{default:t(()=>[...l[5]||(l[5]=[s("Semua Tipe",-1)])]),_:1}),a(e(v),{value:"completion"},{default:t(()=>[...l[6]||(l[6]=[s("Completion",-1)])]),_:1}),a(e(v),{value:"achievement"},{default:t(()=>[...l[7]||(l[7]=[s("Achievement",-1)])]),_:1}),a(e(v),{value:"participation"},{default:t(()=>[...l[8]||(l[8]=[s("Participation",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(e(c),{onClick:x},{default:t(()=>[a(e(D),{class:"h-4 w-4 mr-2"}),l[9]||(l[9]=s(" Cari ",-1))]),_:1})])]),_:1}),a(e(q),null,{default:t(()=>[a(e(J),null,{default:t(()=>[a(e(M),null,{default:t(()=>[a(e(S),null,{default:t(()=>[a(e(o),null,{default:t(()=>[...l[10]||(l[10]=[s("Title",-1)])]),_:1}),a(e(o),null,{default:t(()=>[...l[11]||(l[11]=[s("Tipe",-1)])]),_:1}),a(e(o),null,{default:t(()=>[...l[12]||(l[12]=[s("Status",-1)])]),_:1}),a(e(o),null,{default:t(()=>[...l[13]||(l[13]=[s("Dibuat",-1)])]),_:1}),a(e(o),{class:"text-right"},{default:t(()=>[...l[14]||(l[14]=[s("Aksi",-1)])]),_:1})]),_:1})]),_:1}),a(e(O),null,{default:t(()=>[(d(!0),w(T,null,I(r.certificates.data,i=>(d(),y(e(S),{key:i.id},{default:t(()=>[a(e(u),{class:"font-medium"},{default:t(()=>[s(p(i.title),1)]),_:2},1024),a(e(u),null,{default:t(()=>[a(e(A),{variant:"outline"},{default:t(()=>[s(p(i.type),1)]),_:2},1024)]),_:2},1024),a(e(u),null,{default:t(()=>[a(e(A),{variant:i.is_active?"default":"secondary"},{default:t(()=>[s(p(i.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["variant"])]),_:2},1024),a(e(u),null,{default:t(()=>[s(p(B(i.created_at)),1)]),_:2},1024),a(e(u),{class:"text-right"},{default:t(()=>[n("div",pe,[a(e(C),{href:`/admin/zenner/certificates/${i.id}/edit`},{default:t(()=>[a(e(c),{variant:"outline",size:"icon"},{default:t(()=>[a(e(U),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),a(e(c),{variant:"outline",size:"icon",onClick:ve=>N(i.id)},{default:t(()=>[a(e(E),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),r.certificates.data.length===0?(d(),y(e(S),{key:0},{default:t(()=>[a(e(u),{colspan:"5",class:"text-center text-muted-foreground py-8"},{default:t(()=>[...l[15]||(l[15]=[s(" Tidak ada data ditemukan ",-1)])]),_:1})]),_:1})):V("",!0)]),_:1})]),_:1}),n("div",ce,[r.certificates.last_page>1?(d(),y(fe,{key:0,data:r.certificates,url:"/admin/zenner/certificates",filters:r.filters},null,8,["data","filters"])):V("",!0)])]),_:1})]),_:1})]),a(e(ae),{open:m.value,"onUpdate:open":l[2]||(l[2]=i=>m.value=i)},{default:t(()=>[a(e(te),null,{default:t(()=>[a(e(le),null,{default:t(()=>[a(e(se),null,{default:t(()=>[...l[16]||(l[16]=[s("Hapus Sertifikat",-1)])]),_:1}),a(e(ie),null,{default:t(()=>[...l[17]||(l[17]=[s(" Apakah Anda yakin ingin menghapus sertifikat ini? Tindakan ini tidak dapat dibatalkan. ",-1)])]),_:1})]),_:1}),a(e(ne),null,{default:t(()=>[a(e(re),null,{default:t(()=>[...l[18]||(l[18]=[s("Batal",-1)])]),_:1}),a(e(ue),{onClick:h},{default:t(()=>[...l[19]||(l[19]=[s("Hapus",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Fe as default};
