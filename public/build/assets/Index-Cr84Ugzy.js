import{d as H,D as X,E as L,r as x,p as q,c as V,g as m,w as l,b as s,e as a,u as t,a0 as Q,s as i,ba as W,S as T,K as b,cG as Z,cH as G,aK as ee,v as y,t as U,ag as j,cI as A,af as te,X as se,cJ as ae,cK as le,ce as oe,I as ne,F as ie,x as ue,P as de,ad as re,j as me}from"./vendor-flWeloHs.js";import{_ as pe}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dq658Cth.js";import{_ as fe}from"./index-BonpZqDt.js";import{_ as v}from"./index-D9Hie8NE.js";import{_ as P,a as S}from"./CardContent.vue_vue_type_script_setup_true_lang-DFr8PgO7.js";import{_ as M}from"./CardDescription.vue_vue_type_script_setup_true_lang-DE7w0u2_.js";import{_ as I}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cgov_qDz.js";import{_ as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-BdUxjhrU.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-BI8FpPnw.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-BiIJwSLe.js";import{_ as ge,a as ce,b as C,c as F}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-Bq8aViQ2.js";import{_}from"./Separator.vue_vue_type_script_setup_true_lang-CB9heydX.js";import{_ as _e}from"./TiptapEditor.vue_vue_type_style_index_0_lang-DLJW3MWm.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-D5yDigSh.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dv6VzhWI.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BLeUwnH4.js";import"./index-DqFeuJ-n.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BC4ik9Oa.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-BsQpZQb0.js";const ye={class:"container mx-auto py-6 space-y-6"},ve={class:"flex items-center justify-between"},xe={class:"text-3xl font-bold tracking-tight flex items-center gap-2"},be={class:"space-y-2"},ke={class:"space-y-2"},we={class:"space-y-4"},Ve={class:"flex gap-4"},Ue={class:"flex items-center gap-2 cursor-pointer"},Pe={class:"flex items-center gap-2 cursor-pointer"},Se={key:0,class:"space-y-2"},Me={key:1,class:"space-y-2"},Ie={class:"flex gap-2"},$e={class:"flex-1"},Ce={key:2,class:"mt-4"},Fe={class:"border rounded-lg p-4 bg-muted/50 flex items-center justify-center"},he=["src"],Ee={class:"space-y-2"},Ke={class:"space-y-2"},Ne={class:"space-y-2"},Be={class:"space-y-2"},Le={class:"rounded-lg bg-muted p-4 mt-6"},Te={class:"text-sm text-muted-foreground flex items-start gap-2"},Ge={class:"space-y-2"},je={class:"flex flex-wrap gap-2 min-h-[60px] p-4 border rounded-lg bg-muted/50"},Ae=["onClick"],De={key:0,class:"text-sm text-muted-foreground"},Re={class:"space-y-2"},Oe={class:"flex gap-2"},Je={class:"flex justify-end"},pt=H({__name:"Index",props:{settings:{}},setup(D){const h=D,E=()=>{Object.values(h.settings).flat().forEach(u=>{o.settings[u.key]=u.value})},o=X({settings:{},site_logo:null});E(),L(()=>h.settings,()=>{E(),r.value=K()},{deep:!0});const K=()=>{const u=o.settings.payment_methods;if(!u)return[];try{return JSON.parse(u)}catch{return[]}},r=x(K()),p=x(""),f=x("url"),c=x(null),k=q(()=>c.value?c.value:o.settings.site_logo||null),R=u=>{const n=u.target.files?.[0];if(n){o.site_logo=n,o.settings.site_logo=null;const w=new FileReader;w.onload=Y=>{c.value=Y.target?.result},w.readAsDataURL(n)}},O=()=>{if(typeof window>"u")return;const u=window.document.getElementById("logo_upload");u&&u.click()},J=()=>{if(o.site_logo=null,c.value=null,o.settings.site_logo=null,typeof document<"u"){const u=document.getElementById("logo_upload");u&&(u.value="")}};L(f,u=>{if(u==="url"&&(o.site_logo=null,c.value=null,typeof document<"u")){const e=document.getElementById("logo_upload");e&&(e.value="")}});const N=()=>{p.value.trim()&&!r.value.includes(p.value.trim())&&(r.value.push(p.value.trim()),o.settings.payment_methods=JSON.stringify(r.value),p.value="")},z=u=>{r.value=r.value.filter(e=>e!==u),o.settings.payment_methods=JSON.stringify(r.value)},B=()=>{o.post("/admin/settings",{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{if(c.value=null,o.site_logo=null,typeof document<"u"){const u=document.getElementById("logo_upload");u&&(u.value="")}me.reload({only:[]})}})};return(u,e)=>(m(),V(pe,null,{default:l(()=>[s(t(Q),{title:"Pengaturan Ecommerce"}),a("div",ye,[a("div",ve,[a("div",null,[a("h1",xe,[s(t(W),{class:"h-8 w-8"}),e[11]||(e[11]=i(" Pengaturan Ecommerce ",-1))]),e[12]||(e[12]=a("p",{class:"text-muted-foreground mt-1"}," Kelola pengaturan situs, media sosial, dan metode pembayaran ",-1))]),s(t(v),{onClick:B,disabled:t(o).processing,size:"lg"},{default:l(()=>[s(t(T),{class:"h-4 w-4 mr-2"}),i(" "+b(t(o).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])]),s(t(ge),{"default-value":"general",class:"space-y-6"},{default:l(()=>[s(t(ce),{class:"grid w-full grid-cols-3"},{default:l(()=>[s(t(C),{value:"general",class:"flex items-center gap-2"},{default:l(()=>[s(t(Z),{class:"h-4 w-4"}),e[13]||(e[13]=a("span",null,"Umum",-1))]),_:1}),s(t(C),{value:"social",class:"flex items-center gap-2"},{default:l(()=>[s(t(G),{class:"h-4 w-4"}),e[14]||(e[14]=a("span",null,"Media Sosial",-1))]),_:1}),s(t(C),{value:"payment",class:"flex items-center gap-2"},{default:l(()=>[s(t(ee),{class:"h-4 w-4"}),e[15]||(e[15]=a("span",null,"Pembayaran",-1))]),_:1})]),_:1}),s(t(F),{value:"general"},{default:l(()=>[s(t(P),null,{default:l(()=>[s(t(I),null,{default:l(()=>[s(t($),null,{default:l(()=>[...e[16]||(e[16]=[i("Pengaturan Umum",-1)])]),_:1}),s(t(M),null,{default:l(()=>[...e[17]||(e[17]=[i(" Atur informasi dasar situs seperti nama, deskripsi, dan logo ",-1)])]),_:1})]),_:1}),s(t(S),{class:"space-y-6"},{default:l(()=>[a("div",be,[s(t(d),{for:"site_name"},{default:l(()=>[...e[18]||(e[18]=[i("Nama Situs",-1)])]),_:1}),s(t(g),{id:"site_name",modelValue:t(o).settings.site_name,"onUpdate:modelValue":e[0]||(e[0]=n=>t(o).settings.site_name=n),placeholder:"PURANUSA"},null,8,["modelValue"]),e[19]||(e[19]=a("p",{class:"text-xs text-muted-foreground"}," Nama situs yang akan ditampilkan di header dan footer ",-1))]),s(t(_)),a("div",ke,[s(t(d),{for:"site_description"},{default:l(()=>[...e[20]||(e[20]=[i("Deskripsi Situs",-1)])]),_:1}),s(_e,{modelValue:t(o).settings.site_description,"onUpdate:modelValue":e[1]||(e[1]=n=>t(o).settings.site_description=n)},null,8,["modelValue"]),e[21]||(e[21]=a("p",{class:"text-xs text-muted-foreground"}," Deskripsi singkat tentang situs yang akan ditampilkan di footer ",-1))]),s(t(_)),a("div",we,[a("div",null,[s(t(d),null,{default:l(()=>[...e[22]||(e[22]=[i("Logo Situs",-1)])]),_:1}),e[23]||(e[23]=a("p",{class:"text-xs text-muted-foreground mt-1"}," Upload logo atau masukkan URL logo yang akan ditampilkan di situs ",-1))]),a("div",Ve,[a("label",Ue,[j(a("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=n=>f.value=n),value:"url",class:"w-4 h-4"},null,512),[[A,f.value]]),e[24]||(e[24]=a("span",{class:"text-sm"},"Input URL",-1))]),a("label",Pe,[j(a("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=n=>f.value=n),value:"upload",class:"w-4 h-4"},null,512),[[A,f.value]]),e[25]||(e[25]=a("span",{class:"text-sm"},"Upload File",-1))])]),f.value==="url"?(m(),y("div",Se,[s(t(g),{id:"site_logo_url",modelValue:t(o).settings.site_logo,"onUpdate:modelValue":e[4]||(e[4]=n=>t(o).settings.site_logo=n),placeholder:"https://example.com/logo.png",type:"url"},null,8,["modelValue"])])):(m(),y("div",Me,[a("div",Ie,[a("div",$e,[a("input",{id:"logo_upload",type:"file",accept:"image/*",onChange:R,class:"hidden"},null,32),s(t(v),{type:"button",variant:"outline",class:"w-full",onClick:O},{default:l(()=>[s(t(te),{class:"h-4 w-4 mr-2"}),i(" "+b(t(o).site_logo?"Ganti File":"Pilih File"),1)]),_:1})]),k.value?(m(),V(t(v),{key:0,type:"button",variant:"destructive",onClick:J},{default:l(()=>[s(t(se),{class:"h-4 w-4"})]),_:1})):U("",!0)]),e[26]||(e[26]=a("p",{class:"text-xs text-muted-foreground"}," Format: JPG, PNG, GIF (Max: 2MB) ",-1))])),k.value?(m(),y("div",Ce,[s(t(d),{class:"mb-2 block"},{default:l(()=>[...e[27]||(e[27]=[i("Preview",-1)])]),_:1}),a("div",Fe,[a("img",{src:k.value,alt:"Logo Preview",class:"max-h-32 max-w-full object-contain",onError:e[5]||(e[5]=()=>{f.value==="url"&&(t(o).settings.site_logo=null)})},null,40,he)])])):U("",!0)])]),_:1})]),_:1})]),_:1}),s(t(F),{value:"social"},{default:l(()=>[s(t(P),null,{default:l(()=>[s(t(I),null,{default:l(()=>[s(t($),null,{default:l(()=>[...e[28]||(e[28]=[i("Media Sosial",-1)])]),_:1}),s(t(M),null,{default:l(()=>[...e[29]||(e[29]=[i(" Kelola link media sosial yang akan ditampilkan di footer ",-1)])]),_:1})]),_:1}),s(t(S),{class:"space-y-6"},{default:l(()=>[a("div",Ee,[s(t(d),{for:"social_facebook",class:"flex items-center gap-2"},{default:l(()=>[s(t(G),{class:"h-4 w-4 text-blue-600"}),e[30]||(e[30]=i(" Facebook ",-1))]),_:1}),s(t(g),{id:"social_facebook",modelValue:t(o).settings.social_facebook,"onUpdate:modelValue":e[6]||(e[6]=n=>t(o).settings.social_facebook=n),placeholder:"https://facebook.com/puranusa",type:"url"},null,8,["modelValue"])]),s(t(_)),a("div",Ke,[s(t(d),{for:"social_twitter",class:"flex items-center gap-2"},{default:l(()=>[s(t(ae),{class:"h-4 w-4 text-sky-500"}),e[31]||(e[31]=i(" Twitter ",-1))]),_:1}),s(t(g),{id:"social_twitter",modelValue:t(o).settings.social_twitter,"onUpdate:modelValue":e[7]||(e[7]=n=>t(o).settings.social_twitter=n),placeholder:"https://twitter.com/puranusa",type:"url"},null,8,["modelValue"])]),s(t(_)),a("div",Ne,[s(t(d),{for:"social_instagram",class:"flex items-center gap-2"},{default:l(()=>[s(t(le),{class:"h-4 w-4 text-pink-600"}),e[32]||(e[32]=i(" Instagram ",-1))]),_:1}),s(t(g),{id:"social_instagram",modelValue:t(o).settings.social_instagram,"onUpdate:modelValue":e[8]||(e[8]=n=>t(o).settings.social_instagram=n),placeholder:"https://instagram.com/puranusa",type:"url"},null,8,["modelValue"])]),s(t(_)),a("div",Be,[s(t(d),{for:"social_youtube",class:"flex items-center gap-2"},{default:l(()=>[s(t(oe),{class:"h-4 w-4 text-red-600"}),e[33]||(e[33]=i(" YouTube ",-1))]),_:1}),s(t(g),{id:"social_youtube",modelValue:t(o).settings.social_youtube,"onUpdate:modelValue":e[9]||(e[9]=n=>t(o).settings.social_youtube=n),placeholder:"https://youtube.com/@puranusa",type:"url"},null,8,["modelValue"])]),a("div",Le,[a("p",Te,[s(t(ne),{class:"h-4 w-4 mt-0.5 flex-shrink-0"}),e[34]||(e[34]=a("span",null,"Kosongkan URL untuk menyembunyikan ikon media sosial dari footer",-1))])])]),_:1})]),_:1})]),_:1}),s(t(F),{value:"payment"},{default:l(()=>[s(t(P),null,{default:l(()=>[s(t(I),null,{default:l(()=>[s(t($),null,{default:l(()=>[...e[35]||(e[35]=[i("Metode Pembayaran",-1)])]),_:1}),s(t(M),null,{default:l(()=>[...e[36]||(e[36]=[i(" Kelola metode pembayaran yang akan ditampilkan di footer ",-1)])]),_:1})]),_:1}),s(t(S),{class:"space-y-6"},{default:l(()=>[a("div",Ge,[s(t(d),null,{default:l(()=>[...e[37]||(e[37]=[i("Metode Pembayaran Aktif",-1)])]),_:1}),a("div",je,[(m(!0),y(ie,null,ue(r.value,n=>(m(),V(t(fe),{key:n,variant:"secondary",class:"px-3 py-1.5 text-sm font-medium flex items-center gap-2"},{default:l(()=>[i(b(n)+" ",1),a("button",{onClick:w=>z(n),class:"hover:text-destructive transition-colors",type:"button"}," × ",8,Ae)]),_:2},1024))),128)),r.value.length===0?(m(),y("span",De," Belum ada metode pembayaran ")):U("",!0)])]),s(t(_)),a("div",Re,[s(t(d),{for:"new_payment_method"},{default:l(()=>[...e[38]||(e[38]=[i("Tambah Metode Pembayaran",-1)])]),_:1}),a("div",Oe,[s(t(g),{id:"new_payment_method",modelValue:p.value,"onUpdate:modelValue":e[10]||(e[10]=n=>p.value=n),placeholder:"Contoh: VISA, Mastercard, GoPay, OVO",onKeydown:de(re(N,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"]),s(t(v),{type:"button",onClick:N,disabled:!p.value.trim()},{default:l(()=>[...e[39]||(e[39]=[i(" Tambah ",-1)])]),_:1},8,["disabled"])]),e[40]||(e[40]=a("p",{class:"text-xs text-muted-foreground"}," Tekan Enter atau klik tombol Tambah untuk menambahkan metode pembayaran baru ",-1))]),e[41]||(e[41]=a("div",{class:"rounded-lg bg-muted p-4 mt-6"},[a("p",{class:"text-sm font-medium mb-2"},"Tips:"),a("ul",{class:"text-sm text-muted-foreground space-y-1 list-disc list-inside"},[a("li",null,"Gunakan nama singkat dan jelas (contoh: VISA, Mastercard)"),a("li",null,"Metode pembayaran akan ditampilkan di footer situs"),a("li",null,"Klik tanda × pada badge untuk menghapus metode")])],-1))]),_:1})]),_:1})]),_:1})]),_:1}),a("div",Je,[s(t(v),{onClick:B,disabled:t(o).processing,size:"lg"},{default:l(()=>[s(t(T),{class:"h-4 w-4 mr-2"}),i(" "+b(t(o).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])])]),_:1}))}});export{pt as default};
