import{d as N,r as P,D,p as C,E as O,v as d,g as m,b as t,u as s,a1 as T,w as a,e as o,a4 as E,G as F,s as u,S as j,ae as K,t as f,J as v,K as n,F as A,Q as k}from"./vendor-DfMbnFaR.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-3Xwj2Srj.js";import{_ as g}from"./index-BhPH699V.js";import{_ as x,a as y}from"./CardContent.vue_vue_type_script_setup_true_lang-NxxB_dAy.js";import{_ as V}from"./CardDescription.vue_vue_type_script_setup_true_lang-DW_PX5BW.js";import{_ as $}from"./CardHeader.vue_vue_type_script_setup_true_lang-Kdg7L6IL.js";import{_ as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-Cj4ck2dV.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-Bi8Aupzl.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-C_XGMl1H.js";import{_ as J}from"./Textarea.vue_vue_type_script_setup_true_lang-DZT34h2b.js";import{_ as z}from"./Switch.vue_vue_type_script_setup_true_lang-ClQG5njN.js";import{_ as L,a as M,b as I,c as Q,d as S}from"./SelectValue.vue_vue_type_script_setup_true_lang-VBwlv4qP.js";import{_ as R}from"./PageBuilder.vue_vue_type_script_setup_true_lang-DiXzT-Pe.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-Bqij1zEj.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-BOYUcfDs.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-NxThyEhC.js";import"./index-DnSHhU6t.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DrG-1awo.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-CpOM3BUc.js";import"./TiptapEditor.vue_vue_type_style_index_0_lang-C4SFiHlL.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CVuHW23D.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-AQltQT9I.js";import"./DialogHeader.vue_vue_type_script_setup_true_lang-C1z-zvv6.js";import"./index-Qe8U7avD.js";const W={class:"container mx-auto py-6 space-y-6"},q={class:"flex items-center justify-between"},X={class:"flex items-center gap-4"},Y={class:"space-y-2"},Z={key:0,class:"text-sm text-destructive"},h={class:"space-y-2"},ee={class:"text-xs text-muted-foreground"},te={class:"font-medium"},se={key:0,class:"text-sm text-destructive"},ae={class:"space-y-2"},le={key:0,class:"text-sm text-destructive"},oe={class:"space-y-2"},ue={key:0,class:"text-sm text-destructive"},ie={class:"space-y-2"},re={key:0,class:"text-sm text-destructive"},ne={class:"flex items-center justify-between space-x-2"},de={class:"space-y-0.5"},me={class:"space-y-2"},pe={key:0,class:"text-sm text-destructive"},fe={class:"space-y-2"},_e={class:"text-xs text-muted-foreground"},ve={key:0,class:"text-sm text-destructive"},ge={class:"flex justify-end gap-4"},Le=N({__name:"Create",setup(be){const l=P({title:"",slug:"",blocks:[],seo_title:"",seo_description:"",is_published:!0,template:"default",order:0}),c=D({}),U=C(()=>c.processing),i=C(()=>c.errors),H=_=>{const e=Object.values(_)[0];return typeof e=="string"?e:Array.isArray(e)&&typeof e[0]=="string"?e[0]:"Gagal membuat halaman. Periksa kembali data yang diisi."};O(()=>l.value.title,_=>{l.value.slug||(l.value.slug=_.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))});const B=()=>{const _={...l.value,blocks:JSON.stringify(l.value.blocks),is_published:!!l.value.is_published,order:Number(l.value.order)||0};c.transform(()=>_).post("/admin/pages",{preserveScroll:!0,onSuccess:e=>{const r=e.props.flash;if(r?.error){k.error(r.error);return}k.success(r?.success||"Halaman berhasil dibuat.")},onError:e=>{k.error(H(e))}})};return(_,e)=>(m(),d(A,null,[t(s(T),{title:"Tambah Halaman"}),t(G,null,{default:a(()=>[o("div",W,[o("div",q,[o("div",X,[t(s(E),{href:"/admin/pages"},{default:a(()=>[t(s(g),{variant:"outline",size:"icon"},{default:a(()=>[t(s(F),{class:"h-4 w-4"})]),_:1})]),_:1}),e[8]||(e[8]=o("div",null,[o("h1",{class:"text-3xl font-bold tracking-tight"},"Tambah Halaman Baru"),o("p",{class:"text-muted-foreground mt-1"}," Buat halaman statis baru untuk website Anda ")],-1))]),t(s(g),{onClick:B,disabled:U.value},{default:a(()=>[t(s(j),{class:"h-4 w-4 mr-2"}),e[9]||(e[9]=u(" Simpan Halaman ",-1))]),_:1},8,["disabled"])]),o("form",{onSubmit:K(B,["prevent"]),class:"space-y-6"},[t(s(x),null,{default:a(()=>[t(s($),null,{default:a(()=>[t(s(w),null,{default:a(()=>[...e[10]||(e[10]=[u("Informasi Dasar",-1)])]),_:1}),t(s(V),null,{default:a(()=>[...e[11]||(e[11]=[u("Informasi utama halaman",-1)])]),_:1})]),_:1}),t(s(y),{class:"space-y-4"},{default:a(()=>[o("div",Y,[t(s(p),{for:"title"},{default:a(()=>[...e[12]||(e[12]=[u("Judul Halaman *",-1)])]),_:1}),t(s(b),{id:"title",modelValue:l.value.title,"onUpdate:modelValue":e[0]||(e[0]=r=>l.value.title=r),placeholder:"Contoh: Tentang Kami, Kebijakan Privasi",class:v({"border-destructive":i.value.title})},null,8,["modelValue","class"]),i.value.title?(m(),d("p",Z,n(i.value.title),1)):f("",!0)]),o("div",h,[t(s(p),{for:"slug"},{default:a(()=>[...e[13]||(e[13]=[u("Slug *",-1)])]),_:1}),t(s(b),{id:"slug",modelValue:l.value.slug,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value.slug=r),placeholder:"tentang-kami",class:v({"border-destructive":i.value.slug})},null,8,["modelValue","class"]),o("p",ee,[e[14]||(e[14]=u(" URL: /page/",-1)),o("span",te,n(l.value.slug||"slug"),1)]),i.value.slug?(m(),d("p",se,n(i.value.slug),1)):f("",!0)]),o("div",ae,[t(s(p),null,{default:a(()=>[...e[15]||(e[15]=[u("Konten Halaman",-1)])]),_:1}),t(R,{modelValue:l.value.blocks,"onUpdate:modelValue":e[2]||(e[2]=r=>l.value.blocks=r)},null,8,["modelValue"]),e[16]||(e[16]=o("p",{class:"text-xs text-muted-foreground"}," Gunakan PageBuilder untuk membuat konten dengan berbagai jenis block ",-1)),i.value.blocks?(m(),d("p",le,n(i.value.blocks),1)):f("",!0)])]),_:1})]),_:1}),t(s(x),null,{default:a(()=>[t(s($),null,{default:a(()=>[t(s(w),null,{default:a(()=>[...e[17]||(e[17]=[u("Pengaturan",-1)])]),_:1}),t(s(V),null,{default:a(()=>[...e[18]||(e[18]=[u("Konfigurasi tampilan dan urutan",-1)])]),_:1})]),_:1}),t(s(y),{class:"space-y-4"},{default:a(()=>[o("div",oe,[t(s(p),{for:"template"},{default:a(()=>[...e[19]||(e[19]=[u("Template",-1)])]),_:1}),t(s(L),{modelValue:l.value.template,"onUpdate:modelValue":e[3]||(e[3]=r=>l.value.template=r)},{default:a(()=>[t(s(M),{id:"template"},{default:a(()=>[t(s(I),{placeholder:"Pilih template"})]),_:1}),t(s(Q),null,{default:a(()=>[t(s(S),{value:"default"},{default:a(()=>[...e[20]||(e[20]=[u("Default",-1)])]),_:1}),t(s(S),{value:"full-width"},{default:a(()=>[...e[21]||(e[21]=[u("Full Width",-1)])]),_:1}),t(s(S),{value:"narrow"},{default:a(()=>[...e[22]||(e[22]=[u("Narrow",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i.value.template?(m(),d("p",ue,n(i.value.template),1)):f("",!0)]),o("div",ie,[t(s(p),{for:"order"},{default:a(()=>[...e[23]||(e[23]=[u("Urutan",-1)])]),_:1}),t(s(b),{id:"order",modelValue:l.value.order,"onUpdate:modelValue":e[4]||(e[4]=r=>l.value.order=r),modelModifiers:{number:!0},type:"number",min:"0",class:v({"border-destructive":i.value.order})},null,8,["modelValue","class"]),e[24]||(e[24]=o("p",{class:"text-xs text-muted-foreground"}," Semakin kecil angka, semakin tinggi prioritasnya ",-1)),i.value.order?(m(),d("p",re,n(i.value.order),1)):f("",!0)]),o("div",ne,[o("div",de,[t(s(p),{for:"is_published"},{default:a(()=>[...e[25]||(e[25]=[u("Status Publikasi",-1)])]),_:1}),e[26]||(e[26]=o("p",{class:"text-xs text-muted-foreground"}," Publikasikan halaman ini ke website ",-1))]),t(z,{id:"is_published",modelValue:l.value.is_published,"onUpdate:modelValue":e[5]||(e[5]=r=>l.value.is_published=r)},null,8,["modelValue"])])]),_:1})]),_:1}),t(s(x),null,{default:a(()=>[t(s($),null,{default:a(()=>[t(s(w),null,{default:a(()=>[...e[27]||(e[27]=[u("SEO",-1)])]),_:1}),t(s(V),null,{default:a(()=>[...e[28]||(e[28]=[u("Optimasi untuk mesin pencari",-1)])]),_:1})]),_:1}),t(s(y),{class:"space-y-4"},{default:a(()=>[o("div",me,[t(s(p),{for:"seo_title"},{default:a(()=>[...e[29]||(e[29]=[u("SEO Title",-1)])]),_:1}),t(s(b),{id:"seo_title",modelValue:l.value.seo_title,"onUpdate:modelValue":e[6]||(e[6]=r=>l.value.seo_title=r),placeholder:"Judul untuk Google (kosongkan untuk menggunakan judul halaman)",class:v({"border-destructive":i.value.seo_title})},null,8,["modelValue","class"]),i.value.seo_title?(m(),d("p",pe,n(i.value.seo_title),1)):f("",!0)]),o("div",fe,[t(s(p),{for:"seo_description"},{default:a(()=>[...e[30]||(e[30]=[u("SEO Description",-1)])]),_:1}),t(s(J),{id:"seo_description",modelValue:l.value.seo_description,"onUpdate:modelValue":e[7]||(e[7]=r=>l.value.seo_description=r),placeholder:"Deskripsi singkat untuk hasil pencarian (150-160 karakter)",rows:"3",class:v({"border-destructive":i.value.seo_description})},null,8,["modelValue","class"]),o("p",_e,n(l.value.seo_description?.length||0)+"/160 karakter ",1),i.value.seo_description?(m(),d("p",ve,n(i.value.seo_description),1)):f("",!0)])]),_:1})]),_:1}),o("div",ge,[t(s(E),{href:"/admin/pages"},{default:a(()=>[t(s(g),{type:"button",variant:"outline"},{default:a(()=>[...e[31]||(e[31]=[u(" Batal ",-1)])]),_:1})]),_:1}),t(s(g),{type:"submit",disabled:U.value},{default:a(()=>[t(s(j),{class:"h-4 w-4 mr-2"}),e[32]||(e[32]=u(" Simpan Halaman ",-1))]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Le as default};
