import{d as B,D as S,v as u,g as p,b as e,u as s,a1 as I,w as r,e as a,a4 as x,G as C,I as D,s as l,K as n,ae as Q,db as T,t as b,J as k,dc as A,dd as N,S as j,F as E,Q as f}from"./vendor-DYgHfk08.js";import{_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-DRH_ebPA.js";import{_ as c}from"./index-DBsPyq8S.js";import{_ as v,a as y}from"./CardContent.vue_vue_type_script_setup_true_lang-CnmozILa.js";import{_ as P}from"./CardDescription.vue_vue_type_script_setup_true_lang-D5WdCzuR.js";import{_ as h}from"./CardHeader.vue_vue_type_script_setup_true_lang-9jnBdHpK.js";import{_ as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-CI_uH55v.js";import{_ as $}from"./Input.vue_vue_type_script_setup_true_lang-DkLAfZys.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-B3Rl-oB1.js";import{_ as F}from"./Textarea.vue_vue_type_script_setup_true_lang-BX4687rs.js";import{_ as z}from"./Separator.vue_vue_type_script_setup_true_lang-_vmk2duw.js";import{_ as M,a as U,b as q}from"./index-Dl_zD_3i.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BuaobLrR.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Bql-RK5d.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Wm0IkLbg.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DRgKjkJL.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-D72m4PHj.js";const L={class:"container mx-auto py-8 max-w-7xl space-y-8"},W={class:"flex items-center justify-between border-b pb-6"},G={class:"flex items-center gap-4"},O={class:"lg:col-span-2 space-y-6"},H={class:"flex items-center gap-2 mb-1"},R={class:"space-y-2"},X={key:0,class:"text-xs font-medium text-destructive mt-1"},Y={class:"space-y-2"},Z={class:"flex justify-between items-center px-1"},tt={class:"text-[10px] font-mono font-medium py-1 px-2 bg-muted rounded"},st={key:0,class:"text-xs font-medium text-destructive mt-1"},et={class:"space-y-6"},at={class:"flex items-center gap-2 mb-1"},rt={class:"space-y-2"},ot={class:"rounded-lg bg-muted p-3 border border-dashed text-center"},lt={class:"text-xs break-all text-primary font-bold"},dt={class:"space-y-3"},it={href:"https://dashboard.qontak.com",target:"_blank",class:"flex items-center gap-2 text-xs font-medium text-blue-600 hover:text-blue-800 transition-colors"},nt={class:"flex flex-col gap-3"},mt=B({__name:"Create",props:{defaultTemplateId:{}},setup(_){const o=S({title:"",message:"",template_id:_.defaultTemplateId||""}),V=d=>{const t=Object.values(d)[0];return typeof t=="string"?t:Array.isArray(t)&&typeof t[0]=="string"?t[0]:"Terjadi kesalahan pada input data."},g=()=>{o.post("/admin/whatsapp-broadcasts",{preserveScroll:!0,onSuccess:d=>{const t=d.props.flash;if(t?.error){f.error(t.error);return}f.success(t?.success||"Draft broadcast berhasil disimpan.")},onError:d=>{f.error(V(d))}})};return(d,t)=>(p(),u(E,null,[e(s(I),{title:"Buat Broadcast WhatsApp"}),e(K,null,{default:r(()=>[a("div",L,[a("div",W,[a("div",G,[e(s(x),{href:"/admin/whatsapp-broadcasts"},{default:r(()=>[e(s(c),{variant:"ghost",size:"icon",class:"rounded-full"},{default:r(()=>[e(s(C),{class:"h-5 w-5"})]),_:1})]),_:1}),t[3]||(t[3]=a("div",null,[a("h1",{class:"text-3xl font-extrabold tracking-tight"},"Buat Broadcast Baru"),a("p",{class:"text-muted-foreground"},"Kirim pesan massal menggunakan infrastruktur Qontak")],-1))])]),e(s(M),{class:"bg-primary/5 border-primary/20"},{default:r(()=>[e(s(D),{class:"h-5 w-5 text-primary"}),e(s(U),{class:"font-bold text-primary"},{default:r(()=>[...t[4]||(t[4]=[l("Informasi Penting",-1)])]),_:1}),e(s(q),{class:"text-primary/80"},{default:r(()=>[...t[5]||(t[5]=[l(" Isi pesan di bawah akan dimasukkan ke dalam variabel body template Qontak Anda (biasanya ditandai dengan ",-1),a("code",null,n(1),-1),l("). Pastikan template sudah berstatus ",-1),a("strong",null,"Approved",-1),l(" di dashboard Qontak. ",-1)])]),_:1})]),_:1}),a("form",{onSubmit:Q(g,["prevent"]),class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},[a("div",O,[e(s(v),{class:"shadow-sm"},{default:r(()=>[e(s(h),null,{default:r(()=>[a("div",H,[e(s(T),{class:"h-5 w-5 text-muted-foreground"}),e(s(w),null,{default:r(()=>[...t[6]||(t[6]=[l("Konten Broadcast",-1)])]),_:1})]),e(s(P),null,{default:r(()=>[...t[7]||(t[7]=[l("Definisikan judul campaign dan isi pesan utama.",-1)])]),_:1})]),_:1}),e(s(y),{class:"space-y-6"},{default:r(()=>[a("div",R,[e(s(m),{for:"title",class:"text-sm font-bold"},{default:r(()=>[...t[8]||(t[8]=[l("Nama Campaign / Judul *",-1)])]),_:1}),e(s($),{id:"title",modelValue:s(o).title,"onUpdate:modelValue":t[0]||(t[0]=i=>s(o).title=i),placeholder:"Contoh: Promo Flash Sale Weekend",class:k({"border-destructive ring-destructive":s(o).errors.title})},null,8,["modelValue","class"]),t[9]||(t[9]=a("p",{class:"text-[11px] text-muted-foreground italic"},"Nama ini hanya untuk kebutuhan internal admin.",-1)),s(o).errors.title?(p(),u("p",X,n(s(o).errors.title),1)):b("",!0)]),a("div",Y,[e(s(m),{for:"message",class:"text-sm font-bold"},{default:r(()=>[...t[10]||(t[10]=[l("Body Parameter (Pesan) *",-1)])]),_:1}),e(s(F),{id:"message",modelValue:s(o).message,"onUpdate:modelValue":t[1]||(t[1]=i=>s(o).message=i),placeholder:"Tulis variabel pesan yang ingin dikirim...",rows:"10",class:k(["resize-none leading-relaxed",{"border-destructive ring-destructive":s(o).errors.message}])},null,8,["modelValue","class"]),a("div",Z,[t[11]||(t[11]=a("p",{class:"text-[11px] text-muted-foreground"},"Isi teks ini akan menggantikan variabel body pada template.",-1)),a("span",tt,n(s(o).message.length)+" Karakter",1)]),s(o).errors.message?(p(),u("p",st,n(s(o).errors.message),1)):b("",!0)])]),_:1})]),_:1})]),a("div",et,[e(s(v),{class:"border-primary/10 shadow-sm"},{default:r(()=>[e(s(h),null,{default:r(()=>[a("div",at,[e(s(A),{class:"h-4 w-4 text-muted-foreground"}),e(s(w),{class:"text-base"},{default:r(()=>[...t[12]||(t[12]=[l("Konfigurasi Qontak",-1)])]),_:1})])]),_:1}),e(s(y),{class:"space-y-5"},{default:r(()=>[a("div",rt,[e(s(m),{for:"template_id",class:"text-xs font-bold uppercase tracking-wider"},{default:r(()=>[...t[13]||(t[13]=[l("Template ID",-1)])]),_:1}),e(s($),{id:"template_id",modelValue:s(o).template_id,"onUpdate:modelValue":t[2]||(t[2]=i=>s(o).template_id=i),placeholder:"ID dari Qontak...",class:"bg-muted/50 font-mono text-xs"},null,8,["modelValue"]),a("div",ot,[t[14]||(t[14]=a("p",{class:"text-[10px] text-muted-foreground font-semibold mb-1 uppercase"},"Saran Default",-1)),a("code",lt,n(_.defaultTemplateId||"N/A"),1)])]),e(s(z)),a("div",dt,[e(s(m),{class:"text-xs font-bold text-muted-foreground uppercase tracking-wider"},{default:r(()=>[...t[15]||(t[15]=[l("Tautan Cepat",-1)])]),_:1}),a("a",it,[t[16]||(t[16]=l(" Buka Dashboard Qontak ",-1)),e(s(N),{class:"h-3 w-3"})])])]),_:1})]),_:1}),a("div",nt,[e(s(c),{class:"w-full py-6 font-bold text-lg shadow-lg",disabled:s(o).processing,onClick:g},{default:r(()=>[e(s(j),{class:"h-5 w-5 mr-2"}),t[17]||(t[17]=l(" Simpan Draft ",-1))]),_:1},8,["disabled"]),e(s(x),{href:"/admin/whatsapp-broadcasts"},{default:r(()=>[e(s(c),{variant:"ghost",class:"w-full text-muted-foreground"},{default:r(()=>[...t[18]||(t[18]=[l("Batalkan",-1)])]),_:1})]),_:1})])])],32)])]),_:1})],64))}}),Tt=J(mt,[["__scopeId","data-v-98c07439"]]);export{Tt as default};
