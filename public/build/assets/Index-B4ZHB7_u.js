import{d as R,r as p,c as g,g as r,w as t,e as n,b as l,u as a,a4 as F,s,Y as E,Z as H,P as L,v as V,t as M,F as Z,x as q,K as f,$ as G,z as J,j as N,D as Q,Q as A}from"./vendor-FclwbLvj.js";import{_ as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-BpcLPOXg.js";import{_ as O,a as W}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as X}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as $}from"./index-B4cH97KR.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as D}from"./index-CRPqrtU2.js";import{_ as ee,a as ae,b as I,c as x,d as le,e as k}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import{_ as z,a as C,b as T,c as j,d}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import{_ as te,a as se,b as ue,c as ne,d as ie,e as de,f as re,g as oe}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D_xJ4jwR.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-B_n2dl-_.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const fe={class:"container mx-auto py-6 space-y-6"},me={class:"flex items-center justify-between"},ve={class:"flex flex-col md:flex-row gap-4"},_e={class:"flex-1"},pe={class:"relative"},ge={class:"flex gap-2"},$e={class:"font-medium"},xe={class:"flex justify-end gap-2"},ke={key:1,class:"py-12 text-center"},ye={key:2,class:"mt-6 flex items-center justify-between"},be={class:"text-sm text-muted-foreground"},ce={class:"flex gap-2"},He=R({__name:"Index",props:{items:{},filters:{}},setup(i){const y=i,b=p(y.filters.search||""),m=p(y.filters.status||"all"),v=p(y.filters.type?.toString()||"all"),c=p(y.filters.per_page),_=p(null),S=p(!1),w=()=>{N.get("/admin/zenner/incentive-rules",{search:b.value||void 0,status:m.value!=="all"?m.value:void 0,type:v.value!=="all"?v.value:void 0,per_page:c.value},{preserveState:!0,preserveScroll:!0})},K=o=>{_.value=o},P=()=>{_.value&&(S.value=!0,Q({}).delete(`/admin/zenner/incentive-rules/${_.value}`,{preserveScroll:!0,onSuccess:()=>{A.success("Rule berhasil dihapus"),_.value=null},onError:()=>A.error("Gagal menghapus data"),onFinish:()=>{S.value=!1}}))},U=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",B=o=>{N.get("/admin/zenner/incentive-rules",{page:o,search:b.value||void 0,status:m.value!=="all"?m.value:void 0,type:v.value!=="all"?v.value:void 0,per_page:c.value},{preserveState:!0,preserveScroll:!0})};return(o,e)=>(r(),g(Y,null,{default:t(()=>[n("div",fe,[n("div",me,[e[8]||(e[8]=n("div",null,[n("h1",{class:"text-3xl font-bold tracking-tight"},"Skema Insentif"),n("p",{class:"text-muted-foreground"},"Kelola rule insentif program Zenner Club")],-1)),l(a($),{"as-child":""},{default:t(()=>[l(a(F),{href:"/admin/zenner/incentive-rules/create"},{default:t(()=>[l(a(E),{class:"mr-2 h-4 w-4"}),e[7]||(e[7]=s("Tambah Rule",-1))]),_:1})]),_:1})]),l(a(O),null,{default:t(()=>[l(a(X),null,{default:t(()=>[n("div",ve,[n("div",_e,[n("div",pe,[l(a(H),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l(a(h),{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=u=>b.value=u),placeholder:"Cari rule...",class:"pl-10",onKeyup:L(w,["enter"])},null,8,["modelValue"])])]),n("div",ge,[l(a(z),{modelValue:v.value,"onUpdate:modelValue":[e[1]||(e[1]=u=>v.value=u),w]},{default:t(()=>[l(a(C),{class:"w-[140px]"},{default:t(()=>[l(a(T),{placeholder:"Tipe"})]),_:1}),l(a(j),null,{default:t(()=>[l(a(d),{value:"all"},{default:t(()=>[...e[9]||(e[9]=[s("Semua Tipe",-1)])]),_:1}),l(a(d),{value:"bonus"},{default:t(()=>[...e[10]||(e[10]=[s("Bonus",-1)])]),_:1}),l(a(d),{value:"reward"},{default:t(()=>[...e[11]||(e[11]=[s("Reward",-1)])]),_:1}),l(a(d),{value:"commission"},{default:t(()=>[...e[12]||(e[12]=[s("Komisi",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(a(z),{modelValue:m.value,"onUpdate:modelValue":[e[2]||(e[2]=u=>m.value=u),w]},{default:t(()=>[l(a(C),{class:"w-[140px]"},{default:t(()=>[l(a(T),{placeholder:"Status"})]),_:1}),l(a(j),null,{default:t(()=>[l(a(d),{value:"all"},{default:t(()=>[...e[13]||(e[13]=[s("Semua",-1)])]),_:1}),l(a(d),{value:"active"},{default:t(()=>[...e[14]||(e[14]=[s("Aktif",-1)])]),_:1}),l(a(d),{value:"inactive"},{default:t(()=>[...e[15]||(e[15]=[s("Nonaktif",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(a(z),{modelValue:c.value,"onUpdate:modelValue":[e[3]||(e[3]=u=>c.value=u),w]},{default:t(()=>[l(a(C),{class:"w-[100px]"},{default:t(()=>[l(a(T))]),_:1}),l(a(j),null,{default:t(()=>[l(a(d),{value:"10"},{default:t(()=>[...e[16]||(e[16]=[s("10",-1)])]),_:1}),l(a(d),{value:"25"},{default:t(()=>[...e[17]||(e[17]=[s("25",-1)])]),_:1}),l(a(d),{value:"50"},{default:t(()=>[...e[18]||(e[18]=[s("50",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),l(a(W),null,{default:t(()=>[i.items.data.length>0?(r(),g(a(ee),{key:0},{default:t(()=>[l(a(ae),null,{default:t(()=>[l(a(I),null,{default:t(()=>[l(a(x),null,{default:t(()=>[...e[19]||(e[19]=[s("Judul",-1)])]),_:1}),l(a(x),null,{default:t(()=>[...e[20]||(e[20]=[s("Tipe",-1)])]),_:1}),l(a(x),null,{default:t(()=>[...e[21]||(e[21]=[s("Status",-1)])]),_:1}),l(a(x),null,{default:t(()=>[...e[22]||(e[22]=[s("Dibuat",-1)])]),_:1}),l(a(x),{class:"text-right"},{default:t(()=>[...e[23]||(e[23]=[s("Aksi",-1)])]),_:1})]),_:1})]),_:1}),l(a(le),null,{default:t(()=>[(r(!0),V(Z,null,q(i.items.data,u=>(r(),g(a(I),{key:u.id},{default:t(()=>[l(a(k),null,{default:t(()=>[n("p",$e,f(u.title),1)]),_:2},1024),l(a(k),null,{default:t(()=>[l(a(D),{variant:"outline"},{default:t(()=>[s(f(u.type),1)]),_:2},1024)]),_:2},1024),l(a(k),null,{default:t(()=>[u.is_active?(r(),g(a(D),{key:0,variant:"default"},{default:t(()=>[...e[24]||(e[24]=[s("Aktif",-1)])]),_:1})):(r(),g(a(D),{key:1,variant:"secondary"},{default:t(()=>[...e[25]||(e[25]=[s("Nonaktif",-1)])]),_:1}))]),_:2},1024),l(a(k),null,{default:t(()=>[s(f(U(u.created_at)),1)]),_:2},1024),l(a(k),{class:"text-right"},{default:t(()=>[n("div",xe,[l(a($),{"as-child":"",variant:"ghost",size:"icon"},{default:t(()=>[l(a(F),{href:`/admin/zenner/incentive-rules/${u.id}/edit`},{default:t(()=>[l(a(G),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),l(a($),{variant:"ghost",size:"icon",onClick:Se=>K(u.id)},{default:t(()=>[l(a(J),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(r(),V("div",ke,[...e[26]||(e[26]=[n("p",{class:"text-muted-foreground"},"Tidak ada data ditemukan",-1)])])),i.items.last_page>1?(r(),V("div",ye,[n("p",be,"Menampilkan "+f(i.items.from)+" - "+f(i.items.to)+" dari "+f(i.items.total)+" data",1),n("div",ce,[l(a($),{variant:"outline",size:"sm",disabled:i.items.current_page===1,onClick:e[4]||(e[4]=u=>B(i.items.current_page-1))},{default:t(()=>[...e[27]||(e[27]=[s("Sebelumnya",-1)])]),_:1},8,["disabled"]),l(a($),{variant:"outline",size:"sm",disabled:i.items.current_page===i.items.last_page,onClick:e[5]||(e[5]=u=>B(i.items.current_page+1))},{default:t(()=>[...e[28]||(e[28]=[s("Selanjutnya",-1)])]),_:1},8,["disabled"])])])):M("",!0)]),_:1})]),_:1})]),l(a(te),{open:_.value!==null,"onUpdate:open":e[6]||(e[6]=u=>_.value=null)},{default:t(()=>[l(a(se),null,{default:t(()=>[l(a(ue),null,{default:t(()=>[l(a(ne),null,{default:t(()=>[...e[29]||(e[29]=[s("Hapus Rule Insentif?",-1)])]),_:1}),l(a(ie),null,{default:t(()=>[...e[30]||(e[30]=[s("Data akan dihapus secara permanen. Apakah Anda yakin?",-1)])]),_:1})]),_:1}),l(a(de),null,{default:t(()=>[l(a(re),null,{default:t(()=>[...e[31]||(e[31]=[s("Batal",-1)])]),_:1}),l(a(oe),{disabled:S.value,onClick:P},{default:t(()=>[s(f(S.value?"Menghapus...":"Hapus"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{He as default};
