import{d as J,r as T,D as B,p as j,E as F,v as m,g as p,b as t,u as s,a1 as K,w as l,e as o,a4 as O,G as H,K as n,s as i,S as C,ae as A,t as v,J as g,F as G,Q as y}from"./vendor-ppbe-N6l.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-CAMiCJvC.js";import{_ as c}from"./index-BYj0gYCc.js";import{_ as V,a as S}from"./CardContent.vue_vue_type_script_setup_true_lang-vqvbNoPF.js";import{_ as $}from"./CardDescription.vue_vue_type_script_setup_true_lang-DlqFqAdi.js";import{_ as w}from"./CardHeader.vue_vue_type_script_setup_true_lang-_r3YWix0.js";import{_ as E}from"./CardTitle.vue_vue_type_script_setup_true_lang-CuQE-qUU.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-DNj-uKug.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-DqlcMzBV.js";import{_ as z}from"./Switch.vue_vue_type_script_setup_true_lang-DUxPBvyY.js";import{_ as I,a as L,b as Q,c as R,d as U}from"./SelectValue.vue_vue_type_script_setup_true_lang-CzK-upws.js";import{_ as W}from"./PageBuilder.vue_vue_type_script_setup_true_lang-_cBwt4sB.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-DiRTNO4J.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-BAAtcDkZ.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DA3JUaxj.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CKDVFyjr.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-B3c6JmTR.js";import"./Textarea.vue_vue_type_script_setup_true_lang-CBeaEOLc.js";import"./TiptapEditor.vue_vue_type_style_index_0_lang-DdcT4SJR.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-B6sKKqm9.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-CsSkQbOR.js";import"./DialogHeader.vue_vue_type_script_setup_true_lang-CmfbAGT1.js";import"./index-uV4J0ulh.js";const h={class:"container mx-auto py-6 space-y-6"},q={class:"flex items-center justify-between"},X={class:"flex items-center gap-4"},Y={class:"text-muted-foreground mt-1"},Z={class:"space-y-2"},ee={key:0,class:"text-sm text-destructive"},te={class:"space-y-2"},se={class:"text-xs text-muted-foreground"},le={class:"font-medium"},ae={key:0,class:"text-sm text-destructive"},oe={class:"space-y-2"},ie={key:0,class:"text-sm text-destructive"},ue={class:"space-y-2"},re={key:0,class:"text-sm text-destructive"},de={class:"space-y-2"},ne={key:0,class:"text-sm text-destructive"},me={class:"flex items-center justify-between space-x-2"},pe={class:"space-y-0.5"},fe={class:"space-y-2"},_e={key:0,class:"text-sm text-destructive"},ve={class:"space-y-2"},ge={class:"text-xs text-muted-foreground"},be={key:0,class:"text-sm text-destructive"},ce={class:"flex justify-end gap-4"},Ie=J({__name:"Edit",props:{page:{}},setup(k){const d=k,a=T({title:d.page.title,slug:d.page.slug,blocks:d.page.blocks||[],seo_title:d.page.seo_title||"",seo_description:d.page.seo_description||"",is_published:d.page.is_published,template:d.page.template,order:d.page.order}),x=B({}),P=j(()=>x.processing),u=j(()=>x.errors),D=_=>{const e=Object.values(_)[0];return typeof e=="string"?e:Array.isArray(e)&&typeof e[0]=="string"?e[0]:"Terjadi kesalahan. Periksa kembali data yang diisi."};F(()=>d.page.blocks,_=>{_&&(a.value.blocks=JSON.parse(JSON.stringify(_)))},{immediate:!0});const N=()=>{const _={...a.value,blocks:JSON.stringify(a.value.blocks),is_published:!!a.value.is_published,order:Number(a.value.order)||0,_method:"PUT"};x.transform(()=>_).post(`/admin/pages/${d.page.id}`,{preserveScroll:!0,onSuccess:e=>{const r=e.props.flash;if(r?.error){y.error(r.error);return}y.success(r?.success||"Halaman berhasil diperbarui.")},onError:e=>{y.error(D(e))}})};return(_,e)=>(p(),m(G,null,[t(s(K),{title:`Edit: ${k.page.title}`},null,8,["title"]),t(M,null,{default:l(()=>[o("div",h,[o("div",q,[o("div",X,[t(s(O),{href:"/admin/pages"},{default:l(()=>[t(s(c),{variant:"outline",size:"icon"},{default:l(()=>[t(s(H),{class:"h-4 w-4"})]),_:1})]),_:1}),o("div",null,[e[8]||(e[8]=o("h1",{class:"text-3xl font-bold tracking-tight"},"Edit Halaman",-1)),o("p",Y,n(k.page.title),1)])]),t(s(c),{onClick:N,disabled:P.value},{default:l(()=>[t(s(C),{class:"h-4 w-4 mr-2"}),e[9]||(e[9]=i(" Simpan Perubahan ",-1))]),_:1},8,["disabled"])]),o("form",{onSubmit:A(N,["prevent"]),class:"space-y-6"},[t(s(V),null,{default:l(()=>[t(s(w),null,{default:l(()=>[t(s(E),null,{default:l(()=>[...e[10]||(e[10]=[i("Informasi Dasar",-1)])]),_:1}),t(s($),null,{default:l(()=>[...e[11]||(e[11]=[i("Informasi utama halaman",-1)])]),_:1})]),_:1}),t(s(S),{class:"space-y-4"},{default:l(()=>[o("div",Z,[t(s(f),{for:"title"},{default:l(()=>[...e[12]||(e[12]=[i("Judul Halaman *",-1)])]),_:1}),t(s(b),{id:"title",modelValue:a.value.title,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.title=r),placeholder:"Contoh: Tentang Kami, Kebijakan Privasi",class:g({"border-destructive":u.value.title})},null,8,["modelValue","class"]),u.value.title?(p(),m("p",ee,n(u.value.title),1)):v("",!0)]),o("div",te,[t(s(f),{for:"slug"},{default:l(()=>[...e[13]||(e[13]=[i("Slug *",-1)])]),_:1}),t(s(b),{id:"slug",modelValue:a.value.slug,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.slug=r),placeholder:"tentang-kami",class:g({"border-destructive":u.value.slug})},null,8,["modelValue","class"]),o("p",se,[e[14]||(e[14]=i(" URL: /page/",-1)),o("span",le,n(a.value.slug),1)]),u.value.slug?(p(),m("p",ae,n(u.value.slug),1)):v("",!0)]),o("div",oe,[t(s(f),null,{default:l(()=>[...e[15]||(e[15]=[i("Konten Halaman",-1)])]),_:1}),t(W,{modelValue:a.value.blocks,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.blocks=r)},null,8,["modelValue"]),e[16]||(e[16]=o("p",{class:"text-xs text-muted-foreground"}," Gunakan PageBuilder untuk membuat konten dengan berbagai jenis block ",-1)),u.value.blocks?(p(),m("p",ie,n(u.value.blocks),1)):v("",!0)])]),_:1})]),_:1}),t(s(V),null,{default:l(()=>[t(s(w),null,{default:l(()=>[t(s(E),null,{default:l(()=>[...e[17]||(e[17]=[i("Pengaturan",-1)])]),_:1}),t(s($),null,{default:l(()=>[...e[18]||(e[18]=[i("Konfigurasi tampilan dan urutan",-1)])]),_:1})]),_:1}),t(s(S),{class:"space-y-4"},{default:l(()=>[o("div",ue,[t(s(f),{for:"template"},{default:l(()=>[...e[19]||(e[19]=[i("Template",-1)])]),_:1}),t(s(I),{modelValue:a.value.template,"onUpdate:modelValue":e[3]||(e[3]=r=>a.value.template=r)},{default:l(()=>[t(s(L),{id:"template"},{default:l(()=>[t(s(Q),{placeholder:"Pilih template"})]),_:1}),t(s(R),null,{default:l(()=>[t(s(U),{value:"default"},{default:l(()=>[...e[20]||(e[20]=[i("Default",-1)])]),_:1}),t(s(U),{value:"full-width"},{default:l(()=>[...e[21]||(e[21]=[i("Full Width",-1)])]),_:1}),t(s(U),{value:"narrow"},{default:l(()=>[...e[22]||(e[22]=[i("Narrow",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u.value.template?(p(),m("p",re,n(u.value.template),1)):v("",!0)]),o("div",de,[t(s(f),{for:"order"},{default:l(()=>[...e[23]||(e[23]=[i("Urutan",-1)])]),_:1}),t(s(b),{id:"order",modelValue:a.value.order,"onUpdate:modelValue":e[4]||(e[4]=r=>a.value.order=r),modelModifiers:{number:!0},type:"number",min:"0",class:g({"border-destructive":u.value.order})},null,8,["modelValue","class"]),e[24]||(e[24]=o("p",{class:"text-xs text-muted-foreground"}," Semakin kecil angka, semakin tinggi prioritasnya ",-1)),u.value.order?(p(),m("p",ne,n(u.value.order),1)):v("",!0)]),o("div",me,[o("div",pe,[t(s(f),{for:"is_published"},{default:l(()=>[...e[25]||(e[25]=[i("Status Publikasi",-1)])]),_:1}),e[26]||(e[26]=o("p",{class:"text-xs text-muted-foreground"}," Publikasikan halaman ini ke website ",-1))]),t(z,{id:"is_published",modelValue:a.value.is_published,"onUpdate:modelValue":e[5]||(e[5]=r=>a.value.is_published=r)},null,8,["modelValue"])])]),_:1})]),_:1}),t(s(V),null,{default:l(()=>[t(s(w),null,{default:l(()=>[t(s(E),null,{default:l(()=>[...e[27]||(e[27]=[i("SEO",-1)])]),_:1}),t(s($),null,{default:l(()=>[...e[28]||(e[28]=[i("Optimasi untuk mesin pencari",-1)])]),_:1})]),_:1}),t(s(S),{class:"space-y-4"},{default:l(()=>[o("div",fe,[t(s(f),{for:"seo_title"},{default:l(()=>[...e[29]||(e[29]=[i("SEO Title",-1)])]),_:1}),t(s(b),{id:"seo_title",modelValue:a.value.seo_title,"onUpdate:modelValue":e[6]||(e[6]=r=>a.value.seo_title=r),placeholder:"Judul untuk Google (kosongkan untuk menggunakan judul halaman)",class:g({"border-destructive":u.value.seo_title})},null,8,["modelValue","class"]),u.value.seo_title?(p(),m("p",_e,n(u.value.seo_title),1)):v("",!0)]),o("div",ve,[t(s(f),{for:"seo_description"},{default:l(()=>[...e[30]||(e[30]=[i("SEO Description",-1)])]),_:1}),t(s(b),{id:"seo_description",modelValue:a.value.seo_description,"onUpdate:modelValue":e[7]||(e[7]=r=>a.value.seo_description=r),placeholder:"Deskripsi singkat untuk hasil pencarian (150-160 karakter)",class:g({"border-destructive":u.value.seo_description})},null,8,["modelValue","class"]),o("p",ge,n(a.value.seo_description?.length||0)+"/160 karakter ",1),u.value.seo_description?(p(),m("p",be,n(u.value.seo_description),1)):v("",!0)])]),_:1})]),_:1}),o("div",ce,[t(s(O),{href:"/admin/pages"},{default:l(()=>[t(s(c),{type:"button",variant:"outline"},{default:l(()=>[...e[31]||(e[31]=[i(" Batal ",-1)])]),_:1})]),_:1}),t(s(c),{type:"submit",disabled:P.value},{default:l(()=>[t(s(C),{class:"h-4 w-4 mr-2"}),e[32]||(e[32]=i(" Simpan Perubahan ",-1))]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Ie as default};
