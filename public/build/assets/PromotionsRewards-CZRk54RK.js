import{d as N,v as m,g as d,b as e,u as t,a0 as T,w as l,e as a,s as i,ar as v,K as r,a3 as V,G as P,au as h,F as p,x as w,c as g,av as j,aw as G,ax as b,at as k,as as L}from"./vendor-flWeloHs.js";import{a as q,_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dq658Cth.js";import{_ as O}from"./index-D9Hie8NE.js";import{_ as D}from"./index-BonpZqDt.js";import{_ as $,a as R}from"./CardContent.vue_vue_type_script_setup_true_lang-DFr8PgO7.js";import{_ as B}from"./CardDescription.vue_vue_type_script_setup_true_lang-DE7w0u2_.js";import{_ as S}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cgov_qDz.js";import{_ as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-BdUxjhrU.js";import{_ as A,a as E,b as F,c as _,d as Y,e as c}from"./TableHeader.vue_vue_type_script_setup_true_lang-Dhjk0EnN.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-D5yDigSh.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dv6VzhWI.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BLeUwnH4.js";import"./index-DqFeuJ-n.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BC4ik9Oa.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-BsQpZQb0.js";const H={class:"rounded-xl p-4 space-y-6 py-6"},J={class:"flex items-center justify-between"},M={class:"text-3xl font-bold flex items-center gap-2"},Q={class:"mt-2 text-muted-foreground"},U={class:"flex items-center gap-2"},W={key:0,class:"text-center py-8 text-muted-foreground"},X={key:1,class:"space-y-4"},Z={class:"flex items-start justify-between"},tt={class:"font-semibold text-lg"},et={class:"text-sm text-muted-foreground"},st={class:"grid gap-4 md:grid-cols-2"},at={class:"space-y-2"},lt={class:"flex justify-between text-sm"},nt={class:"h-3 w-full overflow-hidden rounded-full bg-secondary"},it={class:"text-xs text-muted-foreground text-right"},rt={class:"space-y-2"},ot={class:"flex justify-between text-sm"},dt={class:"h-3 w-full overflow-hidden rounded-full bg-secondary"},ut={class:"text-xs text-muted-foreground text-right"},mt={class:"flex items-center justify-between pt-2 border-t text-sm text-muted-foreground"},ft={class:"flex items-center gap-2"},_t={key:0,class:"text-center py-8 text-muted-foreground"},Ft=N({__name:"PromotionsRewards",props:{customer:{},activeRewards:{},claimedRewards:{}},setup(u){const I=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o),f=o=>new Intl.NumberFormat("id-ID").format(o),x=o=>new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),K=o=>new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),y=o=>o===0?{text:"Belum Tercapai",variant:"secondary"}:{text:"Diproses",variant:"default"};return(o,s)=>(d(),m(p,null,[e(t(T),{title:`Promotions Rewards - ${u.customer.name}`},null,8,["title"]),e(z,null,{default:l(()=>[a("div",H,[a("div",J,[a("div",null,[a("h1",M,[e(t(v),{class:"h-8 w-8"}),s[0]||(s[0]=i(" Promotions Rewards ",-1))]),a("p",Q,[s[1]||(s[1]=i(" Progress reward promosi untuk ",-1)),a("strong",null,r(u.customer.name),1),i(" ("+r(u.customer.ewallet_id)+") ",1)])]),e(t(V),{href:t(q).url(u.customer.id)},{default:l(()=>[e(t(O),{variant:"outline"},{default:l(()=>[e(t(P),{class:"mr-2 h-4 w-4"}),s[2]||(s[2]=i(" Kembali ke Detail ",-1))]),_:1})]),_:1},8,["href"])]),e(t($),null,{default:l(()=>[e(t(S),null,{default:l(()=>[a("div",U,[e(t(h),{class:"h-5 w-5 text-primary"}),e(t(C),null,{default:l(()=>[...s[3]||(s[3]=[i("Reward Promosi Aktif",-1)])]),_:1})]),e(t(B),null,{default:l(()=>[...s[4]||(s[4]=[i(" Daftar reward promosi yang sedang berlangsung dan progress pencapaiannya ",-1)])]),_:1})]),_:1}),e(t(R),null,{default:l(()=>[u.activeRewards.length===0?(d(),m("div",W,[e(t(v),{class:"h-12 w-12 mx-auto mb-3 opacity-50"}),s[5]||(s[5]=a("p",null,"Tidak ada reward promosi aktif saat ini",-1))])):(d(),m("div",X,[(d(!0),m(p,null,w(u.activeRewards,n=>(d(),m("div",{key:n.id,class:"border rounded-lg p-4 space-y-4"},[a("div",Z,[a("div",null,[a("h3",tt,r(n.name),1),a("p",et,r(n.reward),1)]),e(t(D),{variant:y(n.status).variant},{default:l(()=>[(d(),g(j(n.status===1?t(G):t(h)),{class:"h-3 w-3 mr-1"})),i(" "+r(y(n.status).text),1)]),_:2},1032,["variant"])]),a("div",st,[a("div",at,[a("div",lt,[s[6]||(s[6]=a("span",{class:"font-medium"},"Omset Grup Kiri",-1)),a("span",null,r(f(n.omzet_left))+" / "+r(f(n.bv_required))+" BV ",1)]),a("div",nt,[a("div",{class:"h-full bg-primary transition-all",style:b({width:`${n.progress_left_percent}%`})},null,4)]),a("p",it,r(n.progress_left_percent.toFixed(1))+"% ",1)]),a("div",rt,[a("div",ot,[s[7]||(s[7]=a("span",{class:"font-medium"},"Omset Grup Kanan",-1)),a("span",null,r(f(n.omzet_right))+" / "+r(f(n.bv_required))+" BV ",1)]),a("div",dt,[a("div",{class:"h-full bg-primary transition-all",style:b({width:`${n.progress_right_percent}%`})},null,4)]),a("p",ut,r(n.progress_right_percent.toFixed(1))+"% ",1)])]),a("div",mt,[a("span",null,"Syarat: "+r(f(n.bv_required))+" BV (Kiri & Kanan)",1),a("span",null,"Periode: "+r(x(n.start))+" - "+r(x(n.end)),1)])]))),128))]))]),_:1})]),_:1}),e(t($),null,{default:l(()=>[e(t(S),null,{default:l(()=>[a("div",ft,[e(t(k),{class:"h-5 w-5 text-yellow-500"}),e(t(C),null,{default:l(()=>[...s[8]||(s[8]=[i("Reward Yang Sudah Diklaim",-1)])]),_:1})]),e(t(B),null,{default:l(()=>[...s[9]||(s[9]=[i(" Riwayat reward promosi yang telah berhasil diklaim oleh member ini ",-1)])]),_:1})]),_:1}),e(t(R),null,{default:l(()=>[u.claimedRewards.length===0?(d(),m("div",_t,[e(t(k),{class:"h-12 w-12 mx-auto mb-3 opacity-50"}),s[10]||(s[10]=a("p",null,"Belum ada reward yang diklaim",-1))])):(d(),g(t(A),{key:1},{default:l(()=>[e(t(E),null,{default:l(()=>[e(t(F),null,{default:l(()=>[e(t(_),null,{default:l(()=>[...s[11]||(s[11]=[i("Reward",-1)])]),_:1}),e(t(_),{class:"text-right"},{default:l(()=>[...s[12]||(s[12]=[i("Syarat Omset Group (BV)",-1)])]),_:1}),e(t(_),{class:"text-right"},{default:l(()=>[...s[13]||(s[13]=[i("Nilai",-1)])]),_:1}),e(t(_),null,{default:l(()=>[...s[14]||(s[14]=[i("Tanggal Klaim",-1)])]),_:1}),e(t(_),null,{default:l(()=>[...s[15]||(s[15]=[i("Status",-1)])]),_:1})]),_:1})]),_:1}),e(t(Y),null,{default:l(()=>[(d(!0),m(p,null,w(u.claimedRewards,n=>(d(),g(t(F),{key:n.id},{default:l(()=>[e(t(c),{class:"font-medium"},{default:l(()=>[i(r(n.reward),1)]),_:2},1024),e(t(c),{class:"text-right"},{default:l(()=>[i(r(f(n.bv)),1)]),_:2},1024),e(t(c),{class:"text-right"},{default:l(()=>[i(r(I(n.amount)),1)]),_:2},1024),e(t(c),null,{default:l(()=>[i(r(K(n.claimed_at)),1)]),_:2},1024),e(t(c),null,{default:l(()=>[e(t(D),{variant:"default",class:"bg-green-500"},{default:l(()=>[e(t(L),{class:"h-3 w-3 mr-1"}),s[16]||(s[16]=i(" Diklaim ",-1))]),_:1})]),_:1})]),_:2},1024))),128))]),_:1})]),_:1}))]),_:1})]),_:1})])]),_:1})],64))}});export{Ft as default};
