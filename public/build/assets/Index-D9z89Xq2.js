const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-4-BZYpFr.js","assets/vendor-UvtswsZk.css"])))=>i.map(i=>d[i]);
import{_ as kt,a as ht,b as le,c as ne}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-Cz8g0tn4.js";import{b as ns,c as Dt,_ as rs}from"./Ecommerce.vue_vue_type_script_setup_true_lang-ZvPBLhO2.js";import{d as X,r as L,p as N,c as T,g as r,u as e,w as a,b as s,e as t,t as $,s as o,K as n,at as ge,aV as je,bE as os,d9 as is,dF as ds,Q as M,E as mt,v as c,M as Be,Y as us,F,x as Z,J as Y,aw as ms,$ as cs,z as ct,h as de,j as xe,D as Ce,dv as ps,dP as It,au as Le,cF as fs,T as pt,dD as xs,aR as ft,aL as Te,aK as gs,dQ as vs,an as De,ae as We,aQ as wt,dt as bs,cY as $t,L as Ae,a3 as Fe,ak as ys,C as _s,aW as Pt,dR as Vt,dS as ks,a4 as xt,dT as Et,dU as Kt,o as at,I as hs,dz as Ye,P as ws,aq as Qe,dO as Je,cH as Mt,ax as He,dl as Ze,dV as ze,_ as $s,az as gt,aA as Bt,G as Lt,Z as Ge,dW as Ps,dI as Ss,dX as Cs,dY as Rs,aB as Ts,dZ as As,a2 as js,as as ye,d_ as Ut,aD as Nt,a1 as Ds,d$ as Ms}from"./vendor-4-BZYpFr.js";import{_ as Bs,a as Ls}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-CQ0bN-pz.js";import{_ as Is}from"./AvatarImage.vue_vue_type_script_setup_true_lang-DAlPCySi.js";import{_ as U}from"./index-qWBV6i01.js";import{_ as O,a as W}from"./CardContent.vue_vue_type_script_setup_true_lang-CqrB5hxD.js";import{_ as z}from"./index-C_d1QX2L.js";import{f as q,s as ae}from"./currency-DfrMaoZy.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-CAU7O7lt.js";import{_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-CXovuBmY.js";import{a as Ie,b as Ve,c as Ee,_ as Ke}from"./DialogTitle.vue_vue_type_script_setup_true_lang-a6umzvIW.js";import{_ as Ue}from"./DialogFooter.vue_vue_type_script_setup_true_lang-hMpD_-Nw.js";import{_ as Ne}from"./DialogHeader.vue_vue_type_script_setup_true_lang-B8HEiMpK.js";import{_ as se}from"./Input.vue_vue_type_script_setup_true_lang-BCOvYMLd.js";import{_ as G}from"./Label.vue_vue_type_script_setup_true_lang-Cme2qRTp.js";import{_ as Oe}from"./Textarea.vue_vue_type_script_setup_true_lang-VjG-xC7r.js";import{_ as Vs}from"./Switch.vue_vue_type_script_setup_true_lang-DBr70hD9.js";import{_ as re}from"./Separator.vue_vue_type_script_setup_true_lang-CuIcEzue.js";import{_ as vt,a as bt,b as yt,c as _t,d as Xe}from"./SelectValue.vue_vue_type_script_setup_true_lang-uung8Eko.js";import{_ as ue}from"./CardDescription.vue_vue_type_script_setup_true_lang-DgP-o0Lu.js";import{f as Es,g as Ks,h as Us,i as Ns,j as zs}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-B92NEDT-.js";import{_ as ot,a as it,b as dt}from"./index-ZTgzbWrQ.js";import{a as Fs,b as Os,c as Ws,d as qs,e as Gs,f as Qs,g as Js,_ as Hs}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-DRtGWkTW.js";import{q as fe,a as lt}from"./index-CSEUMRIG.js";import{_ as et,a as tt,b as Re,c as oe,d as st,e as ie}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhipakAw.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-xtSkNqCN.js";import"./app-BatxdYYV.js";function Me(){const l=m=>q(m),u=m=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(m)),y=m=>{const d=(m||"").toString().trim().toLowerCase();return d==="canceled"?"cancelled":d};return{formatCurrency:l,formatDate:u,normalizeStatus:y,getStatusLabel:m=>{const d={pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",delivered:"Selesai",cancelled:"Dibatalkan"},P=y(m);return d[P]||m},getTransactionTypeLabel:m=>({topup:"Top Up",top_up:"Top Up",withdrawal:"Penarikan",bonus:"Bonus",purchase:"Pembelian",refund:"Refund",deduct:"Potongan Admin"})[m]||m,getTransactionStatusLabel:m=>{const d={pending:"Menunggu",completed:"Selesai",failed:"Gagal",cancelled:"Dibatalkan"},P=y(m);return d[P]||m}}}const Zs={class:"flex flex-col items-center text-center"},Ys={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Xs={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},ea={class:"mt-4 w-full space-y-2 text-sm"},ta={class:"space-y-1.5"},sa={class:"flex items-center justify-between"},aa={class:"flex gap-1"},la={class:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},na={class:"flex items-center justify-between"},ra={class:"font-mono font-semibold"},oa={class:"text-[10px] text-gray-500 dark:text-gray-400 mt-1 break-all"},ia={class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},da={class:"font-mono font-semibold"},ua={class:"flex items-center justify-between p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},ma={class:"font-semibold text-emerald-700 dark:text-emerald-400"},ca=X({__name:"ProfileCard",props:{customer:{}},setup(l){const u=l,{formatCurrency:y}=Me(),i=L(!1),C=N(()=>u.customer.name.split(" ").map(P=>P[0]).join("").toUpperCase().slice(0,2)),_=N(()=>typeof window>"u"?"":`${window.location.origin}/beranda?ref=${u.customer.username}`),m=async()=>{if(typeof window>"u"||!navigator.clipboard){M.error("Tidak dapat menyalin link ke clipboard");return}try{await navigator.clipboard.writeText(_.value),i.value=!0,M.success("Link referral telah disalin ke clipboard"),setTimeout(()=>{i.value=!1},2e3)}catch{M.error("Tidak dapat menyalin link ke clipboard")}},d=async()=>{if(typeof window>"u")return;const P={title:"Bergabung dengan Referral Saya",text:`Gunakan Username saya untuk mengajak teman: ${u.customer.username}`,url:_.value};if(navigator.share)try{await navigator.share(P),M.success("Link referral berhasil dibagikan")}catch(g){g.name!=="AbortError"&&console.error("Error sharing:",g)}else await m()};return(P,g)=>(r(),T(e(O),null,{default:a(()=>[s(e(W),{class:"pt-6"},{default:a(()=>[t("div",Zs,[s(e(Bs),{class:"h-24 w-24 mb-4"},{default:a(()=>[s(e(Is),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${l.customer.name}`},null,8,["src"]),s(e(Ls),null,{default:a(()=>[o(n(C.value),1)]),_:1})]),_:1}),t("h2",Ys,n(l.customer.name),1),t("p",Xs,n(l.customer.username),1),l.customer.level?(r(),T(e(U),{key:0,variant:"outline",class:"mt-2 bg-amber-50 text-amber-700 border-amber-300 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-700"},{default:a(()=>[o(n(l.customer.level),1)]),_:1})):$("",!0),l.customer.email_verified_at?(r(),T(e(U),{key:1,class:"mt-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 mr-1"}),g[0]||(g[0]=o(" Email Terverifikasi ",-1))]),_:1})):(r(),T(e(U),{key:2,variant:"secondary",class:"mt-3"},{default:a(()=>[s(e(je),{class:"w-3 h-3 mr-1"}),g[1]||(g[1]=o(" Email Belum Terverifikasi ",-1))]),_:1})),t("div",ea,[t("div",ta,[t("div",sa,[g[3]||(g[3]=t("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Referral Link",-1)),t("div",aa,[s(e(z),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:m},{default:a(()=>[i.value?(r(),T(e(os),{key:0,class:"w-3 h-3 mr-1"})):(r(),T(e(is),{key:1,class:"w-3 h-3 mr-1"})),o(" "+n(i.value?"Tersalin":"Salin"),1)]),_:1}),s(e(z),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:d},{default:a(()=>[s(e(ds),{class:"w-3 h-3 mr-1"}),g[2]||(g[2]=o(" Bagikan ",-1))]),_:1})])]),t("div",la,[t("div",na,[g[4]||(g[4]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Kode Referral",-1)),t("span",ra,n(l.customer.ref_code),1)]),t("p",oa,n(_.value),1)])]),t("div",ia,[g[5]||(g[5]=t("span",{class:"text-gray-600 dark:text-gray-400"},"E-Wallet ID",-1)),t("span",da,n(l.customer.ewallet_id),1)]),t("div",ua,[g[6]||(g[6]=t("span",{class:"text-emerald-700 dark:text-emerald-400"},"Saldo",-1)),t("span",ma,n(e(y)(l.customer.ewallet_saldo)),1)])])])]),_:1})]),_:1}))}}),pa={class:"flex items-center justify-between"},fa={key:0,class:"text-center py-12 text-muted-foreground"},xa={key:1,class:"space-y-4"},ga={class:"flex items-start gap-3 mb-3"},va={class:"flex-1 min-w-0"},ba={class:"flex items-center gap-2 mb-1"},ya={class:"font-semibold text-sm"},_a={class:"text-sm font-medium"},ka={class:"text-xs text-muted-foreground"},ha={class:"space-y-1 mb-3"},wa={class:"text-sm"},$a={key:0,class:"text-sm text-muted-foreground"},Pa={class:"text-sm text-muted-foreground"},Sa={key:0},Ca={class:"text-xs text-muted-foreground"},Ra={key:1,class:"text-xs text-muted-foreground italic mt-2"},Ta={class:"flex items-center gap-2"},Aa={class:"space-y-4 py-4"},ja={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Da={class:"space-y-2"},Ma={class:"flex items-center space-x-2 pt-8"},Ba={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},La={class:"space-y-2"},Ia={class:"space-y-2"},Va={class:"space-y-2"},Ea={class:"space-y-2"},Ka={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ua={class:"space-y-2"},Na={class:"space-y-2"},za={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Fa={class:"space-y-2"},Oa={class:"space-y-2"},Wa={class:"space-y-2"},qa=X({__name:"AddressManagement",props:{addresses:{}},setup(l){const u=L(!1),y=L(!1),i=L(!1),C=L(!1),_=L([]),m=L([]),d=L(!1),P=L(!1),g=L(""),x=L(""),b=L({label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""}),v=L(null),f=async()=>{d.value=!0;try{const E=await de.get("/api/shipping/provinces");_.value=E.data.data}catch(E){M.error("Gagal memuat data provinsi"),console.error("Error loading provinces:",E)}finally{d.value=!1}},R=async E=>{if(E){P.value=!0,m.value=[],x.value="";try{const A=await de.get("/api/shipping/cities",{params:{province_id:E}});m.value=A.data.data}catch(A){M.error("Gagal memuat data kota"),console.error("Error loading cities:",A)}finally{P.value=!1}}};mt(g,E=>{if(!E)return;const A=_.value.find(D=>D.id.toString()===E);A&&(b.value.province_id=parseInt(E),b.value.province_label=A.name,R(E))}),mt(x,E=>{if(!E)return;const A=m.value.find(D=>D.id.toString()===E);A&&(b.value.city_id=parseInt(E),b.value.city_label=A.name)});const j=()=>{y.value=!1,b.value={label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""},g.value="",x.value="",m.value=[],f(),u.value=!0},w=E=>{y.value=!0,v.value=E.id,b.value={...E},f().then(()=>{E.province_id&&(g.value=E.province_id.toString(),R(E.province_id.toString()).then(()=>{E.city_id&&(x.value=E.city_id.toString())}))}),u.value=!0},I=()=>{u.value=!1,v.value=null},k=()=>{if(!b.value.recipient_name||!b.value.recipient_phone||!b.value.address_line1){M.error("Mohon lengkapi nama penerima, telepon, dan alamat");return}if(!b.value.province_id||!b.value.city_id){M.error("Mohon pilih provinsi dan kota/kabupaten");return}C.value=!0;const E=y.value&&v.value?`/client/profile/addresses/${v.value}`:"/client/profile/addresses",A=y.value?"put":"post";xe[A](E,b.value,{preserveScroll:!0,onSuccess:()=>{M.success(`Alamat berhasil ${y.value?"diperbarui":"ditambahkan"}`),I()},onError:D=>{if(console.error("Address save error:",D),typeof D=="object"&&D!==null){const h=Object.values(D)[0],p=Array.isArray(h)?h[0]:h;M.error(p||"Gagal menyimpan alamat")}else M.error("Gagal menyimpan alamat. Silakan coba lagi.")},onFinish:()=>{C.value=!1}})},B=E=>{confirm("Apakah Anda yakin ingin menghapus alamat ini?")&&(i.value=!0,xe.delete(`/client/profile/addresses/${E}`,{preserveScroll:!0,onSuccess:()=>{M.success("Alamat berhasil dihapus")},onError:A=>{if(console.error("Address delete error:",A),typeof A=="object"&&A!==null){const D=Object.values(A)[0],h=Array.isArray(D)?D[0]:D;M.error(h||"Gagal menghapus alamat")}else M.error("Gagal menghapus alamat. Silakan coba lagi.")},onFinish:()=>{i.value=!1}}))},K=E=>{Ce({}).post(`/client/profile/addresses/${E}/set-default`,{preserveScroll:!0,onSuccess:()=>{M.success("Alamat utama berhasil diubah")},onError:D=>{if(console.error("Set default address error:",D),typeof D=="object"&&D!==null){const h=Object.values(D)[0],p=Array.isArray(h)?h[0]:h;M.error(p||"Gagal mengubah alamat utama")}else M.error("Gagal mengubah alamat utama. Silakan coba lagi.")}})},Q=E=>E?E.toLowerCase().includes("rumah")||E.toLowerCase().includes("home")?ps:E.toLowerCase().includes("kantor")||E.toLowerCase().includes("office")?It:Be:Be;return(E,A)=>(r(),c(F,null,[s(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",pa,[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Be),{class:"w-5 h-5"}),A[11]||(A[11]=o(" Kelola Alamat ",-1))]),_:1}),s(e(z),{size:"sm",onClick:j},{default:a(()=>[s(e(us),{class:"w-4 h-4 mr-2"}),A[12]||(A[12]=o(" Tambah Alamat ",-1))]),_:1})])]),_:1}),s(e(W),null,{default:a(()=>[l.addresses.length===0?(r(),c("div",fa,[s(e(Be),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),A[13]||(A[13]=t("p",{class:"mb-2"},"Belum ada alamat tersimpan",-1)),A[14]||(A[14]=t("p",{class:"text-sm"},"Tambahkan alamat untuk mempermudah proses pengiriman",-1))])):(r(),c("div",xa,[(r(!0),c(F,null,Z(l.addresses,D=>(r(),c("div",{key:D.id,class:Y(["relative p-4 rounded-lg border transition-all",D.is_default?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[D.is_default?(r(),T(e(U),{key:0,variant:"default",class:"absolute top-2 right-2 text-xs"},{default:a(()=>[...A[15]||(A[15]=[o(" Utama ",-1)])]),_:1})):$("",!0),t("div",ga,[(r(),T(ms(Q(D.label)),{class:Y(["w-5 h-5 mt-1 flex-shrink-0",D.is_default?"text-primary":"text-muted-foreground"])},null,8,["class"])),t("div",va,[t("div",ba,[t("h4",ya,n(D.label||"Alamat"),1)]),t("p",_a,n(D.recipient_name),1),t("p",ka,n(D.recipient_phone),1)])]),t("div",ha,[t("p",wa,n(D.address_line1),1),D.address_line2?(r(),c("p",$a,n(D.address_line2),1)):$("",!0),t("p",Pa,[o(n(D.city_label)+", "+n(D.province_label)+" ",1),D.postal_code?(r(),c("span",Sa,n(D.postal_code),1)):$("",!0)]),t("p",Ca,n(D.country),1),D.description?(r(),c("p",Ra,n(D.description),1)):$("",!0)]),s(e(re),{class:"my-3"}),t("div",Ta,[D.is_default?$("",!0):(r(),T(e(z),{key:0,variant:"outline",size:"sm",onClick:h=>K(D.id)},{default:a(()=>[...A[16]||(A[16]=[o(" Jadikan Utama ",-1)])]),_:1},8,["onClick"])),s(e(z),{variant:"outline",size:"sm",onClick:h=>w(D)},{default:a(()=>[s(e(cs),{class:"w-3 h-3 mr-1"}),A[17]||(A[17]=o(" Edit ",-1))]),_:1},8,["onClick"]),s(e(z),{variant:"destructive",size:"sm",disabled:i.value,onClick:h=>B(D.id)},{default:a(()=>[s(e(ct),{class:"w-3 h-3 mr-1"}),A[18]||(A[18]=o(" Hapus ",-1))]),_:1},8,["disabled","onClick"])])],2))),128))]))]),_:1})]),_:1}),s(e(Ke),{open:u.value,"onUpdate:open":I},{default:a(()=>[s(e(Ie),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[s(e(Ne),null,{default:a(()=>[s(e(Ve),null,{default:a(()=>[o(n(y.value?"Edit Alamat":"Tambah Alamat Baru"),1)]),_:1}),s(e(Ee),null,{default:a(()=>[o(n(y.value?"Perbarui informasi alamat Anda":"Tambahkan alamat pengiriman baru"),1)]),_:1})]),_:1}),t("div",Aa,[t("div",ja,[t("div",Da,[s(e(G),{for:"label"},{default:a(()=>[...A[19]||(A[19]=[o("Label Alamat",-1)])]),_:1}),s(e(se),{id:"label",modelValue:b.value.label,"onUpdate:modelValue":A[0]||(A[0]=D=>b.value.label=D),placeholder:"Rumah, Kantor, dll"},null,8,["modelValue"])]),t("div",Ma,[s(e(Vs),{id:"is_default",checked:b.value.is_default,"onUpdate:checked":A[1]||(A[1]=D=>b.value.is_default=D)},null,8,["checked"]),s(e(G),{for:"is_default",class:"cursor-pointer"},{default:a(()=>[...A[20]||(A[20]=[o("Jadikan alamat utama",-1)])]),_:1})])]),t("div",Ba,[t("div",La,[s(e(G),{for:"recipient_name"},{default:a(()=>[...A[21]||(A[21]=[o("Nama Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(se),{id:"recipient_name",modelValue:b.value.recipient_name,"onUpdate:modelValue":A[2]||(A[2]=D=>b.value.recipient_name=D),placeholder:"Nama lengkap penerima",required:""},null,8,["modelValue"])]),t("div",Ia,[s(e(G),{for:"recipient_phone"},{default:a(()=>[...A[22]||(A[22]=[o("No. Telepon Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(se),{id:"recipient_phone",modelValue:b.value.recipient_phone,"onUpdate:modelValue":A[3]||(A[3]=D=>b.value.recipient_phone=D),placeholder:"08xxxxxxxxxx",required:""},null,8,["modelValue"])])]),t("div",Va,[s(e(G),{for:"address_line1"},{default:a(()=>[...A[23]||(A[23]=[o("Alamat Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Oe),{id:"address_line1",modelValue:b.value.address_line1,"onUpdate:modelValue":A[4]||(A[4]=D=>b.value.address_line1=D),placeholder:"Jalan, nomor rumah, RT/RW, blok",rows:"3",required:""},null,8,["modelValue"])]),t("div",Ea,[s(e(G),{for:"address_line2"},{default:a(()=>[...A[24]||(A[24]=[o("Detail Tambahan (Opsional)",-1)])]),_:1}),s(e(se),{id:"address_line2",modelValue:b.value.address_line2,"onUpdate:modelValue":A[5]||(A[5]=D=>b.value.address_line2=D),placeholder:"Patokan, gedung, unit, warna rumah, dll"},null,8,["modelValue"])]),t("div",Ka,[t("div",Ua,[s(e(G),{for:"province"},{default:a(()=>[...A[25]||(A[25]=[o("Provinsi ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(vt),{modelValue:g.value,"onUpdate:modelValue":A[6]||(A[6]=D=>g.value=D),disabled:d.value},{default:a(()=>[s(e(bt),{id:"province"},{default:a(()=>[s(e(yt),{placeholder:d.value?"Memuat provinsi...":"Pilih provinsi"},null,8,["placeholder"])]),_:1}),s(e(_t),null,{default:a(()=>[(r(!0),c(F,null,Z(_.value,D=>(r(),T(e(Xe),{key:D.id,value:D.id.toString()},{default:a(()=>[o(n(D.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",Na,[s(e(G),{for:"city"},{default:a(()=>[...A[26]||(A[26]=[o("Kota/Kabupaten ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(vt),{modelValue:x.value,"onUpdate:modelValue":A[7]||(A[7]=D=>x.value=D),disabled:!g.value||P.value},{default:a(()=>[s(e(bt),{id:"city"},{default:a(()=>[s(e(yt),{placeholder:P.value?"Memuat kota...":g.value?"Pilih kota/kabupaten":"Pilih provinsi terlebih dahulu"},null,8,["placeholder"])]),_:1}),s(e(_t),null,{default:a(()=>[(r(!0),c(F,null,Z(m.value,D=>(r(),T(e(Xe),{key:D.id,value:D.id.toString()},{default:a(()=>[o(n(D.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),t("div",za,[t("div",Fa,[s(e(G),{for:"postal_code"},{default:a(()=>[...A[27]||(A[27]=[o("Kode Pos",-1)])]),_:1}),s(e(se),{id:"postal_code",modelValue:b.value.postal_code,"onUpdate:modelValue":A[8]||(A[8]=D=>b.value.postal_code=D),placeholder:"12345"},null,8,["modelValue"])]),t("div",Oa,[s(e(G),{for:"country"},{default:a(()=>[...A[28]||(A[28]=[o("Negara",-1)])]),_:1}),s(e(se),{id:"country",modelValue:b.value.country,"onUpdate:modelValue":A[9]||(A[9]=D=>b.value.country=D),placeholder:"Indonesia"},null,8,["modelValue"])])]),t("div",Wa,[s(e(G),{for:"description"},{default:a(()=>[...A[29]||(A[29]=[o("Catatan (Opsional)",-1)])]),_:1}),s(e(Oe),{id:"description",modelValue:b.value.description,"onUpdate:modelValue":A[10]||(A[10]=D=>b.value.description=D),placeholder:"Catatan khusus untuk alamat ini",rows:"2"},null,8,["modelValue"])])]),s(e(Ue),null,{default:a(()=>[s(e(z),{variant:"outline",onClick:I,disabled:C.value},{default:a(()=>[...A[30]||(A[30]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(z),{onClick:k,disabled:C.value},{default:a(()=>[o(n(C.value?"Menyimpan...":y.value?"Perbarui":"Simpan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Ga={class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},Qa={class:"text-xl font-bold text-emerald-700 dark:text-emerald-400"},Ja={class:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},Ha={class:"text-xl font-bold text-amber-700 dark:text-amber-400"},Za=X({__name:"BonusStatsCard",props:{customer:{}},setup(l){const{formatCurrency:u}=Me();return(y,i)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Le),{class:"w-5 h-5"}),i[0]||(i[0]=o(" Statistik Bonus ",-1))]),_:1})]),_:1}),s(e(W),{class:"space-y-3"},{default:a(()=>[t("div",Ga,[i[1]||(i[1]=t("p",{class:"text-xs text-emerald-700 dark:text-emerald-400 mb-1"},"Total Diproses",-1)),t("p",Qa,n(e(u)(l.customer.bonus_stats.total_proses)),1)]),t("div",Ja,[i[2]||(i[2]=t("p",{class:"text-xs text-amber-700 dark:text-amber-400 mb-1"},"Total Pending",-1)),t("p",Ha,n(e(u)(l.customer.bonus_stats.total_pending)),1)])]),_:1})]),_:1}))}}),Ya={class:"flex items-center gap-3"},Xa={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},el={class:"font-semibold"},tl=X({__name:"MemberSinceCard",props:{createdAt:{}},setup(l){const{formatDate:u}=Me();return(y,i)=>(r(),T(e(O),null,{default:a(()=>[s(e(W),{class:"pt-6"},{default:a(()=>[t("div",Ya,[t("div",Xa,[s(e(fs),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[i[0]||(i[0]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Member Sejak",-1)),t("p",el,n(e(u)(l.createdAt)),1)])])]),_:1})]),_:1}))}}),sl={key:0,class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},al={class:"flex items-start gap-3"},ll={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},nl={class:"space-y-2"},rl={class:"relative"},ol={key:0,class:"text-sm text-red-500"},il={class:"space-y-2"},dl={class:"relative"},ul={key:0,class:"text-sm text-red-500"},ml={class:"space-y-2"},cl={class:"relative"},pl={key:0,class:"text-sm text-red-500"},fl={class:"space-y-2"},xl={key:0,class:"text-sm text-red-500"},gl={class:"space-y-2"},vl={class:"relative"},bl={key:0,class:"text-sm text-red-500"},yl={class:"space-y-2"},_l={class:"relative"},kl={key:0,class:"text-sm text-red-500"},hl={class:"space-y-2"},wl={class:"relative"},$l={key:0,class:"text-sm text-red-500"},Pl={class:"space-y-4"},Sl={class:"flex items-center gap-2"},Cl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Rl={class:"space-y-2"},Tl={class:"relative"},Al={key:0,class:"text-sm text-red-500"},jl={class:"space-y-2"},Dl={class:"relative"},Ml={key:0,class:"text-sm text-red-500"},Bl={class:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},Ll={class:"text-sm text-blue-700 dark:text-blue-300"},Il={class:"space-y-2"},Vl={key:0,class:"text-sm text-red-500"},El={class:"flex items-center justify-end gap-3"},Kl=X({__name:"ProfileInformationTab",props:{customer:{}},setup(l){const u=l,y=m=>{if(!m)return"";const d=m.toLowerCase();return["laki-laki","male","l"].includes(d)?"L":["perempuan","female","p"].includes(d)?"P":""},i=Ce({name:u.customer.name,username:u.customer.username||"",nik:u.customer.nik||"",gender:y(u.customer.gender),alamat:u.customer.alamat||"",email:u.customer.email,phone:u.customer.phone,bank_name:u.customer.bank_name||"",bank_account:u.customer.bank_account||"",description:u.customer.description||""}),C=N(()=>!u.customer.nik||!u.customer.bank_name||!u.customer.bank_account),_=()=>{i.patch("/client/profile",{preserveScroll:!0,onSuccess:()=>{M.success("Informasi profil berhasil diperbarui")}})};return(m,d)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...d[11]||(d[11]=[o("Informasi Profile",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...d[12]||(d[12]=[o(" Update informasi profil Anda di sini ",-1)])]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[C.value?(r(),c("div",sl,[t("div",al,[s(e(pt),{class:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),d[13]||(d[13]=t("div",null,[t("p",{class:"font-medium text-amber-700 dark:text-amber-300"},"Profil Belum Lengkap"),t("p",{class:"text-sm text-amber-600 dark:text-amber-400 mt-1"}," Mohon lengkapi NIK dan informasi rekening bank Anda untuk dapat melakukan penarikan dana. ")],-1))])])):$("",!0),t("form",{onSubmit:We(_,["prevent"]),class:"space-y-6"},[t("div",ll,[t("div",nl,[s(e(G),{for:"username"},{default:a(()=>[...d[14]||(d[14]=[o(" Username ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",rl,[s(e(xs),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"username",modelValue:e(i).username,"onUpdate:modelValue":d[0]||(d[0]=P=>e(i).username=P),type:"text",placeholder:"username",class:"pl-10",required:"",readonly:""},null,8,["modelValue"])]),e(i).errors.username?(r(),c("p",ol,n(e(i).errors.username),1)):$("",!0)]),t("div",il,[s(e(G),{for:"name"},{default:a(()=>[...d[15]||(d[15]=[o(" Nama Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",dl,[s(e(ft),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"name",modelValue:e(i).name,"onUpdate:modelValue":d[1]||(d[1]=P=>e(i).name=P),type:"text",placeholder:"Masukkan nama lengkap",class:"pl-10",required:"",readonly:""},null,8,["modelValue"])]),e(i).errors.name?(r(),c("p",ul,n(e(i).errors.name),1)):$("",!0)]),t("div",ml,[s(e(G),{for:"nik"},{default:a(()=>[...d[16]||(d[16]=[o("NIK (Nomor Induk Kependudukan)",-1)])]),_:1}),t("div",cl,[s(e(Te),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"nik",modelValue:e(i).nik,"onUpdate:modelValue":d[2]||(d[2]=P=>e(i).nik=P),type:"text",placeholder:"16 digit NIK",class:"pl-10",maxlength:"16"},null,8,["modelValue"])]),e(i).errors.nik?(r(),c("p",pl,n(e(i).errors.nik),1)):$("",!0)]),t("div",fl,[s(e(G),{for:"gender"},{default:a(()=>[...d[17]||(d[17]=[o("Jenis Kelamin",-1)])]),_:1}),s(e(vt),{modelValue:e(i).gender,"onUpdate:modelValue":d[3]||(d[3]=P=>e(i).gender=P)},{default:a(()=>[s(e(bt),null,{default:a(()=>[s(e(yt),{placeholder:"Pilih jenis kelamin"})]),_:1}),s(e(_t),null,{default:a(()=>[s(e(Xe),{value:"L"},{default:a(()=>[...d[18]||(d[18]=[o("Laki-laki",-1)])]),_:1}),s(e(Xe),{value:"P"},{default:a(()=>[...d[19]||(d[19]=[o("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(i).errors.gender?(r(),c("p",xl,n(e(i).errors.gender),1)):$("",!0)]),t("div",gl,[s(e(G),{for:"email"},{default:a(()=>[...d[20]||(d[20]=[o(" Email ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",vl,[s(e(gs),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"email",modelValue:e(i).email,"onUpdate:modelValue":d[4]||(d[4]=P=>e(i).email=P),type:"email",placeholder:"email@example.com",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.email?(r(),c("p",bl,n(e(i).errors.email),1)):$("",!0)]),t("div",yl,[s(e(G),{for:"phone"},{default:a(()=>[...d[21]||(d[21]=[o(" Nomor Telepon ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",_l,[s(e(vs),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"phone",modelValue:e(i).phone,"onUpdate:modelValue":d[5]||(d[5]=P=>e(i).phone=P),type:"tel",placeholder:"08123456789",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.phone?(r(),c("p",kl,n(e(i).errors.phone),1)):$("",!0)])]),t("div",hl,[s(e(G),{for:"alamat"},{default:a(()=>[...d[22]||(d[22]=[o("Alamat",-1)])]),_:1}),t("div",wl,[s(e(Be),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Oe),{id:"alamat",modelValue:e(i).alamat,"onUpdate:modelValue":d[6]||(d[6]=P=>e(i).alamat=P),placeholder:"Masukkan alamat lengkap...",rows:"3",class:"pl-10"},null,8,["modelValue"])]),e(i).errors.alamat?(r(),c("p",$l,n(e(i).errors.alamat),1)):$("",!0)]),s(e(re)),t("div",Pl,[t("div",Sl,[s(e(De),{class:"h-5 w-5 text-primary"}),d[23]||(d[23]=t("h4",{class:"font-semibold"},"Informasi Rekening Bank",-1))]),d[29]||(d[29]=t("p",{class:"text-sm text-muted-foreground"}," Informasi rekening ini akan digunakan untuk penarikan dana dari e-wallet Anda. Pastikan nama pemilik rekening sama dengan nama yang terdaftar. ",-1)),t("div",Cl,[t("div",Rl,[s(e(G),{for:"bank_name"},{default:a(()=>[...d[24]||(d[24]=[o(" Nama Bank ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Tl,[s(e(It),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"bank_name",modelValue:e(i).bank_name,"onUpdate:modelValue":d[7]||(d[7]=P=>e(i).bank_name=P),type:"text",placeholder:"e.g., BCA, Mandiri, BNI",class:"pl-10"},null,8,["modelValue"])]),e(i).errors.bank_name?(r(),c("p",Al,n(e(i).errors.bank_name),1)):$("",!0)]),t("div",jl,[s(e(G),{for:"bank_account"},{default:a(()=>[...d[25]||(d[25]=[o(" Nomor Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Dl,[s(e(De),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"bank_account",modelValue:e(i).bank_account,"onUpdate:modelValue":d[8]||(d[8]=P=>e(i).bank_account=P),type:"text",placeholder:"Nomor rekening bank",class:"pl-10"},null,8,["modelValue"])]),e(i).errors.bank_account?(r(),c("p",Ml,n(e(i).errors.bank_account),1)):$("",!0)])]),t("div",Bl,[t("p",Ll,[d[26]||(d[26]=t("strong",null,"Penting:",-1)),d[27]||(d[27]=o(" Nama pemilik rekening harus sama dengan nama Anda yang terdaftar (",-1)),t("strong",null,n(l.customer.name),1),d[28]||(d[28]=o("). Dana akan ditransfer ke rekening atas nama tersebut. ",-1))])])]),s(e(re)),t("div",Il,[s(e(G),{for:"description"},{default:a(()=>[...d[30]||(d[30]=[o("Deskripsi",-1)])]),_:1}),s(e(Oe),{id:"description",modelValue:e(i).description,"onUpdate:modelValue":d[9]||(d[9]=P=>e(i).description=P),placeholder:"Ceritakan tentang diri Anda...",rows:"4"},null,8,["modelValue"]),d[31]||(d[31]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Maksimal 1000 karakter ",-1)),e(i).errors.description?(r(),c("p",Vl,n(e(i).errors.description),1)):$("",!0)]),t("div",El,[s(e(z),{type:"button",variant:"outline",onClick:d[10]||(d[10]=P=>e(i).reset()),disabled:e(i).processing},{default:a(()=>[...d[32]||(d[32]=[o(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(z),{type:"submit",disabled:e(i).processing},{default:a(()=>[e(i).processing?$("",!0):(r(),T(e(ge),{key:0,class:"w-4 h-4 mr-2"})),o(" "+n(e(i).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Ul={key:0,class:"flex items-center justify-center py-12"},Nl={key:1,class:"space-y-6 py-6"},zl={class:"space-y-3"},Fl={class:"flex items-center gap-2 text-sm font-medium"},Ol={class:"space-y-2"},Wl={class:"flex justify-between"},ql={class:"text-sm font-medium"},Gl={class:"flex justify-between items-center"},Ql={key:0,class:"flex justify-between"},Jl={class:"text-sm font-medium"},Hl={key:1,class:"flex justify-between items-center"},Zl={class:"space-y-3"},Yl={class:"flex items-center gap-2 text-sm font-medium"},Xl={class:"space-y-3"},en=["src","alt"],tn={class:"flex-1"},sn={class:"font-medium text-sm"},an={class:"text-xs text-muted-foreground"},ln={class:"text-xs text-muted-foreground"},nn={class:"text-right"},rn={class:"font-semibold text-sm"},on={key:0,class:"space-y-3"},dn={class:"flex items-center gap-2 text-sm font-medium"},un={class:"p-3 bg-muted/30 rounded-lg space-y-1"},mn={class:"font-medium text-sm"},cn={class:"text-sm text-muted-foreground"},pn={class:"text-sm text-muted-foreground"},fn={class:"text-sm text-muted-foreground"},xn={key:1,class:"space-y-3"},gn={class:"flex items-center gap-2 text-sm font-medium"},vn={class:"p-3 bg-muted/30 rounded-lg space-y-2"},bn={class:"flex justify-between"},yn={class:"text-sm font-medium"},_n={class:"flex justify-between"},kn={class:"text-sm font-medium"},hn={class:"flex justify-between"},wn={class:"text-sm font-medium"},$n={class:"space-y-3"},Pn={class:"flex items-center gap-2 text-sm font-medium"},Sn={class:"space-y-2 text-sm"},Cn={class:"flex justify-between"},Rn={key:0,class:"flex justify-between"},Tn={class:"text-red-600"},An={class:"flex justify-between"},jn={key:1,class:"flex justify-between"},Dn={class:"flex justify-between font-semibold text-base"},Mn={class:"text-primary"},Bn={key:2,class:"space-y-2"},Ln={class:"space-y-1"},In={class:"text-sm text-muted-foreground"},Vn={key:3,class:"space-y-4 pt-4"},En={class:"space-y-3"},Kn={class:"flex items-center gap-2 text-sm font-medium"},Un={class:"flex items-start justify-between"},Nn={class:"flex items-center gap-2 font-medium text-sm"},zn={class:"text-xs text-muted-foreground"},Fn={key:0,class:"mt-1 text-xs text-destructive"},On={class:"flex items-start justify-between"},Wn={class:"flex items-center gap-2 font-medium text-sm"},qn={key:3},Gn={key:4},Qn={key:4,class:"pt-4"},Jn={key:2,class:"flex items-center justify-center py-12 text-muted-foreground"},Hn=X({__name:"OrderDetailSheet",props:{open:{type:Boolean},orderId:{}},emits:["update:open"],setup(l,{emit:u}){const y=l,i=u,{formatCurrency:C,formatDate:_,getStatusLabel:m,normalizeStatus:d}=Me(),P=wt(),g=N(()=>P.props.auth?.user?.ewallet_saldo??0),x=L(!1),b=L(!1),v=L(!1),f=L(!1),R=L(null),j=L("midtrans"),w=N(()=>R.value?.status?.toUpperCase()==="SHIPPED"),I=N(()=>R.value?.status?.toUpperCase()==="PENDING"&&!R.value?.paid_at),k=N(()=>R.value?g.value>=R.value.grand_total:!1);bs(()=>{typeof document<"u"&&(f.value?document.body.classList.add("midtrans-popup-active"):document.body.classList.remove("midtrans-popup-active"))}),$t(()=>{typeof document<"u"&&document.body.classList.remove("midtrans-popup-active")});const B=N(()=>{const h=d(R.value?.status||"");return{"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":h==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":h==="processing"||h==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":h==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":h==="delivered"||h==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":h==="cancelled"}}),K=async()=>{if(y.orderId){x.value=!0;try{const h=await de.get(`/api/client/orders/${y.orderId}`);R.value=h.data.data}catch(h){console.error("Failed to load order:",h),M.error("Gagal memuat detail pesanan")}finally{x.value=!1}}},Q=async()=>{if(!(!R.value||!w.value||b.value)){b.value=!0;try{await de.post(`/api/client/orders/${R.value.id}/complete`),await K(),xe.reload({only:["orders"]}),M.success('Status pesanan berhasil diperbarui menjadi "Selesai".')}catch(h){console.error("Failed to update order status:",h),M.error(h.response?.data?.message||"Gagal memperbarui status pesanan")}finally{b.value=!1}}},E=async()=>{if(!R.value||!I.value||v.value)return;const h=window.snap;if(!h){M.error("Sistem pembayaran belum siap. Mohon refresh halaman.");return}v.value=!0;try{const S=(await de.post(`/api/client/orders/${R.value.id}/pay`)).data;S.success&&S.snap_token?(f.value=!0,h.pay(S.snap_token,{onSuccess:function(){f.value=!1,v.value=!1,M.success("Pembayaran berhasil!"),K(),xe.reload({only:["orders"]})},onPending:function(){f.value=!1,v.value=!1,M.info("Pembayaran tertunda. Silakan selesaikan pembayaran."),K(),xe.reload({only:["orders"]})},onError:function(){f.value=!1,v.value=!1,M.error("Pembayaran gagal. Silakan coba lagi."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)},onClose:function(){f.value=!1,v.value=!1,M.info("Pembayaran dibatalkan."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)}})):M.error(S.message||"Gagal memproses pembayaran")}catch(p){console.error("Failed to initiate payment:",p),M.error(p.response?.data?.message||"Gagal memproses pembayaran")}finally{f.value||(v.value=!1)}},A=async()=>{if(!(!R.value||!I.value||v.value)){if(!k.value){M.error("Saldo e-wallet Anda tidak mencukupi");return}v.value=!0;try{const p=(await de.post(`/api/client/orders/${R.value.id}/pay-wallet`)).data;p.success?(M.success(p.message||"Pembayaran berhasil!"),await K(),xe.reload({only:["orders","auth"]})):M.error(p.message||"Gagal memproses pembayaran")}catch(h){console.error("Failed to pay with wallet:",h),M.error(h.response?.data?.message||"Gagal memproses pembayaran")}finally{v.value=!1}}},D=()=>{j.value==="wallet"?A():E()};return mt(()=>[y.open,y.orderId],([h,p])=>{h&&p&&K()}),(h,p)=>(r(),T(e(Es),{open:l.open,"onUpdate:open":p[3]||(p[3]=S=>i("update:open",S))},{default:a(()=>[s(e(Ks),{side:"right",class:"sm:max-w-2xl w-full overflow-y-auto"},{default:a(()=>[s(e(Us),null,{default:a(()=>[s(e(Ns),null,{default:a(()=>[...p[4]||(p[4]=[o("Detail Pesanan",-1)])]),_:1}),s(e(zs),null,{default:a(()=>[...p[5]||(p[5]=[o(" Informasi lengkap pesanan Anda ",-1)])]),_:1})]),_:1}),x.value?(r(),c("div",Ul,[s(e(Ae),{class:"h-8 w-8 animate-spin text-muted-foreground"})])):R.value?(r(),c("div",Nl,[t("div",zl,[t("div",Fl,[s(e(Fe),{class:"h-4 w-4"}),p[6]||(p[6]=t("span",null,"Ringkasan Pesanan",-1))]),t("div",Ol,[t("div",Wl,[p[7]||(p[7]=t("span",{class:"text-sm text-muted-foreground"},"Nomor Pesanan",-1)),t("span",ql,n(R.value.order_no),1)]),t("div",Gl,[p[8]||(p[8]=t("span",{class:"text-sm text-muted-foreground"},"Status",-1)),s(e(U),{class:Y(B.value)},{default:a(()=>[o(n(e(m)(R.value.status)),1)]),_:1},8,["class"])]),R.value.placed_at?(r(),c("div",Ql,[p[9]||(p[9]=t("span",{class:"text-sm text-muted-foreground"},"Tanggal Pesan",-1)),t("span",Jl,n(e(_)(R.value.placed_at)),1)])):$("",!0),R.value.paid_at?(r(),c("div",Hl,[p[10]||(p[10]=t("span",{class:"text-sm text-muted-foreground"},"Status Pembayaran",-1)),s(e(U),{variant:"secondary"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 mr-1"}),o(" Dibayar "+n(e(_)(R.value.paid_at)),1)]),_:1})])):$("",!0)])]),s(e(re)),t("div",Zl,[t("div",Yl,[s(e(Fe),{class:"h-4 w-4"}),p[11]||(p[11]=t("span",null,"Produk Pesanan",-1))]),t("div",Xl,[(r(!0),c(F,null,Z(R.value.items,S=>(r(),c("div",{key:S.id,class:"flex gap-4 p-3 bg-muted/30 rounded-lg"},[S.meta_json?.image?(r(),c("img",{key:0,src:S.meta_json.image,alt:S.name,class:"w-16 h-16 object-cover rounded-md"},null,8,en)):$("",!0),t("div",tn,[t("h4",sn,n(S.name),1),t("p",an,"SKU: "+n(S.sku),1),t("p",ln,n(S.qty)+"x "+n(e(C)(S.unit_price)),1)]),t("div",nn,[t("p",rn,n(e(C)(S.row_total)),1)])]))),128))])]),s(e(re)),R.value.shipping_address?(r(),c("div",on,[t("div",dn,[s(e(Be),{class:"h-4 w-4"}),p[12]||(p[12]=t("span",null,"Alamat Pengiriman",-1))]),t("div",un,[t("p",mn,n(R.value.shipping_address.recipient_name),1),t("p",cn,n(R.value.shipping_address.recipient_phone),1),t("p",pn,n(R.value.shipping_address.address_line1),1),t("p",fn,n(R.value.shipping_address.city_label)+", "+n(R.value.shipping_address.province_label)+" "+n(R.value.shipping_address.postal_code),1)])])):$("",!0),s(e(re)),R.value.applied_promos?.shipping?(r(),c("div",xn,[t("div",gn,[s(e(ys),{class:"h-4 w-4"}),p[13]||(p[13]=t("span",null,"Informasi Pengiriman",-1))]),t("div",vn,[t("div",bn,[p[14]||(p[14]=t("span",{class:"text-sm text-muted-foreground"},"Kurir",-1)),t("span",yn,n(R.value.applied_promos.shipping.courier),1)]),t("div",_n,[p[15]||(p[15]=t("span",{class:"text-sm text-muted-foreground"},"Layanan",-1)),t("span",kn,n(R.value.applied_promos.shipping.service),1)]),t("div",hn,[p[16]||(p[16]=t("span",{class:"text-sm text-muted-foreground"},"Estimasi",-1)),t("span",wn,n(R.value.applied_promos.shipping.etd)+" hari",1)])])])):$("",!0),s(e(re)),t("div",$n,[t("div",Pn,[s(e(Te),{class:"h-4 w-4"}),p[17]||(p[17]=t("span",null,"Ringkasan Pembayaran",-1))]),t("div",Sn,[t("div",Cn,[p[18]||(p[18]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),t("span",null,n(e(C)(R.value.subtotal_amount)),1)]),R.value.discount_amount>0?(r(),c("div",Rn,[p[19]||(p[19]=t("span",{class:"text-muted-foreground"},"Diskon",-1)),t("span",Tn,"-"+n(e(C)(R.value.discount_amount)),1)])):$("",!0),t("div",An,[p[20]||(p[20]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),t("span",null,n(e(C)(R.value.shipping_amount)),1)]),R.value.tax_amount>0?(r(),c("div",jn,[p[21]||(p[21]=t("span",{class:"text-muted-foreground"},"Pajak",-1)),t("span",null,n(e(C)(R.value.tax_amount)),1)])):$("",!0),s(e(re)),t("div",Dn,[p[22]||(p[22]=t("span",null,"Total",-1)),t("span",Mn,n(e(C)(R.value.grand_total)),1)])])]),R.value.notes?(r(),c("div",Bn,[s(e(re)),t("div",Ln,[p[23]||(p[23]=t("p",{class:"text-sm font-medium"},"Catatan",-1)),t("p",In,n(R.value.notes),1)])])):$("",!0),I.value?(r(),c("div",Vn,[s(e(re)),t("div",En,[t("div",Kn,[s(e(De),{class:"h-4 w-4"}),p[24]||(p[24]=t("span",null,"Metode Pembayaran",-1))]),s(e(ns),{modelValue:j.value,"onUpdate:modelValue":p[2]||(p[2]=S=>j.value=S),class:"space-y-3"},{default:a(()=>[t("div",{class:Y(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":j.value==="wallet","hover:bg-muted":j.value!=="wallet","cursor-not-allowed opacity-50":!k.value}]),onClick:p[0]||(p[0]=S=>k.value&&(j.value="wallet"))},[s(e(Dt),{value:"wallet",id:"payment-wallet-detail",disabled:!k.value},null,8,["disabled"]),s(e(G),{for:"payment-wallet-detail",class:Y(["flex-1 cursor-pointer",{"cursor-not-allowed":!k.value}])},{default:a(()=>[t("div",Un,[t("div",null,[t("div",Nn,[s(e(De),{class:"h-4 w-4"}),p[25]||(p[25]=o(" E-Wallet ",-1))]),t("div",zn," Saldo: "+n(e(C)(g.value)),1),k.value?$("",!0):(r(),c("div",Fn," Saldo tidak mencukupi (kurang "+n(e(C)(R.value.grand_total-g.value))+") ",1))])])]),_:1},8,["class"])],2),t("div",{class:Y(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":j.value==="midtrans","hover:bg-muted":j.value!=="midtrans"}]),onClick:p[1]||(p[1]=S=>j.value="midtrans")},[s(e(Dt),{value:"midtrans",id:"payment-midtrans-detail"}),s(e(G),{for:"payment-midtrans-detail",class:"flex-1 cursor-pointer"},{default:a(()=>[t("div",On,[t("div",null,[t("div",Wn,[s(e(Te),{class:"h-4 w-4"}),p[26]||(p[26]=o(" Payment Gateway ",-1))]),p[27]||(p[27]=t("div",{class:"text-xs text-muted-foreground"}," Transfer Bank, E-wallet, Kartu Kredit ",-1))])])]),_:1})],2)]),_:1},8,["modelValue"])]),s(e(z),{onClick:D,disabled:v.value||f.value||j.value==="wallet"&&!k.value,class:"w-full",size:"lg"},{default:a(()=>[v.value?(r(),T(e(Ae),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):j.value==="wallet"?(r(),T(e(De),{key:1,class:"h-4 w-4 mr-2"})):(r(),T(e(Te),{key:2,class:"h-4 w-4 mr-2"})),j.value==="wallet"?(r(),c("span",qn," Bayar dengan E-Wallet "+n(e(C)(R.value.grand_total)),1)):(r(),c("span",Gn," Bayar "+n(e(C)(R.value.grand_total)),1))]),_:1},8,["disabled"])])):$("",!0),w.value?(r(),c("div",Qn,[s(e(z),{onClick:Q,disabled:b.value,class:"w-full",size:"lg"},{default:a(()=>[b.value?(r(),T(e(Ae),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(r(),T(e(ge),{key:1,class:"h-4 w-4 mr-2"})),p[28]||(p[28]=o(" Tandai Pesanan Selesai ",-1))]),_:1},8,["disabled"])])):$("",!0)])):(r(),c("div",Jn," Tidak ada data pesanan "))]),_:1})]),_:1},8,["open"]))}}),Zn={class:"space-y-6 py-4"},Yn={key:2,class:"flex gap-4 rounded-lg bg-muted p-4"},Xn=["src","alt"],er={class:"flex-1"},tr={class:"font-medium"},sr={class:"space-y-2"},ar={class:"flex items-center gap-2"},lr=["onClick","onMouseenter"],nr={class:"ml-2 text-sm text-muted-foreground"},rr={class:"space-y-2"},or={key:0,class:"text-sm text-destructive"},ir={class:"space-y-2"},dr={class:"text-right text-xs text-muted-foreground"},ur={key:0,class:"text-sm text-destructive"},mr=X({__name:"ProductReviewDialog",props:{open:{type:Boolean},orderId:{},orderItems:{}},emits:["update:open","review-submitted"],setup(l,{emit:u}){const y=l,i=u,C=L(0),_=L(null),m=L(!1),d=L({}),P=N(()=>y.orderItems[C.value]),g=N(()=>C.value<y.orderItems.length-1),x=N(()=>C.value===y.orderItems.length-1),b=L({order_item_id:0,product_id:0,rating:5,title:"",comment:""}),v=L(0),f=B=>{b.value.rating=B},R=async()=>{if(P.value){b.value.order_item_id=P.value.id,b.value.product_id=P.value.product_id,_.value=null,d.value={},m.value=!0;try{const B=await de.post(`/api/client/orders/${y.orderId}/reviews`,b.value);if(B.data.success){const K=B.data.message||"Review berhasil dikirim dan menunggu persetujuan!";_.value={type:"success",message:K},M.success(K),g.value?setTimeout(()=>{C.value++,w(),_.value=null},1500):setTimeout(()=>{i("update:open",!1),i("review-submitted"),I()},2e3)}}catch(B){console.error("Submit review error:",B);let K="Gagal mengirim review. Silakan coba lagi.";if(B.response?.data){const Q=B.response.data;if(Q.message&&(K=Q.message),Q.errors){d.value=Q.errors;const E=Object.values(Q.errors)[0];Array.isArray(E)&&E.length>0?K=E[0]:typeof E=="string"&&(K=E)}}_.value={type:"error",message:K},M.error(K)}finally{m.value=!1}}},j=()=>{g.value?(C.value++,w(),_.value=null):(i("update:open",!1),i("review-submitted"),I())},w=()=>{b.value={order_item_id:0,product_id:0,rating:5,title:"",comment:""},d.value={}},I=()=>{C.value=0,w(),_.value=null},k=B=>{i("update:open",B),B||I()};return(B,K)=>(r(),T(e(Ke),{open:l.open,"onUpdate:open":k},{default:a(()=>[s(e(Ie),{class:"sm:max-w-[500px]"},{default:a(()=>[s(e(Ne),null,{default:a(()=>[s(e(Ve),null,{default:a(()=>[...K[4]||(K[4]=[o("Beri Rating & Review",-1)])]),_:1}),s(e(Ee),null,{default:a(()=>[o(" Bagikan pengalaman Anda dengan produk ini ("+n(C.value+1)+" dari "+n(l.orderItems.length)+") ",1)]),_:1})]),_:1}),t("div",Zn,[!P.value||l.orderItems.length===0?(r(),T(e(ot),{key:0,variant:"default"},{default:a(()=>[s(e(je),{class:"h-4 w-4"}),s(e(it),null,{default:a(()=>[...K[5]||(K[5]=[o("Tidak Ada Item",-1)])]),_:1}),s(e(dt),null,{default:a(()=>[...K[6]||(K[6]=[o(" Tidak ada produk yang dapat direview dari pesanan ini. ",-1)])]),_:1})]),_:1})):(r(),c(F,{key:1},[_.value?.type==="success"?(r(),T(e(ot),{key:0,variant:"default"},{default:a(()=>[s(e(_s),{class:"h-4 w-4"}),s(e(it),null,{default:a(()=>[...K[7]||(K[7]=[o("Berhasil!",-1)])]),_:1}),s(e(dt),null,{default:a(()=>[o(n(_.value.message),1)]),_:1})]),_:1})):$("",!0),_.value?.type==="error"?(r(),T(e(ot),{key:1,variant:"destructive"},{default:a(()=>[s(e(je),{class:"h-4 w-4"}),s(e(it),null,{default:a(()=>[...K[8]||(K[8]=[o("Terjadi Kesalahan",-1)])]),_:1}),s(e(dt),null,{default:a(()=>[o(n(_.value.message),1)]),_:1})]),_:1})):$("",!0),P.value?(r(),c("div",Yn,[P.value.product_image?(r(),c("img",{key:0,src:P.value.product_image,alt:P.value.product_name,class:"h-20 w-20 rounded-md object-cover"},null,8,Xn)):$("",!0),t("div",er,[t("h4",tr,n(P.value.product_name),1)])])):$("",!0),t("div",sr,[s(e(G),null,{default:a(()=>[...K[9]||(K[9]=[o("Rating Produk",-1)])]),_:1}),t("div",ar,[(r(),c(F,null,Z(5,Q=>t("button",{key:Q,type:"button",onClick:E=>f(Q),onMouseenter:E=>v.value=Q,onMouseleave:K[0]||(K[0]=E=>v.value=0),class:"transition-transform hover:scale-110 focus:outline-none"},[s(e(Pt),{class:Y(["h-8 w-8 transition-colors",(v.value||b.value.rating)>=Q?"fill-yellow-400 text-yellow-400":"text-gray-300"])},null,8,["class"])],40,lr)),64)),t("span",nr,n(b.value.rating)+" / 5 ",1)])]),t("div",rr,[s(e(G),{for:"title"},{default:a(()=>[...K[10]||(K[10]=[o("Judul Review (Opsional)",-1)])]),_:1}),s(e(se),{id:"title",modelValue:b.value.title,"onUpdate:modelValue":K[1]||(K[1]=Q=>b.value.title=Q),placeholder:"Ringkasan singkat pengalaman Anda",maxlength:"100"},null,8,["modelValue"]),d.value.title?(r(),c("p",or,n(d.value.title),1)):$("",!0)]),t("div",ir,[s(e(G),{for:"comment"},{default:a(()=>[...K[11]||(K[11]=[o("Komentar (Opsional)",-1)])]),_:1}),s(e(Oe),{id:"comment",modelValue:b.value.comment,"onUpdate:modelValue":K[2]||(K[2]=Q=>b.value.comment=Q),placeholder:"Ceritakan pengalaman Anda dengan produk ini...",rows:"4",maxlength:"500"},null,8,["modelValue"]),t("p",dr,n(b.value.comment?.length||0)+" / 500 karakter ",1),d.value.comment?(r(),c("p",ur,n(d.value.comment),1)):$("",!0)])],64))]),s(e(Ue),{class:"flex-col gap-2 sm:flex-row"},{default:a(()=>[P.value&&l.orderItems.length>0?(r(),c(F,{key:0},[g.value||x.value?(r(),T(e(z),{key:0,type:"button",variant:"outline",onClick:j,disabled:m.value},{default:a(()=>[o(n(g.value?"Lewati":"Tutup"),1)]),_:1},8,["disabled"])):$("",!0),s(e(z),{type:"button",onClick:R,disabled:m.value||b.value.rating===0,class:"w-full sm:w-auto"},{default:a(()=>[m.value?(r(),T(e(Ae),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):$("",!0),o(" "+n(g.value?"Kirim & Lanjut":"Kirim Review"),1)]),_:1},8,["disabled"])],64)):(r(),T(e(z),{key:1,type:"button",variant:"outline",onClick:K[3]||(K[3]=Q=>k(!1))},{default:a(()=>[...K[12]||(K[12]=[o(" Tutup ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"]))}}),cr={class:"rounded-lg border p-4 transition-colors hover:border-primary"},pr={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},fr={class:"flex-1"},xr={class:"mb-2 flex items-center gap-3"},gr={class:"text-sm font-semibold"},vr={key:0,class:"text-xs text-muted-foreground"},br={class:"mt-2 flex items-center gap-2"},yr={class:"flex flex-col gap-2 md:items-end"},_r={class:"text-lg font-bold text-primary"},kr={class:"flex flex-wrap gap-2"},hr=X({__name:"OrderCard",props:{order:{}},setup(l){const u=l,{formatCurrency:y,formatDate:i,getStatusLabel:C,normalizeStatus:_}=Me(),m=L(!1),d=L(!1),P=L(!1),g=L(!1),x=L(u.order.status),b=L(u.order.paid_at),v=N(()=>_(x.value)),f=async()=>{if(!P.value){P.value=!0;try{const I=await de.post(`/api/client/orders/${u.order.id}/check-payment-status`);I.data.success?(x.value=I.data.status,I.data.paid_at&&(b.value=I.data.paid_at),M.success(I.data.message),setTimeout(()=>{xe.reload({only:["orders"]})},500)):M.error(I.data.message)}catch(I){console.error("Check payment status error:",I),M.error(I.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{P.value=!1}}},R=async()=>{if(!g.value){g.value=!0;try{const I=await de.post(`/api/client/orders/${u.order.id}/complete`);I.data.success&&(x.value="COMPLETED",M.success(I.data.message||"Pesanan berhasil diselesaikan"),I.data.items&&I.data.items.length>0?(u.order.items=I.data.items,d.value=!0):setTimeout(()=>{xe.reload({only:["orders"]})},500))}catch(I){console.error("Complete order error:",I),M.error(I.response?.data?.message||"Gagal menandai pesanan sebagai diterima")}finally{g.value=!1}}},j=()=>{xe.reload({only:["orders"]})},w=()=>{const I=(u.order.items||[]).filter(k=>!k.has_review);I.length>0?(u.order.items=I,d.value=!0):M.info("Semua produk sudah direview")};return(I,k)=>(r(),c("div",cr,[t("div",pr,[t("div",fr,[t("div",xr,[s(e(Fe),{class:"h-5 w-5 text-muted-foreground"}),t("div",null,[t("p",gr,n(l.order.order_no),1),l.order.placed_at?(r(),c("p",vr,n(e(i)(l.order.placed_at)),1)):$("",!0),l.order.type?(r(),c("p",{key:1,class:Y(["text-xs font-medium",{"text-blue-600 dark:text-blue-400":l.order.type==="planA","text-amber-600 dark:text-amber-400":l.order.type==="planB"}])},n(l.order.type==="planA"?"Network Builder":"Retail"),3)):$("",!0)])]),t("div",br,[s(e(U),{class:Y({"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":v.value==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":v.value==="processing"||v.value==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":v.value==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":v.value==="delivered"||v.value==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":v.value==="cancelled"})},{default:a(()=>[o(n(e(C)(x.value)),1)]),_:1},8,["class"]),b.value?(r(),T(e(U),{key:0,variant:"secondary"},{default:a(()=>[s(e(ge),{class:"mr-1 h-3 w-3"}),k[3]||(k[3]=o(" Dibayar ",-1))]),_:1})):$("",!0)])]),t("div",yr,[t("p",_r,n(e(y)(l.order.grand_total)),1),t("div",kr,[v.value==="pending"&&!b.value?(r(),T(e(z),{key:0,variant:"outline",size:"sm",disabled:P.value,onClick:f},{default:a(()=>[s(e(Vt),{class:Y(["mr-1 h-3 w-3",{"animate-spin":P.value}])},null,8,["class"]),k[4]||(k[4]=o(" Cek Status ",-1))]),_:1},8,["disabled"])):$("",!0),v.value==="shipped"?(r(),T(e(z),{key:1,variant:"default",size:"sm",disabled:g.value,onClick:R},{default:a(()=>[s(e(ks),{class:"mr-1 h-3 w-3"}),k[5]||(k[5]=o(" Pesanan Diterima ",-1))]),_:1},8,["disabled"])):$("",!0),v.value==="completed"&&l.order.has_unreviewed_items?(r(),T(e(z),{key:2,variant:"outline",size:"sm",onClick:w},{default:a(()=>[s(e(Pt),{class:"mr-1 h-3 w-3"}),k[6]||(k[6]=o(" Tambah Review ",-1))]),_:1})):$("",!0),s(e(z),{variant:"outline",size:"sm",onClick:k[0]||(k[0]=B=>m.value=!0)},{default:a(()=>[...k[7]||(k[7]=[o(" Lihat Detail ",-1)])]),_:1})])])]),s(Hn,{open:m.value,"onUpdate:open":k[1]||(k[1]=B=>m.value=B),"order-id":l.order.id},null,8,["open","order-id"]),s(mr,{open:d.value,"onUpdate:open":k[2]||(k[2]=B=>d.value=B),"order-id":l.order.id,"order-items":l.order.items||[],onReviewSubmitted:j},null,8,["open","order-id","order-items"])]))}}),wr={key:0,class:"space-y-4"},$r={key:1,class:"py-12 text-center"},Pr=X({__name:"OrdersTab",props:{orders:{}},setup(l){return(u,y)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...y[0]||(y[0]=[o("Pesanan Saya",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...y[1]||(y[1]=[o(" Riwayat pesanan dan status pengiriman ",-1)])]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[l.orders.length>0?(r(),c("div",wr,[(r(!0),c(F,null,Z(l.orders,i=>(r(),T(hr,{key:i.id,order:i},null,8,["order"]))),128))])):(r(),c("div",$r,[s(e(Fe),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),y[3]||(y[3]=t("p",{class:"text-muted-foreground mb-4"},"Belum ada pesanan",-1)),s(e(xt),{href:"/beranda"},{default:a(()=>[s(e(z),null,{default:a(()=>[...y[2]||(y[2]=[o(" Mulai Belanja ",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),Sr={class:"text-center"},Cr={class:"text-4xl font-bold text-primary mb-4"},Rr={class:"flex gap-3 justify-center"},Tr=X({__name:"WalletBalance",props:{balance:{}},emits:["topup","withdrawal"],setup(l,{emit:u}){const y=u,{formatCurrency:i}=Me();return(C,_)=>(r(),T(e(O),null,{default:a(()=>[s(e(W),{class:"pt-6"},{default:a(()=>[t("div",Sr,[_[4]||(_[4]=t("p",{class:"text-sm text-muted-foreground mb-2"},"Saldo E-Wallet",-1)),t("p",Cr,n(e(i)(l.balance)),1),t("div",Rr,[s(e(z),{onClick:_[0]||(_[0]=m=>y("topup")),size:"sm"},{default:a(()=>[s(e(Et),{class:"w-4 h-4 mr-2"}),_[2]||(_[2]=o(" Top Up ",-1))]),_:1}),s(e(z),{onClick:_[1]||(_[1]=m=>y("withdrawal")),variant:"outline",size:"sm"},{default:a(()=>[s(e(Kt),{class:"w-4 h-4 mr-2"}),_[3]||(_[3]=o(" Tarik Dana ",-1))]),_:1})])])]),_:1})]),_:1}))}}),Ar={class:"space-y-2"},jr={class:"relative"},Dr={key:0,class:"text-sm text-red-500"},Mr={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},Br={class:"flex items-start gap-3"},Lr={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Ir={class:"flex items-start gap-3"},Vr={class:"flex items-center justify-end gap-3"},Er={key:0},Kr={key:1},Ur={key:2},Nr={key:3},zr=X({__name:"WalletTopupForm",emits:["cancel"],setup(l,{emit:u}){const y=u,i=Ce({amount:"",payment_method:"midtrans"}),C=L(!1),_=L(!1);at(()=>{if(window.snap){C.value=!0;return}if(typeof window>"u")return;const g=()=>{window.snap&&(C.value=!0,_.value=!1,console.log("Midtrans Snap loaded (event)."))};window.addEventListener("midtrans:snap:loaded",g,{once:!0}),setTimeout(()=>{C.value||(window.snap?(C.value=!0,console.log("Midtrans Snap loaded (fallback).")):(_.value=!0,console.error("Failed to load Midtrans Snap (timeout).")))},5e3)});const m=g=>{if(!window.snap){console.error("Snap not available"),alert("Pembayaran tidak dapat diproses. Silakan refresh halaman dan coba lagi."),y("cancel");return}try{window.snap.pay(g,{onSuccess:function(x){console.log("Payment success:",x),M.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(x){console.log("Payment pending:",x),M.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(x){console.error("Payment error (Midtrans):",x),M.error("Pembayaran gagal.");try{console.log("Midtrans raw error JSON:",JSON.stringify(x,null,2))}catch{}const b=x?.status_message||x?.status_code||"Terjadi kesalahan pembayaran.",v=x?.status_code==="505"?`
Catatan: Sandbox sering menolak VA dengan nominal rendah (coba >= 15000 atau metode lain).`:"";if(x?.status_code==="505"){alert("Midtrans Error: "+b+v+`
Sandbox akan otomatis mencoba QRIS.`),P("qris");return}alert("Midtrans Error: "+b+`
Silakan coba metode lain atau refresh.`),y("cancel")},onClose:function(){console.log("Payment modal closed"),M("Pembayaran ditutup sebelum selesai."),y("cancel")}})}catch(x){console.error("Error opening Snap modal:",x),alert("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),M.error("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),y("cancel")}},d=async()=>{if(!i.processing){if(!C.value||!window.snap){M.error("Sistem pembayaran belum siap. Silakan tunggu beberapa saat atau refresh halaman.");return}try{i.processing=!0;const x=(await de.post("/client/wallet/topup",{amount:i.amount,payment_method:i.payment_method})).data,b=x.snap_token;if(x.success===!1&&x.message){M.error(x.message),i.processing=!1;return}b&&typeof b=="string"&&b.trim()!==""?(i.reset(),i.processing=!1,setTimeout(()=>{m(b)},100)):(i.processing=!1,console.error("Invalid snap token:",b),console.error("Full response:",x),M.error("Gagal mendapatkan token pembayaran. Silakan coba lagi."),i.reset(),y("cancel"))}catch(g){if(i.processing=!1,console.error("Form submission error:",g),M.error("Terjadi kesalahan saat mengirim formulir."),g.response?.status===422&&g.response?.data?.errors){const x=g.response.data.errors,b=Object.values(x)[0],v=Array.isArray(b)?b[0]:b;M.error(v)}else{const x=g.response?.data?.message||g.message||"Terjadi kesalahan. Silakan coba lagi.";M.error(x)}i.reset()}}},P=async g=>{if(!i.processing){if(!C.value||!window.snap){alert("Sistem pembayaran belum siap untuk retry.");return}try{i.processing=!0;const b=(await de.post("/client/wallet/topup",{amount:i.amount||"20000",payment_method:i.payment_method,force_payment:g})).data,v=b.snap_token;if(!b.success||!v){M.error(b.message||"Retry gagal mendapatkan token."),i.processing=!1;return}i.processing=!1,M.success("Metode dialihkan ke "+g.toUpperCase()+". Silakan lanjutkan pembayaran."),m(v)}catch(x){i.processing=!1,M.error(x?.response?.data?.message||x.message||"Retry gagal.")}}};return(g,x)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...x[2]||(x[2]=[o("Top Up E-Wallet",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...x[3]||(x[3]=[o(" Isi saldo e-wallet Anda melalui Midtrans ",-1)])]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[t("form",{onSubmit:We(d,["prevent"]),class:"space-y-6"},[t("div",Ar,[s(e(G),{for:"topup_amount"},{default:a(()=>[...x[4]||(x[4]=[o(" Jumlah Top Up ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",jr,[s(e(Te),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"topup_amount",modelValue:e(i).amount,"onUpdate:modelValue":x[0]||(x[0]=b=>e(i).amount=b),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:"10000000",required:""},null,8,["modelValue"])]),x[5]||(x[5]=t("p",{class:"text-xs text-muted-foreground"}," Minimum Rp 10.000 - Maximum Rp 10.000.000. Disarankan >= Rp 15.000 untuk Virtual Account agar tidak ditolak (505). ",-1)),e(i).errors.amount?(r(),c("p",Dr,n(e(i).errors.amount),1)):$("",!0)]),t("div",Mr,[t("div",Br,[s(e(Te),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),x[6]||(x[6]=t("div",null,[t("p",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"}," Pembayaran via Midtrans "),t("p",{class:"text-xs text-blue-700 dark:text-blue-300 mt-1"}," Anda akan diarahkan ke halaman pembayaran Midtrans untuk menyelesaikan transaksi ")],-1))])]),_.value?(r(),c("div",Lr,[t("div",Ir,[s(e(je),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),x[7]||(x[7]=t("div",null,[t("p",{class:"text-sm font-semibold text-red-900 dark:text-red-100"}," Sistem Pembayaran Belum Siap "),t("p",{class:"text-xs text-red-700 dark:text-red-300 mt-1"}," Silakan refresh halaman untuk memuat ulang sistem pembayaran. ")],-1))])])):$("",!0),t("div",Vr,[s(e(z),{type:"button",variant:"outline",onClick:x[1]||(x[1]=b=>{e(i).reset(),y("cancel")}),disabled:e(i).processing},{default:a(()=>[...x[8]||(x[8]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(z),{type:"submit",disabled:e(i).processing||_.value||!C.value},{default:a(()=>[e(i).processing?(r(),c("span",Er,"Memproses...")):!C.value&&!_.value?(r(),c("span",Kr,"Memuat sistem pembayaran...")):_.value?(r(),c("span",Ur,"Sistem pembayaran error")):(r(),c("span",Nr,"Lanjut ke Pembayaran"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Fr={key:0,class:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Or={class:"flex items-start gap-3"},Wr={key:1,class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},qr={class:"flex items-start gap-3"},Gr={class:"space-y-2"},Qr={class:"relative"},Jr={class:"text-xs text-muted-foreground"},Hr={key:0,class:"text-sm text-red-500"},Zr={class:"space-y-4"},Yr={class:"flex items-center justify-between"},Xr={key:0,class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-3"},eo={class:"flex justify-between text-sm"},to={class:"font-medium"},so={class:"flex justify-between text-sm"},ao={class:"font-medium"},lo={class:"flex justify-between text-sm"},no={class:"font-medium"},ro={key:1,class:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg text-center text-sm text-muted-foreground"},oo={class:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},io={key:0,class:"p-4 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg space-y-2"},uo={class:"flex justify-between text-sm"},mo={class:"flex justify-between text-sm"},co={class:"text-red-600 dark:text-red-400"},po={class:"flex justify-between text-sm font-semibold"},fo={class:"text-green-600 dark:text-green-400"},xo={class:"flex items-center justify-end gap-3"},go={class:"space-y-3 py-4"},vo={class:"flex justify-between text-sm"},bo={class:"flex justify-between text-sm"},yo={class:"text-red-600"},_o={class:"flex justify-between text-sm font-semibold"},ko={class:"text-green-600"},ho={class:"flex justify-between text-sm"},wo={class:"font-medium"},$o={class:"flex justify-between text-sm"},Po={class:"font-medium"},So={class:"flex justify-between text-sm"},Co={class:"font-medium"},Ro={class:"space-y-4 py-4"},To={class:"space-y-2"},Ao={class:"relative"},jo={key:0,class:"text-sm text-red-500"},ut=6500,Do=1e4,Mo=16500,Bo=X({__name:"WalletWithdrawalForm",props:{customer:{},maxAmount:{},hasPendingWithdrawal:{type:Boolean}},emits:["cancel"],setup(l,{emit:u}){const y=l,i=u,C=N(()=>(console.log(y.customer),!!y.customer.nik&&!!y.customer.bank_name&&!!y.customer.bank_account)),_=L(!1),m=L(!1),d=L(!1),P=L(""),g=Ce({amount:"",password:""}),x=N(()=>{const j=parseFloat(g.amount)||0,w=Math.max(0,j-ut);return{amount:j,formattedAmount:j.toLocaleString("id-ID"),adminFee:ut,formattedAdminFee:ut.toLocaleString("id-ID"),netAmount:w,formattedNetAmount:w.toLocaleString("id-ID")}}),b=()=>{if(!C.value){M.error("Lengkapi NIK dan informasi bank di profil Anda terlebih dahulu");return}if(y.maxAmount<Mo){M.error("Saldo wallet minimal Rp 16.500 untuk melakukan penarikan");return}if(!g.amount||parseFloat(g.amount)<Do){M.error("Jumlah penarikan minimal Rp 10.000");return}if(parseFloat(g.amount)>y.maxAmount){M.error("Jumlah penarikan melebihi saldo yang tersedia");return}_.value=!0},v=()=>{_.value=!1,m.value=!0,g.password="",P.value=""},f=()=>{if(!g.password){P.value="Password wajib diisi";return}P.value="",g.post("/client/wallet/withdrawal",{preserveScroll:!0,onSuccess:()=>{m.value=!1,g.reset(),i("cancel"),M.success("Permintaan penarikan berhasil diajukan.")},onError:j=>{j.password?P.value=j.password:j.pending?(m.value=!1,M.error(j.pending)):j.profile&&(m.value=!1,M.error(j.profile))}})},R=()=>{m.value=!1,g.password="",P.value=""};return(j,w)=>(r(),c(F,null,[s(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...w[6]||(w[6]=[o("Tarik Dana E-Wallet",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...w[7]||(w[7]=[o(" Tarik saldo ke rekening bank Anda ",-1)])]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[C.value?$("",!0):(r(),c("div",Fr,[t("div",Or,[s(e(pt),{class:"h-5 w-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5"}),t("div",null,[w[9]||(w[9]=t("p",{class:"font-medium text-red-700 dark:text-red-300"},"Profil Belum Lengkap",-1)),w[10]||(w[10]=t("p",{class:"text-sm text-red-600 dark:text-red-400 mt-1"}," Untuk melakukan penarikan, Anda harus melengkapi NIK dan informasi rekening bank di profil Anda. ",-1)),s(e(xt),{href:"/client/profile",class:"inline-flex items-center gap-1 text-sm font-medium text-red-700 dark:text-red-300 hover:underline mt-2"},{default:a(()=>[...w[8]||(w[8]=[o(" Lengkapi Profil Sekarang  ",-1)])]),_:1})])])])),l.hasPendingWithdrawal?(r(),c("div",Wr,[t("div",qr,[s(e(pt),{class:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),w[11]||(w[11]=t("div",null,[t("p",{class:"font-medium text-amber-700 dark:text-amber-300"},"Permintaan Pending"),t("p",{class:"text-sm text-amber-600 dark:text-amber-400 mt-1"}," Anda masih memiliki permintaan penarikan yang belum diproses. Silakan tunggu hingga permintaan sebelumnya selesai diproses. ")],-1))])])):$("",!0),t("form",{onSubmit:We(b,["prevent"]),class:"space-y-6"},[t("div",Gr,[s(e(G),{for:"withdrawal_amount"},{default:a(()=>[...w[12]||(w[12]=[o(" Jumlah Penarikan ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Qr,[s(e(Te),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"withdrawal_amount",modelValue:e(g).amount,"onUpdate:modelValue":w[0]||(w[0]=I=>e(g).amount=I),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:l.maxAmount,disabled:l.hasPendingWithdrawal||!C.value,required:""},null,8,["modelValue","max","disabled"])]),t("p",Jr," Minimum Rp 10.000 - Maksimal Rp "+n(l.maxAmount.toLocaleString("id-ID")),1),e(g).errors.amount?(r(),c("p",Hr,n(e(g).errors.amount),1)):$("",!0)]),s(e(re)),t("div",Zr,[t("div",Yr,[w[14]||(w[14]=t("h4",{class:"font-semibold"},"Informasi Rekening",-1)),s(e(xt),{href:"/client/profile",class:"text-sm text-primary hover:underline"},{default:a(()=>[...w[13]||(w[13]=[o(" Ubah di Profil ",-1)])]),_:1})]),C.value?(r(),c("div",Xr,[t("div",eo,[w[15]||(w[15]=t("span",{class:"text-muted-foreground"},"Nama Bank:",-1)),t("span",to,n(l.customer.bank_name),1)]),t("div",so,[w[16]||(w[16]=t("span",{class:"text-muted-foreground"},"No. Rekening:",-1)),t("span",ao,n(l.customer.bank_account),1)]),t("div",lo,[w[17]||(w[17]=t("span",{class:"text-muted-foreground"},"Atas Nama:",-1)),t("span",no,n(l.customer.name),1)])])):(r(),c("div",ro," Informasi rekening belum diisi ")),t("div",oo,[s(e(hs),{class:"h-4 w-4 text-blue-600 dark:text-blue-400 shrink-0 mt-0.5"}),w[18]||(w[18]=t("p",{class:"text-xs text-blue-700 dark:text-blue-300"}," Nama pemilik rekening harus sama dengan nama yang terdaftar sebagai member. ",-1))])]),e(g).amount&&parseFloat(e(g).amount)>=1e4?(r(),c("div",io,[w[22]||(w[22]=t("h4",{class:"font-semibold text-sm"},"Rincian Penarikan",-1)),t("div",uo,[w[19]||(w[19]=t("span",{class:"text-muted-foreground"},"Jumlah Penarikan:",-1)),t("span",null,"Rp "+n(x.value.formattedAmount),1)]),t("div",mo,[w[20]||(w[20]=t("span",{class:"text-muted-foreground"},"Biaya Administrasi:",-1)),t("span",co,"- Rp "+n(x.value.formattedAdminFee),1)]),s(e(re)),t("div",po,[w[21]||(w[21]=t("span",null,"Yang Akan Diterima:",-1)),t("span",fo,"Rp "+n(x.value.formattedNetAmount),1)])])):$("",!0),w[24]||(w[24]=t("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg space-y-2"},[t("p",{class:"text-sm text-amber-700 dark:text-amber-300"},[t("strong",null,"Catatan:")]),t("ol",{class:"text-sm text-amber-700 dark:text-amber-300 list-decimal list-inside space-y-2"},[t("li",null," Minimal penarikan Rp 10.000 dengan minimal saldo wallet Anda sebesar Rp 16.500 "),t("li",null," Setiap penarikan dikenakan biaya administrasi Rp 6.500 "),t("li",null,[o(" Periode Pentransferan dari Penarikan Dana "),t("ul",{class:"mt-1 list-disc list-inside space-y-1"},[t("li",null,"Proses Transfer dari Penarikan Dana yang dilakukan di hari yang sama Pkl. 00.01 WIB sd Pkl. 12.00 WIB akan di TRANSFER pada Pkl 14.00 WIB"),t("li",null,"Proses Transfer dari Penarikan Dana ynag dilakukan di hari yang sama Pkl. 12.01 sd Pkl. 16.00 WIB akan di TRANSFER pada Pkl. 17.00 WIB"),t("li",null,"Sedangan Penarikan dana Pkl. 16.01 WIB sd Pkl. 00.00 akan di transfer ke esokan harinya di Pkl. 14.00 WIB")])]),t("li",null,"Pastikan data rekening sudah benar.")])],-1)),t("div",xo,[s(e(z),{type:"button",variant:"outline",onClick:w[1]||(w[1]=I=>{e(g).reset(),i("cancel")}),disabled:e(g).processing},{default:a(()=>[...w[23]||(w[23]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(z),{type:"submit",disabled:e(g).processing||l.hasPendingWithdrawal||!C.value},{default:a(()=>[o(n(e(g).processing?"Memproses...":"Ajukan Penarikan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}),s(e(Hs),{open:_.value,"onUpdate:open":w[2]||(w[2]=I=>_.value=I)},{default:a(()=>[s(e(Fs),null,{default:a(()=>[s(e(Os),null,{default:a(()=>[s(e(Ws),null,{default:a(()=>[...w[25]||(w[25]=[o("Konfirmasi Penarikan",-1)])]),_:1}),s(e(qs),null,{default:a(()=>[...w[26]||(w[26]=[o(" Apakah Anda yakin ingin menarik dana dengan detail berikut? ",-1)])]),_:1})]),_:1}),t("div",go,[t("div",vo,[w[27]||(w[27]=t("span",{class:"text-muted-foreground"},"Jumlah Penarikan:",-1)),t("span",null,"Rp "+n(x.value.formattedAmount),1)]),t("div",bo,[w[28]||(w[28]=t("span",{class:"text-muted-foreground"},"Biaya Administrasi:",-1)),t("span",yo,"- Rp "+n(x.value.formattedAdminFee),1)]),t("div",_o,[w[29]||(w[29]=t("span",null,"Yang Akan Diterima:",-1)),t("span",ko,"Rp "+n(x.value.formattedNetAmount),1)]),s(e(re)),t("div",ho,[w[30]||(w[30]=t("span",{class:"text-muted-foreground"},"Bank:",-1)),t("span",wo,n(l.customer.bank_name),1)]),t("div",$o,[w[31]||(w[31]=t("span",{class:"text-muted-foreground"},"No. Rekening:",-1)),t("span",Po,n(l.customer.bank_account),1)]),t("div",So,[w[32]||(w[32]=t("span",{class:"text-muted-foreground"},"Atas Nama:",-1)),t("span",Co,n(l.customer.name),1)])]),s(e(Gs),null,{default:a(()=>[s(e(Qs),null,{default:a(()=>[...w[33]||(w[33]=[o("Batal",-1)])]),_:1}),s(e(Js),{onClick:v},{default:a(()=>[...w[34]||(w[34]=[o(" Lanjutkan ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(e(Ke),{open:m.value,"onUpdate:open":w[5]||(w[5]=I=>m.value=I)},{default:a(()=>[s(e(Ie),{class:"sm:max-w-md"},{default:a(()=>[s(e(Ne),null,{default:a(()=>[s(e(Ve),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Ye),{class:"h-5 w-5"}),w[35]||(w[35]=o(" Konfirmasi Password ",-1))]),_:1}),s(e(Ee),null,{default:a(()=>[...w[36]||(w[36]=[o(" Masukkan password akun Anda untuk melanjutkan penarikan dana. ",-1)])]),_:1})]),_:1}),t("div",Ro,[t("div",To,[s(e(G),{for:"confirm_password"},{default:a(()=>[...w[37]||(w[37]=[o("Password",-1)])]),_:1}),t("div",Ao,[s(e(se),{id:"confirm_password",modelValue:e(g).password,"onUpdate:modelValue":w[3]||(w[3]=I=>e(g).password=I),type:d.value?"text":"password",placeholder:"Masukkan password Anda",class:"pr-10",onKeyup:ws(f,["enter"])},null,8,["modelValue","type"]),t("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:w[4]||(w[4]=I=>d.value=!d.value)},[d.value?(r(),T(e(Je),{key:1,class:"h-4 w-4"})):(r(),T(e(Qe),{key:0,class:"h-4 w-4"}))])]),P.value?(r(),c("p",jo,n(P.value),1)):$("",!0)])]),s(e(Ue),null,{default:a(()=>[s(e(z),{type:"button",variant:"outline",onClick:R,disabled:e(g).processing},{default:a(()=>[...w[38]||(w[38]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(z),{type:"button",onClick:f,disabled:e(g).processing||!e(g).password},{default:a(()=>[e(g).processing?(r(),T(e(Ae),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):$("",!0),o(" "+n(e(g).processing?"Memproses...":"Konfirmasi Penarikan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Lo={class:"p-3 border rounded-lg"},Io={class:"flex items-start justify-between gap-2 mb-2"},Vo={class:"flex items-center gap-2"},Eo={class:"font-semibold text-sm"},Ko={class:"text-xs text-muted-foreground"},Uo={class:"mb-2 text-xs text-muted-foreground space-y-1"},No={key:0,class:"line-clamp-2"},zo={key:1,class:"space-y-1"},Fo={class:"text-foreground/80 font-medium"},Oo={class:"grid grid-cols-3 gap-2 pt-1"},Wo={class:"text-foreground/90 font-medium"},qo={class:"border-x px-2"},Go={class:"text-foreground/90 font-medium"},Qo={class:"text-foreground/90 font-medium"},Jo={class:"grid grid-cols-3 gap-2 text-xs border-t pt-2"},Ho={class:"text-center"},Zo={class:"font-semibold text-red-600 dark:text-red-400"},Yo={class:"text-center border-x"},Xo={class:"font-semibold text-emerald-600 dark:text-emerald-400"},ei={class:"text-center"},ti={class:"font-semibold"},si={key:0,class:"mt-3 pt-3 border-t"},ai={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},li={class:"flex gap-2"},ni=X({__name:"WalletTransactionCard",props:{transaction:{}},emits:["continue-payment","status-updated"],setup(l,{emit:u}){const y=l,i=u,{formatDate:C,getTransactionTypeLabel:_,getTransactionStatusLabel:m}=Me(),d=L(!1),P=L(y.transaction.status),g=["topup","top_up","bonus","refund"],x=N(()=>g.includes(y.transaction.type)),b=k=>q(k,"-"),v=k=>typeof k=="object"&&k!==null&&!Array.isArray(k),f=k=>{if(k==null)return null;if(v(k))return k;if(typeof k=="string"){const B=k.trim();if(!B)return null;if(!(B.startsWith("{")&&B.endsWith("}")||B.startsWith("[")&&B.endsWith("]")))return B;try{const Q=JSON.parse(B);return v(Q)?Q:B}catch{return B}}return String(k)},R=N(()=>f(y.transaction.notes)),j=N(()=>{const k=R.value;return!k||typeof k=="string"||!(typeof k.bank_name=="string"&&typeof k.bank_account=="string"&&typeof k.bank_holder=="string")?null:{bank_name:k.bank_name,bank_account:k.bank_account,bank_holder:k.bank_holder,gross_amount:typeof k.gross_amount=="number"?k.gross_amount:void 0,admin_fee:typeof k.admin_fee=="number"?k.admin_fee:void 0,net_amount:typeof k.net_amount=="number"?k.net_amount:void 0}}),w=N(()=>{const k=R.value;if(!k)return"";if(typeof k=="string")return k;if(j.value)return"";if(typeof k.message=="string")return k.message;if(typeof k.description=="string")return k.description;if(typeof k.label=="string")return k.label;try{return JSON.stringify(k)}catch{return"[notes]"}}),I=async k=>{if(!d.value){d.value=!0;try{const B=await de.post("/client/wallet/check-status",{transaction_ref:k});B.data.success?(P.value=B.data.status,i("status-updated",{transactionRef:k,status:B.data.status,newBalance:B.data.new_balance}),M.success(B.data.message),setTimeout(()=>{xe.reload({only:["customer","transactions"]})},500)):M.error(B.data.message)}catch(B){console.error("Check status error:",B),M.error(B.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{d.value=!1}}};return(k,B)=>(r(),c("div",Lo,[t("div",Io,[t("div",Vo,[t("div",{class:Y(["p-1.5 rounded-full shrink-0",{"bg-emerald-100 dark:bg-emerald-900/20":x.value,"bg-red-100 dark:bg-red-900/20":!x.value}])},[x.value?(r(),T(e(Et),{key:0,class:"w-3.5 h-3.5 text-emerald-600 dark:text-emerald-400"})):(r(),T(e(Kt),{key:1,class:"w-3.5 h-3.5 text-red-600 dark:text-red-400"}))],2),t("div",null,[t("p",Eo,n(e(_)(l.transaction.type)),1),t("p",Ko,n(e(C)(l.transaction.created_at)),1)])]),s(e(U),{variant:"secondary",class:Y(["shrink-0",{"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100":P.value==="pending","bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-100":P.value==="completed","bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-100":P.value==="failed"||P.value==="cancelled"}])},{default:a(()=>[o(n(e(m)(P.value)),1)]),_:1},8,["class"])]),t("div",Uo,[w.value?(r(),c("p",No,n(w.value),1)):j.value?(r(),c("div",zo,[t("p",Fo," Rekening: "+n(j.value.bank_name)+" - "+n(j.value.bank_account),1),t("p",null," a.n "+n(j.value.bank_holder),1),t("div",Oo,[t("div",null,[B[2]||(B[2]=t("p",{class:"text-[11px] text-muted-foreground"},"Gross",-1)),t("p",Wo,n(j.value.gross_amount!=null?b(j.value.gross_amount):"-"),1)]),t("div",qo,[B[3]||(B[3]=t("p",{class:"text-[11px] text-muted-foreground"},"Admin",-1)),t("p",Go,n(j.value.admin_fee!=null?b(j.value.admin_fee):"-"),1)]),t("div",null,[B[4]||(B[4]=t("p",{class:"text-[11px] text-muted-foreground"},"Net",-1)),t("p",Qo,n(j.value.net_amount!=null?b(j.value.net_amount):"-"),1)])])])):$("",!0),t("p",null,"Ref: "+n(l.transaction.transaction_ref),1)]),t("div",Jo,[t("div",Ho,[B[5]||(B[5]=t("p",{class:"text-muted-foreground mb-0.5"},"Debit",-1)),t("p",Zo,n(x.value?"-":b(l.transaction.amount)),1)]),t("div",Yo,[B[6]||(B[6]=t("p",{class:"text-muted-foreground mb-0.5"},"Kredit",-1)),t("p",Xo,n(x.value?b(l.transaction.amount):"-"),1)]),t("div",ei,[B[7]||(B[7]=t("p",{class:"text-muted-foreground mb-0.5"},"Saldo",-1)),t("p",ti,n(b(l.transaction.balance_after)),1)])]),l.transaction.type==="topup"&&P.value==="pending"&&l.transaction.midtrans_transaction_id?(r(),c("div",si,[t("div",ai,[B[10]||(B[10]=t("p",{class:"text-xs text-muted-foreground"},"Pembayaran menunggu konfirmasi",-1)),t("div",li,[s(e(z),{size:"sm",variant:"outline",disabled:d.value,onClick:B[0]||(B[0]=K=>I(l.transaction.transaction_ref)),class:"shrink-0"},{default:a(()=>[s(e(Vt),{class:Y(["w-3 h-3 mr-1",{"animate-spin":d.value}])},null,8,["class"]),B[8]||(B[8]=o(" Cek Status ",-1))]),_:1},8,["disabled"]),s(e(z),{size:"sm",onClick:B[1]||(B[1]=K=>i("continue-payment",l.transaction.midtrans_transaction_id)),class:"shrink-0"},{default:a(()=>[s(e(Te),{class:"w-3 h-3 mr-1"}),B[9]||(B[9]=o(" Lanjutkan Pembayaran ",-1))]),_:1})])])])):$("",!0)]))}}),ri={key:0,class:"space-y-3"},oi={key:1,class:"py-12 text-center"},ii=X({__name:"WalletTransactionList",props:{transactions:{}},setup(l){const u=wt(),y=N(()=>u.props.customer),i=_=>{typeof window>"u"||(window.snap?window.snap.pay(_,{onSuccess:function(m){console.log("Payment success:",m),M.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(m){console.log("Payment pending:",m),M.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(m){M.error("Pembayaran gagal."),console.error("Payment error:",m)},onClose:function(){M("Pembayaran ditutup sebelum selesai."),console.log("Payment modal closed")}}):alert("Midtrans Snap belum siap. Silakan refresh halaman."))},C=_=>{_.newBalance!==void 0&&y.value&&(y.value.ewallet_saldo=_.newBalance)};return(_,m)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...m[0]||(m[0]=[o("Riwayat Transaksi",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[o(n(l.transactions.length)+" transaksi e-wallet terbaru ",1)]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[l.transactions.length>0?(r(),c("div",ri,[(r(!0),c(F,null,Z(l.transactions,d=>(r(),T(ni,{key:d.id,transaction:d,onContinuePayment:i,onStatusUpdated:C},null,8,["transaction"]))),128))])):(r(),c("div",oi,[s(e(De),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),m[1]||(m[1]=t("p",{class:"text-muted-foreground"},"Belum ada transaksi",-1))]))]),_:1})]),_:1}))}}),di={class:"flex-1"},ui={key:0,class:"text-xs mt-1 text-gray-700 dark:text-gray-300"},mi={class:"font-mono"},ci={class:"uppercase"},pi=["disabled"],fi={key:1,class:"border border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 text-xs text-amber-800 dark:text-amber-200"},xi=X({__name:"WalletStatusBanner",props:{initialTransactions:{}},setup(l){const u=l,y=L(!1),i=L(null),C=L(null),_=N(()=>{const g=C.value?.status||"";return g==="completed"||g==="success"?{tone:"success",title:"Top up berhasil",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900",text:"text-green-800 dark:text-green-200"}:g==="pending"?{tone:"pending",title:"Menunggu pembayaran",bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-900",text:"text-yellow-800 dark:text-yellow-200"}:g==="cancelled"||g==="failed"||g==="expire"||g==="denied"||g==="deny"?{tone:"failed",title:"Pembayaran gagal / dibatalkan",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-900",text:"text-red-800 dark:text-red-200"}:{tone:"info",title:"Status transaksi",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900",text:"text-blue-800 dark:text-blue-200"}});function m(g,x=2){const b=new Date(g).getTime();return(Date.now()-b)/36e5<=x}const d=N(()=>{if(!C.value)return!1;const g=C.value.status;return g==="pending"?!0:g==="completed"||g==="success"?m(C.value.created_at,2):m(C.value.created_at,6)});async function P(){try{y.value=!0,i.value=null;const{data:g}=await de.get("/client/wallet/history",{params:{type:"topup"}}),x=Array.isArray(g?.data)?g.data:Array.isArray(g)?g:[];x.length>0&&(C.value=x[0])}catch(g){i.value=g?.response?.data?.message||g?.message||"Gagal memuat status transaksi."}finally{y.value=!1}}return at(()=>{u.initialTransactions&&u.initialTransactions.length>0&&(C.value=u.initialTransactions[0]),P()}),(g,x)=>d.value?(r(),c("div",{key:0,class:Y(["border rounded-lg p-4 flex items-start gap-3",_.value.border,_.value.bg])},[t("div",di,[t("p",{class:Y(["text-sm font-semibold",_.value.text])},n(_.value.title),3),C.value?(r(),c("p",ui,[x[0]||(x[0]=o(" Ref: ",-1)),t("span",mi,n(C.value.transaction_ref),1),o("  Jumlah: Rp "+n(new Intl.NumberFormat("id-ID").format(C.value.amount))+"  Status: ",1),t("span",ci,n(C.value.status),1)])):$("",!0)]),t("button",{type:"button",class:"text-xs underline text-gray-700 dark:text-gray-300",onClick:P,disabled:y.value},n(y.value?"Menyegarkan...":"Segarkan"),9,pi)],2)):i.value?(r(),c("div",fi,n(i.value),1)):$("",!0)}}),gi={class:"space-y-6"},vi=X({__name:"WalletTab",props:{customer:{},transactions:{},hasPendingWithdrawal:{type:Boolean}},setup(l){const u=L("wallet");return(y,i)=>(r(),c("div",gi,[s(Tr,{balance:Number(l.customer.ewallet_saldo)||0,onTopup:i[0]||(i[0]=C=>u.value="wallet-topup"),onWithdrawal:i[1]||(i[1]=C=>u.value="wallet-withdrawal")},null,8,["balance"]),u.value==="wallet"?(r(),T(xi,{key:0,"initial-transactions":l.transactions},null,8,["initial-transactions"])):$("",!0),u.value==="wallet-topup"?(r(),T(zr,{key:1,onCancel:i[2]||(i[2]=C=>u.value="wallet")})):$("",!0),u.value==="wallet-withdrawal"?(r(),T(Bo,{key:2,customer:l.customer,"max-amount":Number(l.customer.ewallet_saldo)||0,"has-pending-withdrawal":l.hasPendingWithdrawal,onCancel:i[3]||(i[3]=C=>u.value="wallet")},null,8,["customer","max-amount","has-pending-withdrawal"])):$("",!0),u.value==="wallet"?(r(),T(ii,{key:3,transactions:l.transactions},null,8,["transactions"])):$("",!0)]))}}),bi={class:"space-y-2"},yi={class:"relative"},_i={key:0,class:"text-sm text-red-500"},ki={class:"space-y-2"},hi={class:"relative"},wi={key:0,class:"text-sm text-red-500"},$i={class:"space-y-2"},Pi={class:"relative"},Si={class:"flex items-center justify-end gap-3"},Ci=X({__name:"SecurityTab",setup(l){const u=Ce({current_password:"",password:"",password_confirmation:""}),y=L(!1),i=L(!1),C=L(!1),_=()=>{u.patch("/client/profile/password",{preserveScroll:!0,onSuccess:()=>{u.reset(),y.value=!1,i.value=!1,C.value=!1,M.success("Password berhasil diubah")}})};return(m,d)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...d[7]||(d[7]=[o("Ubah Password",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...d[8]||(d[8]=[o(" Pastikan akun Anda menggunakan password yang kuat ",-1)])]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[t("form",{onSubmit:We(_,["prevent"]),class:"space-y-6"},[t("div",bi,[s(e(G),{for:"current_password"},{default:a(()=>[...d[9]||(d[9]=[o(" Password Saat Ini ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",yi,[s(e(Ye),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"current_password",modelValue:e(u).current_password,"onUpdate:modelValue":d[0]||(d[0]=P=>e(u).current_password=P),type:y.value?"text":"password",placeholder:"Masukkan password saat ini",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:d[1]||(d[1]=P=>y.value=!y.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[y.value?(r(),T(e(Je),{key:1,class:"h-4 w-4"})):(r(),T(e(Qe),{key:0,class:"h-4 w-4"}))])]),e(u).errors.current_password?(r(),c("p",_i,n(e(u).errors.current_password),1)):$("",!0)]),s(e(re)),t("div",ki,[s(e(G),{for:"password"},{default:a(()=>[...d[10]||(d[10]=[o(" Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",hi,[s(e(Mt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"password",modelValue:e(u).password,"onUpdate:modelValue":d[2]||(d[2]=P=>e(u).password=P),type:i.value?"text":"password",placeholder:"Masukkan password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:d[3]||(d[3]=P=>i.value=!i.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[i.value?(r(),T(e(Je),{key:1,class:"h-4 w-4"})):(r(),T(e(Qe),{key:0,class:"h-4 w-4"}))])]),d[11]||(d[11]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimal 8 karakter ",-1)),e(u).errors.password?(r(),c("p",wi,n(e(u).errors.password),1)):$("",!0)]),t("div",$i,[s(e(G),{for:"password_confirmation"},{default:a(()=>[...d[12]||(d[12]=[o(" Konfirmasi Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Pi,[s(e(Mt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"password_confirmation",modelValue:e(u).password_confirmation,"onUpdate:modelValue":d[4]||(d[4]=P=>e(u).password_confirmation=P),type:C.value?"text":"password",placeholder:"Konfirmasi password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:d[5]||(d[5]=P=>C.value=!C.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[C.value?(r(),T(e(Je),{key:1,class:"h-4 w-4"})):(r(),T(e(Qe),{key:0,class:"h-4 w-4"}))])])]),t("div",Si,[s(e(z),{type:"button",variant:"outline",onClick:d[6]||(d[6]=P=>e(u).reset()),disabled:e(u).processing},{default:a(()=>[...d[13]||(d[13]=[o(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(z),{type:"submit",disabled:e(u).processing},{default:a(()=>[e(u).processing?$("",!0):(r(),T(e(Ye),{key:0,class:"w-4 h-4 mr-2"})),o(" "+n(e(u).processing?"Mengupdate...":"Update Password"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Ri={class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Ti={class:"flex items-start gap-3"},Ai={class:"flex-1"},ji=X({__name:"DangerZoneTab",setup(l){const u=L(!1),y=Ce({}),i=()=>{y.delete("/client/profile",{onFinish:()=>{u.value=!1}})};return(C,_)=>(r(),c(F,null,[s(e(O),{class:"border-red-200 dark:border-red-900"},{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"text-red-600 dark:text-red-400"},{default:a(()=>[..._[3]||(_[3]=[o("Zona Bahaya",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[..._[4]||(_[4]=[o(" Tindakan di bawah ini bersifat permanen dan tidak dapat dibatalkan ",-1)])]),_:1})]),_:1}),s(e(W),{class:"space-y-6"},{default:a(()=>[t("div",Ri,[t("div",Ti,[s(e(je),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),t("div",Ai,[_[6]||(_[6]=t("h3",{class:"font-semibold text-red-900 dark:text-red-100"}," Hapus Akun ",-1)),_[7]||(_[7]=t("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Setelah akun Anda dihapus, semua data akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1)),s(e(z),{type:"button",variant:"destructive",class:"mt-4",onClick:_[0]||(_[0]=m=>u.value=!0)},{default:a(()=>[s(e(ct),{class:"w-4 h-4 mr-2"}),_[5]||(_[5]=o(" Hapus Akun Saya ",-1))]),_:1})])])])]),_:1})]),_:1}),s(e(Ke),{open:u.value,"onUpdate:open":_[2]||(_[2]=m=>u.value=m)},{default:a(()=>[s(e(Ie),null,{default:a(()=>[s(e(Ne),null,{default:a(()=>[s(e(Ve),{class:"flex items-center gap-2 text-red-600"},{default:a(()=>[s(e(je),{class:"w-5 h-5"}),_[8]||(_[8]=o(" Konfirmasi Hapus Akun ",-1))]),_:1}),s(e(Ee),null,{default:a(()=>[..._[9]||(_[9]=[o(" Apakah Anda yakin ingin menghapus akun Anda? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan dihapus secara permanen. ",-1)])]),_:1})]),_:1}),_[11]||(_[11]=t("div",{class:"py-4"},[t("div",{class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},[t("p",{class:"text-sm text-red-700 dark:text-red-300"},[t("strong",null,"Data yang akan dihapus:")]),t("ul",{class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside space-y-1"},[t("li",null,"Informasi profil dan akun"),t("li",null,"Riwayat transaksi"),t("li",null,"E-wallet dan saldo"),t("li",null,"Jaringan dan bonus")])])],-1)),s(e(Ue),null,{default:a(()=>[s(e(z),{type:"button",variant:"outline",onClick:_[1]||(_[1]=m=>u.value=!1),disabled:e(y).processing},{default:a(()=>[..._[10]||(_[10]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(z),{type:"button",variant:"destructive",onClick:i,disabled:e(y).processing},{default:a(()=>[s(e(ct),{class:"w-4 h-4 mr-2"}),o(" "+n(e(y).processing?"Menghapus...":"Ya, Hapus Akun"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Di={key:0,class:"text-center py-12 text-muted-foreground"},Mi={class:"flex items-start justify-between"},Bi={class:"flex-1"},Li={class:"flex items-center gap-2 mb-2"},Ii={class:"font-semibold text-lg"},Vi={class:"text-sm font-normal text-muted-foreground"},Ei={class:"space-y-1 text-sm text-muted-foreground"},Ki={key:0},Ui={key:1,class:"text-xs font-medium text-primary"},Ni={key:2,class:"text-xs"},zi={class:"text-blue-600 dark:text-blue-400"},Fi={class:"text-green-600 dark:text-green-400"},Oi={class:"text-xs"},Wi={class:"text-xs font-medium text-green-600 dark:text-green-400"},qi={class:"flex flex-col items-end gap-2"},Gi={key:0,class:"text-center py-12 text-muted-foreground"},Qi={class:"flex items-start justify-between"},Ji={class:"flex-1"},Hi={class:"flex items-center gap-2 mb-2"},Zi={class:"font-semibold text-lg"},Yi={class:"text-sm font-normal text-muted-foreground"},Xi={class:"space-y-1 text-sm text-muted-foreground"},ed={key:0},td={key:1,class:"text-xs font-medium text-primary"},sd={key:2,class:"text-xs"},ad={class:"text-blue-600 dark:text-blue-400"},ld={class:"text-green-600 dark:text-green-400"},nd={class:"text-xs"},rd={class:"text-xs font-medium text-orange-600 dark:text-orange-400"},od={class:"flex flex-col items-end gap-2"},id={key:0,class:"text-center py-12 text-muted-foreground"},dd={class:"flex items-start justify-between"},ud={class:"flex-1"},md={class:"flex items-center gap-2 mb-2"},cd={class:"font-semibold text-lg"},pd={class:"text-sm font-normal text-muted-foreground"},fd={class:"space-y-1 text-sm text-muted-foreground"},xd={key:0},gd={key:1,class:"text-xs font-medium text-primary"},vd={key:2,class:"text-xs"},bd={class:"text-blue-600 dark:text-blue-400"},yd={class:"text-green-600 dark:text-green-400"},_d={class:"text-xs"},kd={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},hd={class:"flex flex-col items-end gap-2"},wd={class:"font-semibold"},$d={class:"grid grid-cols-2 gap-4 py-4"},Pd=["disabled"],Sd={class:"text-xs text-muted-foreground mt-1"},Cd=["disabled"],Rd={class:"text-xs text-muted-foreground mt-1"},Td=X({__name:"NetworkMembersTab",props:{activeMembers:{},passiveMembers:{},prospectMembers:{},hasLeft:{type:Boolean},hasRight:{type:Boolean}},setup(l){const u=L(!1),y=L(null),i=L(null),C=Ce({member_id:0,position:""}),_=b=>{y.value=b,i.value=null,C.member_id=b.id,C.position="",u.value=!0},m=()=>{u.value=!1,y.value=null,i.value=null,C.reset()},d=()=>{if(!y.value||!i.value){M.error("Pilih posisi terlebih dahulu");return}C.position=i.value,C.post("/client/profile/place-member",{onSuccess:()=>{M.success(`${y.value?.name} berhasil ditempatkan di posisi ${i.value}`),m()},onError:b=>{const v=b.error||"Gagal menempatkan member ke binary tree";M.error(v)}})},P=b=>new Date(b).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),g=b=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(b),x=b=>b?{variant:b==="left"?"default":"secondary",text:b==="left"?"Kiri":"Kanan"}:{variant:"outline",text:"Belum Ditempatkan"};return(b,v)=>(r(),c(F,null,[s(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...v[2]||(v[2]=[o("Jaringan Member",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...v[3]||(v[3]=[o("Kelola dan lihat member dalam jaringan Anda",-1)])]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[s(e(kt),{"default-value":"active",class:"w-full"},{default:a(()=>[s(e(ht),{class:"grid w-full grid-cols-3"},{default:a(()=>[s(e(le),{value:"active"},{default:a(()=>[s(e(ge),{class:"w-4 h-4 mr-2"}),o(" Aktif ("+n(l.activeMembers.length)+") ",1)]),_:1}),s(e(le),{value:"passive"},{default:a(()=>[s(e(He),{class:"w-4 h-4 mr-2"}),o(" Pasif ("+n(l.passiveMembers.length)+") ",1)]),_:1}),s(e(le),{value:"prospect"},{default:a(()=>[s(e(Ze),{class:"w-4 h-4 mr-2"}),o(" Prospek ("+n(l.prospectMembers.length)+") ",1)]),_:1})]),_:1}),s(e(ne),{value:"active",class:"space-y-4"},{default:a(()=>[l.activeMembers.length===0?(r(),c("div",Di,[s(e(ge),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),v[4]||(v[4]=t("p",null,"Belum ada member aktif",-1)),v[5]||(v[5]=t("p",{class:"text-sm mt-2"},"Member aktif adalah member yang sudah ditempatkan di binary tree",-1))])):$("",!0),(r(!0),c(F,null,Z(l.activeMembers,f=>(r(),T(e(O),{key:f.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(W),{class:"p-4"},{default:a(()=>[t("div",Mi,[t("div",Bi,[t("div",Li,[t("h4",Ii,[o(n(f.name)+" ",1),t("span",Vi,"(@"+n(f.username)+")",1)]),s(e(U),{variant:x(f.position).variant},{default:a(()=>[o(n(x(f.position).text),1)]),_:2},1032,["variant"]),f.level?(r(),T(e(U),{key:0,variant:"outline"},{default:a(()=>[o(" Level "+n(f.level),1)]),_:2},1024)):$("",!0)]),t("div",Ei,[t("p",null,n(f.email),1),f.phone?(r(),c("p",Ki,n(f.phone),1)):$("",!0),f.package_name?(r(),c("p",Ui," Paket: "+n(f.package_name),1)):$("",!0),(f.total_left??0)>0||(f.total_right??0)>0?(r(),c("p",Ni,[t("span",zi,"Kiri: "+n(f.total_left??0),1),v[6]||(v[6]=t("span",{class:"mx-1"},"|",-1)),t("span",Fi,"Kanan: "+n(f.total_right??0),1)])):$("",!0),t("p",Oi,"Bergabung: "+n(P(f.joined_at)),1),t("p",Wi," Omzet: "+n(g(f.omzet)),1)])]),t("div",qi,[s(e(U),{variant:"default"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 mr-1"}),v[7]||(v[7]=o(" Aktif ",-1))]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(ne),{value:"passive",class:"space-y-4"},{default:a(()=>[l.passiveMembers.length===0?(r(),c("div",Gi,[s(e(He),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),v[8]||(v[8]=t("p",null,"Belum ada member pasif",-1)),v[9]||(v[9]=t("p",{class:"text-sm mt-2"},"Member pasif adalah member yang belum ditempatkan di binary tree tapi sudah memiliki pembelian/order",-1))])):$("",!0),(r(!0),c(F,null,Z(l.passiveMembers,f=>(r(),T(e(O),{key:f.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(W),{class:"p-4"},{default:a(()=>[t("div",Qi,[t("div",Ji,[t("div",Hi,[t("h4",Zi,[o(n(f.name)+" ",1),t("span",Yi,"(@"+n(f.username)+")",1)]),s(e(U),{variant:"secondary"},{default:a(()=>[...v[10]||(v[10]=[o("Belum Ditempatkan",-1)])]),_:1})]),t("div",Xi,[t("p",null,n(f.email),1),f.phone?(r(),c("p",ed,n(f.phone),1)):$("",!0),f.package_name?(r(),c("p",td," Paket: "+n(f.package_name),1)):$("",!0),(f.total_left??0)>0||(f.total_right??0)>0?(r(),c("p",sd,[t("span",ad,"Kiri: "+n(f.total_left??0),1),v[11]||(v[11]=t("span",{class:"mx-1"},"|",-1)),t("span",ld,"Kanan: "+n(f.total_right??0),1)])):$("",!0),t("p",nd,"Bergabung: "+n(P(f.joined_at)),1),t("p",rd," Omzet: "+n(g(f.omzet)),1)])]),t("div",od,[s(e(U),{variant:"outline"},{default:a(()=>[s(e(He),{class:"w-3 h-3 mr-1"}),v[12]||(v[12]=o(" Pasif ",-1))]),_:1}),s(e(U),{variant:"default"},{default:a(()=>[...v[13]||(v[13]=[o(" Sudah Belanja ",-1)])]),_:1}),!l.hasLeft||!l.hasRight?(r(),T(e(z),{key:0,size:"sm",variant:"default",class:"mt-2",onClick:R=>_(f)},{default:a(()=>[s(e(ze),{class:"w-3 h-3 mr-1"}),v[14]||(v[14]=o(" Tempatkan ke Binary ",-1))]),_:1},8,["onClick"])):$("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(ne),{value:"prospect",class:"space-y-4"},{default:a(()=>[l.prospectMembers.length===0?(r(),c("div",id,[s(e(Ze),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),v[15]||(v[15]=t("p",null,"Belum ada member prospek",-1)),v[16]||(v[16]=t("p",{class:"text-sm mt-2"},"Member prospek adalah member yang baru mendaftar, belum ditempatkan di binary tree dan belum memiliki pembelian/order",-1))])):$("",!0),(r(!0),c(F,null,Z(l.prospectMembers,f=>(r(),T(e(O),{key:f.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(W),{class:"p-4"},{default:a(()=>[t("div",dd,[t("div",ud,[t("div",md,[t("h4",cd,[o(n(f.name)+" ",1),t("span",pd,"(@"+n(f.username)+")",1)]),s(e(U),{variant:"outline"},{default:a(()=>[...v[17]||(v[17]=[o("Baru Bergabung",-1)])]),_:1})]),t("div",fd,[t("p",null,n(f.email),1),f.phone?(r(),c("p",xd,n(f.phone),1)):$("",!0),f.package_name?(r(),c("p",gd," Paket: "+n(f.package_name),1)):$("",!0),(f.total_left??0)>0||(f.total_right??0)>0?(r(),c("p",vd,[t("span",bd,"Kiri: "+n(f.total_left??0),1),v[18]||(v[18]=t("span",{class:"mx-1"},"|",-1)),t("span",yd,"Kanan: "+n(f.total_right??0),1)])):$("",!0),t("p",_d,"Bergabung: "+n(P(f.joined_at)),1),t("p",kd," Omzet: "+n(g(f.omzet)),1)])]),t("div",hd,[s(e(U),{variant:"secondary"},{default:a(()=>[s(e(Ze),{class:"w-3 h-3 mr-1"}),v[19]||(v[19]=o(" Prospek ",-1))]),_:1}),s(e(U),{variant:"secondary"},{default:a(()=>[...v[20]||(v[20]=[o(" Belum Belanja ",-1)])]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),s(e(Ke),{open:u.value,"onUpdate:open":m},{default:a(()=>[s(e(Ie),{class:"sm:max-w-md"},{default:a(()=>[s(e(Ne),null,{default:a(()=>[s(e(Ve),null,{default:a(()=>[...v[21]||(v[21]=[o("Tempatkan Member ke Binary Tree",-1)])]),_:1}),s(e(Ee),null,{default:a(()=>[v[22]||(v[22]=o(" Pilih posisi untuk menempatkan ",-1)),t("span",wd,n(y.value?.name),1),v[23]||(v[23]=o(" di jaringan binary tree Anda. ",-1))]),_:1})]),_:1}),t("div",$d,[t("button",{type:"button",disabled:l.hasLeft,class:Y(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",l.hasLeft?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":i.value==="left"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:v[0]||(v[0]=f=>!l.hasLeft&&(i.value="left"))},[s(e(ze),{class:"w-8 h-8 mb-2 rotate-90"}),v[24]||(v[24]=t("span",{class:"font-semibold"},"Posisi Kiri",-1)),t("span",Sd,n(l.hasLeft?"Sudah Terisi":"Left Position"),1)],10,Pd),t("button",{type:"button",disabled:l.hasRight,class:Y(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",l.hasRight?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":i.value==="right"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:v[1]||(v[1]=f=>!l.hasRight&&(i.value="right"))},[s(e(ze),{class:"w-8 h-8 mb-2 -rotate-90"}),v[25]||(v[25]=t("span",{class:"font-semibold"},"Posisi Kanan",-1)),t("span",Rd,n(l.hasRight?"Sudah Terisi":"Right Position"),1)],10,Cd)]),s(e(Ue),null,{default:a(()=>[s(e(z),{variant:"outline",onClick:m,disabled:e(C).processing},{default:a(()=>[...v[26]||(v[26]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(z),{onClick:d,disabled:!i.value||e(C).processing},{default:a(()=>[o(n(e(C).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Ad=X({__name:"GoJSBinaryTree",props:{binaryTree:{},isDialog:{type:Boolean,default:!1}},setup(l,{expose:u}){let y=null;const i=l,C=L(null),_=L(!1);let m=null;const d=(f,R=null)=>{if(!f)return{nodes:[],links:[]};const j=[],w=[],I=(k,B,K)=>{const Q=k.level<5,E={key:k.id,name:k.name,username:k.username,package:k.package_name||"Tidak ada paket",totalLeft:k.total_left||0,totalRight:k.total_right||0,position:K,isActive:k.status,hasLeft:!!k.left,hasRight:!!k.right,level:k.level,order:K==="left"?0:K==="right"?1:0};if(j.push(E),B!==null&&w.push({from:B,to:k.id,order:K==="left"?0:1}),!k.left&&k.status&&Q){const A=-k.id*2;j.push({key:A,name:"+ Kiri",username:"",package:"",isPlaceholder:!0,parentId:k.id,placeholderPosition:"left",order:0}),w.push({from:k.id,to:A,order:0})}if(!k.right&&k.status&&Q){const A=-k.id*2-1;j.push({key:A,name:"+ Kanan",username:"",package:"",isPlaceholder:!0,parentId:k.id,placeholderPosition:"right",order:1}),w.push({from:k.id,to:A,order:1})}k.left&&I(k.left,k.id,"left"),k.right&&I(k.right,k.id,"right")};return I(f,R,null),{nodes:j,links:w}},P=()=>{if(!C.value||!y)return;const f=y,R=f.GraphObject.make;m=R(f.Diagram,C.value,{"undoManager.isEnabled":!1,"animationManager.isEnabled":!0,initialAutoScale:f.AutoScale.Uniform,contentAlignment:f.Spot.Top,layout:R(f.TreeLayout,{angle:90,layerSpacing:50,nodeSpacing:20,arrangement:f.TreeArrangement.Horizontal,sorting:f.TreeSorting.Ascending,comparer:(j,w)=>{const I=j.node?.data?.order??0,k=w.node?.data?.order??0;return I-k}}),maxSelectionCount:1}),m.addDiagramListener("ObjectSingleClicked",j=>{const w=j.subject.part;if(w instanceof f.Node){const I=w.data;I?.isPlaceholder&&I?.parentId&&I?.placeholderPosition?window.dispatchEvent(new CustomEvent("gojs-open-placement",{detail:{uplineId:I.parentId,position:I.placeholderPosition}})):!I?.isPlaceholder&&I?.key&&window.dispatchEvent(new CustomEvent("gojs-member-click",{detail:{memberId:I.key}}))}}),m.nodeTemplate=R(f.Node,"Auto",{cursor:"pointer",selectionAdorned:!1},R(f.Shape,"RoundedRectangle",{fill:"white",stroke:"#e2e8f0",strokeWidth:2,parameter1:8},new f.Binding("fill","",j=>j.isPlaceholder?"#f8fafc":j.isActive?"#ffffff":"#fef3c7"),new f.Binding("stroke","",j=>j.isPlaceholder?"#cbd5e1":j.position==="left"?"#3b82f6":j.position==="right"?"#22c55e":"#6366f1"),new f.Binding("strokeWidth","",j=>j.isPlaceholder?1:2),new f.Binding("strokeDashArray","isPlaceholder",j=>j?[4,4]:null)),R(f.Panel,"Vertical",{margin:8,defaultAlignment:f.Spot.Left},R(f.TextBlock,{font:"bold 13px Inter, sans-serif",stroke:"#1e293b",maxSize:new f.Size(140,NaN),wrap:f.Wrap.Fit,textAlign:"center",alignment:f.Spot.Center},new f.Binding("text","name"),new f.Binding("stroke","isPlaceholder",j=>j?"#64748b":"#1e293b"),new f.Binding("font","isPlaceholder",j=>j?"12px Inter, sans-serif":"bold 13px Inter, sans-serif")),R(f.TextBlock,{font:"11px Inter, sans-serif",stroke:"#64748b",maxSize:new f.Size(140,NaN),wrap:f.Wrap.Fit,margin:new f.Margin(2,0,0,0),alignment:f.Spot.Center},new f.Binding("text","username"),new f.Binding("visible","isPlaceholder",j=>!j)),R(f.Panel,"Auto",{margin:new f.Margin(4,0,0,0),alignment:f.Spot.Center},new f.Binding("visible","isPlaceholder",j=>!j),R(f.Shape,"RoundedRectangle",{fill:"#eff6ff",stroke:"#bfdbfe",strokeWidth:1,parameter1:4}),R(f.TextBlock,{font:"10px Inter, sans-serif",stroke:"#1d4ed8",margin:new f.Margin(2,6,2,6)},new f.Binding("text","package"))),R(f.Panel,"Horizontal",{margin:new f.Margin(6,0,0,0),alignment:f.Spot.Center},new f.Binding("visible","isPlaceholder",j=>!j),R(f.Panel,"Horizontal",R(f.Shape,"Circle",{width:8,height:8,fill:"#3b82f6",stroke:null,margin:new f.Margin(0,4,0,0)}),R(f.TextBlock,{font:"10px Inter, sans-serif",stroke:"#64748b"},new f.Binding("text","totalLeft",j=>`L: ${j}`))),R(f.TextBlock," | ",{font:"10px Inter, sans-serif",stroke:"#cbd5e1"}),R(f.Panel,"Horizontal",R(f.Shape,"Circle",{width:8,height:8,fill:"#22c55e",stroke:null,margin:new f.Margin(0,4,0,0)}),R(f.TextBlock,{font:"10px Inter, sans-serif",stroke:"#64748b"},new f.Binding("text","totalRight",j=>`R: ${j}`)))))),m.linkTemplate=R(f.Link,{routing:f.Routing.Orthogonal,corner:10,selectable:!1},R(f.Shape,{strokeWidth:2,stroke:"#cbd5e1"})),g()},g=()=>{if(!m||!i.binaryTree||!y)return;const f=y,{nodes:R,links:j}=d(i.binaryTree);m.model=new f.GraphLinksModel(R,j),requestAnimationFrame(()=>{m&&m.zoomToFit()})},x=()=>{m&&m.commandHandler.increaseZoom()},b=()=>{m&&m.commandHandler.decreaseZoom()},v=()=>{m&&m.zoomToFit()};return at(async()=>{typeof window<"u"&&(y=await $s(()=>import("./vendor-4-BZYpFr.js").then(f=>f.ee),__vite__mapDeps([0,1])),_.value=!0,setTimeout(()=>{P()},0))}),$t(()=>{m&&(m.removeDiagramListener("ObjectSingleClicked",()=>{}),m.clear(),m.div=null,m=null)}),u({zoomIn:x,zoomOut:b,resetZoom:v}),(f,R)=>_.value?(r(),c("div",{key:1,ref_key:"diagramDiv",ref:C,class:Y(["w-full border rounded-lg bg-slate-50",l.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},null,2)):(r(),c("div",{key:0,class:Y(["w-full border rounded-lg bg-slate-50 flex items-center justify-center",l.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},[...R[0]||(R[0]=[t("div",{class:"text-center text-muted-foreground"},[t("div",{class:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-2"}),t("p",{class:"text-sm"},"Memuat diagram...")],-1)])],2))}}),pe=l=>({url:pe.url(l),method:"get"});pe.definition={methods:["get","head"],url:"/client/profile"};pe.url=l=>pe.definition.url+fe(l);pe.get=l=>({url:pe.url(l),method:"get"});pe.head=l=>({url:pe.url(l),method:"head"});const St=l=>({action:pe.url(l),method:"get"});St.get=l=>({action:pe.url(l),method:"get"});St.head=l=>({action:pe.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...l?.query??l?.mergeQuery??{}}}),method:"get"});pe.form=St;const _e=l=>({url:_e.url(l),method:"patch"});_e.definition={methods:["patch"],url:"/client/profile"};_e.url=l=>_e.definition.url+fe(l);_e.patch=l=>({url:_e.url(l),method:"patch"});const zt=l=>({action:_e.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});zt.patch=l=>({action:_e.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});_e.form=zt;const ke=l=>({url:ke.url(l),method:"patch"});ke.definition={methods:["patch"],url:"/client/profile/password"};ke.url=l=>ke.definition.url+fe(l);ke.patch=l=>({url:ke.url(l),method:"patch"});const Ft=l=>({action:ke.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});Ft.patch=l=>({action:ke.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});ke.form=Ft;const he=l=>({url:he.url(l),method:"delete"});he.definition={methods:["delete"],url:"/client/profile"};he.url=l=>he.definition.url+fe(l);he.delete=l=>({url:he.url(l),method:"delete"});const Ot=l=>({action:he.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...l?.query??l?.mergeQuery??{}}}),method:"post"});Ot.delete=l=>({action:he.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...l?.query??l?.mergeQuery??{}}}),method:"post"});he.form=Ot;const ve=l=>({url:ve.url(l),method:"post"});ve.definition={methods:["post"],url:"/client/profile/place-member"};ve.url=l=>ve.definition.url+fe(l);ve.post=l=>({url:ve.url(l),method:"post"});const Wt=l=>({action:ve.url(l),method:"post"});Wt.post=l=>({action:ve.url(l),method:"post"});ve.form=Wt;const me=(l,u)=>({url:me.url(l,u),method:"get"});me.definition={methods:["get","head"],url:"/client/profile/member-tree/{memberId}"};me.url=(l,u)=>{(typeof l=="string"||typeof l=="number")&&(l={memberId:l}),Array.isArray(l)&&(l={memberId:l[0]}),l=lt(l);const y={memberId:l.memberId};return me.definition.url.replace("{memberId}",y.memberId.toString()).replace(/\/+$/,"")+fe(u)};me.get=(l,u)=>({url:me.url(l,u),method:"get"});me.head=(l,u)=>({url:me.url(l,u),method:"head"});const Ct=(l,u)=>({action:me.url(l,u),method:"get"});Ct.get=(l,u)=>({action:me.url(l,u),method:"get"});Ct.head=(l,u)=>({action:me.url(l,{[u?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...u?.query??u?.mergeQuery??{}}}),method:"get"});me.form=Ct;const ce=l=>({url:ce.url(l),method:"get"});ce.definition={methods:["get","head"],url:"/client/profile/search-member"};ce.url=l=>ce.definition.url+fe(l);ce.get=l=>({url:ce.url(l),method:"get"});ce.head=l=>({url:ce.url(l),method:"head"});const Rt=l=>({action:ce.url(l),method:"get"});Rt.get=l=>({action:ce.url(l),method:"get"});Rt.head=l=>({action:ce.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...l?.query??l?.mergeQuery??{}}}),method:"get"});ce.form=Rt;const be=l=>({url:be.url(l),method:"post"});be.definition={methods:["post"],url:"/client/profile/claim-lifetime-reward"};be.url=l=>be.definition.url+fe(l);be.post=l=>({url:be.url(l),method:"post"});const qt=l=>({action:be.url(l),method:"post"});qt.post=l=>({action:be.url(l),method:"post"});be.form=qt;const we=l=>({url:we.url(l),method:"post"});we.definition={methods:["post"],url:"/client/profile/addresses"};we.url=l=>we.definition.url+fe(l);we.post=l=>({url:we.url(l),method:"post"});const Gt=l=>({action:we.url(l),method:"post"});Gt.post=l=>({action:we.url(l),method:"post"});we.form=Gt;const $e=(l,u)=>({url:$e.url(l,u),method:"put"});$e.definition={methods:["put"],url:"/client/profile/addresses/{address}"};$e.url=(l,u)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=lt(l);const y={address:l.address};return $e.definition.url.replace("{address}",y.address.toString()).replace(/\/+$/,"")+fe(u)};$e.put=(l,u)=>({url:$e.url(l,u),method:"put"});const Qt=(l,u)=>({action:$e.url(l,{[u?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...u?.query??u?.mergeQuery??{}}}),method:"post"});Qt.put=(l,u)=>({action:$e.url(l,{[u?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...u?.query??u?.mergeQuery??{}}}),method:"post"});$e.form=Qt;const Pe=(l,u)=>({url:Pe.url(l,u),method:"delete"});Pe.definition={methods:["delete"],url:"/client/profile/addresses/{address}"};Pe.url=(l,u)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=lt(l);const y={address:l.address};return Pe.definition.url.replace("{address}",y.address.toString()).replace(/\/+$/,"")+fe(u)};Pe.delete=(l,u)=>({url:Pe.url(l,u),method:"delete"});const Jt=(l,u)=>({action:Pe.url(l,{[u?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...u?.query??u?.mergeQuery??{}}}),method:"post"});Jt.delete=(l,u)=>({action:Pe.url(l,{[u?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...u?.query??u?.mergeQuery??{}}}),method:"post"});Pe.form=Jt;const Se=(l,u)=>({url:Se.url(l,u),method:"post"});Se.definition={methods:["post"],url:"/client/profile/addresses/{address}/set-default"};Se.url=(l,u)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=lt(l);const y={address:l.address};return Se.definition.url.replace("{address}",y.address.toString()).replace(/\/+$/,"")+fe(u)};Se.post=(l,u)=>({url:Se.url(l,u),method:"post"});const Ht=(l,u)=>({action:Se.url(l,u),method:"post"});Ht.post=(l,u)=>({action:Se.url(l,u),method:"post"});Se.form=Ht;const jd={class:"space-y-4 sm:space-y-6"},Dd={class:"grid grid-cols-3 gap-2 sm:gap-4"},Md={class:"text-lg sm:text-2xl font-bold"},Bd={class:"text-lg sm:text-2xl font-bold text-blue-600"},Ld={class:"text-lg sm:text-2xl font-bold text-green-600"},Id={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Vd={class:"flex items-center gap-2"},Ed={class:"flex items-center gap-1 sm:gap-2"},Kd={class:"relative"},Ud={class:"relative"},Nd={key:0,class:"absolute top-full right-0 mt-1 w-64 sm:w-72 bg-background border rounded-lg shadow-lg z-20 max-h-64 overflow-y-auto"},zd={key:0,class:"p-3 text-center text-sm text-muted-foreground"},Fd=["onMousedown"],Od={class:"text-sm font-medium truncate"},Wd={class:"text-xs text-muted-foreground truncate"},qd={key:0,class:"text-xs text-primary"},Gd={class:"relative"},Qd={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg"},Jd={class:"text-center"},Hd={key:2,class:"h-[400px] flex items-center justify-center text-muted-foreground"},Zd={class:"text-center"},Yd={class:"font-semibold"},Xd={class:"flex-1 overflow-y-auto py-2 sm:py-4"},eu={class:"relative mb-3 sm:mb-4"},tu={key:0,class:"text-center py-8 sm:py-12 text-muted-foreground"},su={class:"text-sm sm:text-base"},au={key:1,class:"text-center py-8 sm:py-12 text-muted-foreground"},lu={key:2,class:"space-y-2"},nu=["onClick"],ru={class:"flex items-start justify-between gap-2"},ou={class:"flex-1 min-w-0"},iu={class:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1"},du={class:"font-semibold text-sm sm:text-base truncate"},uu={class:"space-y-0.5 text-xs sm:text-sm text-muted-foreground"},mu={class:"truncate"},cu={key:0,class:"truncate"},pu={class:"text-[10px] sm:text-xs"},fu={key:0,class:"flex-shrink-0"},xu=X({__name:"BinaryTreeTab",props:{binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},passiveMembers:{}},setup(l){const u=l,y=L(null),i=L(!1),C=L(null),_=L(null),m=L(null),d=L(""),P=L(""),g=L([]),x=L(!1),b=L(!1),v=L(!1),f=L(!1),R=L(null),j=L(null),w=L({totalDownlines:0,totalLeft:0,totalRight:0}),I=N(()=>v.value?j.value:u.binaryTree),k=N(()=>v.value?w.value:{totalDownlines:u.totalDownlines,totalLeft:u.totalLeft,totalRight:u.totalRight}),B=L(0),K=N(()=>`tree-${B.value}`),Q=N(()=>{if(!d.value.trim())return u.passiveMembers;const ee=d.value.toLowerCase().trim();return u.passiveMembers.filter(V=>{const te=V.name?.toLowerCase().includes(ee),rt=V.email?.toLowerCase().includes(ee),ls=V.phone?.toLowerCase().includes(ee);return te||rt||ls})}),E=Ce({member_id:0,upline_id:null,position:""}),A=(ee,V)=>{C.value=ee,_.value=V,m.value=null,d.value="",i.value=!0},D=()=>{i.value=!1,C.value=null,_.value=null,m.value=null,d.value=""},h=ee=>{m.value=ee},p=()=>{if(!m.value||!_.value){M.error("Pilih member terlebih dahulu");return}E.member_id=m.value.id,E.upline_id=C.value,E.position=_.value,xe.post(ve().url,{member_id:E.member_id,upline_id:E.upline_id,position:E.position},{preserveScroll:!0,onStart:()=>{E.processing=!0},onFinish:()=>{E.processing=!1},onSuccess:()=>{M.success(`${m.value?.name} berhasil ditempatkan di posisi ${_.value}`),D()},onError:ee=>{const V=ee.error||"Gagal menempatkan member ke binary tree";M.error(V)}})},S=ee=>new Date(ee).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),Tt=async ee=>{f.value=!0,v.value=!0;try{const V=await de.get(me(ee).url);V.data.success?(R.value=V.data.data.member,j.value=V.data.data.tree,w.value={totalDownlines:V.data.data.totalDownlines,totalLeft:V.data.data.totalLeft,totalRight:V.data.data.totalRight},B.value++):(M.error("Gagal memuat data jaringan member"),qe())}catch(V){M.error(V.response?.data?.message||"Gagal memuat data jaringan member"),qe()}finally{f.value=!1}},qe=()=>{v.value=!1,R.value=null,j.value=null,w.value={totalDownlines:0,totalLeft:0,totalRight:0},P.value="",g.value=[],b.value=!1};let nt=null;const Zt=async()=>{const ee=P.value.trim();if(ee.length<2){g.value=[],b.value=!1;return}nt&&clearTimeout(nt),nt=setTimeout(async()=>{x.value=!0,b.value=!0;try{const V=await de.get(ce({query:{query:ee}}).url);V.data.success?g.value=V.data.data:g.value=[]}catch{g.value=[]}finally{x.value=!1}},300)},Yt=ee=>{P.value="",g.value=[],b.value=!1,Tt(ee.id)},Xt=()=>{setTimeout(()=>{es()},200)},es=()=>{b.value=!1},ts=()=>{y.value?.zoomIn()},ss=()=>{y.value?.zoomOut()},as=()=>{y.value?.resetZoom()},At=ee=>{Tt(ee.detail.memberId)},jt=ee=>{A(ee.detail.uplineId,ee.detail.position)};return at(()=>{window.addEventListener("gojs-member-click",At),window.addEventListener("gojs-open-placement",jt)}),$t(()=>{window.removeEventListener("gojs-member-click",At),window.removeEventListener("gojs-open-placement",jt)}),(ee,V)=>(r(),c(F,null,[t("div",jd,[t("div",Dd,[s(e(O),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...V[2]||(V[2]=[o("Total Jaringan",-1)])]),_:1}),s(e(gt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"})]),_:1}),s(e(W),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Md,n(k.value.totalDownlines),1),V[3]||(V[3]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member aktif di jaringan Anda",-1))]),_:1})]),_:1}),s(e(O),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...V[4]||(V[4]=[o("Kaki Kiri",-1)])]),_:1}),s(e(Bt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"})]),_:1}),s(e(W),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Bd,n(k.value.totalLeft),1),V[5]||(V[5]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kiri",-1))]),_:1})]),_:1}),s(e(O),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...V[6]||(V[6]=[o("Kaki Kanan",-1)])]),_:1}),s(e(Bt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"})]),_:1}),s(e(W),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Ld,n(k.value.totalRight),1),V[7]||(V[7]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kanan",-1))]),_:1})]),_:1})]),s(e(O),null,{default:a(()=>[s(e(J),{class:"p-3 sm:p-6"},{default:a(()=>[t("div",Id,[t("div",Vd,[v.value?(r(),T(e(z),{key:0,variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:qe},{default:a(()=>[s(e(Lt),{class:"h-4 w-4"})]),_:1})):$("",!0),t("div",null,[s(e(H),{class:"text-sm sm:text-base flex items-center gap-2"},{default:a(()=>[v.value&&R.value?(r(),c(F,{key:0},[o(" Jaringan "+n(R.value.name),1)],64)):(r(),c(F,{key:1},[o(" Struktur Binary Tree ")],64))]),_:1}),s(e(ue),{class:"text-xs sm:text-sm"},{default:a(()=>[v.value&&R.value?(r(),c(F,{key:0},[o(n(R.value.username),1)],64)):(r(),c(F,{key:1},[o(" Visualisasi jaringan MLM binary tree Anda ")],64))]),_:1})])]),t("div",Ed,[t("div",Kd,[t("div",Ud,[s(e(Ge),{class:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s(e(se),{modelValue:P.value,"onUpdate:modelValue":V[0]||(V[0]=te=>P.value=te),type:"text",placeholder:"Cari member...",class:"h-7 sm:h-8 w-28 sm:w-40 pl-8 text-xs sm:text-sm",onInput:Zt,onBlur:Xt},null,8,["modelValue"]),x.value?(r(),T(e(Ae),{key:0,class:"absolute right-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 animate-spin text-muted-foreground"})):$("",!0)]),b.value&&(g.value.length>0||P.value.length>=2)?(r(),c("div",Nd,[g.value.length===0?(r(),c("div",zd,[s(e(Ge),{class:"w-5 h-5 mx-auto mb-2 opacity-20"}),V[8]||(V[8]=t("p",null,"Tidak ditemukan",-1))])):$("",!0),(r(!0),c(F,null,Z(g.value,te=>(r(),c("button",{key:te.id,type:"button",class:"w-full p-2.5 text-left hover:bg-muted/50 border-b last:border-b-0 transition-colors",onMousedown:We(rt=>Yt(te),["prevent"])},[t("p",Od,n(te.name),1),t("p",Wd,n(te.email),1),te.package_name?(r(),c("p",qd,n(te.package_name),1)):$("",!0)],40,Fd))),128))])):$("",!0)]),v.value?(r(),T(e(z),{key:0,variant:"outline",size:"sm",class:"h-7 sm:h-8 text-xs",onClick:qe},{default:a(()=>[s(e(Lt),{class:"h-3.5 w-3.5 mr-1"}),V[9]||(V[9]=t("span",{class:"hidden sm:inline"},"Kembali",-1))]),_:1})):$("",!0),s(e(z),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:ss},{default:a(()=>[s(e(Ps),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(z),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:ts},{default:a(()=>[s(e(Ss),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(z),{variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:as,title:"Fit to Screen"},{default:a(()=>[s(e(Cs),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1})])])]),_:1}),s(e(W),{class:"p-2 sm:p-6 pt-0"},{default:a(()=>[t("div",Gd,[f.value?(r(),c("div",Qd,[t("div",Jd,[s(e(Ae),{class:"w-8 h-8 mx-auto mb-4 animate-spin text-primary"}),V[10]||(V[10]=t("p",{class:"text-sm text-muted-foreground"},"Memuat data jaringan...",-1))])])):$("",!0),I.value?(r(),T(Ad,{key:K.value,ref_key:"goJSTreeRef",ref:y,"binary-tree":I.value,"is-dialog":v.value},null,8,["binary-tree","is-dialog"])):(r(),c("div",Hd,[t("div",Zd,[s(e(gt),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),V[11]||(V[11]=t("p",null,"Belum ada jaringan binary tree",-1))])]))]),V[12]||(V[12]=t("div",{class:"mt-4 sm:mt-6 p-2 sm:p-4 rounded-lg bg-muted/50"},[t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-center sm:text-left"},[t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[o("  "),t("span",{class:"hidden sm:inline"},'Klik member untuk melihat jaringannya  Klik "+" untuk menambah member'),t("span",{class:"sm:hidden"},"Klik member untuk lihat jaringan")]),t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[t("span",{class:"hidden sm:inline"},"Scroll/drag untuk navigasi  Mouse wheel untuk zoom"),t("span",{class:"sm:hidden"},"Drag & Pinch untuk navigasi")])])],-1))]),_:1})]),_:1})]),s(e(Ke),{open:i.value,"onUpdate:open":D},{default:a(()=>[s(e(Ie),{class:"w-[95vw] max-w-2xl max-h-[85vh] overflow-hidden flex flex-col p-4 sm:p-6"},{default:a(()=>[s(e(Ne),{class:"space-y-1 sm:space-y-2"},{default:a(()=>[s(e(Ve),{class:"text-base sm:text-lg"},{default:a(()=>[...V[13]||(V[13]=[o("Pilih Member untuk Ditempatkan",-1)])]),_:1}),s(e(Ee),{class:"text-xs sm:text-sm"},{default:a(()=>[V[14]||(V[14]=o(" Pilih member pasif untuk ditempatkan di posisi ",-1)),t("span",Yd,n(_.value==="left"?"Kiri":"Kanan"),1)]),_:1})]),_:1}),t("div",Xd,[t("div",eu,[s(e(Ge),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s(e(se),{modelValue:d.value,"onUpdate:modelValue":V[1]||(V[1]=te=>d.value=te),type:"text",placeholder:"Cari nama, email, atau telepon...",class:"pl-9 text-sm"},null,8,["modelValue"])]),Q.value.length===0&&d.value?(r(),c("div",tu,[s(e(Ge),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),t("p",su,'Tidak ditemukan member dengan "'+n(d.value)+'"',1),V[15]||(V[15]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Coba kata kunci lain",-1))])):l.passiveMembers.length===0?(r(),c("div",au,[s(e(Ze),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),V[16]||(V[16]=t("p",{class:"text-sm sm:text-base"},"Tidak ada member pasif",-1)),V[17]||(V[17]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Semua member sudah ditempatkan",-1))])):(r(),c("div",lu,[(r(!0),c(F,null,Z(Q.value,te=>(r(),c("button",{key:te.id,type:"button",class:Y(["w-full p-3 sm:p-4 rounded-lg border-2 text-left transition-all",m.value?.id===te.id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"]),onClick:rt=>h(te)},[t("div",ru,[t("div",ou,[t("div",iu,[t("h4",du,n(te.name),1),te.has_purchase?(r(),T(e(U),{key:0,variant:"default",class:"text-[10px] sm:text-xs"},{default:a(()=>[...V[18]||(V[18]=[t("span",{class:"hidden sm:inline"},"Ada Pembelian",-1),t("span",{class:"sm:hidden"},"Beli",-1)])]),_:1})):(r(),T(e(U),{key:1,variant:"secondary",class:"text-[10px] sm:text-xs"},{default:a(()=>[...V[19]||(V[19]=[t("span",{class:"hidden sm:inline"},"Belum Belanja",-1),t("span",{class:"sm:hidden"},"Belum",-1)])]),_:1}))]),t("div",uu,[t("p",mu,n(te.email),1),te.phone?(r(),c("p",cu,n(te.phone),1)):$("",!0),t("p",pu,"Bergabung: "+n(S(te.joined_at)),1)])]),m.value?.id===te.id?(r(),c("div",fu,[...V[20]||(V[20]=[t("div",{class:"flex h-5 w-5 sm:h-6 sm:w-6 items-center justify-center rounded-full bg-primary text-primary-foreground"},[t("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):$("",!0)])],10,nu))),128))]))]),s(e(Ue),{class:"flex-col-reverse sm:flex-row gap-2 sm:gap-0"},{default:a(()=>[s(e(z),{variant:"outline",onClick:D,disabled:e(E).processing,class:"w-full sm:w-auto"},{default:a(()=>[...V[21]||(V[21]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(z),{onClick:p,disabled:!m.value||e(E).processing,class:"w-full sm:w-auto"},{default:a(()=>[o(n(e(E).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),gu={class:"space-y-4 sm:space-y-6"},vu={class:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},bu={class:"text-xl sm:text-2xl font-bold truncate"},yu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},_u={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},ku={class:"text-xl sm:text-2xl font-bold truncate"},hu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},wu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},$u={class:"text-xl sm:text-2xl font-bold truncate"},Pu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Su={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},Cu={class:"text-xl sm:text-2xl font-bold truncate"},Ru={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Tu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},Au={class:"text-xl sm:text-2xl font-bold truncate"},ju={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Du={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},Mu={class:"text-xl sm:text-2xl font-bold truncate"},Bu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Lu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},Iu={class:"text-xl sm:text-2xl font-bold truncate"},Vu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Eu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},Ku={class:"text-xl sm:text-2xl font-bold text-primary truncate"},Uu={class:"w-full text-center overflow-x-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] -mx-2 px-2 sm:mx-0 sm:px-0",style:{"-webkit-overflow-scrolling":"touch"}},Nu={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},zu={key:1,class:"space-y-1.5 sm:space-y-3"},Fu={class:"flex-1 min-w-0"},Ou={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Wu={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},qu={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Gu={key:0,class:"block sm:inline"},Qu={class:"block sm:inline sm:ml-1"},Ju={class:"text-left sm:text-right flex-shrink-0"},Hu={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Zu={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Yu={key:1,class:"space-y-1.5 sm:space-y-3"},Xu={class:"flex-1 min-w-0"},em={class:"flex flex-wrap items-center gap-1 sm:gap-2"},tm={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},sm={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},am={key:0,class:"block sm:inline"},lm={class:"block sm:inline sm:ml-2"},nm={class:"text-left sm:text-right flex-shrink-0"},rm={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},om={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},im={key:1,class:"space-y-3"},dm={class:"flex-1 min-w-0"},um={class:"flex flex-wrap items-center gap-2"},mm={class:"text-xs sm:text-sm font-medium break-words"},cm={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},pm={class:"text-left sm:text-right flex-shrink-0"},fm={class:"text-base sm:text-lg font-bold text-green-600"},xm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},gm={key:1,class:"space-y-1.5 sm:space-y-3"},vm={class:"flex-1 min-w-0"},bm={class:"flex flex-wrap items-center gap-1 sm:gap-2"},ym={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},_m={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},km={key:0,class:"block sm:inline"},hm={class:"block sm:inline sm:ml-1"},wm={class:"text-left sm:text-right flex-shrink-0"},$m={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Pm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Sm={key:1,class:"space-y-1.5 sm:space-y-3"},Cm={class:"flex-1 min-w-0"},Rm={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Tm={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Am={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},jm={class:"text-left sm:text-right flex-shrink-0"},Dm={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Mm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Bm={key:1,class:"space-y-1.5 sm:space-y-3"},Lm={class:"flex-1 min-w-0"},Im={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Vm={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Em={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Km={key:0,class:"block sm:inline"},Um={class:"block sm:inline sm:ml-1"},Nm={class:"text-left sm:text-right flex-shrink-0"},zm={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Fm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Om={key:1,class:"space-y-1.5 sm:space-y-3"},Wm={class:"flex-1 min-w-0"},qm={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Gm={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Qm={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Jm={class:"block sm:inline"},Hm={class:"block sm:inline sm:ml-1"},Zm={class:"text-left sm:text-right flex-shrink-0"},Ym={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Xm=X({__name:"BonusTab",props:{bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{}},setup(l){const u=l,y=h=>new Date(h).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),i=N(()=>u.bonusSponsors.reduce((h,p)=>h+ae(p.amount),0)),C=N(()=>u.bonusMatchings.reduce((h,p)=>h+ae(p.amount),0)),_=N(()=>u.bonusPairings.reduce((h,p)=>h+ae(p.amount),0)),m=N(()=>u.bonusCashbacks.reduce((h,p)=>h+ae(p.amount),0)),d=N(()=>u.bonusRewards.reduce((h,p)=>h+ae(p.amount),0)),P=N(()=>u.bonusSponsors.filter(h=>h.status===0).reduce((h,p)=>h+ae(p.amount),0)),g=N(()=>u.bonusSponsors.filter(h=>h.status===1).reduce((h,p)=>h+ae(p.amount),0)),x=N(()=>u.bonusMatchings.filter(h=>h.status===0).reduce((h,p)=>h+ae(p.amount),0)),b=N(()=>u.bonusMatchings.filter(h=>h.status===1).reduce((h,p)=>h+ae(p.amount),0)),v=N(()=>u.bonusPairings.filter(h=>h.status===0).reduce((h,p)=>h+ae(p.amount),0)),f=N(()=>u.bonusPairings.filter(h=>h.status===1).reduce((h,p)=>h+ae(p.amount),0)),R=N(()=>u.bonusCashbacks.filter(h=>h.status===0).reduce((h,p)=>h+ae(p.amount),0)),j=N(()=>u.bonusCashbacks.filter(h=>h.status===1).reduce((h,p)=>h+ae(p.amount),0)),w=N(()=>u.bonusRewards.filter(h=>h.status===0).reduce((h,p)=>h+ae(p.amount),0)),I=N(()=>u.bonusRewards.filter(h=>h.status===1).reduce((h,p)=>h+ae(p.amount),0)),k=N(()=>u.bonusRetails.reduce((h,p)=>h+ae(p.amount),0)),B=N(()=>u.bonusRetails.filter(h=>h.status===0).reduce((h,p)=>h+ae(p.amount),0)),K=N(()=>u.bonusRetails.filter(h=>h.status===1).reduce((h,p)=>h+ae(p.amount),0)),Q=N(()=>u.bonusLifetimeCashRewards.reduce((h,p)=>h+ae(p.amount),0)),E=N(()=>u.bonusLifetimeCashRewards.filter(h=>h.status===0).reduce((h,p)=>h+ae(p.amount),0)),A=N(()=>u.bonusLifetimeCashRewards.filter(h=>h.status===1).reduce((h,p)=>h+ae(p.amount),0)),D=N(()=>i.value+C.value+_.value+m.value+d.value+k.value+Q.value);return(h,p)=>(r(),c("div",gu,[t("div",vu,[s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(gt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),p[0]||(p[0]=t("span",{class:"truncate"},"Referral Incentive",-1))]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[t("div",bu,n(e(q)(i.value)),1),t("p",yu,n(l.bonusSponsors.length)+" transaksi ",1),t("div",_u,[s(e(U),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" P: "+n(e(q)(P.value)),1)]),_:1}),s(e(U),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" R: "+n(e(q)(g.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Rs),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"}),p[1]||(p[1]=t("span",{class:"truncate"},"Team Affiliate Commission",-1))]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[t("div",ku,n(e(q)(C.value)),1),t("p",hu,n(l.bonusMatchings.length)+" transaksi ",1),t("div",wu,[s(e(U),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" P: "+n(e(q)(x.value)),1)]),_:1}),s(e(U),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" R: "+n(e(q)(b.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ts),{class:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),p[2]||(p[2]=t("span",{class:"truncate"},"Partner Team Commission",-1))]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[t("div",$u,n(e(q)(_.value)),1),t("p",Pu,n(l.bonusPairings.length)+" transaksi ",1),t("div",Su,[s(e(U),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" P: "+n(e(q)(v.value)),1)]),_:1}),s(e(U),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" R: "+n(e(q)(f.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(As),{class:"h-3 w-3 sm:h-4 sm:w-4 text-orange-500 flex-shrink-0"}),p[3]||(p[3]=t("span",{class:"truncate"},"Cashback Commission",-1))]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[t("div",Cu,n(e(q)(m.value)),1),t("p",Ru,n(l.bonusCashbacks.length)+" transaksi ",1),t("div",Tu,[s(e(U),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" P: "+n(e(q)(R.value)),1)]),_:1}),s(e(U),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" R: "+n(e(q)(j.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Le),{class:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 flex-shrink-0"}),p[4]||(p[4]=t("span",{class:"truncate"},"Promotions Rewards",-1))]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[t("div",Au,n(e(q)(d.value)),1),t("p",ju,n(l.bonusRewards.length)+" transaksi ",1),t("div",Du,[s(e(U),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" P: "+n(e(q)(w.value)),1)]),_:1}),s(e(U),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" R: "+n(e(q)(I.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(js),{class:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-500 flex-shrink-0"}),p[5]||(p[5]=t("span",{class:"truncate"},"Retail Commission",-1))]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[t("div",Mu,n(e(q)(k.value)),1),t("p",Bu,n(l.bonusRetails.length)+" transaksi ",1),t("div",Lu,[s(e(U),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" P: "+n(e(q)(B.value)),1)]),_:1}),s(e(U),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" R: "+n(e(q)(K.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Pt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"}),p[6]||(p[6]=t("span",{class:"truncate"},"Lifetime Cash Rewards",-1))]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[t("div",Iu,n(e(q)(Q.value)),1),t("p",Vu,n(l.bonusLifetimeCashRewards.length)+" transaksi ",1),t("div",Eu,[s(e(U),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" P: "+n(e(q)(E.value)),1)]),_:1}),s(e(U),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[o(" R: "+n(e(q)(A.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ye),{class:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"}),p[7]||(p[7]=t("span",{class:"truncate"},"Total Bonus",-1))]),_:1})]),_:1}),s(e(W),null,{default:a(()=>[t("div",Ku,n(e(q)(D.value)),1),p[8]||(p[8]=t("p",{class:"text-[10px] sm:text-xs text-muted-foreground mt-1"}," Semua jenis bonus ",-1))]),_:1})]),_:1})]),s(e(O),null,{default:a(()=>[s(e(J),{class:"p-2 sm:p-4 md:p-6 pb-2"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-base md:text-lg"},{default:a(()=>[...p[9]||(p[9]=[o("Riwayat Bonus",-1)])]),_:1}),s(e(ue),{class:"text-[9px] sm:text-xs md:text-sm"},{default:a(()=>[...p[10]||(p[10]=[o(" Detail transaksi bonus ",-1)])]),_:1})]),_:1}),s(e(W),{class:"p-2 sm:p-4 md:p-6 pt-0"},{default:a(()=>[s(e(kt),{"default-value":"sponsor",class:"w-full"},{default:a(()=>[t("div",Uu,[s(e(ht),{class:"flex w-max sm:grid sm:w-full sm:grid-cols-7 gap-0.5 sm:gap-1 h-7 sm:h-auto bg-muted/30"},{default:a(()=>[s(e(le),{value:"sponsor",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[11]||(p[11]=[o(" Referral ",-1)])]),_:1}),s(e(le),{value:"matching",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[12]||(p[12]=[o(" Team Aff. ",-1)])]),_:1}),s(e(le),{value:"pairing",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[13]||(p[13]=[o(" Partner ",-1)])]),_:1}),s(e(le),{value:"cashback",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[14]||(p[14]=[o(" Cashback ",-1)])]),_:1}),s(e(le),{value:"reward",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[15]||(p[15]=[o(" Rewards ",-1)])]),_:1}),s(e(le),{value:"retail",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[16]||(p[16]=[o(" Retail ",-1)])]),_:1}),s(e(le),{value:"lifetime",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[17]||(p[17]=[o(" Lifetime ",-1)])]),_:1})]),_:1})]),s(e(ne),{value:"sponsor",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusSponsors.length===0?(r(),c("div",Nu," Belum ada bonus referral incentive ")):(r(),c("div",zu,[(r(!0),c(F,null,Z(l.bonusSponsors,S=>(r(),c("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Fu,[t("div",Ou,[s(e(U),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",Wu,n(S.description||"Bonus Sponsor"),1)]),t("p",qu,[S.from_member?(r(),c("span",Gu," Dari: "+n(S.from_member.name),1)):$("",!0),t("span",Qu,n(y(S.created_at)),1)])]),t("div",Ju,[t("div",Hu,n(e(q)(S.amount)),1),t("div",{class:Y(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ne),{value:"matching",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusMatchings.length===0?(r(),c("div",Zu," Belum ada bonus team affiliate commission ")):(r(),c("div",Yu,[(r(!0),c(F,null,Z(l.bonusMatchings,S=>(r(),c("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Xu,[t("div",em,[s(e(U),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(U),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(" L"+n(S.level),1)]),_:2},1024),t("span",tm,n(S.description||"Bonus Matching"),1)]),t("p",sm,[S.from_member?(r(),c("span",am," Dari: "+n(S.from_member.name),1)):$("",!0),t("span",lm,n(y(S.created_at)),1)])]),t("div",nm,[t("div",rm,n(e(q)(S.amount)),1),t("div",{class:Y(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ne),{value:"pairing",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusPairings.length===0?(r(),c("div",om," Belum ada bonus partner team commission ")):(r(),c("div",im,[(r(!0),c(F,null,Z(l.bonusPairings,S=>(r(),c("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",dm,[t("div",um,[s(e(U),{variant:S.status===1?"secondary":"outline",class:"text-xs"},{default:a(()=>[o(n(S.status===1?"Released":"Pending"),1)]),_:2},1032,["variant"]),s(e(U),{variant:"outline",class:"text-xs"},{default:a(()=>[o(n(S.pair)+" Pairs ",1)]),_:2},1024),t("span",mm,n(S.description||"Bonus Pairing"),1)]),t("p",cm,n(y(S.created_at)),1)]),t("div",pm,[t("div",fm,n(e(q)(S.amount)),1),t("div",{class:Y(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ne),{value:"cashback",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusCashbacks.length===0?(r(),c("div",xm," Belum ada bonus cashback commission ")):(r(),c("div",gm,[(r(!0),c(F,null,Z(l.bonusCashbacks,S=>(r(),c("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",vm,[t("div",bm,[s(e(U),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",ym,n(S.description||"Bonus Cashback"),1)]),t("p",_m,[p[18]||(p[18]=o('eground mt-0.5"> ',-1)),S.order_id?(r(),c("span",km," #"+n(S.order_id),1)):$("",!0),t("span",hm,n(y(S.created_at)),1)])]),t("div",wm,[t("div",$m,n(e(q)(S.amount)),1),t("div",{class:Y(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ne),{value:"reward",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRewards.length===0?(r(),c("div",Pm," Belum ada promotions rewards ")):(r(),c("div",Sm,[(r(!0),c(F,null,Z(l.bonusRewards,S=>(r(),c("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Cm,[t("div",Rm,[s(e(U),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),S.reward_type?(r(),T(e(U),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.reward_type),1)]),_:2},1024)):$("",!0),t("span",Tm,n(S.description||"Promotions Reward"),1)]),t("p",Am,n(y(S.created_at)),1)]),t("div",jm,[t("div",Dm,n(e(q)(S.amount)),1),t("div",{class:Y(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ne),{value:"retail",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRetails.length===0?(r(),c("div",Mm," Belum ada bonus retail commission ")):(r(),c("div",Bm,[(r(!0),c(F,null,Z(l.bonusRetails,S=>(r(),c("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Lm,[t("div",Im,[s(e(U),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),S.index_value?(r(),T(e(U),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(" IDX: "+n(S.index_value),1)]),_:2},1024)):$("",!0),t("span",Vm,n(S.description||"Retail Commission"),1)]),t("p",Em,[S.from_member?(r(),c("span",Km," Dari: "+n(S.from_member.name),1)):$("",!0),t("span",Um,n(y(S.created_at)),1)])]),t("div",Nm,[t("div",zm,n(e(q)(S.amount)),1),t("div",{class:Y(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ne),{value:"lifetime",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusLifetimeCashRewards.length===0?(r(),c("div",Fm," Belum ada lifetime cash rewards ")):(r(),c("div",Om,[(r(!0),c(F,null,Z(l.bonusLifetimeCashRewards,S=>(r(),c("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Wm,[t("div",qm,[s(e(U),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(U),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.reward_name),1)]),_:2},1024),t("span",Gm,n(S.description||"Lifetime Cash Reward"),1)]),t("p",Qm,[t("span",Jm," Reward: "+n(e(q)(S.reward))+" | BV: "+n(S.bv),1),t("span",Hm,n(y(S.created_at)),1)])]),t("div",Zm,[t("div",Ym,n(e(q)(S.amount)),1),t("div",{class:Y(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),ec={class:"flex items-center justify-between"},tc={class:"font-semibold"},sc={class:"flex items-center justify-between"},ac={class:"font-semibold"},lc={class:"flex items-center justify-between"},nc={class:"flex items-center justify-between"},rc={class:"font-semibold text-blue-600 dark:text-blue-400"},oc={class:"flex items-center justify-between"},ic={class:"font-semibold text-green-600 dark:text-green-400"},dc={class:"flex items-center justify-between"},uc={class:"font-semibold text-blue-600 dark:text-blue-400"},mc={class:"flex items-center justify-between"},cc={class:"font-semibold text-green-600 dark:text-green-400"},pc={class:"flex items-center justify-between"},fc={class:"font-semibold text-green-600 dark:text-green-400"},xc=X({__name:"NetworkStatsCard",props:{customer:{}},setup(l){const u=y=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(y);return(y,i)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Ut),{class:"w-5 h-5"}),i[0]||(i[0]=o(" Statistik Jaringan ",-1))]),_:1})]),_:1}),s(e(W),{class:"space-y-3"},{default:a(()=>[t("div",ec,[i[1]||(i[1]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kiri",-1)),t("span",tc,n(l.customer.network_stats.left_count),1)]),s(e(re)),t("div",sc,[i[2]||(i[2]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kanan",-1)),t("span",ac,n(l.customer.network_stats.right_count),1)]),s(e(re)),t("div",lc,[i[3]||(i[3]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Downline",-1)),s(e(U),{variant:"secondary"},{default:a(()=>[o(n(l.customer.network_stats.total_downlines),1)]),_:1})]),s(e(re)),t("div",nc,[i[4]||(i[4]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Network Builder Kiri",-1)),t("span",rc,n(u(l.customer.network_stats.omzet_group_left_plana)),1)]),s(e(re)),t("div",oc,[i[5]||(i[5]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Network Builder Kanan",-1)),t("span",ic,n(u(l.customer.network_stats.omzet_group_right_plana)),1)]),s(e(re)),t("div",dc,[i[6]||(i[6]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Retail Kiri",-1)),t("span",uc,n(u(l.customer.network_stats.omzet_group_left_planb)),1)]),s(e(re)),t("div",mc,[i[7]||(i[7]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Retail Kanan",-1)),t("span",cc,n(u(l.customer.network_stats.omzet_group_right_planb)),1)]),s(e(re)),t("div",pc,[i[8]||(i[8]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Group",-1)),t("span",fc,n(u(l.customer.network_stats.omzet_group)),1)])]),_:1})]),_:1}))}}),gc={class:"space-y-6"},vc={class:"flex items-center gap-3"},bc={class:"p-2 rounded-lg bg-amber-500/10"},yc={key:0,class:"text-center py-8"},_c={key:1,class:"overflow-x-auto"},kc={class:"flex items-center gap-2"},hc={class:"flex items-center gap-3"},wc={class:"p-2 rounded-lg bg-green-500/10"},$c={key:0,class:"text-center py-8"},Pc={key:1,class:"overflow-x-auto"},Sc={class:"flex items-center gap-2"},Cc=X({__name:"PromotionsRewardsTab",props:{promotionRewards:{},claimedPromotionRewards:{}},setup(l){const u=_=>new Intl.NumberFormat("id-ID").format(_),y=_=>new Date(_).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),i=_=>_===null||_===0?"Belum Tercapai":"Diproses",C=_=>_===null||_===0?"secondary":"default";return(_,m)=>(r(),c("div",gc,[s(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",vc,[t("div",bc,[s(e(Le),{class:"h-5 w-5 text-amber-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...m[0]||(m[0]=[o("Promotion Rewards",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...m[1]||(m[1]=[o(" Daftar reward promosi yang sedang berlangsung ",-1)])]),_:1})])])]),_:1}),s(e(W),null,{default:a(()=>[l.promotionRewards.length===0?(r(),c("div",yc,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),m[2]||(m[2]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Promosi",-1)),m[3]||(m[3]=t("p",{class:"text-muted-foreground text-sm"}," Tidak ada program reward promosi yang sedang aktif saat ini. ",-1))])):(r(),c("div",_c,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(oe),{class:"min-w-[150px]"},{default:a(()=>[...m[4]||(m[4]=[o("Nama",-1)])]),_:1}),s(e(oe),{class:"min-w-[150px]"},{default:a(()=>[...m[5]||(m[5]=[o("Reward",-1)])]),_:1}),s(e(oe),{class:"text-right min-w-[180px]"},{default:a(()=>[...m[6]||(m[6]=[o("Syarat Omset Grup Kiri & Kanan (BV)",-1)])]),_:1}),s(e(oe),{class:"text-right min-w-[180px]"},{default:a(()=>[...m[7]||(m[7]=[o("Akumulasi Omset Grup Kiri (BV)",-1)])]),_:1}),s(e(oe),{class:"text-right min-w-[180px]"},{default:a(()=>[...m[8]||(m[8]=[o("Akumulasi Omset Grup Kanan (BV)",-1)])]),_:1}),s(e(oe),{class:"min-w-[120px]"},{default:a(()=>[...m[9]||(m[9]=[o("Periode Awal",-1)])]),_:1}),s(e(oe),{class:"min-w-[120px]"},{default:a(()=>[...m[10]||(m[10]=[o("Periode Akhir",-1)])]),_:1}),s(e(oe),{class:"text-center min-w-[120px]"},{default:a(()=>[...m[11]||(m[11]=[o("Status",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(r(!0),c(F,null,Z(l.promotionRewards,d=>(r(),T(e(Re),{key:d.id},{default:a(()=>[s(e(ie),{class:"font-medium"},{default:a(()=>[t("div",kc,[s(e(Nt),{class:"h-4 w-4 text-amber-500"}),o(" "+n(d.name),1)])]),_:2},1024),s(e(ie),null,{default:a(()=>[o(n(d.reward),1)]),_:2},1024),s(e(ie),{class:"text-right font-mono"},{default:a(()=>[o(n(u(d.bv)),1)]),_:2},1024),s(e(ie),{class:"text-right font-mono"},{default:a(()=>[o(n(u(d.accumulated_left)),1)]),_:2},1024),s(e(ie),{class:"text-right font-mono"},{default:a(()=>[o(n(u(d.accumulated_right)),1)]),_:2},1024),s(e(ie),null,{default:a(()=>[o(n(y(d.start)),1)]),_:2},1024),s(e(ie),null,{default:a(()=>[o(n(y(d.end)),1)]),_:2},1024),s(e(ie),{class:"text-center"},{default:a(()=>[s(e(U),{variant:C(d.claim_status)},{default:a(()=>[d.claim_status===1?(r(),T(e(He),{key:0,class:"h-3 w-3 mr-1"})):$("",!0),o(" "+n(i(d.claim_status)),1)]),_:2},1032,["variant"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",hc,[t("div",wc,[s(e(ge),{class:"h-5 w-5 text-green-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...m[12]||(m[12]=[o("Reward yang Sudah Diklaim",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...m[13]||(m[13]=[o(" Daftar reward promosi yang sudah berhasil Anda klaim ",-1)])]),_:1})])])]),_:1}),s(e(W),null,{default:a(()=>[l.claimedPromotionRewards.length===0?(r(),c("div",$c,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),m[14]||(m[14]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Diklaim",-1)),m[15]||(m[15]=t("p",{class:"text-muted-foreground text-sm"}," Anda belum memiliki reward promosi yang telah diklaim. ",-1))])):(r(),c("div",Pc,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(oe),{class:"min-w-[200px]"},{default:a(()=>[...m[16]||(m[16]=[o("Reward",-1)])]),_:1}),s(e(oe),{class:"text-right min-w-[180px]"},{default:a(()=>[...m[17]||(m[17]=[o("Syarat Omset Group (BV)",-1)])]),_:1}),s(e(oe),{class:"min-w-[150px]"},{default:a(()=>[...m[18]||(m[18]=[o("Tanggal Klaim",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(r(!0),c(F,null,Z(l.claimedPromotionRewards,d=>(r(),T(e(Re),{key:d.id},{default:a(()=>[s(e(ie),{class:"font-medium"},{default:a(()=>[t("div",Sc,[s(e(ye),{class:"h-4 w-4 text-green-500"}),o(" "+n(d.reward),1)])]),_:2},1024),s(e(ie),{class:"text-right font-mono"},{default:a(()=>[o(n(u(d.bv)),1)]),_:2},1024),s(e(ie),null,{default:a(()=>[o(n(y(d.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})]))}}),Rc={class:"space-y-6"},Tc={class:"flex items-center gap-3"},Ac={class:"p-2 rounded-lg bg-purple-500/10"},jc={key:0,class:"text-center py-8"},Dc={key:1,class:"overflow-x-auto"},Mc={class:"flex items-center gap-2"},Bc={class:"flex items-center gap-3"},Lc={class:"p-2 rounded-lg bg-green-500/10"},Ic={key:0,class:"text-center py-8"},Vc={key:1,class:"overflow-x-auto"},Ec={class:"flex items-center gap-2"},Kc=X({__name:"LifetimeCashRewardsTab",props:{lifetimeRewards:{},claimedLifetimeRewards:{}},setup(l){const u=_=>new Intl.NumberFormat("id-ID").format(_),y=_=>new Date(_).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),i=Ce({reward_id:0}),C=_=>{i.reward_id=_,i.post(be.url(),{preserveScroll:!0,onSuccess:()=>{i.reset()}})};return(_,m)=>(r(),c("div",Rc,[s(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",Tc,[t("div",Ac,[s(e(Le),{class:"h-5 w-5 text-purple-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...m[0]||(m[0]=[o("Lifetime Cash Rewards",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...m[1]||(m[1]=[o(" Daftar reward lifetime berdasarkan pencapaian omset grup Anda ",-1)])]),_:1})])])]),_:1}),s(e(W),null,{default:a(()=>[l.lifetimeRewards.length===0?(r(),c("div",jc,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),m[2]||(m[2]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Lifetime",-1)),m[3]||(m[3]=t("p",{class:"text-muted-foreground text-sm"}," Tidak ada program reward lifetime yang tersedia saat ini. ",-1))])):(r(),c("div",Dc,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(oe),{class:"min-w-[150px]"},{default:a(()=>[...m[4]||(m[4]=[o("Nama",-1)])]),_:1}),s(e(oe),{class:"min-w-[150px]"},{default:a(()=>[...m[5]||(m[5]=[o("Reward",-1)])]),_:1}),s(e(oe),{class:"text-right min-w-[180px]"},{default:a(()=>[...m[6]||(m[6]=[o("Syarat Omset Grup Kiri & Kanan (BV)",-1)])]),_:1}),s(e(oe),{class:"text-right min-w-[180px]"},{default:a(()=>[...m[7]||(m[7]=[o("Akumulasi Omset Grup Kiri (BV)",-1)])]),_:1}),s(e(oe),{class:"text-right min-w-[180px]"},{default:a(()=>[...m[8]||(m[8]=[o("Akumulasi Omset Grup Kanan (BV)",-1)])]),_:1}),s(e(oe),{class:"text-center min-w-[120px]"},{default:a(()=>[...m[9]||(m[9]=[o("Klaim",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(r(!0),c(F,null,Z(l.lifetimeRewards,d=>(r(),T(e(Re),{key:d.id},{default:a(()=>[s(e(ie),{class:"font-medium"},{default:a(()=>[t("div",Mc,[s(e(Nt),{class:"h-4 w-4 text-purple-500"}),o(" "+n(d.name),1)])]),_:2},1024),s(e(ie),null,{default:a(()=>[o(n(d.reward),1)]),_:2},1024),s(e(ie),{class:"text-right font-mono"},{default:a(()=>[o(n(u(d.bv)),1)]),_:2},1024),s(e(ie),{class:"text-right font-mono"},{default:a(()=>[o(n(u(d.accumulated_left)),1)]),_:2},1024),s(e(ie),{class:"text-right font-mono"},{default:a(()=>[o(n(u(d.accumulated_right)),1)]),_:2},1024),s(e(ie),{class:"text-center"},{default:a(()=>[d.is_claimed?(r(),T(e(U),{key:0,variant:"secondary"},{default:a(()=>[s(e(ge),{class:"h-3 w-3 mr-1"}),m[10]||(m[10]=o(" Sudah Diklaim ",-1))]),_:1})):d.can_claim?(r(),T(e(z),{key:1,size:"sm",disabled:e(i).processing&&e(i).reward_id===d.id,onClick:P=>C(d.id)},{default:a(()=>[e(i).processing&&e(i).reward_id===d.id?(r(),T(e(Ae),{key:0,class:"h-4 w-4 mr-1 animate-spin"})):(r(),T(e(ye),{key:1,class:"h-4 w-4 mr-1"})),m[11]||(m[11]=o(" Klaim ",-1))]),_:2},1032,["disabled","onClick"])):(r(),T(e(U),{key:2,variant:"outline"},{default:a(()=>[...m[12]||(m[12]=[o(" Belum Memenuhi Syarat ",-1)])]),_:1}))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",Bc,[t("div",Lc,[s(e(ge),{class:"h-5 w-5 text-green-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...m[13]||(m[13]=[o("Reward yang Sudah Diklaim",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...m[14]||(m[14]=[o(" Daftar reward lifetime yang sudah berhasil Anda klaim ",-1)])]),_:1})])])]),_:1}),s(e(W),null,{default:a(()=>[l.claimedLifetimeRewards.length===0?(r(),c("div",Ic,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),m[15]||(m[15]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Diklaim",-1)),m[16]||(m[16]=t("p",{class:"text-muted-foreground text-sm"}," Anda belum memiliki reward lifetime yang telah diklaim. ",-1))])):(r(),c("div",Vc,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(oe),{class:"min-w-[200px]"},{default:a(()=>[...m[17]||(m[17]=[o("Reward",-1)])]),_:1}),s(e(oe),{class:"text-right min-w-[180px]"},{default:a(()=>[...m[18]||(m[18]=[o("Syarat Omset Group (BV)",-1)])]),_:1}),s(e(oe),{class:"min-w-[150px]"},{default:a(()=>[...m[19]||(m[19]=[o("Tanggal Klaim",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(r(!0),c(F,null,Z(l.claimedLifetimeRewards,d=>(r(),T(e(Re),{key:d.id},{default:a(()=>[s(e(ie),{class:"font-medium"},{default:a(()=>[t("div",Ec,[s(e(ye),{class:"h-4 w-4 text-green-500"}),o(" "+n(d.reward),1)])]),_:2},1024),s(e(ie),{class:"text-right font-mono"},{default:a(()=>[o(n(u(d.bv)),1)]),_:2},1024),s(e(ie),null,{default:a(()=>[o(n(y(d.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})]))}}),Uc={class:"bg-gradient-to-br from-primary/10 via-primary/5 to-background border-b"},Nc={class:"container mx-auto px-3 py-6 sm:px-4 sm:py-12 max-w-7xl"},zc={class:"flex items-center justify-between"},Fc={class:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-background/80 backdrop-blur-sm border shadow-sm"},Oc={class:"font-semibold"},Wc={class:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-7xl"},qc={key:0,class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},Gc={class:"flex items-start gap-3"},Qc={class:"grid gap-4 sm:gap-6 lg:grid-cols-3"},Jc={class:"lg:col-span-1 space-y-4 sm:space-y-6"},Hc={class:"lg:col-span-2"},Zc={class:"rounded-xl border bg-card overflow-hidden"},Yc={class:"border-b bg-muted/30"},Xc={class:"overflow-x-auto text-center overflow-y-hidden px-1.5 py-1.5 sm:px-2 sm:py-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},ep={class:"p-3 sm:p-4 md:p-6"},tp={key:1,class:"text-center py-12"},sp={class:"space-y-5"},ap={key:0,class:"rounded-lg border border-dashed p-6 text-center text-sm text-muted-foreground"},lp={key:1,class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3"},np={class:"flex items-start justify-between gap-3"},rp={class:"shrink-0 rounded-full bg-muted px-2 py-0.5 text-[11px] font-medium text-muted-foreground"},op={class:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground"},ip={key:0,class:"space-y-2"},dp={class:"space-y-1 text-sm text-foreground"},up=["href"],mp={key:1,class:"space-y-2"},cp={class:"space-y-2"},pp={class:"flex items-center justify-between gap-2"},fp={class:"text-sm font-semibold text-foreground"},xp={class:"text-[11px] text-muted-foreground"},gp={key:0,class:"mt-2 space-y-1 text-sm text-foreground"},vp=["href"],bp={key:1,class:"mt-2 text-xs text-muted-foreground"},yp={key:2,class:"text-sm text-muted-foreground"},Qp=X({__name:"Index",props:{customer:{},orders:{},walletTransactions:{},hasPendingWithdrawal:{type:Boolean},isProfileIncomplete:{type:Boolean},activeMembers:{},passiveMembers:{},prospectMembers:{},binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{},addresses:{},promotionRewards:{},claimedPromotionRewards:{},lifetimeRewards:{},claimedLifetimeRewards:{},zennerClubCategories:{}},setup(l){const u=l,y=wt(),i=N(()=>Number(u.customer.status)===3),C=N(()=>{if(typeof window>"u")return"profile";const g=y.url;try{return new URL(g,window.location.origin).searchParams.get("tab")||"profile"}catch{return"profile"}}),_=new Set(["start here","marketing kit","zenner academy","leaderboard","rules & faq"]),m=g=>g.toLowerCase().replace(/\s+/g," ").trim(),d=N(()=>{const g=u.zennerClubCategories??[];if(!g.length)return[];const x=g.filter(v=>_.has(m(v.name)));return(x.length?x:g).map(v=>({id:v.id,title:v.name,slug:v.slug,contents:v.contents??[],children:v.children??[],stats:{contents:v.contents?.length??0,children:v.children?.length??0,childContents:(v.children??[]).reduce((f,R)=>f+(R.contents?.length??0),0)}}))}),P=g=>`/client/zenner-club/contents/${g.id}`;return(g,x)=>(r(),T(rs,null,{default:a(()=>[s(e(Ds),{title:"Profile Saya"}),t("div",Uc,[t("div",Nc,[t("div",zc,[x[0]||(x[0]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-2"},"Profile Saya"),t("p",{class:"text-sm sm:text-base md:text-lg text-muted-foreground"}," Kelola informasi profil dan keamanan akun Anda ")],-1)),t("div",Fc,[s(e(ft),{class:"w-5 h-5 text-primary"}),t("span",Oc,n(l.customer.name),1)])])])]),t("div",Wc,[l.isProfileIncomplete&&i.value?(r(),c("div",qc,[t("div",Gc,[s(e(je),{class:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),x[1]||(x[1]=t("div",{class:"flex-1"},[t("p",{class:"font-medium text-amber-700 dark:text-amber-300"},"Lengkapi Data Profil Anda"),t("p",{class:"text-sm text-amber-600 dark:text-amber-400 mt-1"}," Untuk dapat melakukan penarikan bonus, Anda harus melengkapi NIK dan informasi rekening bank di tab Profil. ")],-1))])])):$("",!0),t("div",Qc,[t("div",Jc,[s(ca,{customer:l.customer},null,8,["customer"]),i.value?(r(),T(xc,{key:0,customer:l.customer},null,8,["customer"])):$("",!0),s(qa,{addresses:l.addresses},null,8,["addresses"]),i.value?(r(),T(Za,{key:1,customer:l.customer},null,8,["customer"])):$("",!0),s(tl,{"created-at":l.customer.created_at},null,8,["created-at"])]),t("div",Hc,[t("div",Zc,[s(e(kt),{"default-value":C.value,class:"w-full"},{default:a(()=>[t("div",Yc,[t("div",Xc,[s(e(ht),{class:"inline-flex h-auto w-max bg-transparent gap-1 sm:gap-1.5 p-0"},{default:a(()=>[s(e(le),{value:"profile",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ft),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[2]||(x[2]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Info",-1))]),_:1}),s(e(le),{value:"orders",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Fe),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[3]||(x[3]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Order",-1))]),_:1}),i.value?(r(),T(e(le),{key:0,value:"network",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ut),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[4]||(x[4]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Mitra",-1))]),_:1})):$("",!0),i.value?(r(),T(e(le),{key:1,value:"binary",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ze),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[5]||(x[5]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Network",-1))]),_:1})):$("",!0),i.value?(r(),T(e(le),{key:2,value:"bonus",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ye),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[6]||(x[6]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Bonus",-1))]),_:1})):$("",!0),i.value?(r(),T(e(le),{key:3,value:"promotions",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ms),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[7]||(x[7]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Promo",-1))]),_:1})):$("",!0),i.value?(r(),T(e(le),{key:4,value:"lifetime",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Le),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[8]||(x[8]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lifetime",-1))]),_:1})):$("",!0),i.value?(r(),T(e(le),{key:5,value:"zenner-club",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Le),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[9]||(x[9]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Zenner",-1))]),_:1})):$("",!0),s(e(le),{value:"wallet",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(De),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[10]||(x[10]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Wallet",-1))]),_:1}),s(e(le),{value:"security",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ye),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[11]||(x[11]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lock",-1))]),_:1}),s(e(le),{value:"danger",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(je),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),x[12]||(x[12]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Del",-1))]),_:1})]),_:1})])]),t("div",ep,[s(e(ne),{value:"profile",class:"mt-0"},{default:a(()=>[s(Kl,{customer:l.customer},null,8,["customer"])]),_:1}),s(e(ne),{value:"orders",class:"mt-0"},{default:a(()=>[s(Pr,{orders:l.orders},null,8,["orders"])]),_:1}),i.value?(r(),T(e(ne),{key:0,value:"network",class:"mt-0"},{default:a(()=>[s(Td,{"active-members":l.activeMembers,"passive-members":l.passiveMembers,"prospect-members":l.prospectMembers,"has-left":!!l.binaryTree?.left,"has-right":!!l.binaryTree?.right},null,8,["active-members","passive-members","prospect-members","has-left","has-right"])]),_:1})):$("",!0),i.value?(r(),T(e(ne),{key:1,value:"binary",class:"mt-0"},{default:a(()=>[l.binaryTree?(r(),T(xu,{key:0,"binary-tree":l.binaryTree,"total-downlines":l.totalDownlines,"total-left":l.totalLeft,"total-right":l.totalRight,"passive-members":l.passiveMembers},null,8,["binary-tree","total-downlines","total-left","total-right","passive-members"])):(r(),c("div",tp,[s(e(ze),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),x[13]||(x[13]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Jaringan Binary",-1)),x[14]||(x[14]=t("p",{class:"text-muted-foreground"}," Anda belum memiliki posisi dalam jaringan binary tree MLM. ",-1))]))]),_:1})):$("",!0),i.value?(r(),T(e(ne),{key:2,value:"bonus",class:"mt-0"},{default:a(()=>[s(Xm,{"bonus-sponsors":l.bonusSponsors,"bonus-matchings":l.bonusMatchings,"bonus-pairings":l.bonusPairings,"bonus-cashbacks":l.bonusCashbacks,"bonus-rewards":l.bonusRewards,"bonus-retails":l.bonusRetails,"bonus-lifetime-cash-rewards":l.bonusLifetimeCashRewards},null,8,["bonus-sponsors","bonus-matchings","bonus-pairings","bonus-cashbacks","bonus-rewards","bonus-retails","bonus-lifetime-cash-rewards"])]),_:1})):$("",!0),i.value?(r(),T(e(ne),{key:3,value:"promotions",class:"mt-0"},{default:a(()=>[s(Cc,{"promotion-rewards":l.promotionRewards,"claimed-promotion-rewards":l.claimedPromotionRewards},null,8,["promotion-rewards","claimed-promotion-rewards"])]),_:1})):$("",!0),i.value?(r(),T(e(ne),{key:4,value:"lifetime",class:"mt-0"},{default:a(()=>[s(Kc,{"lifetime-rewards":l.lifetimeRewards,"claimed-lifetime-rewards":l.claimedLifetimeRewards},null,8,["lifetime-rewards","claimed-lifetime-rewards"])]),_:1})):$("",!0),i.value?(r(),T(e(ne),{key:5,value:"zenner-club",class:"mt-0"},{default:a(()=>[t("div",sp,[x[19]||(x[19]=t("div",{class:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between"},[t("div",null,[t("h3",{class:"text-lg font-semibold"},"Zenner Club"),t("p",{class:"text-sm text-muted-foreground"}," Ringkasan materi penting untuk mendukung perjalanan Anda di Zenner Club. ")])],-1)),d.value.length?(r(),c("div",lp,[(r(!0),c(F,null,Z(d.value,b=>(r(),T(e(O),{key:b.id,class:"flex h-full flex-col"},{default:a(()=>[s(e(J),{class:"space-y-2"},{default:a(()=>[t("div",np,[s(e(H),{class:"text-base leading-tight"},{default:a(()=>[o(n(b.title),1)]),_:2},1024),t("span",rp,n(b.stats.contents+b.stats.childContents)+" konten ",1)]),t("div",op,[t("span",null,n(b.stats.contents)+" konten utama",1),x[15]||(x[15]=t("span",{class:"text-muted-foreground/60"},"",-1)),t("span",null,n(b.stats.children)+" subkategori",1),x[16]||(x[16]=t("span",{class:"text-muted-foreground/60"},"",-1)),t("span",null,n(b.stats.childContents)+" konten sub",1)])]),_:2},1024),s(e(W),{class:"flex flex-1 flex-col gap-4"},{default:a(()=>[b.contents.length?(r(),c("div",ip,[x[17]||(x[17]=t("p",{class:"text-xs font-semibold uppercase tracking-wide text-muted-foreground"},"Konten Utama",-1)),t("ul",dp,[(r(!0),c(F,null,Z(b.contents,v=>(r(),c("li",{key:v.id},[t("a",{href:P(v),class:"text-primary hover:underline"},n(v.title),9,up)]))),128))])])):$("",!0),b.children.length?(r(),c("div",mp,[x[18]||(x[18]=t("p",{class:"text-xs font-semibold uppercase tracking-wide text-muted-foreground"},"Sub Kategori",-1)),t("div",cp,[(r(!0),c(F,null,Z(b.children,v=>(r(),c("div",{key:v.id,class:"rounded-md border bg-muted/20 p-3"},[t("div",pp,[t("p",fp,n(v.name),1),t("span",xp,n(v.contents.length)+" konten ",1)]),v.contents.length?(r(),c("ul",gp,[(r(!0),c(F,null,Z(v.contents,f=>(r(),c("li",{key:f.id},[t("a",{href:P(f),class:"text-primary hover:underline"},n(f.title),9,vp)]))),128))])):(r(),c("p",bp,"Belum ada konten."))]))),128))])])):$("",!0),!b.contents.length&&!b.children.length?(r(),c("p",yp," Konten lengkap tersedia di menu Zenner Club. ")):$("",!0)]),_:2},1024)]),_:2},1024))),128))])):(r(),c("div",ap," Belum ada konten Zenner Club yang bisa ditampilkan. "))])]),_:1})):$("",!0),s(e(ne),{value:"wallet",class:"mt-0"},{default:a(()=>[s(vi,{customer:l.customer,transactions:l.walletTransactions,"has-pending-withdrawal":l.hasPendingWithdrawal},null,8,["customer","transactions","has-pending-withdrawal"])]),_:1}),s(e(ne),{value:"security",class:"mt-0"},{default:a(()=>[s(Ci)]),_:1}),s(e(ne),{value:"danger",class:"mt-0"},{default:a(()=>[s(ji)]),_:1})])]),_:1},8,["default-value"])])])])])]),_:1}))}});export{Qp as default};
