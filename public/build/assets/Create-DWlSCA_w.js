import{d as v,r as m,v as b,g,b as t,u as o,Z as x,w as a,e as s,a1 as d,E as h,s as _,J as y,F as k,j as w,N as c}from"./vendor-CraqpIJ-.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-BWDCecJb.js";import{_ as l}from"./index-DPd1r_cX.js";import{_ as S}from"./PromotionForm.vue_vue_type_script_setup_true_lang-2E3ZtxV9.js";import"./index-B7Ms5jW_.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BmdNsnpq.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-4BlfWucD.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DA-zofsy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BZHhRcHM.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-CQgGBfly.js";import"./Input.vue_vue_type_script_setup_true_lang-CqlAd_sW.js";import"./Label.vue_vue_type_script_setup_true_lang-DvVX6MKG.js";import"./Textarea.vue_vue_type_script_setup_true_lang-0xlPODzz.js";import"./CardContent.vue_vue_type_script_setup_true_lang-DM70BYA8.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-D7Z_V3uH.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-D25MJpMC.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-l0wDcl-m.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-Bvtl-Sz4.js";const N={class:"rounded-xl p-4 space-y-6 py-6"},P={class:"flex items-center gap-4"},C={class:"max-w-4xl"},O=v({__name:"Create",setup(E){const i=m({code:"",name:"",type:"discount",landing_slug:"",description:"",image:"",start_at:"",end_at:"",is_active:!0,priority:0,max_redemption:null,per_user_limit:null,conditions_json:"",show_on:"",page:""}),p=m({}),n=m(!1),f=()=>{n.value=!0,w.post("/admin/promotions",i.value,{preserveScroll:!0,onSuccess:()=>{c.success("Promosi berhasil ditambahkan")},onError:u=>{p.value=u,c.error("Gagal menambahkan promosi")},onFinish:()=>{n.value=!1}})};return(u,e)=>(g(),b(k,null,[t(o(x),{title:"Tambah Promosi"}),t(B,null,{default:a(()=>[s("div",N,[s("div",P,[t(o(d),{href:"/admin/promotions"},{default:a(()=>[t(o(l),{variant:"outline",size:"icon"},{default:a(()=>[t(o(h),{class:"h-4 w-4"})]),_:1})]),_:1}),e[1]||(e[1]=s("div",null,[s("h1",{class:"text-3xl font-bold"},"Tambah Promosi"),s("p",{class:"text-muted-foreground"},"Buat promosi atau diskon baru")],-1))]),s("div",C,[t(S,{"form-data":i.value,"onUpdate:formData":e[0]||(e[0]=r=>i.value=r),errors:p.value,processing:n.value,onSubmit:f},{actions:a(({processing:r})=>[t(o(d),{href:"/admin/promotions"},{default:a(()=>[t(o(l),{type:"button",variant:"outline"},{default:a(()=>[...e[2]||(e[2]=[_("Batal",-1)])]),_:1})]),_:1}),t(o(l),{type:"submit",disabled:r},{default:a(()=>[_(y(r?"Menyimpan...":"Simpan Promosi"),1)]),_:2},1032,["disabled"])]),_:1},8,["form-data","errors","processing"])])])]),_:1})],64))}});export{O as default};
