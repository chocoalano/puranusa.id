import{d as M,r as g,v as k,g as r,b as t,u as e,$ as O,w as l,e as i,t as z,j as y,s as u,W as Q,Y as R,N as W,F as b,x as B,c as w,J as d,al as S,af as Y}from"./vendor-zBKKL15G.js";import{_ as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-FntsTJOn.js";import{_ as A}from"./index-Bgaf6fPq.js";import{_}from"./index-D-ZDeNW7.js";import{_ as G}from"./Input.vue_vue_type_script_setup_true_lang-B8h33Tay.js";import{_ as X,a as Z,b as U,c as m,d as h,e as o}from"./TableHeader.vue_vue_type_script_setup_true_lang-B4pjwwGU.js";import{_ as ee,a as te,b as ae,c as H}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CJL3Y8wp.js";import{_ as D,a as j,b as F,c as I,d as v}from"./SelectValue.vue_vue_type_script_setup_true_lang-DhBu_Vgs.js";import"./index-B7Ms5jW_.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-kKofCkkG.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-CzoF4v2h.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-5qqdoF-N.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DSZTc71l.js";const le={class:"space-y-6rounded-xl p-4 space-y-6 py-6"},se={class:"flex items-center justify-between"},ue={class:"flex items-center gap-4"},ne={class:"relative flex-1"},de={class:"rounded-md border"},re={class:"flex flex-wrap gap-1"},ie={key:0,class:"flex items-center justify-between"},oe={class:"text-sm text-muted-foreground"},fe={class:"flex gap-2"},Ce=M({__name:"Index",props:{products:{},categories:{},filters:{}},setup(f){const p=f,N=g(p.filters.search||""),C=g(p.filters.category?.toString()||"all"),V=g(p.filters.status?.toString()||"all"),P=g(p.filters.sort_by||"created_at"),K=g(p.filters.sort_order||"desc"),T=g(p.filters.per_page||15),E=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n),c=()=>{y.get("/admin/products",{search:N.value,category:C.value==="all"?void 0:C.value,status:V.value==="all"?void 0:V.value,sort_by:P.value,sort_order:K.value,per_page:T.value},{preserveState:!0,preserveScroll:!0})},x=n=>{P.value===n?K.value=K.value==="asc"?"desc":"asc":(P.value=n,K.value="asc"),c()},J=n=>{const a=(n.b_sponsor||0)+(n.b_matching||0)+(n.b_pairing||0)+(n.b_cashback||0);return a>0?E(a):"-"},L=n=>{confirm("Apakah Anda yakin ingin menghapus produk ini?")&&y.delete(`/admin/products/${n}`,{preserveScroll:!0})};return(n,a)=>(r(),k(b,null,[t(e(O),{title:"Kelola Produk"}),t(q,null,{default:l(()=>[i("div",le,[i("div",se,[a[11]||(a[11]=i("div",null,[i("h2",{class:"text-3xl font-bold tracking-tight"},"Kelola Produk"),i("p",{class:"text-muted-foreground"},"Kelola semua produk yang tersedia di toko")],-1)),t(e(_),{onClick:a[0]||(a[0]=s=>e(y).visit("/admin/products/create"))},{default:l(()=>[t(e(Q),{class:"mr-2 h-4 w-4"}),a[10]||(a[10]=u(" Tambah Produk ",-1))]),_:1})]),i("div",ue,[i("div",ne,[t(e(R),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(G),{modelValue:N.value,"onUpdate:modelValue":a[1]||(a[1]=s=>N.value=s),placeholder:"Cari produk...",class:"pl-10",onKeydown:W(c,["enter"])},null,8,["modelValue"])]),t(e(D),{modelValue:C.value,"onUpdate:modelValue":[a[2]||(a[2]=s=>C.value=s),c]},{default:l(()=>[t(e(j),{class:"w-[200px]"},{default:l(()=>[t(e(F),{placeholder:"Semua Kategori"})]),_:1}),t(e(I),null,{default:l(()=>[t(e(v),{value:"all"},{default:l(()=>[...a[12]||(a[12]=[u("Semua Kategori",-1)])]),_:1}),(r(!0),k(b,null,B(f.categories,s=>(r(),w(e(v),{key:s.id,value:s.id.toString()},{default:l(()=>[u(d(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t(e(D),{modelValue:V.value,"onUpdate:modelValue":[a[3]||(a[3]=s=>V.value=s),c]},{default:l(()=>[t(e(j),{class:"w-[150px]"},{default:l(()=>[t(e(F),{placeholder:"Status"})]),_:1}),t(e(I),null,{default:l(()=>[t(e(v),{value:"all"},{default:l(()=>[...a[13]||(a[13]=[u("Semua Status",-1)])]),_:1}),t(e(v),{value:"1"},{default:l(()=>[...a[14]||(a[14]=[u("Aktif",-1)])]),_:1}),t(e(v),{value:"0"},{default:l(()=>[...a[15]||(a[15]=[u("Tidak Aktif",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(e(D),{modelValue:T.value,"onUpdate:modelValue":[a[4]||(a[4]=s=>T.value=s),c]},{default:l(()=>[t(e(j),{class:"w-[100px]"},{default:l(()=>[t(e(F))]),_:1}),t(e(I),null,{default:l(()=>[t(e(v),{value:10},{default:l(()=>[...a[16]||(a[16]=[u("10",-1)])]),_:1}),t(e(v),{value:25},{default:l(()=>[...a[17]||(a[17]=[u("25",-1)])]),_:1}),t(e(v),{value:50},{default:l(()=>[...a[18]||(a[18]=[u("50",-1)])]),_:1}),t(e(v),{value:100},{default:l(()=>[...a[19]||(a[19]=[u("100",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),i("div",de,[t(e(X),null,{default:l(()=>[t(e(Z),null,{default:l(()=>[t(e(U),null,{default:l(()=>[t(e(m),null,{default:l(()=>[t(e(_),{variant:"ghost",onClick:a[5]||(a[5]=s=>x("sku")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[20]||(a[20]=u(" SKU ",-1)),t(e(S),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(m),null,{default:l(()=>[t(e(_),{variant:"ghost",onClick:a[6]||(a[6]=s=>x("name")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[21]||(a[21]=u(" Nama Produk ",-1)),t(e(S),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(m),null,{default:l(()=>[...a[22]||(a[22]=[u("Kategori",-1)])]),_:1}),t(e(m),null,{default:l(()=>[t(e(_),{variant:"ghost",onClick:a[7]||(a[7]=s=>x("base_price")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[23]||(a[23]=u(" Harga ",-1)),t(e(S),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(m),null,{default:l(()=>[t(e(_),{variant:"ghost",onClick:a[8]||(a[8]=s=>x("bv")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[24]||(a[24]=u(" BV ",-1)),t(e(S),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(m),null,{default:l(()=>[...a[25]||(a[25]=[u("Total Bonus",-1)])]),_:1}),t(e(m),null,{default:l(()=>[t(e(_),{variant:"ghost",onClick:a[9]||(a[9]=s=>x("stock")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[26]||(a[26]=u(" Stok ",-1)),t(e(S),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(m),null,{default:l(()=>[...a[27]||(a[27]=[u("Status",-1)])]),_:1}),t(e(m),{class:"w-[80px]"})]),_:1})]),_:1}),t(e(h),null,{default:l(()=>[f.products.data.length===0?(r(),w(e(U),{key:0},{default:l(()=>[t(e(o),{colspan:"9",class:"text-center text-muted-foreground"},{default:l(()=>[...a[28]||(a[28]=[u(" Tidak ada produk ditemukan ",-1)])]),_:1})]),_:1})):z("",!0),(r(!0),k(b,null,B(f.products.data,s=>(r(),w(e(U),{key:s.id},{default:l(()=>[t(e(o),{class:"font-medium"},{default:l(()=>[u(d(s.sku),1)]),_:2},1024),t(e(o),null,{default:l(()=>[u(d(s.name),1)]),_:2},1024),t(e(o),null,{default:l(()=>[i("div",re,[(r(!0),k(b,null,B(s.categories,$=>(r(),w(e(A),{key:$.id,variant:"secondary"},{default:l(()=>[u(d($.name),1)]),_:2},1024))),128))])]),_:2},1024),t(e(o),null,{default:l(()=>[u(d(E(s.base_price)),1)]),_:2},1024),t(e(o),null,{default:l(()=>[t(e(A),{variant:"outline"},{default:l(()=>[u(d(s.bv||0),1)]),_:2},1024)]),_:2},1024),t(e(o),null,{default:l(()=>[u(d(J(s)),1)]),_:2},1024),t(e(o),null,{default:l(()=>[t(e(A),{variant:s.stock>0?"default":"destructive"},{default:l(()=>[u(d(s.stock),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(o),null,{default:l(()=>[t(e(A),{variant:s.is_active?"default":"secondary"},{default:l(()=>[u(d(s.is_active?"Aktif":"Tidak Aktif"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(o),null,{default:l(()=>[t(e(ee),null,{default:l(()=>[t(e(te),{"as-child":""},{default:l(()=>[t(e(_),{variant:"ghost",size:"icon"},{default:l(()=>[t(e(Y),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ae),{align:"end"},{default:l(()=>[t(e(H),{onClick:$=>e(y).visit(`/admin/products/${s.id}/edit`)},{default:l(()=>[...a[29]||(a[29]=[u(" Edit ",-1)])]),_:1},8,["onClick"]),t(e(H),{onClick:$=>L(s.id),class:"text-destructive"},{default:l(()=>[...a[30]||(a[30]=[u(" Hapus ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),f.products.last_page>1?(r(),k("div",ie,[i("p",oe," Menampilkan "+d(f.products.data.length)+" dari "+d(f.products.total)+" produk ",1),i("div",fe,[(r(!0),k(b,null,B(f.products.last_page,s=>(r(),w(e(_),{key:s,variant:s===f.products.current_page?"default":"outline",size:"sm",onClick:$=>e(y).get(`/admin/products?page=${s}`)},{default:l(()=>[u(d(s),1)]),_:2},1032,["variant","onClick"]))),128))])])):z("",!0)])]),_:1})],64))}});export{Ce as default};
