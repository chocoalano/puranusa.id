import{d as b,r as l,v as g,g as h,b as a,u as e,a1 as v,w as r,e as s,a4 as u,G as x,s as f,K as w,F as y,j as F,Q as c}from"./vendor-DYgHfk08.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-DRH_ebPA.js";import{_ as p}from"./index-DBsPyq8S.js";import{_ as B}from"./PromotionForm.vue_vue_type_script_setup_true_lang-CllkjmV0.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BuaobLrR.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Bql-RK5d.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Wm0IkLbg.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DRgKjkJL.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-D72m4PHj.js";import"./Input.vue_vue_type_script_setup_true_lang-DkLAfZys.js";import"./Label.vue_vue_type_script_setup_true_lang-B3Rl-oB1.js";import"./Textarea.vue_vue_type_script_setup_true_lang-BX4687rs.js";import"./CardContent.vue_vue_type_script_setup_true_lang-CnmozILa.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-D5WdCzuR.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-9jnBdHpK.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-CI_uH55v.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-DYYIQ-He.js";const D={class:"rounded-xl p-4 space-y-6 py-6"},k={class:"flex items-center gap-4"},P={class:"max-w-4xl"},R=b({__name:"Create",setup(j){const n=l({code:"",name:"",type:"discount",landing_slug:"",description:"",image:null,start_at:"",end_at:"",is_active:!0,priority:0,max_redemption:null,per_user_limit:null,conditions_json:"",show_on:"",page:""}),d=l({}),m=l(!1),_=()=>{m.value=!0;const i=new FormData;Object.entries(n.value).forEach(([o,t])=>{t!=null&&(t instanceof File?i.append(o,t):typeof t=="boolean"?i.append(o,t?"1":"0"):i.append(o,String(t)))}),F.post("/admin/promotions",i,{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{c.success("Promosi berhasil ditambahkan")},onError:o=>{d.value=o,c.error("Gagal menambahkan promosi")},onFinish:()=>{m.value=!1}})};return(i,o)=>(h(),g(y,null,[a(e(v),{title:"Tambah Promosi"}),a(S,null,{default:r(()=>[s("div",D,[s("div",k,[a(e(u),{href:"/admin/promotions"},{default:r(()=>[a(e(p),{variant:"outline",size:"icon"},{default:r(()=>[a(e(x),{class:"h-4 w-4"})]),_:1})]),_:1}),o[1]||(o[1]=s("div",null,[s("h1",{class:"text-3xl font-bold"},"Tambah Promosi"),s("p",{class:"text-muted-foreground"},"Buat promosi atau diskon baru")],-1))]),s("div",P,[a(B,{"form-data":n.value,"onUpdate:formData":o[0]||(o[0]=t=>n.value=t),errors:d.value,processing:m.value,onSubmit:_},{actions:r(({processing:t})=>[a(e(u),{href:"/admin/promotions"},{default:r(()=>[a(e(p),{type:"button",variant:"outline"},{default:r(()=>[...o[2]||(o[2]=[f("Batal",-1)])]),_:1})]),_:1}),a(e(p),{type:"submit",disabled:t},{default:r(()=>[f(w(t?"Menyimpan...":"Simpan Promosi"),1)]),_:2},1032,["disabled"])]),_:1},8,["form-data","errors","processing"])])])]),_:1})],64))}});export{R as default};
