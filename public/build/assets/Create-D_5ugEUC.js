import{d as w,D as y,c as V,g as d,w as i,e as o,b as l,u as t,ae as g,v as u,t as p,K as f,ah as m,al as b,s as n,ai as $,a4 as S,Q as v}from"./vendor-FclwbLvj.js";import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-ySs7Rre_.js";import{_ as U,a as B}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_}from"./index-B4cH97KR.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as C,a as J,b as D,c as M,d as x}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const O={class:"container mx-auto py-6 space-y-6"},T={key:0,class:"text-sm text-destructive mt-1"},z={key:0,class:"text-sm text-destructive mt-1"},K={key:0,class:"text-sm text-destructive mt-1"},R={class:"flex items-center gap-2"},E={class:"flex gap-2"},h=w({__name:"Create",setup(A){const s=y({title:"",description:"",type:"bonus",conditions:"",rewards:"",is_active:!0,sort_order:0}),c=()=>{s.transform(a=>({...a,conditions:a.conditions?JSON.parse(a.conditions):null,rewards:a.rewards?JSON.parse(a.rewards):null})).post("/admin/zenner/incentive-rules",{onSuccess:()=>v.success("Rule berhasil ditambahkan"),onError:()=>v.error("Gagal menyimpan data")})};return(a,e)=>(d(),V(N,null,{default:i(()=>[o("div",O,[e[19]||(e[19]=o("h1",{class:"text-3xl font-bold tracking-tight"},"Tambah Skema Insentif",-1)),l(t(U),null,{default:i(()=>[l(t(B),{class:"pt-6"},{default:i(()=>[o("form",{onSubmit:g(c,["prevent"]),class:"space-y-4"},[o("div",null,[e[7]||(e[7]=o("label",{class:"block text-sm font-medium mb-1"},"Judul",-1)),l(t(k),{modelValue:t(s).title,"onUpdate:modelValue":e[0]||(e[0]=r=>t(s).title=r)},null,8,["modelValue"]),t(s).errors.title?(d(),u("p",T,f(t(s).errors.title),1)):p("",!0)]),o("div",null,[e[8]||(e[8]=o("label",{class:"block text-sm font-medium mb-1"},"Deskripsi",-1)),m(o("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>t(s).description=r),rows:"4",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},null,512),[[b,t(s).description]])]),o("div",null,[e[12]||(e[12]=o("label",{class:"block text-sm font-medium mb-1"},"Tipe",-1)),l(t(C),{modelValue:t(s).type,"onUpdate:modelValue":e[2]||(e[2]=r=>t(s).type=r)},{default:i(()=>[l(t(J),null,{default:i(()=>[l(t(D))]),_:1}),l(t(M),null,{default:i(()=>[l(t(x),{value:"bonus"},{default:i(()=>[...e[9]||(e[9]=[n("Bonus",-1)])]),_:1}),l(t(x),{value:"reward"},{default:i(()=>[...e[10]||(e[10]=[n("Reward",-1)])]),_:1}),l(t(x),{value:"commission"},{default:i(()=>[...e[11]||(e[11]=[n("Komisi",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",null,[e[13]||(e[13]=o("label",{class:"block text-sm font-medium mb-1"},"Kondisi (JSON)",-1)),m(o("textarea",{"onUpdate:modelValue":e[3]||(e[3]=r=>t(s).conditions=r),rows:"3",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono text-xs",placeholder:'{"min_omzet": 1000000}'},null,512),[[b,t(s).conditions]]),t(s).errors.conditions?(d(),u("p",z,f(t(s).errors.conditions),1)):p("",!0)]),o("div",null,[e[14]||(e[14]=o("label",{class:"block text-sm font-medium mb-1"},"Rewards (JSON)",-1)),m(o("textarea",{"onUpdate:modelValue":e[4]||(e[4]=r=>t(s).rewards=r),rows:"3",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono text-xs",placeholder:'{"amount": 500000}'},null,512),[[b,t(s).rewards]]),t(s).errors.rewards?(d(),u("p",K,f(t(s).errors.rewards),1)):p("",!0)]),o("div",null,[e[15]||(e[15]=o("label",{class:"block text-sm font-medium mb-1"},"Urutan",-1)),l(t(k),{modelValue:t(s).sort_order,"onUpdate:modelValue":e[5]||(e[5]=r=>t(s).sort_order=r),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),o("div",R,[m(o("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[6]||(e[6]=r=>t(s).is_active=r),class:"rounded"},null,512),[[$,t(s).is_active]]),e[16]||(e[16]=o("label",{for:"is_active",class:"text-sm"},"Aktif",-1))]),o("div",E,[l(t(_),{type:"submit",disabled:t(s).processing},{default:i(()=>[...e[17]||(e[17]=[n("Simpan",-1)])]),_:1},8,["disabled"]),l(t(_),{variant:"outline","as-child":""},{default:i(()=>[l(t(S),{href:"/admin/zenner/incentive-rules"},{default:i(()=>[...e[18]||(e[18]=[n("Batal",-1)])]),_:1})]),_:1})])],32)]),_:1})]),_:1})])]),_:1}))}});export{h as default};
