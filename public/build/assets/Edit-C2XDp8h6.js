import{d as O,r as y,D as C,v as m,g as p,b as t,u as s,Z as D,w as l,e as a,a1 as N,E as J,J as r,s as u,S as j,ab as T,t as _,H as k,F as B,j as F}from"./vendor-CraqpIJ-.js";import{_ as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-BWDCecJb.js";import{_ as c}from"./index-DPd1r_cX.js";import{_ as V,a as $}from"./CardContent.vue_vue_type_script_setup_true_lang-DM70BYA8.js";import{_ as S}from"./CardDescription.vue_vue_type_script_setup_true_lang-D7Z_V3uH.js";import{_ as w}from"./CardHeader.vue_vue_type_script_setup_true_lang-D25MJpMC.js";import{_ as U}from"./CardTitle.vue_vue_type_script_setup_true_lang-l0wDcl-m.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-CqlAd_sW.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-DvVX6MKG.js";import{_ as K}from"./Switch.vue_vue_type_script_setup_true_lang-C113UQmQ.js";import{_ as z,a as G,b as I,c as L,d as E}from"./SelectValue.vue_vue_type_script_setup_true_lang-Bvtl-Sz4.js";import{_ as M}from"./PageBuilder.vue_vue_type_script_setup_true_lang-B2UacqOo.js";import"./index-B7Ms5jW_.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BmdNsnpq.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-4BlfWucD.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DA-zofsy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BZHhRcHM.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-CQgGBfly.js";import"./Textarea.vue_vue_type_script_setup_true_lang-0xlPODzz.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-C52OMNql.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-Bw5Af064.js";import"./index-COroZ9V9.js";const A={class:"container mx-auto py-6 space-y-6"},R={class:"flex items-center justify-between"},W={class:"flex items-center gap-4"},Z={class:"text-muted-foreground mt-1"},q={class:"space-y-2"},Q={key:0,class:"text-sm text-destructive"},X={class:"space-y-2"},Y={class:"text-xs text-muted-foreground"},h={class:"font-medium"},ee={key:0,class:"text-sm text-destructive"},te={class:"space-y-2"},se={key:0,class:"text-sm text-destructive"},le={class:"space-y-2"},ae={key:0,class:"text-sm text-destructive"},oe={class:"space-y-2"},ie={key:0,class:"text-sm text-destructive"},ue={class:"flex items-center justify-between space-x-2"},de={class:"space-y-0.5"},ne={class:"space-y-2"},re={key:0,class:"text-sm text-destructive"},me={class:"space-y-2"},pe={class:"text-xs text-muted-foreground"},fe={key:0,class:"text-sm text-destructive"},_e={class:"flex justify-end gap-4"},Fe=O({__name:"Edit",props:{page:{}},setup(x){const n=x,o=y({title:n.page.title,slug:n.page.slug,blocks:n.page.blocks||[],seo_title:n.page.seo_title||"",seo_description:n.page.seo_description||"",is_published:n.page.is_published,template:n.page.template,order:n.page.order}),v=y(!1),i=y({});C(()=>n.page.blocks,g=>{g&&(o.value.blocks=JSON.parse(JSON.stringify(g)))},{immediate:!0});const P=()=>{v.value=!0,i.value={};const g={...o.value,blocks:JSON.stringify(o.value.blocks),_method:"PUT"};F.post(`/admin/pages/${n.page.id}`,g,{preserveScroll:!0,onSuccess:()=>{v.value=!1},onError:e=>{i.value=e,v.value=!1}})};return(g,e)=>(p(),m(B,null,[t(s(D),{title:`Edit: ${x.page.title}`},null,8,["title"]),t(H,null,{default:l(()=>[a("div",A,[a("div",R,[a("div",W,[t(s(N),{href:"/admin/pages"},{default:l(()=>[t(s(c),{variant:"outline",size:"icon"},{default:l(()=>[t(s(J),{class:"h-4 w-4"})]),_:1})]),_:1}),a("div",null,[e[8]||(e[8]=a("h1",{class:"text-3xl font-bold tracking-tight"},"Edit Halaman",-1)),a("p",Z,r(x.page.title),1)])]),t(s(c),{onClick:P,disabled:v.value},{default:l(()=>[t(s(j),{class:"h-4 w-4 mr-2"}),e[9]||(e[9]=u(" Simpan Perubahan ",-1))]),_:1},8,["disabled"])]),a("form",{onSubmit:T(P,["prevent"]),class:"space-y-6"},[t(s(V),null,{default:l(()=>[t(s(w),null,{default:l(()=>[t(s(U),null,{default:l(()=>[...e[10]||(e[10]=[u("Informasi Dasar",-1)])]),_:1}),t(s(S),null,{default:l(()=>[...e[11]||(e[11]=[u("Informasi utama halaman",-1)])]),_:1})]),_:1}),t(s($),{class:"space-y-4"},{default:l(()=>[a("div",q,[t(s(f),{for:"title"},{default:l(()=>[...e[12]||(e[12]=[u("Judul Halaman *",-1)])]),_:1}),t(s(b),{id:"title",modelValue:o.value.title,"onUpdate:modelValue":e[0]||(e[0]=d=>o.value.title=d),placeholder:"Contoh: Tentang Kami, Kebijakan Privasi",class:k({"border-destructive":i.value.title})},null,8,["modelValue","class"]),i.value.title?(p(),m("p",Q,r(i.value.title),1)):_("",!0)]),a("div",X,[t(s(f),{for:"slug"},{default:l(()=>[...e[13]||(e[13]=[u("Slug *",-1)])]),_:1}),t(s(b),{id:"slug",modelValue:o.value.slug,"onUpdate:modelValue":e[1]||(e[1]=d=>o.value.slug=d),placeholder:"tentang-kami",class:k({"border-destructive":i.value.slug})},null,8,["modelValue","class"]),a("p",Y,[e[14]||(e[14]=u(" URL: /page/",-1)),a("span",h,r(o.value.slug),1)]),i.value.slug?(p(),m("p",ee,r(i.value.slug),1)):_("",!0)]),a("div",te,[t(s(f),null,{default:l(()=>[...e[15]||(e[15]=[u("Konten Halaman",-1)])]),_:1}),t(M,{modelValue:o.value.blocks,"onUpdate:modelValue":e[2]||(e[2]=d=>o.value.blocks=d)},null,8,["modelValue"]),e[16]||(e[16]=a("p",{class:"text-xs text-muted-foreground"}," Gunakan PageBuilder untuk membuat konten dengan berbagai jenis block ",-1)),i.value.blocks?(p(),m("p",se,r(i.value.blocks),1)):_("",!0)])]),_:1})]),_:1}),t(s(V),null,{default:l(()=>[t(s(w),null,{default:l(()=>[t(s(U),null,{default:l(()=>[...e[17]||(e[17]=[u("Pengaturan",-1)])]),_:1}),t(s(S),null,{default:l(()=>[...e[18]||(e[18]=[u("Konfigurasi tampilan dan urutan",-1)])]),_:1})]),_:1}),t(s($),{class:"space-y-4"},{default:l(()=>[a("div",le,[t(s(f),{for:"template"},{default:l(()=>[...e[19]||(e[19]=[u("Template",-1)])]),_:1}),t(s(z),{modelValue:o.value.template,"onUpdate:modelValue":e[3]||(e[3]=d=>o.value.template=d)},{default:l(()=>[t(s(G),{id:"template"},{default:l(()=>[t(s(I),{placeholder:"Pilih template"})]),_:1}),t(s(L),null,{default:l(()=>[t(s(E),{value:"default"},{default:l(()=>[...e[20]||(e[20]=[u("Default",-1)])]),_:1}),t(s(E),{value:"full-width"},{default:l(()=>[...e[21]||(e[21]=[u("Full Width",-1)])]),_:1}),t(s(E),{value:"narrow"},{default:l(()=>[...e[22]||(e[22]=[u("Narrow",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i.value.template?(p(),m("p",ae,r(i.value.template),1)):_("",!0)]),a("div",oe,[t(s(f),{for:"order"},{default:l(()=>[...e[23]||(e[23]=[u("Urutan",-1)])]),_:1}),t(s(b),{id:"order",modelValue:o.value.order,"onUpdate:modelValue":e[4]||(e[4]=d=>o.value.order=d),modelModifiers:{number:!0},type:"number",min:"0",class:k({"border-destructive":i.value.order})},null,8,["modelValue","class"]),e[24]||(e[24]=a("p",{class:"text-xs text-muted-foreground"}," Semakin kecil angka, semakin tinggi prioritasnya ",-1)),i.value.order?(p(),m("p",ie,r(i.value.order),1)):_("",!0)]),a("div",ue,[a("div",de,[t(s(f),{for:"is_published"},{default:l(()=>[...e[25]||(e[25]=[u("Status Publikasi",-1)])]),_:1}),e[26]||(e[26]=a("p",{class:"text-xs text-muted-foreground"}," Publikasikan halaman ini ke website ",-1))]),t(K,{id:"is_published",checked:o.value.is_published,"onUpdate:checked":e[5]||(e[5]=d=>o.value.is_published=d)},null,8,["checked"])])]),_:1})]),_:1}),t(s(V),null,{default:l(()=>[t(s(w),null,{default:l(()=>[t(s(U),null,{default:l(()=>[...e[27]||(e[27]=[u("SEO",-1)])]),_:1}),t(s(S),null,{default:l(()=>[...e[28]||(e[28]=[u("Optimasi untuk mesin pencari",-1)])]),_:1})]),_:1}),t(s($),{class:"space-y-4"},{default:l(()=>[a("div",ne,[t(s(f),{for:"seo_title"},{default:l(()=>[...e[29]||(e[29]=[u("SEO Title",-1)])]),_:1}),t(s(b),{id:"seo_title",modelValue:o.value.seo_title,"onUpdate:modelValue":e[6]||(e[6]=d=>o.value.seo_title=d),placeholder:"Judul untuk Google (kosongkan untuk menggunakan judul halaman)",class:k({"border-destructive":i.value.seo_title})},null,8,["modelValue","class"]),i.value.seo_title?(p(),m("p",re,r(i.value.seo_title),1)):_("",!0)]),a("div",me,[t(s(f),{for:"seo_description"},{default:l(()=>[...e[30]||(e[30]=[u("SEO Description",-1)])]),_:1}),t(s(b),{id:"seo_description",modelValue:o.value.seo_description,"onUpdate:modelValue":e[7]||(e[7]=d=>o.value.seo_description=d),placeholder:"Deskripsi singkat untuk hasil pencarian (150-160 karakter)",class:k({"border-destructive":i.value.seo_description})},null,8,["modelValue","class"]),a("p",pe,r(o.value.seo_description?.length||0)+"/160 karakter ",1),i.value.seo_description?(p(),m("p",fe,r(i.value.seo_description),1)):_("",!0)])]),_:1})]),_:1}),a("div",_e,[t(s(N),{href:"/admin/pages"},{default:l(()=>[t(s(c),{type:"button",variant:"outline"},{default:l(()=>[...e[31]||(e[31]=[u(" Batal ",-1)])]),_:1})]),_:1}),t(s(c),{type:"submit",disabled:v.value},{default:l(()=>[t(s(j),{class:"h-4 w-4 mr-2"}),e[32]||(e[32]=u(" Simpan Perubahan ",-1))]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Fe as default};
