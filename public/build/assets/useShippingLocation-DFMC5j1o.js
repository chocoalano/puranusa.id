import{d as O,ac as F,ad as Q,p as D,v as p,g as u,ae as Y,b as t,e as i,u as s,w as r,s as o,t as _,J as w,K as f,L as R,F as A,x as I,c as E,W as Z,D as ee,r as B}from"./vendor-ppbe-N6l.js";import{_ as C,a as N}from"./CardContent.vue_vue_type_script_setup_true_lang-vqvbNoPF.js";import{_ as U}from"./CardDescription.vue_vue_type_script_setup_true_lang-DlqFqAdi.js";import{_ as q}from"./CardHeader.vue_vue_type_script_setup_true_lang-_r3YWix0.js";import{_ as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-CuQE-qUU.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-DNj-uKug.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-DqlcMzBV.js";import{_ as h,a as L,b as $,c as W,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-CzK-upws.js";import{_ as K}from"./Textarea.vue_vue_type_script_setup_true_lang-CBeaEOLc.js";const ae={class:"grid gap-4 md:grid-cols-2"},se={class:"space-y-2"},te={key:0,class:"text-sm text-destructive"},re={class:"space-y-2"},ne={key:0,class:"text-sm text-destructive"},le={class:"space-y-2"},oe={key:0,class:"text-sm text-destructive"},ie={class:"space-y-2"},de={key:0,class:"text-sm text-destructive"},ue={class:"space-y-2"},pe={key:0,class:"text-sm text-destructive"},me={class:"space-y-2"},ve={key:0,class:"text-sm text-destructive"},fe={class:"space-y-2"},ke={key:0,class:"text-sm text-destructive"},ce={class:"grid gap-4 md:grid-cols-2"},_e={class:"space-y-2"},we={key:0},ge={key:1,class:"inline-flex items-center gap-2"},xe={key:2},ye={key:0,class:"text-sm text-destructive"},be={class:"space-y-2"},Ve={key:0},Pe={key:1,class:"inline-flex items-center gap-2"},je={key:2},Ce={key:3},Ne={key:0,class:"text-sm text-destructive"},Ue={class:"space-y-2"},qe={key:0,class:"text-sm text-destructive"},Me={class:"grid gap-4 md:grid-cols-2"},he={class:"space-y-2"},Le={key:0,class:"text-sm text-destructive"},$e={class:"space-y-2"},We={key:0,class:"text-sm text-destructive"},Se={class:"space-y-2"},Ae={key:0,class:"text-sm text-destructive"},Be={class:"space-y-2"},Ke={key:0,class:"text-sm text-destructive"},De={class:"space-y-2"},ze={key:0,class:"text-sm text-destructive"},Fe={class:"grid gap-4 md:grid-cols-2"},Re={class:"space-y-2"},Ie={key:0,class:"text-sm text-destructive"},Ee={class:"space-y-2"},Te={key:0,class:"text-sm text-destructive"},Ge={class:"space-y-2"},Je={key:0,class:"text-sm text-destructive"},Xe={class:"space-y-2"},He={key:0,class:"text-sm text-destructive"},Oe={class:"grid gap-4 md:grid-cols-2"},Qe={class:"space-y-2"},Ye={key:0,class:"text-sm text-destructive"},Ze={class:"space-y-2"},ea={key:0,class:"text-sm text-destructive"},aa={class:"space-y-2"},sa={key:0,class:"text-sm text-destructive"},ta={class:"grid gap-4 md:grid-cols-2"},ra={class:"space-y-2"},na={key:0,class:"text-sm text-destructive"},la={class:"space-y-2"},oa={class:"flex justify-end gap-4"},wa=O({__name:"CustomerForm",props:F({mode:{},provinces:{},cities:{},loadingProvinces:{type:Boolean},loadingCities:{type:Boolean}},{form:{required:!0},formModifiers:{}}),emits:F(["submit"],["update:form"]),setup(k,{emit:l}){const v=k,a=Q(k,"form"),y=l,b=D(()=>v.mode==="create"),S=D(()=>v.provinces.find(g=>g.id===a.value.province_id)?.name),m=D(()=>v.cities.find(g=>g.id===a.value.city_id)?.name);return(g,e)=>(u(),p("form",{onSubmit:e[24]||(e[24]=Y(n=>y("submit"),["prevent"])),class:"space-y-6"},[t(s(C),null,{default:r(()=>[t(s(q),null,{default:r(()=>[t(s(M),null,{default:r(()=>[...e[25]||(e[25]=[o("Data Utama Pelanggan",-1)])]),_:1}),t(s(U),null,{default:r(()=>[...e[26]||(e[26]=[o(" Lengkapi data identitas secara akurat. Field bertanda ",-1),i("span",{class:"font-medium"},"*",-1),o(" wajib diisi. ",-1)])]),_:1})]),_:1}),t(s(N),{class:"space-y-4"},{default:r(()=>[i("div",ae,[i("div",se,[t(s(c),{for:"name"},{default:r(()=>[...e[27]||(e[27]=[o("Nama Lengkap *",-1)])]),_:1}),t(s(x),{id:"name",modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value.name=n),placeholder:"Masukkan nama lengkap",class:w({"border-destructive":a.value.errors.name}),required:""},null,8,["modelValue","class"]),e[28]||(e[28]=i("p",{class:"text-xs text-muted-foreground"}," Gunakan nama sesuai identitas resmi pelanggan. ",-1)),a.value.errors.name?(u(),p("p",te,f(a.value.errors.name),1)):_("",!0)]),i("div",re,[t(s(c),{for:"username"},{default:r(()=>[...e[29]||(e[29]=[o("Username *",-1)])]),_:1}),t(s(x),{id:"username",modelValue:a.value.username,"onUpdate:modelValue":e[1]||(e[1]=n=>a.value.username=n),placeholder:"contoh: budi_santoso",class:w({"border-destructive":a.value.errors.username}),required:""},null,8,["modelValue","class"]),e[30]||(e[30]=i("p",{class:"text-xs text-muted-foreground"}," Username dipakai untuk login dan harus unik. ",-1)),a.value.errors.username?(u(),p("p",ne,f(a.value.errors.username),1)):_("",!0)]),i("div",le,[t(s(c),{for:"nik"},{default:r(()=>[...e[31]||(e[31]=[o("NIK *",-1)])]),_:1}),t(s(x),{id:"nik",modelValue:a.value.nik,"onUpdate:modelValue":e[2]||(e[2]=n=>a.value.nik=n),inputmode:"numeric",maxlength:"32",placeholder:"Contoh: 3174xxxxxxxxxxxx",class:w({"border-destructive":a.value.errors.nik}),required:""},null,8,["modelValue","class"]),e[32]||(e[32]=i("p",{class:"text-xs text-muted-foreground"}," NIK berisi angka 8 sampai 32 digit. ",-1)),a.value.errors.nik?(u(),p("p",oe,f(a.value.errors.nik),1)):_("",!0)]),i("div",ie,[t(s(c),{for:"gender"},{default:r(()=>[...e[33]||(e[33]=[o("Jenis Kelamin *",-1)])]),_:1}),t(s(h),{modelValue:a.value.gender,"onUpdate:modelValue":e[3]||(e[3]=n=>a.value.gender=n)},{default:r(()=>[t(s(L),{id:"gender",class:w({"border-destructive":a.value.errors.gender})},{default:r(()=>[t(s($),{placeholder:"Pilih jenis kelamin"})]),_:1},8,["class"]),t(s(W),null,{default:r(()=>[t(s(P),{value:"laki-laki"},{default:r(()=>[...e[34]||(e[34]=[o("Laki-laki",-1)])]),_:1}),t(s(P),{value:"perempuan"},{default:r(()=>[...e[35]||(e[35]=[o("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e[36]||(e[36]=i("p",{class:"text-xs text-muted-foreground"}," Pilih jenis kelamin sesuai data legal. ",-1)),a.value.errors.gender?(u(),p("p",de,f(a.value.errors.gender),1)):_("",!0)]),i("div",ue,[t(s(c),{for:"email"},{default:r(()=>[...e[37]||(e[37]=[o("Email *",-1)])]),_:1}),t(s(x),{id:"email",modelValue:a.value.email,"onUpdate:modelValue":e[4]||(e[4]=n=>a.value.email=n),type:"email",placeholder:"nama@email.com",class:w({"border-destructive":a.value.errors.email}),required:""},null,8,["modelValue","class"]),e[38]||(e[38]=i("p",{class:"text-xs text-muted-foreground"}," Email aktif untuk notifikasi akun pelanggan. ",-1)),a.value.errors.email?(u(),p("p",pe,f(a.value.errors.email),1)):_("",!0)]),i("div",me,[t(s(c),{for:"phone"},{default:r(()=>[...e[39]||(e[39]=[o("No. Telepon *",-1)])]),_:1}),t(s(x),{id:"phone",modelValue:a.value.phone,"onUpdate:modelValue":e[5]||(e[5]=n=>a.value.phone=n),inputmode:"tel",placeholder:"08xxxxxxxxxx",class:w({"border-destructive":a.value.errors.phone}),required:""},null,8,["modelValue","class"]),e[40]||(e[40]=i("p",{class:"text-xs text-muted-foreground"}," Nomor aktif untuk komunikasi dan verifikasi. ",-1)),a.value.errors.phone?(u(),p("p",ve,f(a.value.errors.phone),1)):_("",!0)])])]),_:1})]),_:1}),t(s(C),null,{default:r(()=>[t(s(q),null,{default:r(()=>[t(s(M),null,{default:r(()=>[...e[41]||(e[41]=[o("Alamat Pelanggan",-1)])]),_:1}),t(s(U),null,{default:r(()=>[...e[42]||(e[42]=[o(" Masukkan alamat utama pengiriman dan domisili untuk kebutuhan operasional. ",-1)])]),_:1})]),_:1}),t(s(N),{class:"space-y-4"},{default:r(()=>[i("div",fe,[t(s(c),{for:"address"},{default:r(()=>[...e[43]||(e[43]=[o("Address *",-1)])]),_:1}),t(s(K),{id:"address",modelValue:a.value.address,"onUpdate:modelValue":e[6]||(e[6]=n=>a.value.address=n),placeholder:"Alamat utama pengiriman",rows:"3",class:w({"border-destructive":a.value.errors.address}),required:""},null,8,["modelValue","class"]),e[44]||(e[44]=i("p",{class:"text-xs text-muted-foreground"}," Contoh: nama jalan, nomor rumah, RT/RW, kelurahan, kecamatan. ",-1)),a.value.errors.address?(u(),p("p",ke,f(a.value.errors.address),1)):_("",!0)]),i("div",ce,[i("div",_e,[t(s(c),{for:"province_id"},{default:r(()=>[...e[45]||(e[45]=[o("Provinsi *",-1)])]),_:1}),t(s(h),{modelValue:a.value.province_id,"onUpdate:modelValue":e[7]||(e[7]=n=>a.value.province_id=n),disabled:v.loadingProvinces},{default:r(()=>[t(s(L),{id:"province_id",class:w({"border-destructive":a.value.errors.province_id})},{default:r(()=>[t(s($),null,{default:r(()=>[S.value?(u(),p("span",we,f(S.value),1)):v.loadingProvinces?(u(),p("span",ge,[t(s(R),{class:"h-4 w-4 animate-spin"}),e[46]||(e[46]=o(" Memuat provinsi... ",-1))])):(u(),p("span",xe,"Pilih provinsi"))]),_:1})]),_:1},8,["class"]),t(s(W),null,{default:r(()=>[(u(!0),p(A,null,I(v.provinces,n=>(u(),E(s(P),{key:n.id,value:n.id},{default:r(()=>[o(f(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e[47]||(e[47]=i("p",{class:"text-xs text-muted-foreground"}," Pilih provinsi untuk memuat daftar kota/kabupaten. ",-1)),a.value.errors.province_id?(u(),p("p",ye,f(a.value.errors.province_id),1)):_("",!0)]),i("div",be,[t(s(c),{for:"city_id"},{default:r(()=>[...e[48]||(e[48]=[o("Kota/Kabupaten *",-1)])]),_:1}),t(s(h),{modelValue:a.value.city_id,"onUpdate:modelValue":e[8]||(e[8]=n=>a.value.city_id=n),disabled:v.loadingCities||!a.value.province_id},{default:r(()=>[t(s(L),{id:"city_id",class:w({"border-destructive":a.value.errors.city_id})},{default:r(()=>[t(s($),null,{default:r(()=>[m.value?(u(),p("span",Ve,f(m.value),1)):v.loadingCities?(u(),p("span",Pe,[t(s(R),{class:"h-4 w-4 animate-spin"}),e[49]||(e[49]=o(" Memuat kota... ",-1))])):a.value.province_id?(u(),p("span",je,"Pilih kota/kabupaten")):(u(),p("span",Ce,"Pilih provinsi dulu"))]),_:1})]),_:1},8,["class"]),t(s(W),null,{default:r(()=>[(u(!0),p(A,null,I(v.cities,n=>(u(),E(s(P),{key:n.id,value:n.id},{default:r(()=>[o(f(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e[50]||(e[50]=i("p",{class:"text-xs text-muted-foreground"}," Daftar kota akan menyesuaikan provinsi yang dipilih. ",-1)),a.value.errors.city_id?(u(),p("p",Ne,f(a.value.errors.city_id),1)):_("",!0)])]),i("div",Ue,[t(s(c),{for:"alamat"},{default:r(()=>[...e[51]||(e[51]=[o("Alamat Domisili (alamat) *",-1)])]),_:1}),t(s(K),{id:"alamat",modelValue:a.value.alamat,"onUpdate:modelValue":e[9]||(e[9]=n=>a.value.alamat=n),placeholder:"Alamat domisili/administratif pelanggan",rows:"3",class:w({"border-destructive":a.value.errors.alamat}),required:""},null,8,["modelValue","class"]),e[52]||(e[52]=i("p",{class:"text-xs text-muted-foreground"}," Pisahkan data domisili untuk kebutuhan dokumen internal. ",-1)),a.value.errors.alamat?(u(),p("p",qe,f(a.value.errors.alamat),1)):_("",!0)])]),_:1})]),_:1}),t(s(C),null,{default:r(()=>[t(s(q),null,{default:r(()=>[t(s(M),null,{default:r(()=>[...e[53]||(e[53]=[o("Informasi NPWP",-1)])]),_:1}),t(s(U),null,{default:r(()=>[...e[54]||(e[54]=[o(" Data ini akan disimpan ke tabel NPWP customer untuk kebutuhan perpajakan. ",-1)])]),_:1})]),_:1}),t(s(N),{class:"space-y-4"},{default:r(()=>[i("div",Me,[i("div",he,[t(s(c),{for:"npwp_nama"},{default:r(()=>[...e[55]||(e[55]=[o("Nama NPWP *",-1)])]),_:1}),t(s(x),{id:"npwp_nama",modelValue:a.value.npwp.nama,"onUpdate:modelValue":e[10]||(e[10]=n=>a.value.npwp.nama=n),placeholder:"Nama sesuai kartu NPWP",class:w({"border-destructive":a.value.errors["npwp.nama"]}),required:""},null,8,["modelValue","class"]),a.value.errors["npwp.nama"]?(u(),p("p",Le,f(a.value.errors["npwp.nama"]),1)):_("",!0)]),i("div",$e,[t(s(c),{for:"npwp_number"},{default:r(()=>[...e[56]||(e[56]=[o("Nomor NPWP *",-1)])]),_:1}),t(s(x),{id:"npwp_number",modelValue:a.value.npwp.npwp,"onUpdate:modelValue":e[11]||(e[11]=n=>a.value.npwp.npwp=n),inputmode:"numeric",maxlength:"20",placeholder:"15 atau 16 digit NPWP",class:w({"border-destructive":a.value.errors["npwp.npwp"]}),required:""},null,8,["modelValue","class"]),a.value.errors["npwp.npwp"]?(u(),p("p",We,f(a.value.errors["npwp.npwp"]),1)):_("",!0)]),i("div",Se,[t(s(c),{for:"npwp_jk"},{default:r(()=>[...e[57]||(e[57]=[o("Jenis Kelamin NPWP *",-1)])]),_:1}),t(s(h),{modelValue:a.value.npwp.jk,"onUpdate:modelValue":e[12]||(e[12]=n=>a.value.npwp.jk=n)},{default:r(()=>[t(s(L),{id:"npwp_jk",class:w({"border-destructive":a.value.errors["npwp.jk"]})},{default:r(()=>[t(s($),{placeholder:"Pilih jenis kelamin"})]),_:1},8,["class"]),t(s(W),null,{default:r(()=>[t(s(P),{value:"laki-laki"},{default:r(()=>[...e[58]||(e[58]=[o("Laki-laki",-1)])]),_:1}),t(s(P),{value:"perempuan"},{default:r(()=>[...e[59]||(e[59]=[o("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a.value.errors["npwp.jk"]?(u(),p("p",Ae,f(a.value.errors["npwp.jk"]),1)):_("",!0)]),i("div",Be,[t(s(c),{for:"npwp_date"},{default:r(()=>[...e[60]||(e[60]=[o("Tanggal NPWP *",-1)])]),_:1}),t(s(x),{id:"npwp_date",modelValue:a.value.npwp.npwp_date,"onUpdate:modelValue":e[13]||(e[13]=n=>a.value.npwp.npwp_date=n),type:"date",class:w({"border-destructive":a.value.errors["npwp.npwp_date"]}),required:""},null,8,["modelValue","class"]),a.value.errors["npwp.npwp_date"]?(u(),p("p",Ke,f(a.value.errors["npwp.npwp_date"]),1)):_("",!0)])]),i("div",De,[t(s(c),{for:"npwp_alamat"},{default:r(()=>[...e[61]||(e[61]=[o("Alamat NPWP *",-1)])]),_:1}),t(s(K),{id:"npwp_alamat",modelValue:a.value.npwp.alamat,"onUpdate:modelValue":e[14]||(e[14]=n=>a.value.npwp.alamat=n),rows:"3",placeholder:"Alamat terdaftar di data NPWP",class:w({"border-destructive":a.value.errors["npwp.alamat"]}),required:""},null,8,["modelValue","class"]),a.value.errors["npwp.alamat"]?(u(),p("p",ze,f(a.value.errors["npwp.alamat"]),1)):_("",!0)]),i("div",Fe,[i("div",Re,[t(s(c),{for:"npwp_menikah"},{default:r(()=>[...e[62]||(e[62]=[o("Status Menikah *",-1)])]),_:1}),t(s(h),{modelValue:a.value.npwp.menikah,"onUpdate:modelValue":e[15]||(e[15]=n=>a.value.npwp.menikah=n)},{default:r(()=>[t(s(L),{id:"npwp_menikah",class:w({"border-destructive":a.value.errors["npwp.menikah"]})},{default:r(()=>[t(s($),{placeholder:"Pilih status menikah"})]),_:1},8,["class"]),t(s(W),null,{default:r(()=>[t(s(P),{value:"1"},{default:r(()=>[...e[63]||(e[63]=[o("Menikah",-1)])]),_:1}),t(s(P),{value:"0"},{default:r(()=>[...e[64]||(e[64]=[o("Belum Menikah",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a.value.errors["npwp.menikah"]?(u(),p("p",Ie,f(a.value.errors["npwp.menikah"]),1)):_("",!0)]),i("div",Ee,[t(s(c),{for:"npwp_anak"},{default:r(()=>[...e[65]||(e[65]=[o("Jumlah Anak *",-1)])]),_:1}),t(s(x),{id:"npwp_anak",modelValue:a.value.npwp.anak,"onUpdate:modelValue":e[16]||(e[16]=n=>a.value.npwp.anak=n),modelModifiers:{number:!0},type:"number",min:"0",max:"3",placeholder:"0-3",class:w({"border-destructive":a.value.errors["npwp.anak"]}),required:""},null,8,["modelValue","class"]),e[66]||(e[66]=i("p",{class:"text-xs text-muted-foreground"}," Mengikuti batas data perpajakan: maksimal 3 anak. ",-1)),a.value.errors["npwp.anak"]?(u(),p("p",Te,f(a.value.errors["npwp.anak"]),1)):_("",!0)]),i("div",Ge,[t(s(c),{for:"npwp_kerja"},{default:r(()=>[...e[67]||(e[67]=[o("Pekerjaan *",-1)])]),_:1}),t(s(x),{id:"npwp_kerja",modelValue:a.value.npwp.kerja,"onUpdate:modelValue":e[17]||(e[17]=n=>a.value.npwp.kerja=n),placeholder:"Contoh: Karyawan",class:w({"border-destructive":a.value.errors["npwp.kerja"]}),required:""},null,8,["modelValue","class"]),a.value.errors["npwp.kerja"]?(u(),p("p",Je,f(a.value.errors["npwp.kerja"]),1)):_("",!0)]),i("div",Xe,[t(s(c),{for:"npwp_office"},{default:r(()=>[...e[68]||(e[68]=[o("Nama Perusahaan *",-1)])]),_:1}),t(s(x),{id:"npwp_office",modelValue:a.value.npwp.office,"onUpdate:modelValue":e[18]||(e[18]=n=>a.value.npwp.office=n),placeholder:"Contoh: PT Contoh Sejahtera",class:w({"border-destructive":a.value.errors["npwp.office"]}),required:""},null,8,["modelValue","class"]),a.value.errors["npwp.office"]?(u(),p("p",He,f(a.value.errors["npwp.office"]),1)):_("",!0)])])]),_:1})]),_:1}),t(s(C),null,{default:r(()=>[t(s(q),null,{default:r(()=>[t(s(M),null,{default:r(()=>[...e[69]||(e[69]=[o("Rekening dan Catatan",-1)])]),_:1}),t(s(U),null,{default:r(()=>[...e[70]||(e[70]=[o(" Informasi rekening dipakai untuk proses finansial pelanggan. ",-1)])]),_:1})]),_:1}),t(s(N),{class:"space-y-4"},{default:r(()=>[i("div",Oe,[i("div",Qe,[t(s(c),{for:"bank_name"},{default:r(()=>[...e[71]||(e[71]=[o("Nama Bank *",-1)])]),_:1}),t(s(x),{id:"bank_name",modelValue:a.value.bank_name,"onUpdate:modelValue":e[19]||(e[19]=n=>a.value.bank_name=n),placeholder:"Contoh: BCA, BNI, Mandiri",class:w({"border-destructive":a.value.errors.bank_name}),required:""},null,8,["modelValue","class"]),a.value.errors.bank_name?(u(),p("p",Ye,f(a.value.errors.bank_name),1)):_("",!0)]),i("div",Ze,[t(s(c),{for:"bank_account"},{default:r(()=>[...e[72]||(e[72]=[o("Nomor Rekening *",-1)])]),_:1}),t(s(x),{id:"bank_account",modelValue:a.value.bank_account,"onUpdate:modelValue":e[20]||(e[20]=n=>a.value.bank_account=n),placeholder:"Masukkan nomor rekening",class:w({"border-destructive":a.value.errors.bank_account}),required:""},null,8,["modelValue","class"]),a.value.errors.bank_account?(u(),p("p",ea,f(a.value.errors.bank_account),1)):_("",!0)])]),i("div",aa,[t(s(c),{for:"description"},{default:r(()=>[...e[73]||(e[73]=[o("Deskripsi *",-1)])]),_:1}),t(s(K),{id:"description",modelValue:a.value.description,"onUpdate:modelValue":e[21]||(e[21]=n=>a.value.description=n),placeholder:"Catatan tambahan yang informatif tentang pelanggan",rows:"4",class:w({"border-destructive":a.value.errors.description}),required:""},null,8,["modelValue","class"]),e[74]||(e[74]=i("p",{class:"text-xs text-muted-foreground"}," Contoh: sumber lead, kebutuhan khusus, atau informasi follow-up. ",-1)),a.value.errors.description?(u(),p("p",sa,f(a.value.errors.description),1)):_("",!0)])]),_:1})]),_:1}),t(s(C),null,{default:r(()=>[t(s(q),null,{default:r(()=>[t(s(M),null,{default:r(()=>[o(f(b.value?"Password Akun":"Ubah Password (Opsional)"),1)]),_:1}),t(s(U),null,{default:r(()=>[b.value?(u(),p(A,{key:0},[o(" Password wajib diisi minimal 8 karakter. ")],64)):(u(),p(A,{key:1},[o(" Kosongkan bila tidak ingin mengubah password. ")],64))]),_:1})]),_:1}),t(s(N),null,{default:r(()=>[i("div",ta,[i("div",ra,[t(s(c),{for:"password"},{default:r(()=>[o(f(b.value?"Password *":"Password Baru"),1)]),_:1}),t(s(x),{id:"password",modelValue:a.value.password,"onUpdate:modelValue":e[22]||(e[22]=n=>a.value.password=n),type:"password",placeholder:"Minimal 8 karakter",class:w({"border-destructive":a.value.errors.password}),required:b.value},null,8,["modelValue","class","required"]),a.value.errors.password?(u(),p("p",na,f(a.value.errors.password),1)):_("",!0)]),i("div",la,[t(s(c),{for:"password_confirmation"},{default:r(()=>[o(f(b.value?"Konfirmasi Password *":"Konfirmasi Password Baru"),1)]),_:1}),t(s(x),{id:"password_confirmation",modelValue:a.value.password_confirmation,"onUpdate:modelValue":e[23]||(e[23]=n=>a.value.password_confirmation=n),type:"password",placeholder:"Ulangi password",required:b.value},null,8,["modelValue","required"])])])]),_:1})]),_:1}),i("div",oa,[Z(g.$slots,"actions",{processing:a.value.processing})])],32))}}),d=k=>typeof k!="string"?"":k.trim(),j=k=>{if(typeof k=="number"&&Number.isFinite(k))return k;if(typeof k=="string"&&k.trim()!==""){const l=Number.parseInt(k,10);return Number.isNaN(l)?null:l}return null},T=k=>{if(!k)return"";const l=k.toLowerCase().trim();return["l","male","laki-laki"].includes(l)?"laki-laki":["p","female","perempuan"].includes(l)?"perempuan":""},G=k=>{const l=String(k??"").toLowerCase().trim();return["1","y","yes","true","menikah"].includes(l)?"1":"0"},J=k=>{const l=j(k);return l===null||l<0?0:l>3?3:l},ia=()=>({name:"",username:"",nik:"",gender:"",email:"",phone:"",description:"",address:"",alamat:"",province_id:null,city_id:null,bank_name:"",bank_account:"",npwp:{nama:"",npwp:"",jk:"",npwp_date:"",alamat:"",menikah:"0",anak:0,kerja:"Karyawan",office:""},password:"",password_confirmation:"",sponsor_id:null,status:"1",package_id:"",level:""});function ga(k,l={}){const v=ia(),a=v.npwp,y=l.npwp??{};return{form:ee({name:d(l.name)||v.name,username:d(l.username)||v.username,nik:d(l.nik)||v.nik,gender:T(l.gender),email:d(l.email)||v.email,phone:d(l.phone)||v.phone,description:d(l.description)||v.description,address:d(l.address)||v.address,alamat:d(l.alamat)||v.alamat,province_id:j(l.province_id),city_id:j(l.city_id),bank_name:d(l.bank_name)||v.bank_name,bank_account:d(l.bank_account)||v.bank_account,npwp:{nama:d(y.nama)||a.nama,npwp:d(y.npwp)||a.npwp,jk:T(y.jk),npwp_date:d(y.npwp_date)||a.npwp_date,alamat:d(y.alamat)||a.alamat,menikah:G(y.menikah),anak:J(y.anak),kerja:d(y.kerja)||a.kerja,office:d(y.office)||a.office},password:d(l.password)||v.password,password_confirmation:d(l.password_confirmation)||v.password_confirmation,sponsor_id:j(l.sponsor_id),status:d(l.status)||v.status,package_id:d(l.package_id),level:d(l.level)}),toPayload:m=>{const g=d(m.password),e=d(m.password_confirmation),n=J(m.npwp.anak),V={name:d(m.name),username:d(m.username),nik:d(m.nik).replace(/\D+/g,""),gender:m.gender,email:d(m.email),phone:d(m.phone),description:d(m.description),address:d(m.address),alamat:d(m.alamat),province_id:j(m.province_id),city_id:j(m.city_id),bank_name:d(m.bank_name),bank_account:d(m.bank_account),npwp:{nama:d(m.npwp.nama),npwp:d(m.npwp.npwp).replace(/\D+/g,""),jk:m.npwp.jk,npwp_date:d(m.npwp.npwp_date),alamat:d(m.npwp.alamat),menikah:G(m.npwp.menikah)==="1"?1:0,anak:n,kerja:d(m.npwp.kerja),office:d(m.npwp.office)},password:k==="edit"&&g===""?null:g,password_confirmation:k==="edit"&&e===""?null:e};return k==="create"&&(V.sponsor_id=j(m.sponsor_id),V.status=Number.parseInt(m.status,10)||1,V.package_id=j(m.package_id),V.level=d(m.level)||null),V}}}const X=k=>k?k.map(l=>{const v=typeof l.id=="string"?Number.parseInt(l.id,10):l.id;return!Number.isFinite(v)||typeof l.name!="string"?null:{id:v,name:l.name}}).filter(l=>l!==null):[];function xa(){const k=B([]),l=B([]),v=B(!1),a=B(!1),y=new Map;return{provinces:k,cities:l,loadingProvinces:v,loadingCities:a,fetchProvinces:async()=>{v.value=!0;try{const g=await fetch("/api/shipping/provinces",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!g.ok)throw new Error("Gagal memuat data provinsi.");const e=await g.json();k.value=X(e.data)}finally{v.value=!1}},fetchCities:async g=>{if(!g){l.value=[];return}const e=y.get(g);if(e){l.value=e;return}a.value=!0;try{const n=new URLSearchParams({province_id:String(g)}),V=await fetch(`/api/shipping/cities?${n.toString()}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!V.ok)throw new Error("Gagal memuat data kota/kabupaten.");const H=await V.json(),z=X(H.data);y.set(g,z),l.value=z}finally{a.value=!1}},resetCities:()=>{l.value=[]}}}export{wa as _,xa as a,ga as u};
