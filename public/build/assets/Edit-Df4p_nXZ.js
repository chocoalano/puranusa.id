import{d as x,r as l,v as y,g as h,b as t,u as e,$ as w,w as i,e as a,a2 as f,E as S,s as g,J as E,F as $,j as P,P as v}from"./vendor-DTOvI-mL.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-YhCYOJnL.js";import{_ as d}from"./index-D22QrCMB.js";import{_ as D}from"./PromotionForm.vue_vue_type_script_setup_true_lang-D9Rhh1TQ.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BMNk4ekC.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dl-lb8Nw.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DuRk8pxL.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DLa7QEbp.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DpA8K8_j.js";import"./Input.vue_vue_type_script_setup_true_lang-sYWCYV49.js";import"./Label.vue_vue_type_script_setup_true_lang-Bkvht4jR.js";import"./Textarea.vue_vue_type_script_setup_true_lang-Dt0uRcWG.js";import"./CardContent.vue_vue_type_script_setup_true_lang-Bj2sOBs1.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-Dh4Au0Nv.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-Dnz_aDai.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-DNuWsNXR.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CBkKfeqw.js";const j={class:"rounded-xl p-4 space-y-6 py-6"},k={class:"flex items-center gap-4"},F={class:"max-w-4xl"},W=x({__name:"Edit",props:{promotion:{}},setup(u){const o=u,c=s=>new Date(s).toISOString().slice(0,16),m=l({code:o.promotion.code,name:o.promotion.name,type:o.promotion.type,landing_slug:o.promotion.landing_slug||"",description:o.promotion.description||"",image:o.promotion.image||"",start_at:c(o.promotion.start_at),end_at:c(o.promotion.end_at),is_active:o.promotion.is_active,priority:o.promotion.priority,max_redemption:o.promotion.max_redemption,per_user_limit:o.promotion.per_user_limit,conditions_json:o.promotion.conditions_json||"",show_on:o.promotion.show_on||"",page:o.promotion.page||""}),_=l({}),p=l(!1),b=()=>{p.value=!0,P.put(`/admin/promotions/${o.promotion.id}`,m.value,{preserveScroll:!0,onSuccess:()=>{v.success("Promosi berhasil diperbarui")},onError:s=>{_.value=s,v.error("Gagal memperbarui promosi")},onFinish:()=>{p.value=!1}})};return(s,r)=>(h(),y($,null,[t(e(w),{title:`Edit ${u.promotion.name}`},null,8,["title"]),t(B,null,{default:i(()=>[a("div",j,[a("div",k,[t(e(f),{href:"/admin/promotions"},{default:i(()=>[t(e(d),{variant:"outline",size:"icon"},{default:i(()=>[t(e(S),{class:"h-4 w-4"})]),_:1})]),_:1}),r[1]||(r[1]=a("div",null,[a("h1",{class:"text-3xl font-bold"},"Edit Promosi"),a("p",{class:"text-muted-foreground"},"Perbarui informasi promosi")],-1))]),a("div",F,[t(D,{"form-data":m.value,"onUpdate:formData":r[0]||(r[0]=n=>m.value=n),errors:_.value,processing:p.value,onSubmit:b},{actions:i(({processing:n})=>[t(e(f),{href:"/admin/promotions"},{default:i(()=>[t(e(d),{type:"button",variant:"outline"},{default:i(()=>[...r[2]||(r[2]=[g("Batal",-1)])]),_:1})]),_:1}),t(e(d),{type:"submit",disabled:n},{default:i(()=>[g(E(n?"Menyimpan...":"Simpan Perubahan"),1)]),_:2},1032,["disabled"])]),_:1},8,["form-data","errors","processing"])])])]),_:1})],64))}});export{W as default};
