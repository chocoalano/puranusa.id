import{d as H,r as $,c as f,g as r,w as a,b as l,u as e,e as p,j as g,s as n,Y as K,Z as L,P as E,v as x,t as S,F as V,x as z,K as o,$ as U,z as q,D as G,Q as T}from"./vendor-FclwbLvj.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-BpcLPOXg.js";import{_ as O,a as Q}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as R}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as k}from"./index-B4cH97KR.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as N}from"./index-CRPqrtU2.js";import{_ as Z,a as J,b,c as d,d as W,e as i}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import{_ as X,a as h,b as ee,c as te,d as w}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import{_ as ae,a as le,b as se,c as ne,d as ue,e as re,f as ie,g as oe}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D_xJ4jwR.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-B_n2dl-_.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const de={class:"flex items-center justify-between"},fe={class:"mt-4 flex items-center gap-4"},me={class:"relative flex-1"},_e={class:"flex justify-end gap-2"},pe={key:0,class:"mt-4 flex justify-center gap-2"},je=H({__name:"Index",props:{items:{},filters:{}},setup(m){const P=m,y=$(P.filters.search||""),c=$(P.filters.status||"all"),v=$(!1),_=$(null),j=u=>u?new Date(u).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",A=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(u),C=()=>{g.get("/admin/zenner/procure-products",{search:y.value||void 0,status:c.value!=="all"?c.value:void 0},{preserveState:!0,replace:!0})},B=u=>{_.value=u,v.value=!0},F=()=>{_.value&&G({}).delete(`/admin/zenner/procure-products/${_.value.id}`,{preserveScroll:!0,onSuccess:()=>{T.success("Procure product berhasil dihapus"),v.value=!1,_.value=null},onError:()=>{T.error("Gagal menghapus procure product")}})},I=u=>{if(!u)return"";const t=u.replace(/<[^>]*>/g,"");if(typeof window>"u")return t;const s=document.createElement("textarea");return s.innerHTML=t,s.value};return(u,t)=>(r(),f(M,{title:"Procure Products"},{default:a(()=>[l(e(O),null,{default:a(()=>[l(e(R),null,{default:a(()=>[p("div",de,[t[5]||(t[5]=p("h2",{class:"text-xl font-semibold"},"Procure Products",-1)),l(e(k),{onClick:t[0]||(t[0]=s=>e(g).get("/admin/zenner/procure-products/create"))},{default:a(()=>[l(e(K),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=n(" Tambah ",-1))]),_:1})]),p("div",fe,[p("div",me,[l(e(L),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l(e(Y),{modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=s=>y.value=s),placeholder:"Cari...",class:"pl-10",onKeyup:E(C,["enter"])},null,8,["modelValue"])]),l(e(X),{modelValue:c.value,"onUpdate:modelValue":[t[2]||(t[2]=s=>c.value=s),C]},{default:a(()=>[l(e(h),{class:"w-[180px]"},{default:a(()=>[l(e(ee),{placeholder:"Semua Status"})]),_:1}),l(e(te),null,{default:a(()=>[l(e(w),{value:"all"},{default:a(()=>[...t[6]||(t[6]=[n("Semua Status",-1)])]),_:1}),l(e(w),{value:"active"},{default:a(()=>[...t[7]||(t[7]=[n("Aktif",-1)])]),_:1}),l(e(w),{value:"inactive"},{default:a(()=>[...t[8]||(t[8]=[n("Nonaktif",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),l(e(Q),null,{default:a(()=>[l(e(Z),null,{default:a(()=>[l(e(J),null,{default:a(()=>[l(e(b),null,{default:a(()=>[l(e(d),null,{default:a(()=>[...t[9]||(t[9]=[n("Title",-1)])]),_:1}),l(e(d),null,{default:a(()=>[...t[10]||(t[10]=[n("Harga",-1)])]),_:1}),l(e(d),null,{default:a(()=>[...t[11]||(t[11]=[n("Poin",-1)])]),_:1}),l(e(d),null,{default:a(()=>[...t[12]||(t[12]=[n("Kategori",-1)])]),_:1}),l(e(d),null,{default:a(()=>[...t[13]||(t[13]=[n("Status",-1)])]),_:1}),l(e(d),null,{default:a(()=>[...t[14]||(t[14]=[n("Dibuat",-1)])]),_:1}),l(e(d),{class:"text-right"},{default:a(()=>[...t[15]||(t[15]=[n("Aksi",-1)])]),_:1})]),_:1})]),_:1}),l(e(W),null,{default:a(()=>[(r(!0),x(V,null,z(m.items.data,s=>(r(),f(e(b),{key:s.id},{default:a(()=>[l(e(i),null,{default:a(()=>[n(o(s.title),1)]),_:2},1024),l(e(i),null,{default:a(()=>[n(o(A(s.price)),1)]),_:2},1024),l(e(i),null,{default:a(()=>[n(o(s.points),1)]),_:2},1024),l(e(i),null,{default:a(()=>[n(o(s.category),1)]),_:2},1024),l(e(i),null,{default:a(()=>[s.is_active?(r(),f(e(N),{key:0,variant:"default"},{default:a(()=>[...t[16]||(t[16]=[n("Aktif",-1)])]),_:1})):(r(),f(e(N),{key:1,variant:"secondary"},{default:a(()=>[...t[17]||(t[17]=[n("Nonaktif",-1)])]),_:1}))]),_:2},1024),l(e(i),null,{default:a(()=>[n(o(j(s.created_at)),1)]),_:2},1024),l(e(i),{class:"text-right"},{default:a(()=>[p("div",_e,[l(e(k),{size:"sm",variant:"outline",onClick:D=>e(g).get(`/admin/zenner/procure-products/${s.id}/edit`)},{default:a(()=>[l(e(U),{class:"h-4 w-4"})]),_:1},8,["onClick"]),l(e(k),{size:"sm",variant:"destructive",onClick:D=>B(s)},{default:a(()=>[l(e(q),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),m.items.data.length===0?(r(),f(e(b),{key:0},{default:a(()=>[l(e(i),{colspan:7,class:"text-center text-muted-foreground"},{default:a(()=>[...t[18]||(t[18]=[n("Tidak ada data",-1)])]),_:1})]),_:1})):S("",!0)]),_:1})]),_:1}),m.items.last_page>1?(r(),x("div",pe,[(r(!0),x(V,null,z(m.items.links,s=>(r(),f(e(k),{key:s.label,size:"sm",variant:s.active?"default":"outline",disabled:!s.url,onClick:D=>s.url&&e(g).get(s.url)},{default:a(()=>[n(o(I(s.label)),1)]),_:2},1032,["variant","disabled","onClick"]))),128))])):S("",!0)]),_:1})]),_:1}),l(e(ae),{open:v.value,"onUpdate:open":t[3]||(t[3]=s=>v.value=s)},{default:a(()=>[l(e(le),null,{default:a(()=>[l(e(se),null,{default:a(()=>[l(e(ne),null,{default:a(()=>[...t[19]||(t[19]=[n("Hapus Procure Product",-1)])]),_:1}),l(e(ue),null,{default:a(()=>[n(' Apakah Anda yakin ingin menghapus "'+o(_.value?.title)+'"? Tindakan ini tidak dapat dibatalkan. ',1)]),_:1})]),_:1}),l(e(re),null,{default:a(()=>[l(e(ie),null,{default:a(()=>[...t[20]||(t[20]=[n("Batal",-1)])]),_:1}),l(e(oe),{onClick:F},{default:a(()=>[...t[21]||(t[21]=[n("Hapus",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{je as default};
