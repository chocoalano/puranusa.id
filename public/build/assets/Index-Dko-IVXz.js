import{_ as Je,a as He,b as Y,c as ee}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-BBXLv6Zh.js";import{b as ut,c as Xe,_ as mt}from"./Ecommerce.vue_vue_type_script_setup_true_lang-D6t2U1e7.js";import{d as Z,r as V,p as N,c as M,g as n,u as e,w as a,b as s,e as t,s as r,K as l,cy as oe,aM as ue,bv as ct,d1 as pt,dx as ft,Q as T,E as Te,v as p,M as xe,Y as xt,F as q,x as te,J as W,t as P,aX as gt,$ as vt,z as Ee,h as ae,j as ne,D as de,dm as bt,dK as yt,dL as at,cv as _t,dv as kt,aH as Ne,aE as ie,aD as wt,dI as ht,ad as De,aG as qe,dk as $t,cQ as lt,L as je,a2 as _e,aj as Pt,am as be,C as Ct,aN as Ze,dM as nt,dN as St,a3 as jt,dO as rt,dP as ot,o as Qe,dr as Ke,ap as Ae,dG as Ve,cz as Ye,cx as Be,dd as Me,dQ as ye,dR as Mt,dS as Tt,dT as ce,dU as Rt,dV as Dt,dW as At,dX as Vt,dY as Bt,dZ as ge,d_ as se,d$ as ve,e0 as pe,e1 as et,e2 as tt,e3 as fe,e4 as Lt,e5 as It,e6 as Ut,aq as Oe,as as st,e7 as Et,dA as Nt,e8 as Kt,e9 as Ot,at as zt,ea as Ft,a1 as Gt,ar as it,eb as dt,a0 as Wt}from"./vendor-0sCoMzHy.js";import{_ as Jt,a as Ht}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-BhL6n9ND.js";import{_ as qt}from"./AvatarImage.vue_vue_type_script_setup_true_lang-CAfd5pFE.js";import{_ as I}from"./index-D12gyL4d.js";import{_ as z,a as F}from"./CardContent.vue_vue_type_script_setup_true_lang-DUWiWpeg.js";import{_ as U}from"./index-DJk7aHkf.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-Bo9DeG24.js";import{_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-SuNAGsFF.js";import{a as we,b as he,c as $e,d as Pe,_ as Ce}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C6bUxMpH.js";import{_ as Se}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BB1UFE69.js";import{_ as X}from"./Input.vue_vue_type_script_setup_true_lang-nikPKNAJ.js";import{_ as O}from"./Label.vue_vue_type_script_setup_true_lang-f9xrDwSP.js";import{_ as ke}from"./Textarea.vue_vue_type_script_setup_true_lang-Dm2fw_pR.js";import{_ as Zt}from"./Switch.vue_vue_type_script_setup_true_lang-TzFTMwvu.js";import{_ as le}from"./Separator.vue_vue_type_script_setup_true_lang-Bszm7esH.js";import{_ as ze,a as Fe,b as Ge,c as We,d as Re}from"./SelectValue.vue_vue_type_script_setup_true_lang-Dc4bXstG.js";import{_ as re}from"./CardDescription.vue_vue_type_script_setup_true_lang-CcT-2mF2.js";import{f as Qt,g as Xt,h as Yt,i as es,j as ts}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-KgsqrYLn.js";import{_ as Le,a as Ie,b as Ue}from"./index-y5IglBua.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-Gc81cOnN.js";import"./app-CZTOVpl4.js";function me(){return{formatCurrency:o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o),formatDate:o=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(o)),getStatusLabel:o=>({pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",delivered:"Selesai",cancelled:"Dibatalkan"})[o]||o,getTransactionTypeLabel:o=>({topup:"Top Up",withdrawal:"Penarikan",bonus:"Bonus",purchase:"Pembelian",refund:"Refund"})[o]||o,getTransactionStatusLabel:o=>({pending:"Menunggu",completed:"Selesai",failed:"Gagal",cancelled:"Dibatalkan"})[o]||o}}const ss={class:"flex flex-col items-center text-center"},as={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},ls={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},ns={class:"mt-4 w-full space-y-2 text-sm"},rs={class:"space-y-1.5"},os={class:"flex items-center justify-between"},is={class:"flex gap-1"},ds={class:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},us={class:"flex items-center justify-between"},ms={class:"font-mono font-semibold"},cs={class:"text-[10px] text-gray-500 dark:text-gray-400 mt-1 break-all"},ps={class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},fs={class:"font-mono font-semibold"},xs={class:"flex items-center justify-between p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},gs={class:"font-semibold text-emerald-700 dark:text-emerald-400"},vs=Z({__name:"ProfileCard",props:{customer:{}},setup(i){const f=i,{formatCurrency:d}=me(),m=V(!1),_=N(()=>f.customer.name.split(" ").map(R=>R[0]).join("").toUpperCase().slice(0,2)),o=N(()=>typeof window>"u"?"":`${window.location.origin}/client/register?ref=${f.customer.ref_code}`),u=async()=>{if(typeof window>"u"||!navigator.clipboard){T.error("Tidak dapat menyalin link ke clipboard");return}try{await navigator.clipboard.writeText(o.value),m.value=!0,T.success("Link referral telah disalin ke clipboard"),setTimeout(()=>{m.value=!1},2e3)}catch{T.error("Tidak dapat menyalin link ke clipboard")}},j=async()=>{if(typeof window>"u")return;const R={title:"Bergabung dengan Referral Saya",text:`Gunakan kode referral saya: ${f.customer.ref_code}`,url:o.value};if(navigator.share)try{await navigator.share(R),T.success("Link referral berhasil dibagikan")}catch(g){g.name!=="AbortError"&&console.error("Error sharing:",g)}else await u()};return(R,g)=>(n(),M(e(z),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",ss,[s(e(Jt),{class:"h-24 w-24 mb-4"},{default:a(()=>[s(e(qt),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${i.customer.name}`},null,8,["src"]),s(e(Ht),null,{default:a(()=>[r(l(_.value),1)]),_:1})]),_:1}),t("h2",as,l(i.customer.name),1),t("p",ls,l(i.customer.email),1),i.customer.email_verified_at?(n(),M(e(I),{key:0,class:"mt-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100"},{default:a(()=>[s(e(oe),{class:"w-3 h-3 mr-1"}),g[0]||(g[0]=r(" Email Terverifikasi ",-1))]),_:1})):(n(),M(e(I),{key:1,variant:"secondary",class:"mt-3"},{default:a(()=>[s(e(ue),{class:"w-3 h-3 mr-1"}),g[1]||(g[1]=r(" Email Belum Terverifikasi ",-1))]),_:1})),t("div",ns,[t("div",rs,[t("div",os,[g[3]||(g[3]=t("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Referral Link",-1)),t("div",is,[s(e(U),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:u},{default:a(()=>[m.value?(n(),M(e(ct),{key:0,class:"w-3 h-3 mr-1"})):(n(),M(e(pt),{key:1,class:"w-3 h-3 mr-1"})),r(" "+l(m.value?"Tersalin":"Salin"),1)]),_:1}),s(e(U),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:j},{default:a(()=>[s(e(ft),{class:"w-3 h-3 mr-1"}),g[2]||(g[2]=r(" Bagikan ",-1))]),_:1})])]),t("div",ds,[t("div",us,[g[4]||(g[4]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Kode Referral",-1)),t("span",ms,l(i.customer.ref_code),1)]),t("p",cs,l(o.value),1)])]),t("div",ps,[g[5]||(g[5]=t("span",{class:"text-gray-600 dark:text-gray-400"},"E-Wallet ID",-1)),t("span",fs,l(i.customer.ewallet_id),1)]),t("div",xs,[g[6]||(g[6]=t("span",{class:"text-emerald-700 dark:text-emerald-400"},"Saldo",-1)),t("span",gs,l(e(d)(i.customer.ewallet_saldo)),1)])])])]),_:1})]),_:1}))}}),bs={class:"flex items-center justify-between"},ys={key:0,class:"text-center py-12 text-muted-foreground"},_s={key:1,class:"space-y-4"},ks={class:"flex items-start gap-3 mb-3"},ws={class:"flex-1 min-w-0"},hs={class:"flex items-center gap-2 mb-1"},$s={class:"font-semibold text-sm"},Ps={class:"text-sm font-medium"},Cs={class:"text-xs text-muted-foreground"},Ss={class:"space-y-1 mb-3"},js={class:"text-sm"},Ms={key:0,class:"text-sm text-muted-foreground"},Ts={class:"text-sm text-muted-foreground"},Rs={key:0},Ds={class:"text-xs text-muted-foreground"},As={key:1,class:"text-xs text-muted-foreground italic mt-2"},Vs={class:"flex items-center gap-2"},Bs={class:"space-y-4 py-4"},Ls={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Is={class:"space-y-2"},Us={class:"flex items-center space-x-2 pt-8"},Es={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ns={class:"space-y-2"},Ks={class:"space-y-2"},Os={class:"space-y-2"},zs={class:"space-y-2"},Fs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Gs={class:"space-y-2"},Ws={class:"space-y-2"},Js={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Hs={class:"space-y-2"},qs={class:"space-y-2"},Zs={class:"space-y-2"},Qs=Z({__name:"AddressManagement",props:{addresses:{}},setup(i){const f=V(!1),d=V(!1),m=V(!1),_=V(!1),o=V([]),u=V([]),j=V(!1),R=V(!1),g=V(""),h=V(""),v=V({label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""}),x=V(null),c=async()=>{j.value=!0;try{const A=await ae.get("/api/shipping/provinces");o.value=A.data.data}catch(A){T.error("Gagal memuat data provinsi"),console.error("Error loading provinces:",A)}finally{j.value=!1}},D=async A=>{if(A){R.value=!0,u.value=[],h.value="";try{const w=await ae.get("/api/shipping/cities",{params:{province_id:A}});u.value=w.data.data}catch(w){T.error("Gagal memuat data kota"),console.error("Error loading cities:",w)}finally{R.value=!1}}};Te(g,A=>{if(!A)return;const w=o.value.find(y=>y.id.toString()===A);w&&(v.value.province_id=parseInt(A),v.value.province_label=w.name,D(A))}),Te(h,A=>{if(!A)return;const w=u.value.find(y=>y.id.toString()===A);w&&(v.value.city_id=parseInt(A),v.value.city_label=w.name)});const B=()=>{d.value=!1,v.value={label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""},g.value="",h.value="",u.value=[],c(),f.value=!0},k=A=>{d.value=!0,x.value=A.id,v.value={...A},c().then(()=>{A.province_id&&(g.value=A.province_id.toString(),D(A.province_id.toString()).then(()=>{A.city_id&&(h.value=A.city_id.toString())}))}),f.value=!0},E=()=>{f.value=!1,x.value=null},K=()=>{if(!v.value.recipient_name||!v.value.recipient_phone||!v.value.address_line1){T.error("Mohon lengkapi nama penerima, telepon, dan alamat");return}if(!v.value.province_id||!v.value.city_id){T.error("Mohon pilih provinsi dan kota/kabupaten");return}_.value=!0;const A=d.value&&x.value?`/client/profile/addresses/${x.value}`:"/client/profile/addresses",w=d.value?"put":"post";ne[w](A,v.value,{preserveScroll:!0,onSuccess:()=>{T.success(`Alamat berhasil ${d.value?"diperbarui":"ditambahkan"}`),E()},onError:y=>{if(console.error("Address save error:",y),typeof y=="object"&&y!==null){const $=Object.values(y)[0],b=Array.isArray($)?$[0]:$;T.error(b||"Gagal menyimpan alamat")}else T.error("Gagal menyimpan alamat. Silakan coba lagi.")},onFinish:()=>{_.value=!1}})},G=A=>{confirm("Apakah Anda yakin ingin menghapus alamat ini?")&&(m.value=!0,ne.delete(`/client/profile/addresses/${A}`,{preserveScroll:!0,onSuccess:()=>{T.success("Alamat berhasil dihapus")},onError:w=>{if(console.error("Address delete error:",w),typeof w=="object"&&w!==null){const y=Object.values(w)[0],$=Array.isArray(y)?y[0]:y;T.error($||"Gagal menghapus alamat")}else T.error("Gagal menghapus alamat. Silakan coba lagi.")},onFinish:()=>{m.value=!1}}))},L=A=>{de({}).post(`/client/profile/addresses/${A}/set-default`,{preserveScroll:!0,onSuccess:()=>{T.success("Alamat utama berhasil diubah")},onError:y=>{if(console.error("Set default address error:",y),typeof y=="object"&&y!==null){const $=Object.values(y)[0],b=Array.isArray($)?$[0]:$;T.error(b||"Gagal mengubah alamat utama")}else T.error("Gagal mengubah alamat utama. Silakan coba lagi.")}})},Q=A=>A?A.toLowerCase().includes("rumah")||A.toLowerCase().includes("home")?bt:A.toLowerCase().includes("kantor")||A.toLowerCase().includes("office")?yt:xe:xe;return(A,w)=>(n(),p(q,null,[s(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",bs,[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(xe),{class:"w-5 h-5"}),w[11]||(w[11]=r(" Kelola Alamat ",-1))]),_:1}),s(e(U),{size:"sm",onClick:B},{default:a(()=>[s(e(xt),{class:"w-4 h-4 mr-2"}),w[12]||(w[12]=r(" Tambah Alamat ",-1))]),_:1})])]),_:1}),s(e(F),null,{default:a(()=>[i.addresses.length===0?(n(),p("div",ys,[s(e(xe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),w[13]||(w[13]=t("p",{class:"mb-2"},"Belum ada alamat tersimpan",-1)),w[14]||(w[14]=t("p",{class:"text-sm"},"Tambahkan alamat untuk mempermudah proses pengiriman",-1))])):(n(),p("div",_s,[(n(!0),p(q,null,te(i.addresses,y=>(n(),p("div",{key:y.id,class:W(["relative p-4 rounded-lg border transition-all",y.is_default?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[y.is_default?(n(),M(e(I),{key:0,variant:"default",class:"absolute top-2 right-2 text-xs"},{default:a(()=>[...w[15]||(w[15]=[r(" Utama ",-1)])]),_:1})):P("",!0),t("div",ks,[(n(),M(gt(Q(y.label)),{class:W(["w-5 h-5 mt-1 flex-shrink-0",y.is_default?"text-primary":"text-muted-foreground"])},null,8,["class"])),t("div",ws,[t("div",hs,[t("h4",$s,l(y.label||"Alamat"),1)]),t("p",Ps,l(y.recipient_name),1),t("p",Cs,l(y.recipient_phone),1)])]),t("div",Ss,[t("p",js,l(y.address_line1),1),y.address_line2?(n(),p("p",Ms,l(y.address_line2),1)):P("",!0),t("p",Ts,[r(l(y.city_label)+", "+l(y.province_label)+" ",1),y.postal_code?(n(),p("span",Rs,l(y.postal_code),1)):P("",!0)]),t("p",Ds,l(y.country),1),y.description?(n(),p("p",As,l(y.description),1)):P("",!0)]),s(e(le),{class:"my-3"}),t("div",Vs,[y.is_default?P("",!0):(n(),M(e(U),{key:0,variant:"outline",size:"sm",onClick:$=>L(y.id)},{default:a(()=>[...w[16]||(w[16]=[r(" Jadikan Utama ",-1)])]),_:1},8,["onClick"])),s(e(U),{variant:"outline",size:"sm",onClick:$=>k(y)},{default:a(()=>[s(e(vt),{class:"w-3 h-3 mr-1"}),w[17]||(w[17]=r(" Edit ",-1))]),_:1},8,["onClick"]),s(e(U),{variant:"destructive",size:"sm",disabled:m.value,onClick:$=>G(y.id)},{default:a(()=>[s(e(Ee),{class:"w-3 h-3 mr-1"}),w[18]||(w[18]=r(" Hapus ",-1))]),_:1},8,["disabled","onClick"])])],2))),128))]))]),_:1})]),_:1}),s(e(Ce),{open:f.value,"onUpdate:open":E},{default:a(()=>[s(e(we),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[s(e(he),null,{default:a(()=>[s(e($e),null,{default:a(()=>[r(l(d.value?"Edit Alamat":"Tambah Alamat Baru"),1)]),_:1}),s(e(Pe),null,{default:a(()=>[r(l(d.value?"Perbarui informasi alamat Anda":"Tambahkan alamat pengiriman baru"),1)]),_:1})]),_:1}),t("div",Bs,[t("div",Ls,[t("div",Is,[s(e(O),{for:"label"},{default:a(()=>[...w[19]||(w[19]=[r("Label Alamat",-1)])]),_:1}),s(e(X),{id:"label",modelValue:v.value.label,"onUpdate:modelValue":w[0]||(w[0]=y=>v.value.label=y),placeholder:"Rumah, Kantor, dll"},null,8,["modelValue"])]),t("div",Us,[s(e(Zt),{id:"is_default",checked:v.value.is_default,"onUpdate:checked":w[1]||(w[1]=y=>v.value.is_default=y)},null,8,["checked"]),s(e(O),{for:"is_default",class:"cursor-pointer"},{default:a(()=>[...w[20]||(w[20]=[r("Jadikan alamat utama",-1)])]),_:1})])]),t("div",Es,[t("div",Ns,[s(e(O),{for:"recipient_name"},{default:a(()=>[...w[21]||(w[21]=[r("Nama Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(X),{id:"recipient_name",modelValue:v.value.recipient_name,"onUpdate:modelValue":w[2]||(w[2]=y=>v.value.recipient_name=y),placeholder:"Nama lengkap penerima",required:""},null,8,["modelValue"])]),t("div",Ks,[s(e(O),{for:"recipient_phone"},{default:a(()=>[...w[22]||(w[22]=[r("No. Telepon Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(X),{id:"recipient_phone",modelValue:v.value.recipient_phone,"onUpdate:modelValue":w[3]||(w[3]=y=>v.value.recipient_phone=y),placeholder:"08xxxxxxxxxx",required:""},null,8,["modelValue"])])]),t("div",Os,[s(e(O),{for:"address_line1"},{default:a(()=>[...w[23]||(w[23]=[r("Alamat Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(ke),{id:"address_line1",modelValue:v.value.address_line1,"onUpdate:modelValue":w[4]||(w[4]=y=>v.value.address_line1=y),placeholder:"Jalan, nomor rumah, RT/RW, blok",rows:"3",required:""},null,8,["modelValue"])]),t("div",zs,[s(e(O),{for:"address_line2"},{default:a(()=>[...w[24]||(w[24]=[r("Detail Tambahan (Opsional)",-1)])]),_:1}),s(e(X),{id:"address_line2",modelValue:v.value.address_line2,"onUpdate:modelValue":w[5]||(w[5]=y=>v.value.address_line2=y),placeholder:"Patokan, gedung, unit, warna rumah, dll"},null,8,["modelValue"])]),t("div",Fs,[t("div",Gs,[s(e(O),{for:"province"},{default:a(()=>[...w[25]||(w[25]=[r("Provinsi ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(ze),{modelValue:g.value,"onUpdate:modelValue":w[6]||(w[6]=y=>g.value=y),disabled:j.value},{default:a(()=>[s(e(Fe),{id:"province"},{default:a(()=>[s(e(Ge),{placeholder:j.value?"Memuat provinsi...":"Pilih provinsi"},null,8,["placeholder"])]),_:1}),s(e(We),null,{default:a(()=>[(n(!0),p(q,null,te(o.value,y=>(n(),M(e(Re),{key:y.id,value:y.id.toString()},{default:a(()=>[r(l(y.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",Ws,[s(e(O),{for:"city"},{default:a(()=>[...w[26]||(w[26]=[r("Kota/Kabupaten ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(ze),{modelValue:h.value,"onUpdate:modelValue":w[7]||(w[7]=y=>h.value=y),disabled:!g.value||R.value},{default:a(()=>[s(e(Fe),{id:"city"},{default:a(()=>[s(e(Ge),{placeholder:R.value?"Memuat kota...":g.value?"Pilih kota/kabupaten":"Pilih provinsi terlebih dahulu"},null,8,["placeholder"])]),_:1}),s(e(We),null,{default:a(()=>[(n(!0),p(q,null,te(u.value,y=>(n(),M(e(Re),{key:y.id,value:y.id.toString()},{default:a(()=>[r(l(y.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),t("div",Js,[t("div",Hs,[s(e(O),{for:"postal_code"},{default:a(()=>[...w[27]||(w[27]=[r("Kode Pos",-1)])]),_:1}),s(e(X),{id:"postal_code",modelValue:v.value.postal_code,"onUpdate:modelValue":w[8]||(w[8]=y=>v.value.postal_code=y),placeholder:"12345"},null,8,["modelValue"])]),t("div",qs,[s(e(O),{for:"country"},{default:a(()=>[...w[28]||(w[28]=[r("Negara",-1)])]),_:1}),s(e(X),{id:"country",modelValue:v.value.country,"onUpdate:modelValue":w[9]||(w[9]=y=>v.value.country=y),placeholder:"Indonesia"},null,8,["modelValue"])])]),t("div",Zs,[s(e(O),{for:"description"},{default:a(()=>[...w[29]||(w[29]=[r("Catatan (Opsional)",-1)])]),_:1}),s(e(ke),{id:"description",modelValue:v.value.description,"onUpdate:modelValue":w[10]||(w[10]=y=>v.value.description=y),placeholder:"Catatan khusus untuk alamat ini",rows:"2"},null,8,["modelValue"])])]),s(e(Se),null,{default:a(()=>[s(e(U),{variant:"outline",onClick:E,disabled:_.value},{default:a(()=>[...w[30]||(w[30]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{onClick:K,disabled:_.value},{default:a(()=>[r(l(_.value?"Menyimpan...":d.value?"Perbarui":"Simpan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Xs={class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},Ys={class:"text-xl font-bold text-emerald-700 dark:text-emerald-400"},ea={class:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},ta={class:"text-xl font-bold text-amber-700 dark:text-amber-400"},sa=Z({__name:"BonusStatsCard",props:{customer:{}},setup(i){const{formatCurrency:f}=me();return(d,m)=>(n(),M(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(at),{class:"w-5 h-5"}),m[0]||(m[0]=r(" Statistik Bonus ",-1))]),_:1})]),_:1}),s(e(F),{class:"space-y-3"},{default:a(()=>[t("div",Xs,[m[1]||(m[1]=t("p",{class:"text-xs text-emerald-700 dark:text-emerald-400 mb-1"},"Total Dirilis",-1)),t("p",Ys,l(e(f)(i.customer.bonus_stats.total_released)),1)]),t("div",ea,[m[2]||(m[2]=t("p",{class:"text-xs text-amber-700 dark:text-amber-400 mb-1"},"Total Pending",-1)),t("p",ta,l(e(f)(i.customer.bonus_stats.total_pending)),1)])]),_:1})]),_:1}))}}),aa={class:"flex items-center gap-3"},la={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},na={class:"font-semibold"},ra=Z({__name:"MemberSinceCard",props:{createdAt:{}},setup(i){const{formatDate:f}=me();return(d,m)=>(n(),M(e(z),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",aa,[t("div",la,[s(e(_t),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[m[0]||(m[0]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Member Sejak",-1)),t("p",na,l(e(f)(i.createdAt)),1)])])]),_:1})]),_:1}))}}),oa={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ia={class:"space-y-2"},da={class:"relative"},ua={key:0,class:"text-sm text-red-500"},ma={class:"space-y-2"},ca={class:"relative"},pa={key:0,class:"text-sm text-red-500"},fa={class:"space-y-2"},xa={class:"relative"},ga={key:0,class:"text-sm text-red-500"},va={class:"space-y-2"},ba={key:0,class:"text-sm text-red-500"},ya={class:"space-y-2"},_a={class:"relative"},ka={key:0,class:"text-sm text-red-500"},wa={class:"space-y-2"},ha={class:"relative"},$a={key:0,class:"text-sm text-red-500"},Pa={class:"space-y-2"},Ca={class:"relative"},Sa={key:0,class:"text-sm text-red-500"},ja={class:"space-y-2"},Ma={key:0,class:"text-sm text-red-500"},Ta={class:"flex items-center justify-end gap-3"},Ra=Z({__name:"ProfileInformationTab",props:{customer:{}},setup(i){const f=i,d=de({name:f.customer.name,username:f.customer.username||"",nik:f.customer.nik||"",gender:f.customer.gender||"",alamat:f.customer.alamat||"",email:f.customer.email,phone:f.customer.phone,description:f.customer.description||""}),m=()=>{d.patch("/client/profile",{preserveScroll:!0,onSuccess:()=>{T.success("Informasi profil berhasil diperbarui")}})};return(_,o)=>(n(),M(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...o[9]||(o[9]=[r("Informasi Profile",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...o[10]||(o[10]=[r(" Update informasi profil Anda di sini ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:De(m,["prevent"]),class:"space-y-6"},[t("div",oa,[t("div",ia,[s(e(O),{for:"username"},{default:a(()=>[...o[11]||(o[11]=[r(" Username ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",da,[s(e(kt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"username",modelValue:e(d).username,"onUpdate:modelValue":o[0]||(o[0]=u=>e(d).username=u),type:"text",placeholder:"username",class:"pl-10",required:""},null,8,["modelValue"])]),e(d).errors.username?(n(),p("p",ua,l(e(d).errors.username),1)):P("",!0)]),t("div",ma,[s(e(O),{for:"name"},{default:a(()=>[...o[12]||(o[12]=[r(" Nama Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ca,[s(e(Ne),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"name",modelValue:e(d).name,"onUpdate:modelValue":o[1]||(o[1]=u=>e(d).name=u),type:"text",placeholder:"Masukkan nama lengkap",class:"pl-10",required:""},null,8,["modelValue"])]),e(d).errors.name?(n(),p("p",pa,l(e(d).errors.name),1)):P("",!0)]),t("div",fa,[s(e(O),{for:"nik"},{default:a(()=>[...o[13]||(o[13]=[r("NIK (Nomor Induk Kependudukan)",-1)])]),_:1}),t("div",xa,[s(e(ie),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"nik",modelValue:e(d).nik,"onUpdate:modelValue":o[2]||(o[2]=u=>e(d).nik=u),type:"text",placeholder:"16 digit NIK",class:"pl-10",maxlength:"16"},null,8,["modelValue"])]),e(d).errors.nik?(n(),p("p",ga,l(e(d).errors.nik),1)):P("",!0)]),t("div",va,[s(e(O),{for:"gender"},{default:a(()=>[...o[14]||(o[14]=[r("Jenis Kelamin",-1)])]),_:1}),s(e(ze),{modelValue:e(d).gender,"onUpdate:modelValue":o[3]||(o[3]=u=>e(d).gender=u)},{default:a(()=>[s(e(Fe),null,{default:a(()=>[s(e(Ge),{placeholder:"Pilih jenis kelamin"})]),_:1}),s(e(We),null,{default:a(()=>[s(e(Re),{value:"male"},{default:a(()=>[...o[15]||(o[15]=[r("Laki-laki",-1)])]),_:1}),s(e(Re),{value:"female"},{default:a(()=>[...o[16]||(o[16]=[r("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(d).errors.gender?(n(),p("p",ba,l(e(d).errors.gender),1)):P("",!0)]),t("div",ya,[s(e(O),{for:"email"},{default:a(()=>[...o[17]||(o[17]=[r(" Email ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",_a,[s(e(wt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"email",modelValue:e(d).email,"onUpdate:modelValue":o[4]||(o[4]=u=>e(d).email=u),type:"email",placeholder:"email@example.com",class:"pl-10",required:""},null,8,["modelValue"])]),e(d).errors.email?(n(),p("p",ka,l(e(d).errors.email),1)):P("",!0)]),t("div",wa,[s(e(O),{for:"phone"},{default:a(()=>[...o[18]||(o[18]=[r(" Nomor Telepon ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ha,[s(e(ht),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"phone",modelValue:e(d).phone,"onUpdate:modelValue":o[5]||(o[5]=u=>e(d).phone=u),type:"tel",placeholder:"08123456789",class:"pl-10",required:""},null,8,["modelValue"])]),e(d).errors.phone?(n(),p("p",$a,l(e(d).errors.phone),1)):P("",!0)])]),t("div",Pa,[s(e(O),{for:"alamat"},{default:a(()=>[...o[19]||(o[19]=[r("Alamat",-1)])]),_:1}),t("div",Ca,[s(e(xe),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(ke),{id:"alamat",modelValue:e(d).alamat,"onUpdate:modelValue":o[6]||(o[6]=u=>e(d).alamat=u),placeholder:"Masukkan alamat lengkap...",rows:"3",class:"pl-10"},null,8,["modelValue"])]),e(d).errors.alamat?(n(),p("p",Sa,l(e(d).errors.alamat),1)):P("",!0)]),t("div",ja,[s(e(O),{for:"description"},{default:a(()=>[...o[20]||(o[20]=[r("Deskripsi",-1)])]),_:1}),s(e(ke),{id:"description",modelValue:e(d).description,"onUpdate:modelValue":o[7]||(o[7]=u=>e(d).description=u),placeholder:"Ceritakan tentang diri Anda...",rows:"4"},null,8,["modelValue"]),o[21]||(o[21]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Maksimal 1000 karakter ",-1)),e(d).errors.description?(n(),p("p",Ma,l(e(d).errors.description),1)):P("",!0)]),t("div",Ta,[s(e(U),{type:"button",variant:"outline",onClick:o[8]||(o[8]=u=>e(d).reset()),disabled:e(d).processing},{default:a(()=>[...o[22]||(o[22]=[r(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(d).processing},{default:a(()=>[e(d).processing?P("",!0):(n(),M(e(oe),{key:0,class:"w-4 h-4 mr-2"})),r(" "+l(e(d).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Da={key:0,class:"flex items-center justify-center py-12"},Aa={key:1,class:"space-y-6 py-6"},Va={class:"space-y-3"},Ba={class:"flex items-center gap-2 text-sm font-medium"},La={class:"space-y-2"},Ia={class:"flex justify-between"},Ua={class:"text-sm font-medium"},Ea={class:"flex justify-between items-center"},Na={key:0,class:"flex justify-between"},Ka={class:"text-sm font-medium"},Oa={key:1,class:"flex justify-between items-center"},za={class:"space-y-3"},Fa={class:"flex items-center gap-2 text-sm font-medium"},Ga={class:"space-y-3"},Wa=["src","alt"],Ja={class:"flex-1"},Ha={class:"font-medium text-sm"},qa={class:"text-xs text-muted-foreground"},Za={class:"text-xs text-muted-foreground"},Qa={class:"text-right"},Xa={class:"font-semibold text-sm"},Ya={key:0,class:"space-y-3"},el={class:"flex items-center gap-2 text-sm font-medium"},tl={class:"p-3 bg-muted/30 rounded-lg space-y-1"},sl={class:"font-medium text-sm"},al={class:"text-sm text-muted-foreground"},ll={class:"text-sm text-muted-foreground"},nl={class:"text-sm text-muted-foreground"},rl={key:1,class:"space-y-3"},ol={class:"flex items-center gap-2 text-sm font-medium"},il={class:"p-3 bg-muted/30 rounded-lg space-y-2"},dl={class:"flex justify-between"},ul={class:"text-sm font-medium"},ml={class:"flex justify-between"},cl={class:"text-sm font-medium"},pl={class:"flex justify-between"},fl={class:"text-sm font-medium"},xl={class:"space-y-3"},gl={class:"flex items-center gap-2 text-sm font-medium"},vl={class:"space-y-2 text-sm"},bl={class:"flex justify-between"},yl={key:0,class:"flex justify-between"},_l={class:"text-red-600"},kl={class:"flex justify-between"},wl={key:1,class:"flex justify-between"},hl={class:"flex justify-between font-semibold text-base"},$l={class:"text-primary"},Pl={key:2,class:"space-y-2"},Cl={class:"space-y-1"},Sl={class:"text-sm text-muted-foreground"},jl={key:3,class:"space-y-4 pt-4"},Ml={class:"space-y-3"},Tl={class:"flex items-center gap-2 text-sm font-medium"},Rl={class:"flex items-start justify-between"},Dl={class:"flex items-center gap-2 font-medium text-sm"},Al={class:"text-xs text-muted-foreground"},Vl={key:0,class:"mt-1 text-xs text-destructive"},Bl={class:"flex items-start justify-between"},Ll={class:"flex items-center gap-2 font-medium text-sm"},Il={key:3},Ul={key:4},El={key:4,class:"pt-4"},Nl={key:2,class:"flex items-center justify-center py-12 text-muted-foreground"},Kl=Z({__name:"OrderDetailSheet",props:{open:{type:Boolean},orderId:{}},emits:["update:open"],setup(i,{emit:f}){const d=i,m=f,{formatCurrency:_,formatDate:o,getStatusLabel:u}=me(),j=qe(),R=N(()=>j.props.auth?.user?.ewallet_saldo??0),g=V(!1),h=V(!1),v=V(!1),x=V(!1),c=V(null),D=V("midtrans"),B=N(()=>c.value?.status?.toUpperCase()==="SHIPPED"),k=N(()=>c.value?.status?.toUpperCase()==="PENDING"&&!c.value?.paid_at),E=N(()=>c.value?R.value>=c.value.grand_total:!1);$t(()=>{typeof document<"u"&&(x.value?document.body.classList.add("midtrans-popup-active"):document.body.classList.remove("midtrans-popup-active"))}),lt(()=>{typeof document<"u"&&document.body.classList.remove("midtrans-popup-active")});const K=N(()=>{const y=c.value?.status?.toLowerCase();return{"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":y==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":y==="processing"||y==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":y==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":y==="delivered"||y==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":y==="cancelled"}}),G=async()=>{if(d.orderId){g.value=!0;try{const y=await ae.get(`/api/client/orders/${d.orderId}`);c.value=y.data.data}catch(y){console.error("Failed to load order:",y),T.error("Gagal memuat detail pesanan")}finally{g.value=!1}}},L=async()=>{if(!(!c.value||!B.value||h.value)){h.value=!0;try{await ae.post(`/api/client/orders/${c.value.id}/complete`),await G(),ne.reload({only:["orders"]}),T.success('Status pesanan berhasil diperbarui menjadi "Selesai".')}catch(y){console.error("Failed to update order status:",y),T.error(y.response?.data?.message||"Gagal memperbarui status pesanan")}finally{h.value=!1}}},Q=async()=>{if(!c.value||!k.value||v.value)return;const y=window.snap;if(!y){T.error("Sistem pembayaran belum siap. Mohon refresh halaman.");return}v.value=!0;try{const b=(await ae.post(`/api/client/orders/${c.value.id}/pay`)).data;b.success&&b.snap_token?(x.value=!0,y.pay(b.snap_token,{onSuccess:function(){x.value=!1,v.value=!1,T.success("Pembayaran berhasil!"),G(),ne.reload({only:["orders"]})},onPending:function(){x.value=!1,v.value=!1,T.info("Pembayaran tertunda. Silakan selesaikan pembayaran."),G(),ne.reload({only:["orders"]})},onError:function(){x.value=!1,v.value=!1,T.error("Pembayaran gagal. Silakan coba lagi."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)},onClose:function(){x.value=!1,v.value=!1,T.info("Pembayaran dibatalkan."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)}})):T.error(b.message||"Gagal memproses pembayaran")}catch($){console.error("Failed to initiate payment:",$),T.error($.response?.data?.message||"Gagal memproses pembayaran")}finally{x.value||(v.value=!1)}},A=async()=>{if(!(!c.value||!k.value||v.value)){if(!E.value){T.error("Saldo e-wallet Anda tidak mencukupi");return}v.value=!0;try{const $=(await ae.post(`/api/client/orders/${c.value.id}/pay-wallet`)).data;$.success?(T.success($.message||"Pembayaran berhasil!"),await G(),ne.reload({only:["orders","auth"]})):T.error($.message||"Gagal memproses pembayaran")}catch(y){console.error("Failed to pay with wallet:",y),T.error(y.response?.data?.message||"Gagal memproses pembayaran")}finally{v.value=!1}}},w=()=>{D.value==="wallet"?A():Q()};return Te(()=>[d.open,d.orderId],([y,$])=>{y&&$&&G()}),(y,$)=>(n(),M(e(Qt),{open:i.open,"onUpdate:open":$[3]||($[3]=b=>m("update:open",b))},{default:a(()=>[s(e(Xt),{side:"right",class:"sm:max-w-2xl w-full overflow-y-auto"},{default:a(()=>[s(e(Yt),null,{default:a(()=>[s(e(es),null,{default:a(()=>[...$[4]||($[4]=[r("Detail Pesanan",-1)])]),_:1}),s(e(ts),null,{default:a(()=>[...$[5]||($[5]=[r(" Informasi lengkap pesanan Anda ",-1)])]),_:1})]),_:1}),g.value?(n(),p("div",Da,[s(e(je),{class:"h-8 w-8 animate-spin text-muted-foreground"})])):c.value?(n(),p("div",Aa,[t("div",Va,[t("div",Ba,[s(e(_e),{class:"h-4 w-4"}),$[6]||($[6]=t("span",null,"Ringkasan Pesanan",-1))]),t("div",La,[t("div",Ia,[$[7]||($[7]=t("span",{class:"text-sm text-muted-foreground"},"Nomor Pesanan",-1)),t("span",Ua,l(c.value.order_no),1)]),t("div",Ea,[$[8]||($[8]=t("span",{class:"text-sm text-muted-foreground"},"Status",-1)),s(e(I),{class:W(K.value)},{default:a(()=>[r(l(e(u)(c.value.status)),1)]),_:1},8,["class"])]),c.value.placed_at?(n(),p("div",Na,[$[9]||($[9]=t("span",{class:"text-sm text-muted-foreground"},"Tanggal Pesan",-1)),t("span",Ka,l(e(o)(c.value.placed_at)),1)])):P("",!0),c.value.paid_at?(n(),p("div",Oa,[$[10]||($[10]=t("span",{class:"text-sm text-muted-foreground"},"Status Pembayaran",-1)),s(e(I),{variant:"secondary"},{default:a(()=>[s(e(oe),{class:"w-3 h-3 mr-1"}),r(" Dibayar "+l(e(o)(c.value.paid_at)),1)]),_:1})])):P("",!0)])]),s(e(le)),t("div",za,[t("div",Fa,[s(e(_e),{class:"h-4 w-4"}),$[11]||($[11]=t("span",null,"Produk Pesanan",-1))]),t("div",Ga,[(n(!0),p(q,null,te(c.value.items,b=>(n(),p("div",{key:b.id,class:"flex gap-4 p-3 bg-muted/30 rounded-lg"},[b.meta_json?.image?(n(),p("img",{key:0,src:b.meta_json.image,alt:b.name,class:"w-16 h-16 object-cover rounded-md"},null,8,Wa)):P("",!0),t("div",Ja,[t("h4",Ha,l(b.name),1),t("p",qa,"SKU: "+l(b.sku),1),t("p",Za,l(b.qty)+"x "+l(e(_)(b.unit_price)),1)]),t("div",Qa,[t("p",Xa,l(e(_)(b.row_total)),1)])]))),128))])]),s(e(le)),c.value.shipping_address?(n(),p("div",Ya,[t("div",el,[s(e(xe),{class:"h-4 w-4"}),$[12]||($[12]=t("span",null,"Alamat Pengiriman",-1))]),t("div",tl,[t("p",sl,l(c.value.shipping_address.recipient_name),1),t("p",al,l(c.value.shipping_address.recipient_phone),1),t("p",ll,l(c.value.shipping_address.address_line1),1),t("p",nl,l(c.value.shipping_address.city_label)+", "+l(c.value.shipping_address.province_label)+" "+l(c.value.shipping_address.postal_code),1)])])):P("",!0),s(e(le)),c.value.applied_promos?.shipping?(n(),p("div",rl,[t("div",ol,[s(e(Pt),{class:"h-4 w-4"}),$[13]||($[13]=t("span",null,"Informasi Pengiriman",-1))]),t("div",il,[t("div",dl,[$[14]||($[14]=t("span",{class:"text-sm text-muted-foreground"},"Kurir",-1)),t("span",ul,l(c.value.applied_promos.shipping.courier),1)]),t("div",ml,[$[15]||($[15]=t("span",{class:"text-sm text-muted-foreground"},"Layanan",-1)),t("span",cl,l(c.value.applied_promos.shipping.service),1)]),t("div",pl,[$[16]||($[16]=t("span",{class:"text-sm text-muted-foreground"},"Estimasi",-1)),t("span",fl,l(c.value.applied_promos.shipping.etd)+" hari",1)])])])):P("",!0),s(e(le)),t("div",xl,[t("div",gl,[s(e(ie),{class:"h-4 w-4"}),$[17]||($[17]=t("span",null,"Ringkasan Pembayaran",-1))]),t("div",vl,[t("div",bl,[$[18]||($[18]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),t("span",null,l(e(_)(c.value.subtotal_amount)),1)]),c.value.discount_amount>0?(n(),p("div",yl,[$[19]||($[19]=t("span",{class:"text-muted-foreground"},"Diskon",-1)),t("span",_l,"-"+l(e(_)(c.value.discount_amount)),1)])):P("",!0),t("div",kl,[$[20]||($[20]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),t("span",null,l(e(_)(c.value.shipping_amount)),1)]),c.value.tax_amount>0?(n(),p("div",wl,[$[21]||($[21]=t("span",{class:"text-muted-foreground"},"Pajak",-1)),t("span",null,l(e(_)(c.value.tax_amount)),1)])):P("",!0),s(e(le)),t("div",hl,[$[22]||($[22]=t("span",null,"Total",-1)),t("span",$l,l(e(_)(c.value.grand_total)),1)])])]),c.value.notes?(n(),p("div",Pl,[s(e(le)),t("div",Cl,[$[23]||($[23]=t("p",{class:"text-sm font-medium"},"Catatan",-1)),t("p",Sl,l(c.value.notes),1)])])):P("",!0),k.value?(n(),p("div",jl,[s(e(le)),t("div",Ml,[t("div",Tl,[s(e(be),{class:"h-4 w-4"}),$[24]||($[24]=t("span",null,"Metode Pembayaran",-1))]),s(e(ut),{modelValue:D.value,"onUpdate:modelValue":$[2]||($[2]=b=>D.value=b),class:"space-y-3"},{default:a(()=>[t("div",{class:W(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":D.value==="wallet","hover:bg-muted":D.value!=="wallet","cursor-not-allowed opacity-50":!E.value}]),onClick:$[0]||($[0]=b=>E.value&&(D.value="wallet"))},[s(e(Xe),{value:"wallet",id:"payment-wallet-detail",disabled:!E.value},null,8,["disabled"]),s(e(O),{for:"payment-wallet-detail",class:W(["flex-1 cursor-pointer",{"cursor-not-allowed":!E.value}])},{default:a(()=>[t("div",Rl,[t("div",null,[t("div",Dl,[s(e(be),{class:"h-4 w-4"}),$[25]||($[25]=r(" E-Wallet ",-1))]),t("div",Al," Saldo: "+l(e(_)(R.value)),1),E.value?P("",!0):(n(),p("div",Vl," Saldo tidak mencukupi (kurang "+l(e(_)(c.value.grand_total-R.value))+") ",1))])])]),_:1},8,["class"])],2),t("div",{class:W(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":D.value==="midtrans","hover:bg-muted":D.value!=="midtrans"}]),onClick:$[1]||($[1]=b=>D.value="midtrans")},[s(e(Xe),{value:"midtrans",id:"payment-midtrans-detail"}),s(e(O),{for:"payment-midtrans-detail",class:"flex-1 cursor-pointer"},{default:a(()=>[t("div",Bl,[t("div",null,[t("div",Ll,[s(e(ie),{class:"h-4 w-4"}),$[26]||($[26]=r(" Payment Gateway ",-1))]),$[27]||($[27]=t("div",{class:"text-xs text-muted-foreground"}," Transfer Bank, E-wallet, Kartu Kredit ",-1))])])]),_:1})],2)]),_:1},8,["modelValue"])]),s(e(U),{onClick:w,disabled:v.value||x.value||D.value==="wallet"&&!E.value,class:"w-full",size:"lg"},{default:a(()=>[v.value?(n(),M(e(je),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):D.value==="wallet"?(n(),M(e(be),{key:1,class:"h-4 w-4 mr-2"})):(n(),M(e(ie),{key:2,class:"h-4 w-4 mr-2"})),D.value==="wallet"?(n(),p("span",Il," Bayar dengan E-Wallet "+l(e(_)(c.value.grand_total)),1)):(n(),p("span",Ul," Bayar "+l(e(_)(c.value.grand_total)),1))]),_:1},8,["disabled"])])):P("",!0),B.value?(n(),p("div",El,[s(e(U),{onClick:L,disabled:h.value,class:"w-full",size:"lg"},{default:a(()=>[h.value?(n(),M(e(je),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(n(),M(e(oe),{key:1,class:"h-4 w-4 mr-2"})),$[28]||($[28]=r(" Tandai Pesanan Selesai ",-1))]),_:1},8,["disabled"])])):P("",!0)])):(n(),p("div",Nl," Tidak ada data pesanan "))]),_:1})]),_:1},8,["open"]))}}),Ol={class:"space-y-6 py-4"},zl={key:2,class:"flex gap-4 rounded-lg bg-muted p-4"},Fl=["src","alt"],Gl={class:"flex-1"},Wl={class:"font-medium"},Jl={class:"space-y-2"},Hl={class:"flex items-center gap-2"},ql=["onClick","onMouseenter"],Zl={class:"ml-2 text-sm text-muted-foreground"},Ql={class:"space-y-2"},Xl={key:0,class:"text-sm text-destructive"},Yl={class:"space-y-2"},en={class:"text-right text-xs text-muted-foreground"},tn={key:0,class:"text-sm text-destructive"},sn=Z({__name:"ProductReviewDialog",props:{open:{type:Boolean},orderId:{},orderItems:{}},emits:["update:open","review-submitted"],setup(i,{emit:f}){const d=i,m=f,_=V(0),o=V(null),u=V(!1),j=V({}),R=N(()=>d.orderItems[_.value]),g=N(()=>_.value<d.orderItems.length-1),h=N(()=>_.value===d.orderItems.length-1),v=V({order_item_id:0,product_id:0,rating:5,title:"",comment:""}),x=V(0),c=G=>{v.value.rating=G},D=async()=>{if(R.value){v.value.order_item_id=R.value.id,v.value.product_id=R.value.product_id,o.value=null,j.value={},u.value=!0;try{const G=await ae.post(`/api/client/orders/${d.orderId}/reviews`,v.value);if(G.data.success){const L=G.data.message||"Review berhasil dikirim dan menunggu persetujuan!";o.value={type:"success",message:L},T.success(L),g.value?setTimeout(()=>{_.value++,k(),o.value=null},1500):setTimeout(()=>{m("update:open",!1),m("review-submitted"),E()},2e3)}}catch(G){console.error("Submit review error:",G);let L="Gagal mengirim review. Silakan coba lagi.";if(G.response?.data){const Q=G.response.data;if(Q.message&&(L=Q.message),Q.errors){j.value=Q.errors;const A=Object.values(Q.errors)[0];Array.isArray(A)&&A.length>0?L=A[0]:typeof A=="string"&&(L=A)}}o.value={type:"error",message:L},T.error(L)}finally{u.value=!1}}},B=()=>{g.value?(_.value++,k(),o.value=null):(m("update:open",!1),m("review-submitted"),E())},k=()=>{v.value={order_item_id:0,product_id:0,rating:5,title:"",comment:""},j.value={}},E=()=>{_.value=0,k(),o.value=null},K=G=>{m("update:open",G),G||E()};return(G,L)=>(n(),M(e(Ce),{open:i.open,"onUpdate:open":K},{default:a(()=>[s(e(we),{class:"sm:max-w-[500px]"},{default:a(()=>[s(e(he),null,{default:a(()=>[s(e($e),null,{default:a(()=>[...L[4]||(L[4]=[r("Beri Rating & Review",-1)])]),_:1}),s(e(Pe),null,{default:a(()=>[r(" Bagikan pengalaman Anda dengan produk ini ("+l(_.value+1)+" dari "+l(i.orderItems.length)+") ",1)]),_:1})]),_:1}),t("div",Ol,[!R.value||i.orderItems.length===0?(n(),M(e(Le),{key:0,variant:"default"},{default:a(()=>[s(e(ue),{class:"h-4 w-4"}),s(e(Ie),null,{default:a(()=>[...L[5]||(L[5]=[r("Tidak Ada Item",-1)])]),_:1}),s(e(Ue),null,{default:a(()=>[...L[6]||(L[6]=[r(" Tidak ada produk yang dapat direview dari pesanan ini. ",-1)])]),_:1})]),_:1})):(n(),p(q,{key:1},[o.value?.type==="success"?(n(),M(e(Le),{key:0,variant:"default"},{default:a(()=>[s(e(Ct),{class:"h-4 w-4"}),s(e(Ie),null,{default:a(()=>[...L[7]||(L[7]=[r("Berhasil!",-1)])]),_:1}),s(e(Ue),null,{default:a(()=>[r(l(o.value.message),1)]),_:1})]),_:1})):P("",!0),o.value?.type==="error"?(n(),M(e(Le),{key:1,variant:"destructive"},{default:a(()=>[s(e(ue),{class:"h-4 w-4"}),s(e(Ie),null,{default:a(()=>[...L[8]||(L[8]=[r("Terjadi Kesalahan",-1)])]),_:1}),s(e(Ue),null,{default:a(()=>[r(l(o.value.message),1)]),_:1})]),_:1})):P("",!0),R.value?(n(),p("div",zl,[R.value.product_image?(n(),p("img",{key:0,src:R.value.product_image,alt:R.value.product_name,class:"h-20 w-20 rounded-md object-cover"},null,8,Fl)):P("",!0),t("div",Gl,[t("h4",Wl,l(R.value.product_name),1)])])):P("",!0),t("div",Jl,[s(e(O),null,{default:a(()=>[...L[9]||(L[9]=[r("Rating Produk",-1)])]),_:1}),t("div",Hl,[(n(),p(q,null,te(5,Q=>t("button",{key:Q,type:"button",onClick:A=>c(Q),onMouseenter:A=>x.value=Q,onMouseleave:L[0]||(L[0]=A=>x.value=0),class:"transition-transform hover:scale-110 focus:outline-none"},[s(e(Ze),{class:W(["h-8 w-8 transition-colors",(x.value||v.value.rating)>=Q?"fill-yellow-400 text-yellow-400":"text-gray-300"])},null,8,["class"])],40,ql)),64)),t("span",Zl,l(v.value.rating)+" / 5 ",1)])]),t("div",Ql,[s(e(O),{for:"title"},{default:a(()=>[...L[10]||(L[10]=[r("Judul Review (Opsional)",-1)])]),_:1}),s(e(X),{id:"title",modelValue:v.value.title,"onUpdate:modelValue":L[1]||(L[1]=Q=>v.value.title=Q),placeholder:"Ringkasan singkat pengalaman Anda",maxlength:"100"},null,8,["modelValue"]),j.value.title?(n(),p("p",Xl,l(j.value.title),1)):P("",!0)]),t("div",Yl,[s(e(O),{for:"comment"},{default:a(()=>[...L[11]||(L[11]=[r("Komentar (Opsional)",-1)])]),_:1}),s(e(ke),{id:"comment",modelValue:v.value.comment,"onUpdate:modelValue":L[2]||(L[2]=Q=>v.value.comment=Q),placeholder:"Ceritakan pengalaman Anda dengan produk ini...",rows:"4",maxlength:"500"},null,8,["modelValue"]),t("p",en,l(v.value.comment?.length||0)+" / 500 karakter ",1),j.value.comment?(n(),p("p",tn,l(j.value.comment),1)):P("",!0)])],64))]),s(e(Se),{class:"flex-col gap-2 sm:flex-row"},{default:a(()=>[R.value&&i.orderItems.length>0?(n(),p(q,{key:0},[g.value||h.value?(n(),M(e(U),{key:0,type:"button",variant:"outline",onClick:B,disabled:u.value},{default:a(()=>[r(l(g.value?"Lewati":"Tutup"),1)]),_:1},8,["disabled"])):P("",!0),s(e(U),{type:"button",onClick:D,disabled:u.value||v.value.rating===0,class:"w-full sm:w-auto"},{default:a(()=>[u.value?(n(),M(e(je),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):P("",!0),r(" "+l(g.value?"Kirim & Lanjut":"Kirim Review"),1)]),_:1},8,["disabled"])],64)):(n(),M(e(U),{key:1,type:"button",variant:"outline",onClick:L[3]||(L[3]=Q=>K(!1))},{default:a(()=>[...L[12]||(L[12]=[r(" Tutup ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"]))}}),an={class:"rounded-lg border p-4 transition-colors hover:border-primary"},ln={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},nn={class:"flex-1"},rn={class:"mb-2 flex items-center gap-3"},on={class:"text-sm font-semibold"},dn={class:"text-xs text-muted-foreground"},un={class:"mt-2 flex items-center gap-2"},mn={class:"flex flex-col gap-2 md:items-end"},cn={class:"text-lg font-bold text-primary"},pn={class:"flex flex-wrap gap-2"},fn=Z({__name:"OrderCard",props:{order:{}},setup(i){const f=i,{formatCurrency:d,formatDate:m,getStatusLabel:_}=me(),o=V(!1),u=V(!1),j=V(!1),R=V(!1),g=V(f.order.status),h=V(f.order.paid_at),v=async()=>{if(!j.value){j.value=!0;try{const B=await ae.post(`/api/client/orders/${f.order.id}/check-payment-status`);B.data.success?(g.value=B.data.status,B.data.paid_at&&(h.value=B.data.paid_at),T.success(B.data.message),setTimeout(()=>{ne.reload({only:["orders"]})},500)):T.error(B.data.message)}catch(B){console.error("Check payment status error:",B),T.error(B.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{j.value=!1}}},x=async()=>{if(!R.value){R.value=!0;try{const B=await ae.post(`/api/client/orders/${f.order.id}/complete`);B.data.success&&(g.value="COMPLETED",T.success(B.data.message||"Pesanan berhasil diselesaikan"),B.data.items&&B.data.items.length>0?(f.order.items=B.data.items,u.value=!0):setTimeout(()=>{ne.reload({only:["orders"]})},500))}catch(B){console.error("Complete order error:",B),T.error(B.response?.data?.message||"Gagal menandai pesanan sebagai diterima")}finally{R.value=!1}}},c=()=>{ne.reload({only:["orders"]})},D=()=>{const B=(f.order.items||[]).filter(k=>!k.has_review);B.length>0?(f.order.items=B,u.value=!0):T.info("Semua produk sudah direview")};return(B,k)=>(n(),p("div",an,[t("div",ln,[t("div",nn,[t("div",rn,[s(e(_e),{class:"h-5 w-5 text-muted-foreground"}),t("div",null,[t("p",on,l(i.order.order_no),1),t("p",dn,l(i.order.placed_at?e(m)(i.order.placed_at):"Belum ditempatkan"),1)])]),t("div",un,[s(e(I),{class:W({"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":g.value.toUpperCase()==="PENDING","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":g.value.toUpperCase()==="PROCESSING"||g.value.toUpperCase()==="PAID","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":g.value.toUpperCase()==="SHIPPED","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":g.value.toUpperCase()==="DELIVERED"||g.value.toUpperCase()==="COMPLETED","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":g.value.toUpperCase()==="CANCELLED"})},{default:a(()=>[r(l(e(_)(g.value)),1)]),_:1},8,["class"]),h.value?(n(),M(e(I),{key:0,variant:"secondary"},{default:a(()=>[s(e(oe),{class:"mr-1 h-3 w-3"}),k[3]||(k[3]=r(" Dibayar ",-1))]),_:1})):P("",!0)])]),t("div",mn,[t("p",cn,l(e(d)(i.order.grand_total)),1),t("div",pn,[g.value.toUpperCase()==="PENDING"&&!h.value?(n(),M(e(U),{key:0,variant:"outline",size:"sm",disabled:j.value,onClick:v},{default:a(()=>[s(e(nt),{class:W(["mr-1 h-3 w-3",{"animate-spin":j.value}])},null,8,["class"]),k[4]||(k[4]=r(" Cek Status ",-1))]),_:1},8,["disabled"])):P("",!0),g.value.toUpperCase()==="SHIPPED"?(n(),M(e(U),{key:1,variant:"default",size:"sm",disabled:R.value,onClick:x},{default:a(()=>[s(e(St),{class:"mr-1 h-3 w-3"}),k[5]||(k[5]=r(" Pesanan Diterima ",-1))]),_:1},8,["disabled"])):P("",!0),g.value.toUpperCase()==="COMPLETED"&&i.order.has_unreviewed_items?(n(),M(e(U),{key:2,variant:"outline",size:"sm",onClick:D},{default:a(()=>[s(e(Ze),{class:"mr-1 h-3 w-3"}),k[6]||(k[6]=r(" Tambah Review ",-1))]),_:1})):P("",!0),s(e(U),{variant:"outline",size:"sm",onClick:k[0]||(k[0]=E=>o.value=!0)},{default:a(()=>[...k[7]||(k[7]=[r(" Lihat Detail ",-1)])]),_:1})])])]),s(Kl,{open:o.value,"onUpdate:open":k[1]||(k[1]=E=>o.value=E),"order-id":i.order.id},null,8,["open","order-id"]),s(sn,{open:u.value,"onUpdate:open":k[2]||(k[2]=E=>u.value=E),"order-id":i.order.id,"order-items":i.order.items||[],onReviewSubmitted:c},null,8,["open","order-id","order-items"])]))}}),xn={key:0,class:"space-y-4"},gn={key:1,class:"py-12 text-center"},vn=Z({__name:"OrdersTab",props:{orders:{}},setup(i){return(f,d)=>(n(),M(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...d[0]||(d[0]=[r("Pesanan Saya",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...d[1]||(d[1]=[r(" Riwayat pesanan dan status pengiriman ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[i.orders.length>0?(n(),p("div",xn,[(n(!0),p(q,null,te(i.orders,m=>(n(),M(fn,{key:m.id,order:m},null,8,["order"]))),128))])):(n(),p("div",gn,[s(e(_e),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),d[3]||(d[3]=t("p",{class:"text-muted-foreground mb-4"},"Belum ada pesanan",-1)),s(e(jt),{href:"/beranda"},{default:a(()=>[s(e(U),null,{default:a(()=>[...d[2]||(d[2]=[r(" Mulai Belanja ",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),bn={class:"text-center"},yn={class:"text-4xl font-bold text-primary mb-4"},_n={class:"flex gap-3 justify-center"},kn=Z({__name:"WalletBalance",props:{balance:{}},emits:["topup","withdrawal"],setup(i,{emit:f}){const d=f,{formatCurrency:m}=me();return(_,o)=>(n(),M(e(z),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",bn,[o[4]||(o[4]=t("p",{class:"text-sm text-muted-foreground mb-2"},"Saldo E-Wallet",-1)),t("p",yn,l(e(m)(i.balance)),1),t("div",_n,[s(e(U),{onClick:o[0]||(o[0]=u=>d("topup")),size:"sm"},{default:a(()=>[s(e(rt),{class:"w-4 h-4 mr-2"}),o[2]||(o[2]=r(" Top Up ",-1))]),_:1}),s(e(U),{onClick:o[1]||(o[1]=u=>d("withdrawal")),variant:"outline",size:"sm"},{default:a(()=>[s(e(ot),{class:"w-4 h-4 mr-2"}),o[3]||(o[3]=r(" Tarik Dana ",-1))]),_:1})])])]),_:1})]),_:1}))}}),wn={class:"space-y-2"},hn={class:"relative"},$n={key:0,class:"text-sm text-red-500"},Pn={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},Cn={class:"flex items-start gap-3"},Sn={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},jn={class:"flex items-start gap-3"},Mn={class:"flex items-center justify-end gap-3"},Tn={key:0},Rn={key:1},Dn={key:2},An={key:3},Vn=Z({__name:"WalletTopupForm",emits:["cancel"],setup(i,{emit:f}){const d=f,m=de({amount:"",payment_method:"midtrans"}),_=V(!1),o=V(!1);Qe(()=>{if(window.snap){_.value=!0;return}if(typeof window>"u")return;const g=()=>{window.snap&&(_.value=!0,o.value=!1,console.log("Midtrans Snap loaded (event)."))};window.addEventListener("midtrans:snap:loaded",g,{once:!0}),setTimeout(()=>{_.value||(window.snap?(_.value=!0,console.log("Midtrans Snap loaded (fallback).")):(o.value=!0,console.error("Failed to load Midtrans Snap (timeout).")))},5e3)});const u=g=>{if(!window.snap){console.error("Snap not available"),alert("Pembayaran tidak dapat diproses. Silakan refresh halaman dan coba lagi."),d("cancel");return}try{window.snap.pay(g,{onSuccess:function(h){console.log("Payment success:",h),T.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(h){console.log("Payment pending:",h),T.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(h){console.error("Payment error (Midtrans):",h),T.error("Pembayaran gagal.");try{console.log("Midtrans raw error JSON:",JSON.stringify(h,null,2))}catch{}const v=h?.status_message||h?.status_code||"Terjadi kesalahan pembayaran.",x=h?.status_code==="505"?`
Catatan: Sandbox sering menolak VA dengan nominal rendah (coba >= 15000 atau metode lain).`:"";if(h?.status_code==="505"){alert("Midtrans Error: "+v+x+`
Sandbox akan otomatis mencoba QRIS.`),R("qris");return}alert("Midtrans Error: "+v+`
Silakan coba metode lain atau refresh.`),d("cancel")},onClose:function(){console.log("Payment modal closed"),T("Pembayaran ditutup sebelum selesai."),d("cancel")}})}catch(h){console.error("Error opening Snap modal:",h),alert("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),T.error("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),d("cancel")}},j=async()=>{if(!m.processing){if(!_.value||!window.snap){T.error("Sistem pembayaran belum siap. Silakan tunggu beberapa saat atau refresh halaman.");return}try{m.processing=!0;const h=(await ae.post("/client/wallet/topup",{amount:m.amount,payment_method:m.payment_method})).data,v=h.snap_token;if(h.success===!1&&h.message){T.error(h.message),m.processing=!1;return}v&&typeof v=="string"&&v.trim()!==""?(m.reset(),m.processing=!1,setTimeout(()=>{u(v)},100)):(m.processing=!1,console.error("Invalid snap token:",v),console.error("Full response:",h),T.error("Gagal mendapatkan token pembayaran. Silakan coba lagi."),m.reset(),d("cancel"))}catch(g){if(m.processing=!1,console.error("Form submission error:",g),T.error("Terjadi kesalahan saat mengirim formulir."),g.response?.status===422&&g.response?.data?.errors){const h=g.response.data.errors,v=Object.values(h)[0],x=Array.isArray(v)?v[0]:v;T.error(x)}else{const h=g.response?.data?.message||g.message||"Terjadi kesalahan. Silakan coba lagi.";T.error(h)}m.reset()}}},R=async g=>{if(!m.processing){if(!_.value||!window.snap){alert("Sistem pembayaran belum siap untuk retry.");return}try{m.processing=!0;const v=(await ae.post("/client/wallet/topup",{amount:m.amount||"20000",payment_method:m.payment_method,force_payment:g})).data,x=v.snap_token;if(!v.success||!x){T.error(v.message||"Retry gagal mendapatkan token."),m.processing=!1;return}m.processing=!1,T.success("Metode dialihkan ke "+g.toUpperCase()+". Silakan lanjutkan pembayaran."),u(x)}catch(h){m.processing=!1,T.error(h?.response?.data?.message||h.message||"Retry gagal.")}}};return(g,h)=>(n(),M(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...h[2]||(h[2]=[r("Top Up E-Wallet",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...h[3]||(h[3]=[r(" Isi saldo e-wallet Anda melalui Midtrans ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:De(j,["prevent"]),class:"space-y-6"},[t("div",wn,[s(e(O),{for:"topup_amount"},{default:a(()=>[...h[4]||(h[4]=[r(" Jumlah Top Up ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",hn,[s(e(ie),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"topup_amount",modelValue:e(m).amount,"onUpdate:modelValue":h[0]||(h[0]=v=>e(m).amount=v),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:"10000000",required:""},null,8,["modelValue"])]),h[5]||(h[5]=t("p",{class:"text-xs text-muted-foreground"}," Minimum Rp 10.000 - Maximum Rp 10.000.000. Disarankan >= Rp 15.000 untuk Virtual Account agar tidak ditolak (505). ",-1)),e(m).errors.amount?(n(),p("p",$n,l(e(m).errors.amount),1)):P("",!0)]),t("div",Pn,[t("div",Cn,[s(e(ie),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),h[6]||(h[6]=t("div",null,[t("p",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"}," Pembayaran via Midtrans "),t("p",{class:"text-xs text-blue-700 dark:text-blue-300 mt-1"}," Anda akan diarahkan ke halaman pembayaran Midtrans untuk menyelesaikan transaksi ")],-1))])]),o.value?(n(),p("div",Sn,[t("div",jn,[s(e(ue),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),h[7]||(h[7]=t("div",null,[t("p",{class:"text-sm font-semibold text-red-900 dark:text-red-100"}," Sistem Pembayaran Belum Siap "),t("p",{class:"text-xs text-red-700 dark:text-red-300 mt-1"}," Silakan refresh halaman untuk memuat ulang sistem pembayaran. ")],-1))])])):P("",!0),t("div",Mn,[s(e(U),{type:"button",variant:"outline",onClick:h[1]||(h[1]=v=>{e(m).reset(),d("cancel")}),disabled:e(m).processing},{default:a(()=>[...h[8]||(h[8]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(m).processing||o.value||!_.value},{default:a(()=>[e(m).processing?(n(),p("span",Tn,"Memproses...")):!_.value&&!o.value?(n(),p("span",Rn,"Memuat sistem pembayaran...")):o.value?(n(),p("span",Dn,"Sistem pembayaran error")):(n(),p("span",An,"Lanjut ke Pembayaran"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Bn={class:"space-y-2"},Ln={class:"relative"},In={class:"text-xs text-muted-foreground"},Un={key:0,class:"text-sm text-red-500"},En={class:"space-y-4"},Nn={class:"space-y-2"},Kn={key:0,class:"text-sm text-red-500"},On={class:"space-y-2"},zn={key:0,class:"text-sm text-red-500"},Fn={class:"space-y-2"},Gn={key:0,class:"text-sm text-red-500"},Wn={class:"flex items-center justify-end gap-3"},Jn=Z({__name:"WalletWithdrawalForm",props:{maxAmount:{}},emits:["cancel"],setup(i,{emit:f}){const d=f,m=de({amount:"",bank_name:"",bank_account:"",bank_holder:""}),_=()=>{m.post("/client/wallet/withdrawal",{preserveScroll:!0,onSuccess:()=>{m.reset(),d("cancel"),T.success("Permintaan penarikan berhasil diajukan.")}})};return(o,u)=>(n(),M(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...u[5]||(u[5]=[r("Tarik Dana E-Wallet",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...u[6]||(u[6]=[r(" Tarik saldo ke rekening bank Anda ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:De(_,["prevent"]),class:"space-y-6"},[t("div",Bn,[s(e(O),{for:"withdrawal_amount"},{default:a(()=>[...u[7]||(u[7]=[r(" Jumlah Penarikan ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Ln,[s(e(ie),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"withdrawal_amount",modelValue:e(m).amount,"onUpdate:modelValue":u[0]||(u[0]=j=>e(m).amount=j),type:"number",placeholder:"Minimal Rp 50.000",class:"pl-10",min:"50000",max:i.maxAmount,required:""},null,8,["modelValue","max"])]),t("p",In," Minimum Rp 50.000 - Maksimal Rp "+l(i.maxAmount.toLocaleString("id-ID")),1),e(m).errors.amount?(n(),p("p",Un,l(e(m).errors.amount),1)):P("",!0)]),s(e(le)),t("div",En,[u[11]||(u[11]=t("h4",{class:"font-semibold"},"Informasi Rekening",-1)),t("div",Nn,[s(e(O),{for:"bank_name"},{default:a(()=>[...u[8]||(u[8]=[r(" Nama Bank ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(X),{id:"bank_name",modelValue:e(m).bank_name,"onUpdate:modelValue":u[1]||(u[1]=j=>e(m).bank_name=j),type:"text",placeholder:"e.g., BCA, Mandiri, BNI",required:""},null,8,["modelValue"]),e(m).errors.bank_name?(n(),p("p",Kn,l(e(m).errors.bank_name),1)):P("",!0)]),t("div",On,[s(e(O),{for:"bank_account"},{default:a(()=>[...u[9]||(u[9]=[r(" Nomor Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(X),{id:"bank_account",modelValue:e(m).bank_account,"onUpdate:modelValue":u[2]||(u[2]=j=>e(m).bank_account=j),type:"text",placeholder:"Nomor rekening bank",required:""},null,8,["modelValue"]),e(m).errors.bank_account?(n(),p("p",zn,l(e(m).errors.bank_account),1)):P("",!0)]),t("div",Fn,[s(e(O),{for:"bank_holder"},{default:a(()=>[...u[10]||(u[10]=[r(" Nama Pemilik Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(X),{id:"bank_holder",modelValue:e(m).bank_holder,"onUpdate:modelValue":u[3]||(u[3]=j=>e(m).bank_holder=j),type:"text",placeholder:"Nama sesuai rekening bank",required:""},null,8,["modelValue"]),e(m).errors.bank_holder?(n(),p("p",Gn,l(e(m).errors.bank_holder),1)):P("",!0)])]),u[13]||(u[13]=t("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},[t("p",{class:"text-sm text-amber-700 dark:text-amber-300"},[t("strong",null,"Catatan:"),r(" Penarikan akan diproses dalam 1-3 hari kerja. Pastikan data rekening sudah benar. ")])],-1)),t("div",Wn,[s(e(U),{type:"button",variant:"outline",onClick:u[4]||(u[4]=j=>{e(m).reset(),d("cancel")}),disabled:e(m).processing},{default:a(()=>[...u[12]||(u[12]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(m).processing},{default:a(()=>[r(l(e(m).processing?"Memproses...":"Ajukan Penarikan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Hn={class:"p-3 border rounded-lg"},qn={class:"flex items-center justify-between"},Zn={class:"flex items-center gap-3"},Qn={class:"font-semibold text-sm"},Xn={class:"text-xs text-muted-foreground"},Yn={class:"text-xs text-muted-foreground"},er={class:"text-right"},tr={key:0,class:"mt-3 pt-3 border-t"},sr={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},ar={class:"flex gap-2"},lr=Z({__name:"WalletTransactionCard",props:{transaction:{}},emits:["continue-payment","status-updated"],setup(i,{emit:f}){const d=i,m=f,{formatCurrency:_,formatDate:o,getTransactionTypeLabel:u,getTransactionStatusLabel:j}=me(),R=V(!1),g=V(d.transaction.status),h=async v=>{if(!R.value){R.value=!0;try{const x=await ae.post("/client/wallet/check-status",{transaction_ref:v});x.data.success?(g.value=x.data.status,m("status-updated",{transactionRef:v,status:x.data.status,newBalance:x.data.new_balance}),T.success(x.data.message),setTimeout(()=>{ne.reload({only:["customer","transactions"]})},500)):T.error(x.data.message)}catch(x){console.error("Check status error:",x),T.error(x.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{R.value=!1}}};return(v,x)=>(n(),p("div",Hn,[t("div",qn,[t("div",Zn,[t("div",{class:W(["p-2 rounded-full",{"bg-emerald-100 dark:bg-emerald-900/20":i.transaction.type==="topup"||i.transaction.type==="bonus","bg-red-100 dark:bg-red-900/20":i.transaction.type==="withdrawal"||i.transaction.type==="purchase","bg-blue-100 dark:bg-blue-900/20":i.transaction.type==="refund"}])},[i.transaction.type==="topup"||i.transaction.type==="bonus"||i.transaction.type==="refund"?(n(),M(e(rt),{key:0,class:W(["w-4 h-4",{"text-emerald-600 dark:text-emerald-400":i.transaction.type==="topup"||i.transaction.type==="bonus","text-blue-600 dark:text-blue-400":i.transaction.type==="refund"}])},null,8,["class"])):(n(),M(e(ot),{key:1,class:"w-4 h-4 text-red-600 dark:text-red-400"}))],2),t("div",null,[t("p",Qn,l(e(u)(i.transaction.type)),1),t("p",Xn,l(i.transaction.transaction_ref),1),t("p",Yn,l(e(o)(i.transaction.created_at)),1)])]),t("div",er,[t("p",{class:W(["font-bold",{"text-emerald-600 dark:text-emerald-400":i.transaction.type==="topup"||i.transaction.type==="bonus"||i.transaction.type==="refund","text-red-600 dark:text-red-400":i.transaction.type==="withdrawal"||i.transaction.type==="purchase"}])},l(i.transaction.type==="topup"||i.transaction.type==="bonus"||i.transaction.type==="refund"?"+":"-")+" "+l(e(_)(i.transaction.amount)),3),s(e(I),{variant:"secondary",class:W({"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100":g.value==="pending","bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-100":g.value==="completed","bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-100":g.value==="failed"||g.value==="cancelled"})},{default:a(()=>[r(l(e(j)(g.value)),1)]),_:1},8,["class"])])]),i.transaction.type==="topup"&&g.value==="pending"&&i.transaction.midtrans_transaction_id?(n(),p("div",tr,[t("div",sr,[x[4]||(x[4]=t("p",{class:"text-xs text-muted-foreground"}," Pembayaran menunggu konfirmasi ",-1)),t("div",ar,[s(e(U),{size:"sm",variant:"outline",disabled:R.value,onClick:x[0]||(x[0]=c=>h(i.transaction.transaction_ref)),class:"shrink-0"},{default:a(()=>[s(e(nt),{class:W(["w-3 h-3 mr-1",{"animate-spin":R.value}])},null,8,["class"]),x[2]||(x[2]=r(" Cek Status ",-1))]),_:1},8,["disabled"]),s(e(U),{size:"sm",onClick:x[1]||(x[1]=c=>m("continue-payment",i.transaction.midtrans_transaction_id)),class:"shrink-0"},{default:a(()=>[s(e(ie),{class:"w-3 h-3 mr-1"}),x[3]||(x[3]=r(" Lanjutkan Pembayaran ",-1))]),_:1})])])])):P("",!0)]))}}),nr={key:0,class:"space-y-3"},rr={key:1,class:"py-12 text-center"},or=Z({__name:"WalletTransactionList",props:{transactions:{}},setup(i){const f=qe(),d=N(()=>f.props.customer),m=o=>{typeof window>"u"||(window.snap?window.snap.pay(o,{onSuccess:function(u){console.log("Payment success:",u),T.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(u){console.log("Payment pending:",u),T.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(u){T.error("Pembayaran gagal."),console.error("Payment error:",u)},onClose:function(){T("Pembayaran ditutup sebelum selesai."),console.log("Payment modal closed")}}):alert("Midtrans Snap belum siap. Silakan refresh halaman."))},_=o=>{o.newBalance!==void 0&&d.value&&(d.value.ewallet_saldo=o.newBalance)};return(o,u)=>(n(),M(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...u[0]||(u[0]=[r("Riwayat Transaksi",-1)])]),_:1}),s(e(re),null,{default:a(()=>[r(l(i.transactions.length)+" transaksi e-wallet terbaru ",1)]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[i.transactions.length>0?(n(),p("div",nr,[(n(!0),p(q,null,te(i.transactions,j=>(n(),M(lr,{key:j.id,transaction:j,onContinuePayment:m,onStatusUpdated:_},null,8,["transaction"]))),128))])):(n(),p("div",rr,[s(e(be),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),u[1]||(u[1]=t("p",{class:"text-muted-foreground"},"Belum ada transaksi",-1))]))]),_:1})]),_:1}))}}),ir={class:"flex-1"},dr={key:0,class:"text-xs mt-1 text-gray-700 dark:text-gray-300"},ur={class:"font-mono"},mr={class:"uppercase"},cr=["disabled"],pr={key:1,class:"border border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 text-xs text-amber-800 dark:text-amber-200"},fr=Z({__name:"WalletStatusBanner",props:{initialTransactions:{}},setup(i){const f=i,d=V(!1),m=V(null),_=V(null),o=N(()=>{const g=_.value?.status||"";return g==="completed"||g==="success"?{tone:"success",title:"Top up berhasil",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900",text:"text-green-800 dark:text-green-200"}:g==="pending"?{tone:"pending",title:"Menunggu pembayaran",bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-900",text:"text-yellow-800 dark:text-yellow-200"}:g==="cancelled"||g==="failed"||g==="expire"||g==="denied"||g==="deny"?{tone:"failed",title:"Pembayaran gagal / dibatalkan",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-900",text:"text-red-800 dark:text-red-200"}:{tone:"info",title:"Status transaksi",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900",text:"text-blue-800 dark:text-blue-200"}});function u(g,h=2){const v=new Date(g).getTime();return(Date.now()-v)/36e5<=h}const j=N(()=>{if(!_.value)return!1;const g=_.value.status;return g==="pending"?!0:g==="completed"||g==="success"?u(_.value.created_at,2):u(_.value.created_at,6)});async function R(){try{d.value=!0,m.value=null;const{data:g}=await ae.get("/client/wallet/history",{params:{type:"topup"}}),h=Array.isArray(g?.data)?g.data:Array.isArray(g)?g:[];h.length>0&&(_.value=h[0])}catch(g){m.value=g?.response?.data?.message||g?.message||"Gagal memuat status transaksi."}finally{d.value=!1}}return Qe(()=>{f.initialTransactions&&f.initialTransactions.length>0&&(_.value=f.initialTransactions[0]),R()}),(g,h)=>j.value?(n(),p("div",{key:0,class:W(["border rounded-lg p-4 flex items-start gap-3",o.value.border,o.value.bg])},[t("div",ir,[t("p",{class:W(["text-sm font-semibold",o.value.text])},l(o.value.title),3),_.value?(n(),p("p",dr,[h[0]||(h[0]=r(" Ref: ",-1)),t("span",ur,l(_.value.transaction_ref),1),r("  Jumlah: Rp "+l(new Intl.NumberFormat("id-ID").format(_.value.amount))+"  Status: ",1),t("span",mr,l(_.value.status),1)])):P("",!0)]),t("button",{type:"button",class:"text-xs underline text-gray-700 dark:text-gray-300",onClick:R,disabled:d.value},l(d.value?"Menyegarkan...":"Segarkan"),9,cr)],2)):m.value?(n(),p("div",pr,l(m.value),1)):P("",!0)}}),xr={class:"space-y-6"},gr=Z({__name:"WalletTab",props:{customer:{},transactions:{}},setup(i){const f=V("wallet");return(d,m)=>(n(),p("div",xr,[s(kn,{balance:Number(i.customer.ewallet_saldo)||0,onTopup:m[0]||(m[0]=_=>f.value="wallet-topup"),onWithdrawal:m[1]||(m[1]=_=>f.value="wallet-withdrawal")},null,8,["balance"]),f.value==="wallet"?(n(),M(fr,{key:0,"initial-transactions":i.transactions},null,8,["initial-transactions"])):P("",!0),f.value==="wallet-topup"?(n(),M(Vn,{key:1,onCancel:m[2]||(m[2]=_=>f.value="wallet")})):P("",!0),f.value==="wallet-withdrawal"?(n(),M(Jn,{key:2,"max-amount":Number(i.customer.ewallet_saldo)||0,onCancel:m[3]||(m[3]=_=>f.value="wallet")},null,8,["max-amount"])):P("",!0),f.value==="wallet"?(n(),M(or,{key:3,transactions:i.transactions},null,8,["transactions"])):P("",!0)]))}}),vr={class:"space-y-2"},br={class:"relative"},yr={key:0,class:"text-sm text-red-500"},_r={class:"space-y-2"},kr={class:"relative"},wr={key:0,class:"text-sm text-red-500"},hr={class:"space-y-2"},$r={class:"relative"},Pr={class:"flex items-center justify-end gap-3"},Cr=Z({__name:"SecurityTab",setup(i){const f=de({current_password:"",password:"",password_confirmation:""}),d=V(!1),m=V(!1),_=V(!1),o=()=>{f.patch("/client/profile/password",{preserveScroll:!0,onSuccess:()=>{f.reset(),d.value=!1,m.value=!1,_.value=!1,T.success("Password berhasil diubah")}})};return(u,j)=>(n(),M(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...j[7]||(j[7]=[r("Ubah Password",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...j[8]||(j[8]=[r(" Pastikan akun Anda menggunakan password yang kuat ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:De(o,["prevent"]),class:"space-y-6"},[t("div",vr,[s(e(O),{for:"current_password"},{default:a(()=>[...j[9]||(j[9]=[r(" Password Saat Ini ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",br,[s(e(Ke),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"current_password",modelValue:e(f).current_password,"onUpdate:modelValue":j[0]||(j[0]=R=>e(f).current_password=R),type:d.value?"text":"password",placeholder:"Masukkan password saat ini",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:j[1]||(j[1]=R=>d.value=!d.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[d.value?(n(),M(e(Ve),{key:1,class:"h-4 w-4"})):(n(),M(e(Ae),{key:0,class:"h-4 w-4"}))])]),e(f).errors.current_password?(n(),p("p",yr,l(e(f).errors.current_password),1)):P("",!0)]),s(e(le)),t("div",_r,[s(e(O),{for:"password"},{default:a(()=>[...j[10]||(j[10]=[r(" Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",kr,[s(e(Ye),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"password",modelValue:e(f).password,"onUpdate:modelValue":j[2]||(j[2]=R=>e(f).password=R),type:m.value?"text":"password",placeholder:"Masukkan password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:j[3]||(j[3]=R=>m.value=!m.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[m.value?(n(),M(e(Ve),{key:1,class:"h-4 w-4"})):(n(),M(e(Ae),{key:0,class:"h-4 w-4"}))])]),j[11]||(j[11]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimal 8 karakter ",-1)),e(f).errors.password?(n(),p("p",wr,l(e(f).errors.password),1)):P("",!0)]),t("div",hr,[s(e(O),{for:"password_confirmation"},{default:a(()=>[...j[12]||(j[12]=[r(" Konfirmasi Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",$r,[s(e(Ye),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(X),{id:"password_confirmation",modelValue:e(f).password_confirmation,"onUpdate:modelValue":j[4]||(j[4]=R=>e(f).password_confirmation=R),type:_.value?"text":"password",placeholder:"Konfirmasi password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:j[5]||(j[5]=R=>_.value=!_.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[_.value?(n(),M(e(Ve),{key:1,class:"h-4 w-4"})):(n(),M(e(Ae),{key:0,class:"h-4 w-4"}))])])]),t("div",Pr,[s(e(U),{type:"button",variant:"outline",onClick:j[6]||(j[6]=R=>e(f).reset()),disabled:e(f).processing},{default:a(()=>[...j[13]||(j[13]=[r(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(f).processing},{default:a(()=>[e(f).processing?P("",!0):(n(),M(e(Ke),{key:0,class:"w-4 h-4 mr-2"})),r(" "+l(e(f).processing?"Mengupdate...":"Update Password"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Sr={class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},jr={class:"flex items-start gap-3"},Mr={class:"flex-1"},Tr=Z({__name:"DangerZoneTab",setup(i){const f=V(!1),d=de({}),m=()=>{d.delete("/client/profile",{onFinish:()=>{f.value=!1}})};return(_,o)=>(n(),p(q,null,[s(e(z),{class:"border-red-200 dark:border-red-900"},{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"text-red-600 dark:text-red-400"},{default:a(()=>[...o[3]||(o[3]=[r("Zona Bahaya",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...o[4]||(o[4]=[r(" Tindakan di bawah ini bersifat permanen dan tidak dapat dibatalkan ",-1)])]),_:1})]),_:1}),s(e(F),{class:"space-y-6"},{default:a(()=>[t("div",Sr,[t("div",jr,[s(e(ue),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),t("div",Mr,[o[6]||(o[6]=t("h3",{class:"font-semibold text-red-900 dark:text-red-100"}," Hapus Akun ",-1)),o[7]||(o[7]=t("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Setelah akun Anda dihapus, semua data akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1)),s(e(U),{type:"button",variant:"destructive",class:"mt-4",onClick:o[0]||(o[0]=u=>f.value=!0)},{default:a(()=>[s(e(Ee),{class:"w-4 h-4 mr-2"}),o[5]||(o[5]=r(" Hapus Akun Saya ",-1))]),_:1})])])])]),_:1})]),_:1}),s(e(Ce),{open:f.value,"onUpdate:open":o[2]||(o[2]=u=>f.value=u)},{default:a(()=>[s(e(we),null,{default:a(()=>[s(e(he),null,{default:a(()=>[s(e($e),{class:"flex items-center gap-2 text-red-600"},{default:a(()=>[s(e(ue),{class:"w-5 h-5"}),o[8]||(o[8]=r(" Konfirmasi Hapus Akun ",-1))]),_:1}),s(e(Pe),null,{default:a(()=>[...o[9]||(o[9]=[r(" Apakah Anda yakin ingin menghapus akun Anda? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan dihapus secara permanen. ",-1)])]),_:1})]),_:1}),o[11]||(o[11]=t("div",{class:"py-4"},[t("div",{class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},[t("p",{class:"text-sm text-red-700 dark:text-red-300"},[t("strong",null,"Data yang akan dihapus:")]),t("ul",{class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside space-y-1"},[t("li",null,"Informasi profil dan akun"),t("li",null,"Riwayat transaksi"),t("li",null,"E-wallet dan saldo"),t("li",null,"Jaringan dan bonus")])])],-1)),s(e(Se),null,{default:a(()=>[s(e(U),{type:"button",variant:"outline",onClick:o[1]||(o[1]=u=>f.value=!1),disabled:e(d).processing},{default:a(()=>[...o[10]||(o[10]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"button",variant:"destructive",onClick:m,disabled:e(d).processing},{default:a(()=>[s(e(Ee),{class:"w-4 h-4 mr-2"}),r(" "+l(e(d).processing?"Menghapus...":"Ya, Hapus Akun"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Rr={key:0,class:"text-center py-12 text-muted-foreground"},Dr={class:"flex items-start justify-between"},Ar={class:"flex-1"},Vr={class:"flex items-center gap-2 mb-2"},Br={class:"font-semibold text-lg"},Lr={class:"space-y-1 text-sm text-muted-foreground"},Ir={key:0},Ur={key:1,class:"text-xs font-medium text-primary"},Er={key:2,class:"text-xs"},Nr={class:"text-blue-600 dark:text-blue-400"},Kr={class:"text-green-600 dark:text-green-400"},Or={class:"text-xs"},zr={class:"text-xs font-medium text-green-600 dark:text-green-400"},Fr={class:"flex flex-col items-end gap-2"},Gr={key:0,class:"text-center py-12 text-muted-foreground"},Wr={class:"flex items-start justify-between"},Jr={class:"flex-1"},Hr={class:"flex items-center gap-2 mb-2"},qr={class:"font-semibold text-lg"},Zr={class:"space-y-1 text-sm text-muted-foreground"},Qr={key:0},Xr={key:1,class:"text-xs font-medium text-primary"},Yr={key:2,class:"text-xs"},eo={class:"text-blue-600 dark:text-blue-400"},to={class:"text-green-600 dark:text-green-400"},so={class:"text-xs"},ao={class:"text-xs font-medium text-orange-600 dark:text-orange-400"},lo={class:"flex flex-col items-end gap-2"},no={key:0,class:"text-center py-12 text-muted-foreground"},ro={class:"flex items-start justify-between"},oo={class:"flex-1"},io={class:"flex items-center gap-2 mb-2"},uo={class:"font-semibold text-lg"},mo={class:"space-y-1 text-sm text-muted-foreground"},co={key:0},po={key:1,class:"text-xs font-medium text-primary"},fo={key:2,class:"text-xs"},xo={class:"text-blue-600 dark:text-blue-400"},go={class:"text-green-600 dark:text-green-400"},vo={class:"text-xs"},bo={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},yo={class:"flex flex-col items-end gap-2"},_o={class:"font-semibold"},ko={class:"grid grid-cols-2 gap-4 py-4"},wo=Z({__name:"NetworkMembersTab",props:{activeMembers:{},passiveMembers:{},prospectMembers:{}},setup(i){const f=V(!1),d=V(null),m=V(null),_=de({member_id:0,position:""}),o=v=>{d.value=v,m.value=null,_.member_id=v.id,_.position="",f.value=!0},u=()=>{f.value=!1,d.value=null,m.value=null,_.reset()},j=()=>{if(!d.value||!m.value){T.error("Pilih posisi terlebih dahulu");return}_.position=m.value,_.post("/client/profile/place-member",{onSuccess:()=>{T.success(`${d.value?.name} berhasil ditempatkan di posisi ${m.value}`),u()},onError:v=>{const x=v.error||"Gagal menempatkan member ke binary tree";T.error(x)}})},R=v=>new Date(v).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),g=v=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(v),h=v=>v?{variant:v==="left"?"default":"secondary",text:v==="left"?"Kiri":"Kanan"}:{variant:"outline",text:"Belum Ditempatkan"};return(v,x)=>(n(),p(q,null,[s(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...x[2]||(x[2]=[r("Jaringan Member",-1)])]),_:1}),s(e(re),null,{default:a(()=>[...x[3]||(x[3]=[r("Kelola dan lihat member dalam jaringan Anda",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(Je),{"default-value":"active",class:"w-full"},{default:a(()=>[s(e(He),{class:"grid w-full grid-cols-3"},{default:a(()=>[s(e(Y),{value:"active"},{default:a(()=>[s(e(oe),{class:"w-4 h-4 mr-2"}),r(" Aktif ("+l(i.activeMembers.length)+") ",1)]),_:1}),s(e(Y),{value:"passive"},{default:a(()=>[s(e(Be),{class:"w-4 h-4 mr-2"}),r(" Pasif ("+l(i.passiveMembers.length)+") ",1)]),_:1}),s(e(Y),{value:"prospect"},{default:a(()=>[s(e(Me),{class:"w-4 h-4 mr-2"}),r(" Prospek ("+l(i.prospectMembers.length)+") ",1)]),_:1})]),_:1}),s(e(ee),{value:"active",class:"space-y-4"},{default:a(()=>[i.activeMembers.length===0?(n(),p("div",Rr,[s(e(oe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),x[4]||(x[4]=t("p",null,"Belum ada member aktif",-1)),x[5]||(x[5]=t("p",{class:"text-sm mt-2"},"Member aktif adalah member yang sudah ditempatkan di binary tree",-1))])):P("",!0),(n(!0),p(q,null,te(i.activeMembers,c=>(n(),M(e(z),{key:c.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",Dr,[t("div",Ar,[t("div",Vr,[t("h4",Br,l(c.name),1),s(e(I),{variant:h(c.position).variant},{default:a(()=>[r(l(h(c.position).text),1)]),_:2},1032,["variant"]),c.level?(n(),M(e(I),{key:0,variant:"outline"},{default:a(()=>[r(" Level "+l(c.level),1)]),_:2},1024)):P("",!0)]),t("div",Lr,[t("p",null,l(c.email),1),c.phone?(n(),p("p",Ir,l(c.phone),1)):P("",!0),c.package_name?(n(),p("p",Ur," Paket: "+l(c.package_name),1)):P("",!0),(c.total_left??0)>0||(c.total_right??0)>0?(n(),p("p",Er,[t("span",Nr,"Kiri: "+l(c.total_left??0),1),x[6]||(x[6]=t("span",{class:"mx-1"},"|",-1)),t("span",Kr,"Kanan: "+l(c.total_right??0),1)])):P("",!0),t("p",Or,"Bergabung: "+l(R(c.joined_at)),1),t("p",zr," Omzet: "+l(g(c.omzet)),1)])]),t("div",Fr,[s(e(I),{variant:"default"},{default:a(()=>[s(e(oe),{class:"w-3 h-3 mr-1"}),x[7]||(x[7]=r(" Aktif ",-1))]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(ee),{value:"passive",class:"space-y-4"},{default:a(()=>[i.passiveMembers.length===0?(n(),p("div",Gr,[s(e(Be),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),x[8]||(x[8]=t("p",null,"Belum ada member pasif",-1)),x[9]||(x[9]=t("p",{class:"text-sm mt-2"},"Member pasif adalah member yang belum ditempatkan di binary tree tapi sudah memiliki pembelian/order",-1))])):P("",!0),(n(!0),p(q,null,te(i.passiveMembers,c=>(n(),M(e(z),{key:c.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",Wr,[t("div",Jr,[t("div",Hr,[t("h4",qr,l(c.name),1),s(e(I),{variant:"secondary"},{default:a(()=>[...x[10]||(x[10]=[r("Belum Ditempatkan",-1)])]),_:1})]),t("div",Zr,[t("p",null,l(c.email),1),c.phone?(n(),p("p",Qr,l(c.phone),1)):P("",!0),c.package_name?(n(),p("p",Xr," Paket: "+l(c.package_name),1)):P("",!0),(c.total_left??0)>0||(c.total_right??0)>0?(n(),p("p",Yr,[t("span",eo,"Kiri: "+l(c.total_left??0),1),x[11]||(x[11]=t("span",{class:"mx-1"},"|",-1)),t("span",to,"Kanan: "+l(c.total_right??0),1)])):P("",!0),t("p",so,"Bergabung: "+l(R(c.joined_at)),1),t("p",ao," Omzet: "+l(g(c.omzet)),1)])]),t("div",lo,[s(e(I),{variant:"outline"},{default:a(()=>[s(e(Be),{class:"w-3 h-3 mr-1"}),x[12]||(x[12]=r(" Pasif ",-1))]),_:1}),s(e(I),{variant:"default"},{default:a(()=>[...x[13]||(x[13]=[r(" Sudah Belanja ",-1)])]),_:1}),i.activeMembers.length<2?(n(),M(e(U),{key:0,size:"sm",variant:"default",class:"mt-2",onClick:D=>o(c)},{default:a(()=>[s(e(ye),{class:"w-3 h-3 mr-1"}),x[14]||(x[14]=r(" Tempatkan ke Binary ",-1))]),_:1},8,["onClick"])):P("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(ee),{value:"prospect",class:"space-y-4"},{default:a(()=>[i.prospectMembers.length===0?(n(),p("div",no,[s(e(Me),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),x[15]||(x[15]=t("p",null,"Belum ada member prospek",-1)),x[16]||(x[16]=t("p",{class:"text-sm mt-2"},"Member prospek adalah member yang baru mendaftar, belum ditempatkan di binary tree dan belum memiliki pembelian/order",-1))])):P("",!0),(n(!0),p(q,null,te(i.prospectMembers,c=>(n(),M(e(z),{key:c.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",ro,[t("div",oo,[t("div",io,[t("h4",uo,l(c.name),1),s(e(I),{variant:"outline"},{default:a(()=>[...x[17]||(x[17]=[r("Baru Bergabung",-1)])]),_:1})]),t("div",mo,[t("p",null,l(c.email),1),c.phone?(n(),p("p",co,l(c.phone),1)):P("",!0),c.package_name?(n(),p("p",po," Paket: "+l(c.package_name),1)):P("",!0),(c.total_left??0)>0||(c.total_right??0)>0?(n(),p("p",fo,[t("span",xo,"Kiri: "+l(c.total_left??0),1),x[18]||(x[18]=t("span",{class:"mx-1"},"|",-1)),t("span",go,"Kanan: "+l(c.total_right??0),1)])):P("",!0),t("p",vo,"Bergabung: "+l(R(c.joined_at)),1),t("p",bo," Omzet: "+l(g(c.omzet)),1)])]),t("div",yo,[s(e(I),{variant:"secondary"},{default:a(()=>[s(e(Me),{class:"w-3 h-3 mr-1"}),x[19]||(x[19]=r(" Prospek ",-1))]),_:1}),s(e(I),{variant:"secondary"},{default:a(()=>[...x[20]||(x[20]=[r(" Belum Belanja ",-1)])]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),s(e(Ce),{open:f.value,"onUpdate:open":u},{default:a(()=>[s(e(we),{class:"sm:max-w-md"},{default:a(()=>[s(e(he),null,{default:a(()=>[s(e($e),null,{default:a(()=>[...x[21]||(x[21]=[r("Tempatkan Member ke Binary Tree",-1)])]),_:1}),s(e(Pe),null,{default:a(()=>[x[22]||(x[22]=r(" Pilih posisi untuk menempatkan ",-1)),t("span",_o,l(d.value?.name),1),x[23]||(x[23]=r(" di jaringan binary tree Anda. ",-1))]),_:1})]),_:1}),t("div",ko,[t("button",{type:"button",class:W(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",m.value==="left"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:x[0]||(x[0]=c=>m.value="left")},[s(e(ye),{class:"w-8 h-8 mb-2 rotate-90"}),x[24]||(x[24]=t("span",{class:"font-semibold"},"Posisi Kiri",-1)),x[25]||(x[25]=t("span",{class:"text-xs text-muted-foreground mt-1"},"Left Position",-1))],2),t("button",{type:"button",class:W(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",m.value==="right"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:x[1]||(x[1]=c=>m.value="right")},[s(e(ye),{class:"w-8 h-8 mb-2 -rotate-90"}),x[26]||(x[26]=t("span",{class:"font-semibold"},"Posisi Kanan",-1)),x[27]||(x[27]=t("span",{class:"text-xs text-muted-foreground mt-1"},"Right Position",-1))],2)]),s(e(Se),null,{default:a(()=>[s(e(U),{variant:"outline",onClick:u,disabled:e(_).processing},{default:a(()=>[...x[28]||(x[28]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{onClick:j,disabled:!m.value||e(_).processing},{default:a(()=>[r(l(e(_).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),ho=Z({__name:"GoJSBinaryTree",props:{binaryTree:{},onOpenPlacement:{type:Function}},emits:["openPlacement"],setup(i,{expose:f,emit:d}){const m=i,_=d,o=V(null);let u=null;const j=(c,D=null)=>{if(!c)return{nodes:[],links:[]};const B=[],k=[],E=(K,G,L)=>{const Q={key:K.id,name:K.name,email:K.email,package:K.package_name||"Tidak ada paket",totalLeft:K.total_left||0,totalRight:K.total_right||0,position:L,isActive:K.status,hasLeft:!!K.left,hasRight:!!K.right,order:L==="left"?0:L==="right"?1:0};if(B.push(Q),G!==null&&k.push({from:G,to:K.id,order:L==="left"?0:1}),!K.left&&K.status){const A=-K.id*2;B.push({key:A,name:"+ Kiri",email:"",package:"",isPlaceholder:!0,parentId:K.id,placeholderPosition:"left",order:0}),k.push({from:K.id,to:A,order:0})}if(!K.right&&K.status){const A=-K.id*2-1;B.push({key:A,name:"+ Kanan",email:"",package:"",isPlaceholder:!0,parentId:K.id,placeholderPosition:"right",order:1}),k.push({from:K.id,to:A,order:1})}K.left&&E(K.left,K.id,"left"),K.right&&E(K.right,K.id,"right")};return E(c,D,null),{nodes:B,links:k}},R=()=>{if(!o.value)return;const c=Mt.make;u=c(Tt,o.value,{"undoManager.isEnabled":!1,"animationManager.isEnabled":!0,initialAutoScale:Rt.Uniform,contentAlignment:ce.Top,layout:c(Dt,{angle:90,layerSpacing:50,nodeSpacing:20,arrangement:Vt.Horizontal,sorting:At.Ascending,comparer:(D,B)=>{const k=D.node?.data?.order??0,E=B.node?.data?.order??0;return k-E}}),maxSelectionCount:1}),u.nodeTemplate=c(Bt,"Auto",{cursor:"pointer",selectionAdorned:!1},c(ge,"RoundedRectangle",{fill:"white",stroke:"#e2e8f0",strokeWidth:2,parameter1:8},new se("fill","",D=>D.isPlaceholder?"#f8fafc":D.isActive?"#ffffff":"#fef3c7"),new se("stroke","",D=>D.isPlaceholder?"#cbd5e1":D.position==="left"?"#3b82f6":D.position==="right"?"#22c55e":"#6366f1"),new se("strokeWidth","",D=>D.isPlaceholder?1:2),new se("strokeDashArray","isPlaceholder",D=>D?[4,4]:null)),c(ve,"Vertical",{margin:8,defaultAlignment:ce.Left},c(pe,{font:"bold 13px Inter, sans-serif",stroke:"#1e293b",maxSize:new tt(140,NaN),wrap:et.Fit,textAlign:"center",alignment:ce.Center},new se("text","name"),new se("stroke","isPlaceholder",D=>D?"#64748b":"#1e293b"),new se("font","isPlaceholder",D=>D?"12px Inter, sans-serif":"bold 13px Inter, sans-serif")),c(pe,{font:"11px Inter, sans-serif",stroke:"#64748b",maxSize:new tt(140,NaN),wrap:et.Fit,margin:new fe(2,0,0,0),alignment:ce.Center},new se("text","email"),new se("visible","isPlaceholder",D=>!D)),c(ve,"Auto",{margin:new fe(4,0,0,0),alignment:ce.Center},new se("visible","isPlaceholder",D=>!D),c(ge,"RoundedRectangle",{fill:"#eff6ff",stroke:"#bfdbfe",strokeWidth:1,parameter1:4}),c(pe,{font:"10px Inter, sans-serif",stroke:"#1d4ed8",margin:new fe(2,6,2,6)},new se("text","package"))),c(ve,"Horizontal",{margin:new fe(6,0,0,0),alignment:ce.Center},new se("visible","isPlaceholder",D=>!D),c(ve,"Horizontal",c(ge,"Circle",{width:8,height:8,fill:"#3b82f6",stroke:null,margin:new fe(0,4,0,0)}),c(pe,{font:"10px Inter, sans-serif",stroke:"#64748b"},new se("text","totalLeft",D=>`L: ${D}`))),c(pe," | ",{font:"10px Inter, sans-serif",stroke:"#cbd5e1"}),c(ve,"Horizontal",c(ge,"Circle",{width:8,height:8,fill:"#22c55e",stroke:null,margin:new fe(0,4,0,0)}),c(pe,{font:"10px Inter, sans-serif",stroke:"#64748b"},new se("text","totalRight",D=>`R: ${D}`))))),{click:(D,B)=>{const k=B.part?.data;k?.isPlaceholder&&k?.parentId&&k?.placeholderPosition&&_("openPlacement",k.parentId,k.placeholderPosition)}}),u.linkTemplate=c(Lt,{routing:It.Orthogonal,corner:10,selectable:!1},c(ge,{strokeWidth:2,stroke:"#cbd5e1"})),g()},g=()=>{if(!u||!m.binaryTree)return;const{nodes:c,links:D}=j(m.binaryTree);u.model=new Ut(c,D),u.zoomToFit()},h=()=>{u&&u.commandHandler.increaseZoom()},v=()=>{u&&u.commandHandler.decreaseZoom()},x=()=>{u&&u.zoomToFit()};return Te(()=>m.binaryTree,()=>{g()},{deep:!0}),Qe(()=>{R()}),lt(()=>{u&&(u.div=null,u=null)}),f({zoomIn:h,zoomOut:v,resetZoom:x}),(c,D)=>(n(),p("div",{ref_key:"diagramDiv",ref:o,class:"w-full h-[500px] sm:h-[600px] border rounded-lg bg-slate-50"},null,512))}}),$o={class:"space-y-4 sm:space-y-6"},Po={class:"grid grid-cols-3 gap-2 sm:gap-4"},Co={class:"text-lg sm:text-2xl font-bold"},So={class:"text-lg sm:text-2xl font-bold text-blue-600"},jo={class:"text-lg sm:text-2xl font-bold text-green-600"},Mo={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},To={class:"flex items-center gap-1 sm:gap-2"},Ro={key:1,class:"h-[400px] flex items-center justify-center text-muted-foreground"},Do={class:"text-center"},Ao={class:"font-semibold"},Vo={class:"flex-1 overflow-y-auto py-2 sm:py-4"},Bo={key:0,class:"text-center py-8 sm:py-12 text-muted-foreground"},Lo={key:1,class:"space-y-2"},Io=["onClick"],Uo={class:"flex items-start justify-between gap-2"},Eo={class:"flex-1 min-w-0"},No={class:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1"},Ko={class:"font-semibold text-sm sm:text-base truncate"},Oo={class:"space-y-0.5 text-xs sm:text-sm text-muted-foreground"},zo={class:"truncate"},Fo={key:0,class:"truncate"},Go={class:"text-[10px] sm:text-xs"},Wo={key:0,class:"flex-shrink-0"},Jo=Z({__name:"BinaryTreeTab",props:{binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},passiveMembers:{}},setup(i){const f=V(null),d=V(!1),m=V(null),_=V(null),o=V(null),u=de({member_id:0,position:""}),j=(B,k)=>{m.value=B,_.value=k,o.value=null,d.value=!0},R=()=>{d.value=!1,m.value=null,_.value=null,o.value=null},g=B=>{o.value=B},h=()=>{if(!o.value||!_.value){T.error("Pilih member terlebih dahulu");return}u.member_id=o.value.id,u.position=_.value,u.post("/client/profile/place-member",{onSuccess:()=>{T.success(`${o.value?.name} berhasil ditempatkan di posisi ${_.value}`),R()},onError:B=>{const k=B.error||"Gagal menempatkan member ke binary tree";T.error(k)}})},v=B=>new Date(B).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),x=()=>{f.value?.zoomIn()},c=()=>{f.value?.zoomOut()},D=()=>{f.value?.resetZoom()};return(B,k)=>(n(),p(q,null,[t("div",$o,[t("div",Po,[s(e(z),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...k[0]||(k[0]=[r("Total Jaringan",-1)])]),_:1}),s(e(Oe),{class:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Co,l(i.totalDownlines),1),k[1]||(k[1]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member aktif di jaringan Anda",-1))]),_:1})]),_:1}),s(e(z),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...k[2]||(k[2]=[r("Kaki Kiri",-1)])]),_:1}),s(e(st),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",So,l(i.totalLeft),1),k[3]||(k[3]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kiri",-1))]),_:1})]),_:1}),s(e(z),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...k[4]||(k[4]=[r("Kaki Kanan",-1)])]),_:1}),s(e(st),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",jo,l(i.totalRight),1),k[5]||(k[5]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kanan",-1))]),_:1})]),_:1})]),s(e(z),null,{default:a(()=>[s(e(J),{class:"p-3 sm:p-6"},{default:a(()=>[t("div",Mo,[t("div",null,[s(e(H),{class:"text-sm sm:text-base"},{default:a(()=>[...k[6]||(k[6]=[r("Struktur Binary Tree",-1)])]),_:1}),s(e(re),{class:"text-xs sm:text-sm"},{default:a(()=>[...k[7]||(k[7]=[r(" Visualisasi jaringan MLM binary tree Anda ",-1)])]),_:1})]),t("div",To,[s(e(U),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:c},{default:a(()=>[s(e(Et),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(U),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:x},{default:a(()=>[s(e(Nt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(U),{variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:D,title:"Fit to Screen"},{default:a(()=>[s(e(Kt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1})])])]),_:1}),s(e(F),{class:"p-2 sm:p-6 pt-0"},{default:a(()=>[i.binaryTree?(n(),M(ho,{key:0,ref_key:"goJSTreeRef",ref:f,"binary-tree":i.binaryTree,onOpenPlacement:j},null,8,["binary-tree"])):(n(),p("div",Ro,[t("div",Do,[s(e(Oe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),k[8]||(k[8]=t("p",null,"Belum ada jaringan binary tree",-1))])])),k[9]||(k[9]=t("div",{class:"mt-4 sm:mt-6 p-2 sm:p-4 rounded-lg bg-muted/50"},[t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-center sm:text-left"},[t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[r("  "),t("span",{class:"hidden sm:inline"},'Klik node "+" untuk menambahkan member ke posisi tersebut'),t("span",{class:"sm:hidden"},'Klik "+" untuk tambah member')]),t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[t("span",{class:"hidden sm:inline"},"Scroll/drag untuk navigasi  Mouse wheel untuk zoom"),t("span",{class:"sm:hidden"},"Drag & Pinch untuk navigasi")])])],-1))]),_:1})]),_:1})]),s(e(Ce),{open:d.value,"onUpdate:open":R},{default:a(()=>[s(e(we),{class:"w-[95vw] max-w-2xl max-h-[85vh] overflow-hidden flex flex-col p-4 sm:p-6"},{default:a(()=>[s(e(he),{class:"space-y-1 sm:space-y-2"},{default:a(()=>[s(e($e),{class:"text-base sm:text-lg"},{default:a(()=>[...k[10]||(k[10]=[r("Pilih Member untuk Ditempatkan",-1)])]),_:1}),s(e(Pe),{class:"text-xs sm:text-sm"},{default:a(()=>[k[11]||(k[11]=r(" Pilih member pasif untuk ditempatkan di posisi ",-1)),t("span",Ao,l(_.value==="left"?"Kiri":"Kanan"),1)]),_:1})]),_:1}),t("div",Vo,[i.passiveMembers.length===0?(n(),p("div",Bo,[s(e(Me),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),k[12]||(k[12]=t("p",{class:"text-sm sm:text-base"},"Tidak ada member pasif",-1)),k[13]||(k[13]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Semua member sudah ditempatkan",-1))])):(n(),p("div",Lo,[(n(!0),p(q,null,te(i.passiveMembers,E=>(n(),p("button",{key:E.id,type:"button",class:W(["w-full p-3 sm:p-4 rounded-lg border-2 text-left transition-all",o.value?.id===E.id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"]),onClick:K=>g(E)},[t("div",Uo,[t("div",Eo,[t("div",No,[t("h4",Ko,l(E.name),1),E.has_purchase?(n(),M(e(I),{key:0,variant:"default",class:"text-[10px] sm:text-xs"},{default:a(()=>[...k[14]||(k[14]=[t("span",{class:"hidden sm:inline"},"Ada Pembelian",-1),t("span",{class:"sm:hidden"},"Beli",-1)])]),_:1})):(n(),M(e(I),{key:1,variant:"secondary",class:"text-[10px] sm:text-xs"},{default:a(()=>[...k[15]||(k[15]=[t("span",{class:"hidden sm:inline"},"Belum Belanja",-1),t("span",{class:"sm:hidden"},"Belum",-1)])]),_:1}))]),t("div",Oo,[t("p",zo,l(E.email),1),E.phone?(n(),p("p",Fo,l(E.phone),1)):P("",!0),t("p",Go,"Bergabung: "+l(v(E.joined_at)),1)])]),o.value?.id===E.id?(n(),p("div",Wo,[...k[16]||(k[16]=[t("div",{class:"flex h-5 w-5 sm:h-6 sm:w-6 items-center justify-center rounded-full bg-primary text-primary-foreground"},[t("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):P("",!0)])],10,Io))),128))]))]),s(e(Se),{class:"flex-col-reverse sm:flex-row gap-2 sm:gap-0"},{default:a(()=>[s(e(U),{variant:"outline",onClick:R,disabled:e(u).processing,class:"w-full sm:w-auto"},{default:a(()=>[...k[17]||(k[17]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{onClick:h,disabled:!o.value||e(u).processing,class:"w-full sm:w-auto"},{default:a(()=>[r(l(e(u).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Ho={class:"space-y-4 sm:space-y-6"},qo={class:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},Zo={class:"text-xl sm:text-2xl font-bold truncate"},Qo={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Xo={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Yo={class:"text-xl sm:text-2xl font-bold truncate"},ei={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ti={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},si={class:"text-xl sm:text-2xl font-bold truncate"},ai={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},li={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},ni={class:"text-xl sm:text-2xl font-bold truncate"},ri={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},oi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},ii={class:"text-xl sm:text-2xl font-bold truncate"},di={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ui={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},mi={class:"text-xl sm:text-2xl font-bold truncate"},ci={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},pi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},fi={class:"text-xl sm:text-2xl font-bold truncate"},xi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},gi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},vi={class:"text-xl sm:text-2xl font-bold text-primary truncate"},bi={class:"w-full text-center overflow-x-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] -mx-2 px-2 sm:mx-0 sm:px-0",style:{"-webkit-overflow-scrolling":"touch"}},yi={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},_i={key:1,class:"space-y-1.5 sm:space-y-3"},ki={class:"flex-1 min-w-0"},wi={class:"flex flex-wrap items-center gap-1 sm:gap-2"},hi={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},$i={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Pi={key:0,class:"block sm:inline"},Ci={class:"block sm:inline sm:ml-1"},Si={class:"text-left sm:text-right flex-shrink-0"},ji={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Mi={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Ti={key:1,class:"space-y-1.5 sm:space-y-3"},Ri={class:"flex-1 min-w-0"},Di={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Ai={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Vi={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Bi={key:0,class:"block sm:inline"},Li={class:"block sm:inline sm:ml-2"},Ii={class:"text-left sm:text-right flex-shrink-0"},Ui={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Ei={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Ni={key:1,class:"space-y-3"},Ki={class:"flex-1 min-w-0"},Oi={class:"flex flex-wrap items-center gap-2"},zi={class:"text-xs sm:text-sm font-medium break-words"},Fi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Gi={class:"text-left sm:text-right flex-shrink-0"},Wi={class:"text-base sm:text-lg font-bold text-green-600"},Ji={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Hi={key:1,class:"space-y-1.5 sm:space-y-3"},qi={class:"flex-1 min-w-0"},Zi={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Qi={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Xi={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Yi={key:0,class:"block sm:inline"},ed={class:"block sm:inline sm:ml-1"},td={class:"text-left sm:text-right flex-shrink-0"},sd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},ad={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},ld={key:1,class:"space-y-1.5 sm:space-y-3"},nd={class:"flex-1 min-w-0"},rd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},od={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},id={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},dd={class:"text-left sm:text-right flex-shrink-0"},ud={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},md={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},cd={key:1,class:"space-y-1.5 sm:space-y-3"},pd={class:"flex-1 min-w-0"},fd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},xd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},gd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},vd={key:0,class:"block sm:inline"},bd={class:"block sm:inline sm:ml-1"},yd={class:"text-left sm:text-right flex-shrink-0"},_d={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},kd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},wd={key:1,class:"space-y-1.5 sm:space-y-3"},hd={class:"flex-1 min-w-0"},$d={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Pd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Cd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Sd={class:"block sm:inline"},jd={class:"block sm:inline sm:ml-1"},Md={class:"text-left sm:text-right flex-shrink-0"},Td={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Rd=Z({__name:"BonusTab",props:{bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{}},setup(i){const f=i,d=b=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(b),m=b=>new Date(b).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),_=N(()=>f.bonusSponsors.reduce((b,C)=>b+C.amount,0)),o=N(()=>f.bonusMatchings.reduce((b,C)=>b+C.amount,0)),u=N(()=>f.bonusPairings.reduce((b,C)=>b+C.amount,0)),j=N(()=>f.bonusCashbacks.reduce((b,C)=>b+C.amount,0)),R=N(()=>f.bonusRewards.reduce((b,C)=>b+C.amount,0)),g=N(()=>f.bonusSponsors.filter(b=>b.status===0).reduce((b,C)=>b+C.amount,0)),h=N(()=>f.bonusSponsors.filter(b=>b.status===1).reduce((b,C)=>b+C.amount,0)),v=N(()=>f.bonusMatchings.filter(b=>b.status===0).reduce((b,C)=>b+C.amount,0)),x=N(()=>f.bonusMatchings.filter(b=>b.status===1).reduce((b,C)=>b+C.amount,0)),c=N(()=>f.bonusPairings.filter(b=>b.status===0).reduce((b,C)=>b+C.amount,0)),D=N(()=>f.bonusPairings.filter(b=>b.status===1).reduce((b,C)=>b+C.amount,0)),B=N(()=>f.bonusCashbacks.filter(b=>b.status===0).reduce((b,C)=>b+C.amount,0)),k=N(()=>f.bonusCashbacks.filter(b=>b.status===1).reduce((b,C)=>b+C.amount,0)),E=N(()=>f.bonusRewards.filter(b=>b.status===0).reduce((b,C)=>b+C.amount,0)),K=N(()=>f.bonusRewards.filter(b=>b.status===1).reduce((b,C)=>b+C.amount,0)),G=N(()=>f.bonusRetails.reduce((b,C)=>b+C.amount,0)),L=N(()=>f.bonusRetails.filter(b=>b.status===0).reduce((b,C)=>b+C.amount,0)),Q=N(()=>f.bonusRetails.filter(b=>b.status===1).reduce((b,C)=>b+C.amount,0)),A=N(()=>f.bonusLifetimeCashRewards.reduce((b,C)=>b+C.amount,0)),w=N(()=>f.bonusLifetimeCashRewards.filter(b=>b.status===0).reduce((b,C)=>b+C.amount,0)),y=N(()=>f.bonusLifetimeCashRewards.filter(b=>b.status===1).reduce((b,C)=>b+C.amount,0)),$=N(()=>_.value+o.value+u.value+j.value+R.value+G.value+A.value);return(b,C)=>(n(),p("div",Ho,[t("div",qo,[s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Oe),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),C[0]||(C[0]=t("span",{class:"truncate"},"Referral Incentive",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",Zo,l(d(_.value)),1),t("p",Qo,l(i.bonusSponsors.length)+" transaksi ",1),t("div",Xo,[s(e(I),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(d(g.value)),1)]),_:1}),s(e(I),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(d(h.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ot),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"}),C[1]||(C[1]=t("span",{class:"truncate"},"Team Affiliate Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",Yo,l(d(o.value)),1),t("p",ei,l(i.bonusMatchings.length)+" transaksi ",1),t("div",ti,[s(e(I),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(d(v.value)),1)]),_:1}),s(e(I),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(d(x.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(zt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),C[2]||(C[2]=t("span",{class:"truncate"},"Partner Team Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",si,l(d(u.value)),1),t("p",ai,l(i.bonusPairings.length)+" transaksi ",1),t("div",li,[s(e(I),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(d(c.value)),1)]),_:1}),s(e(I),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(d(D.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ft),{class:"h-3 w-3 sm:h-4 sm:w-4 text-orange-500 flex-shrink-0"}),C[3]||(C[3]=t("span",{class:"truncate"},"Cashback Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",ni,l(d(j.value)),1),t("p",ri,l(i.bonusCashbacks.length)+" transaksi ",1),t("div",oi,[s(e(I),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(d(B.value)),1)]),_:1}),s(e(I),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(d(k.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(at),{class:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 flex-shrink-0"}),C[4]||(C[4]=t("span",{class:"truncate"},"Promotions Rewards",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",ii,l(d(R.value)),1),t("p",di,l(i.bonusRewards.length)+" transaksi ",1),t("div",ui,[s(e(I),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(d(E.value)),1)]),_:1}),s(e(I),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(d(K.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Gt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-500 flex-shrink-0"}),C[5]||(C[5]=t("span",{class:"truncate"},"Retail Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",mi,l(d(G.value)),1),t("p",ci,l(i.bonusRetails.length)+" transaksi ",1),t("div",pi,[s(e(I),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(d(L.value)),1)]),_:1}),s(e(I),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(d(Q.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ze),{class:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"}),C[6]||(C[6]=t("span",{class:"truncate"},"Lifetime Cash Rewards",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",fi,l(d(A.value)),1),t("p",xi,l(i.bonusLifetimeCashRewards.length)+" transaksi ",1),t("div",gi,[s(e(I),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(d(w.value)),1)]),_:1}),s(e(I),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(d(y.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(it),{class:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"}),C[7]||(C[7]=t("span",{class:"truncate"},"Total Bonus",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",vi,l(d($.value)),1),C[8]||(C[8]=t("p",{class:"text-[10px] sm:text-xs text-muted-foreground mt-1"}," Semua jenis bonus ",-1))]),_:1})]),_:1})]),s(e(z),null,{default:a(()=>[s(e(J),{class:"p-2 sm:p-4 md:p-6 pb-2"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-base md:text-lg"},{default:a(()=>[...C[9]||(C[9]=[r("Riwayat Bonus",-1)])]),_:1}),s(e(re),{class:"text-[9px] sm:text-xs md:text-sm"},{default:a(()=>[...C[10]||(C[10]=[r(" Detail transaksi bonus ",-1)])]),_:1})]),_:1}),s(e(F),{class:"p-2 sm:p-4 md:p-6 pt-0"},{default:a(()=>[s(e(Je),{"default-value":"sponsor",class:"w-full"},{default:a(()=>[t("div",bi,[s(e(He),{class:"flex w-max sm:grid sm:w-full sm:grid-cols-7 gap-0.5 sm:gap-1 h-7 sm:h-auto bg-muted/30"},{default:a(()=>[s(e(Y),{value:"sponsor",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[11]||(C[11]=[r(" Referral ",-1)])]),_:1}),s(e(Y),{value:"matching",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[12]||(C[12]=[r(" Team Aff. ",-1)])]),_:1}),s(e(Y),{value:"pairing",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[13]||(C[13]=[r(" Partner ",-1)])]),_:1}),s(e(Y),{value:"cashback",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[14]||(C[14]=[r(" Cashback ",-1)])]),_:1}),s(e(Y),{value:"reward",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[15]||(C[15]=[r(" Rewards ",-1)])]),_:1}),s(e(Y),{value:"retail",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[16]||(C[16]=[r(" Retail ",-1)])]),_:1}),s(e(Y),{value:"lifetime",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[17]||(C[17]=[r(" Lifetime ",-1)])]),_:1})]),_:1})]),s(e(ee),{value:"sponsor",class:"mt-2 sm:mt-4"},{default:a(()=>[i.bonusSponsors.length===0?(n(),p("div",yi," Belum ada bonus referral incentive ")):(n(),p("div",_i,[(n(!0),p(q,null,te(i.bonusSponsors,S=>(n(),p("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",ki,[t("div",wi,[s(e(I),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",hi,l(S.description||"Bonus Sponsor"),1)]),t("p",$i,[S.from_member?(n(),p("span",Pi," Dari: "+l(S.from_member.name),1)):P("",!0),t("span",Ci,l(m(S.created_at)),1)])]),t("div",Si,[t("div",ji,l(d(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},l(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"matching",class:"mt-2 sm:mt-4"},{default:a(()=>[i.bonusMatchings.length===0?(n(),p("div",Mi," Belum ada bonus team affiliate commission ")):(n(),p("div",Ti,[(n(!0),p(q,null,te(i.bonusMatchings,S=>(n(),p("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Ri,[t("div",Di,[s(e(I),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(I),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(" L"+l(S.level),1)]),_:2},1024),t("span",Ai,l(S.description||"Bonus Matching"),1)]),t("p",Vi,[S.from_member?(n(),p("span",Bi," Dari: "+l(S.from_member.name),1)):P("",!0),t("span",Li,l(m(S.created_at)),1)])]),t("div",Ii,[t("div",Ui,l(d(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},l(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"pairing",class:"mt-2 sm:mt-4"},{default:a(()=>[i.bonusPairings.length===0?(n(),p("div",Ei," Belum ada bonus partner team commission ")):(n(),p("div",Ni,[(n(!0),p(q,null,te(i.bonusPairings,S=>(n(),p("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Ki,[t("div",Oi,[s(e(I),{variant:S.status===1?"secondary":"outline",class:"text-xs"},{default:a(()=>[r(l(S.status===1?"Released":"Pending"),1)]),_:2},1032,["variant"]),s(e(I),{variant:"outline",class:"text-xs"},{default:a(()=>[r(l(S.pair)+" Pairs ",1)]),_:2},1024),t("span",zi,l(S.description||"Bonus Pairing"),1)]),t("p",Fi,l(m(S.created_at)),1)]),t("div",Gi,[t("div",Wi,l(d(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},l(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"cashback",class:"mt-2 sm:mt-4"},{default:a(()=>[i.bonusCashbacks.length===0?(n(),p("div",Ji," Belum ada bonus cashback commission ")):(n(),p("div",Hi,[(n(!0),p(q,null,te(i.bonusCashbacks,S=>(n(),p("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",qi,[t("div",Zi,[s(e(I),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",Qi,l(S.description||"Bonus Cashback"),1)]),t("p",Xi,[C[18]||(C[18]=r('eground mt-0.5"> ',-1)),S.order_id?(n(),p("span",Yi," #"+l(S.order_id),1)):P("",!0),t("span",ed,l(m(S.created_at)),1)])]),t("div",td,[t("div",sd,l(d(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},l(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"reward",class:"mt-2 sm:mt-4"},{default:a(()=>[i.bonusRewards.length===0?(n(),p("div",ad," Belum ada promotions rewards ")):(n(),p("div",ld,[(n(!0),p(q,null,te(i.bonusRewards,S=>(n(),p("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",nd,[t("div",rd,[s(e(I),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),S.reward_type?(n(),M(e(I),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(S.reward_type),1)]),_:2},1024)):P("",!0),t("span",od,l(S.description||"Promotions Reward"),1)]),t("p",id,l(m(S.created_at)),1)]),t("div",dd,[t("div",ud,l(d(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},l(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"retail",class:"mt-2 sm:mt-4"},{default:a(()=>[i.bonusRetails.length===0?(n(),p("div",md," Belum ada bonus retail commission ")):(n(),p("div",cd,[(n(!0),p(q,null,te(i.bonusRetails,S=>(n(),p("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",pd,[t("div",fd,[s(e(I),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),S.index_value?(n(),M(e(I),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(" IDX: "+l(S.index_value),1)]),_:2},1024)):P("",!0),t("span",xd,l(S.description||"Retail Commission"),1)]),t("p",gd,[S.from_member?(n(),p("span",vd," Dari: "+l(S.from_member.name),1)):P("",!0),t("span",bd,l(m(S.created_at)),1)])]),t("div",yd,[t("div",_d,l(d(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},l(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ee),{value:"lifetime",class:"mt-2 sm:mt-4"},{default:a(()=>[i.bonusLifetimeCashRewards.length===0?(n(),p("div",kd," Belum ada lifetime cash rewards ")):(n(),p("div",wd,[(n(!0),p(q,null,te(i.bonusLifetimeCashRewards,S=>(n(),p("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",hd,[t("div",$d,[s(e(I),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(I),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(S.reward_name),1)]),_:2},1024),t("span",Pd,l(S.description||"Lifetime Cash Reward"),1)]),t("p",Cd,[t("span",Sd," Reward: "+l(d(S.reward))+" | BV: "+l(S.bv),1),t("span",jd,l(m(S.created_at)),1)])]),t("div",Md,[t("div",Td,l(d(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},l(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Dd={class:"flex items-center justify-between"},Ad={class:"font-semibold"},Vd={class:"flex items-center justify-between"},Bd={class:"font-semibold"},Ld={class:"flex items-center justify-between"},Id=Z({__name:"NetworkStatsCard",props:{customer:{}},setup(i){return(f,d)=>(n(),M(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(dt),{class:"w-5 h-5"}),d[0]||(d[0]=r(" Statistik Jaringan ",-1))]),_:1})]),_:1}),s(e(F),{class:"space-y-3"},{default:a(()=>[t("div",Dd,[d[1]||(d[1]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kiri",-1)),t("span",Ad,l(i.customer.network_stats.left_count),1)]),s(e(le)),t("div",Vd,[d[2]||(d[2]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kanan",-1)),t("span",Bd,l(i.customer.network_stats.right_count),1)]),s(e(le)),t("div",Ld,[d[3]||(d[3]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Downline",-1)),s(e(I),{variant:"secondary"},{default:a(()=>[r(l(i.customer.network_stats.total_downlines),1)]),_:1})])]),_:1})]),_:1}))}}),Ud={class:"bg-gradient-to-br from-primary/10 via-primary/5 to-background border-b"},Ed={class:"container mx-auto px-3 py-6 sm:px-4 sm:py-12 max-w-7xl"},Nd={class:"flex items-center justify-between"},Kd={class:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-background/80 backdrop-blur-sm border shadow-sm"},Od={class:"font-semibold"},zd={class:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-7xl"},Fd={class:"grid gap-4 sm:gap-6 lg:grid-cols-3"},Gd={class:"lg:col-span-1 space-y-4 sm:space-y-6"},Wd={class:"lg:col-span-2"},Jd={class:"rounded-xl border bg-card overflow-hidden"},Hd={class:"border-b bg-muted/30"},qd={class:"overflow-x-auto text-center overflow-y-hidden px-1.5 py-1.5 sm:px-2 sm:py-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},Zd={class:"p-3 sm:p-4 md:p-6"},Qd={key:1,class:"text-center py-12"},ku=Z({__name:"Index",props:{customer:{},orders:{},walletTransactions:{},activeMembers:{},passiveMembers:{},prospectMembers:{},binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{},addresses:{}},setup(i){const f=i,d=qe(),m=N(()=>Number(f.customer.status)===3),_=N(()=>{if(typeof window>"u")return"profile";const o=d.url;try{return new URL(o,window.location.origin).searchParams.get("tab")||"profile"}catch{return"profile"}});return(o,u)=>(n(),M(mt,null,{default:a(()=>[s(e(Wt),{title:"Profile Saya"}),t("div",Ud,[t("div",Ed,[t("div",Nd,[u[0]||(u[0]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-2"},"Profile Saya"),t("p",{class:"text-sm sm:text-base md:text-lg text-muted-foreground"}," Kelola informasi profil dan keamanan akun Anda ")],-1)),t("div",Kd,[s(e(Ne),{class:"w-5 h-5 text-primary"}),t("span",Od,l(i.customer.name),1)])])])]),t("div",zd,[t("div",Fd,[t("div",Gd,[s(vs,{customer:i.customer},null,8,["customer"]),m.value?(n(),M(Id,{key:0,customer:i.customer},null,8,["customer"])):P("",!0),s(Qs,{addresses:i.addresses},null,8,["addresses"]),m.value?(n(),M(sa,{key:1,customer:i.customer},null,8,["customer"])):P("",!0),s(ra,{"created-at":i.customer.created_at},null,8,["created-at"])]),t("div",Wd,[t("div",Jd,[s(e(Je),{"default-value":_.value,class:"w-full"},{default:a(()=>[t("div",Hd,[t("div",qd,[s(e(He),{class:"inline-flex h-auto w-max bg-transparent gap-1 sm:gap-1.5 p-0"},{default:a(()=>[s(e(Y),{value:"profile",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ne),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[1]||(u[1]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Info",-1))]),_:1}),s(e(Y),{value:"orders",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(_e),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[2]||(u[2]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Order",-1))]),_:1}),m.value?(n(),M(e(Y),{key:0,value:"network",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(dt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[3]||(u[3]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Mitra",-1))]),_:1})):P("",!0),m.value?(n(),M(e(Y),{key:1,value:"binary",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ye),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[4]||(u[4]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Network",-1))]),_:1})):P("",!0),m.value?(n(),M(e(Y),{key:2,value:"bonus",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(it),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[5]||(u[5]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Bonus",-1))]),_:1})):P("",!0),s(e(Y),{value:"wallet",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(be),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[6]||(u[6]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Wallet",-1))]),_:1}),s(e(Y),{value:"security",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ke),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[7]||(u[7]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lock",-1))]),_:1}),s(e(Y),{value:"danger",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ue),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),u[8]||(u[8]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Del",-1))]),_:1})]),_:1})])]),t("div",Zd,[s(e(ee),{value:"profile",class:"mt-0"},{default:a(()=>[s(Ra,{customer:i.customer},null,8,["customer"])]),_:1}),s(e(ee),{value:"orders",class:"mt-0"},{default:a(()=>[s(vn,{orders:i.orders},null,8,["orders"])]),_:1}),m.value?(n(),M(e(ee),{key:0,value:"network",class:"mt-0"},{default:a(()=>[s(wo,{"active-members":i.activeMembers,"passive-members":i.passiveMembers,"prospect-members":i.prospectMembers},null,8,["active-members","passive-members","prospect-members"])]),_:1})):P("",!0),m.value?(n(),M(e(ee),{key:1,value:"binary",class:"mt-0"},{default:a(()=>[i.binaryTree?(n(),M(Jo,{key:0,"binary-tree":i.binaryTree,"total-downlines":i.totalDownlines,"total-left":i.totalLeft,"total-right":i.totalRight,"passive-members":i.passiveMembers},null,8,["binary-tree","total-downlines","total-left","total-right","passive-members"])):(n(),p("div",Qd,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),u[9]||(u[9]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Jaringan Binary",-1)),u[10]||(u[10]=t("p",{class:"text-muted-foreground"}," Anda belum memiliki posisi dalam jaringan binary tree MLM. ",-1))]))]),_:1})):P("",!0),m.value?(n(),M(e(ee),{key:2,value:"bonus",class:"mt-0"},{default:a(()=>[s(Rd,{"bonus-sponsors":i.bonusSponsors,"bonus-matchings":i.bonusMatchings,"bonus-pairings":i.bonusPairings,"bonus-cashbacks":i.bonusCashbacks,"bonus-rewards":i.bonusRewards,"bonus-retails":i.bonusRetails,"bonus-lifetime-cash-rewards":i.bonusLifetimeCashRewards},null,8,["bonus-sponsors","bonus-matchings","bonus-pairings","bonus-cashbacks","bonus-rewards","bonus-retails","bonus-lifetime-cash-rewards"])]),_:1})):P("",!0),s(e(ee),{value:"wallet",class:"mt-0"},{default:a(()=>[s(gr,{customer:i.customer,transactions:i.walletTransactions},null,8,["customer","transactions"])]),_:1}),s(e(ee),{value:"security",class:"mt-0"},{default:a(()=>[s(Cr)]),_:1}),s(e(ee),{value:"danger",class:"mt-0"},{default:a(()=>[s(Tr)]),_:1})])]),_:1},8,["default-value"])])])])])]),_:1}))}});export{ku as default};
