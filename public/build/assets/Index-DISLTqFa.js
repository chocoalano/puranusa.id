import{d as z,aj as Y,r as x,p as X,c as V,g as m,w as l,b as s,e as a,u as t,$ as q,s as i,b6 as H,S as B,J as b,cz as Q,cA as T,aF as W,v as y,t as U,af as j,al as A,ae as Z,X as ee,cB as te,cC as se,cr as ae,I as le,F as oe,x as ne,N as ie,ac as ue}from"./vendor-DTOvI-mL.js";import{_ as de}from"./AppLayout.vue_vue_type_script_setup_true_lang-YhCYOJnL.js";import{_ as re}from"./index-CQcVzSmJ.js";import{_ as v}from"./index-D22QrCMB.js";import{_ as P,a as M}from"./CardContent.vue_vue_type_script_setup_true_lang-Bj2sOBs1.js";import{_ as S}from"./CardDescription.vue_vue_type_script_setup_true_lang-Dh4Au0Nv.js";import{_ as $}from"./CardHeader.vue_vue_type_script_setup_true_lang-Dnz_aDai.js";import{_ as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-DNuWsNXR.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-sYWCYV49.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-Bkvht4jR.js";import{_ as me}from"./Textarea.vue_vue_type_script_setup_true_lang-Dt0uRcWG.js";import{_ as pe,a as fe,b as F,c as I}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-8EaztM2P.js";import{_ as c}from"./Separator.vue_vue_type_script_setup_true_lang-C6rCADXp.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BMNk4ekC.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dl-lb8Nw.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DuRk8pxL.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DLa7QEbp.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DpA8K8_j.js";const ge={class:"container mx-auto py-6 space-y-6"},ce={class:"flex items-center justify-between"},_e={class:"text-3xl font-bold tracking-tight flex items-center gap-2"},ye={class:"space-y-2"},ve={class:"space-y-2"},xe={class:"space-y-4"},be={class:"flex gap-4"},ke={class:"flex items-center gap-2 cursor-pointer"},we={class:"flex items-center gap-2 cursor-pointer"},Ve={key:0,class:"space-y-2"},Ue={key:1,class:"space-y-2"},Pe={class:"flex gap-2"},Me={class:"flex-1"},Se={key:2,class:"mt-4"},$e={class:"border rounded-lg p-4 bg-muted/50 flex items-center justify-center"},Ce=["src"],Fe={class:"space-y-2"},Ie={class:"space-y-2"},he={class:"space-y-2"},Ne={class:"space-y-2"},Le={class:"rounded-lg bg-muted p-4 mt-6"},Be={class:"text-sm text-muted-foreground flex items-start gap-2"},Te={class:"space-y-2"},je={class:"flex flex-wrap gap-2 min-h-[60px] p-4 border rounded-lg bg-muted/50"},Ae=["onClick"],Ee={key:0,class:"text-sm text-muted-foreground"},Ke={class:"space-y-2"},Ge={class:"flex gap-2"},Re={class:"flex justify-end"},ut=z({__name:"Index",props:{settings:{}},setup(E){const K=E,o=Y({settings:{},site_logo:null});Object.values(K.settings).flat().forEach(u=>{o.settings[u.key]=u.value});const h=()=>{const u=o.settings.payment_methods;if(!u)return[];try{return JSON.parse(u)}catch{return[]}},r=x(h()),p=x(""),g=x("url"),_=x(null),k=X(()=>_.value?_.value:o.settings.site_logo||null),G=u=>{const n=u.target.files?.[0];if(n){o.site_logo=n;const w=new FileReader;w.onload=J=>{_.value=J.target?.result},w.readAsDataURL(n)}},R=()=>{if(typeof window>"u")return;const u=window.document.getElementById("logo_upload");u&&u.click()},D=()=>{if(o.site_logo=null,_.value=null,o.settings.site_logo=null,typeof document<"u"){const u=document.getElementById("logo_upload");u&&(u.value="")}},N=()=>{p.value.trim()&&!r.value.includes(p.value.trim())&&(r.value.push(p.value.trim()),o.settings.payment_methods=JSON.stringify(r.value),p.value="")},O=u=>{r.value=r.value.filter(e=>e!==u),o.settings.payment_methods=JSON.stringify(r.value)},L=()=>{o.post("/admin/settings",{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{r.value=h(),_.value=null,o.site_logo=null}})};return(u,e)=>(m(),V(de,null,{default:l(()=>[s(t(q),{title:"Pengaturan Ecommerce"}),a("div",ge,[a("div",ce,[a("div",null,[a("h1",_e,[s(t(H),{class:"h-8 w-8"}),e[11]||(e[11]=i(" Pengaturan Ecommerce ",-1))]),e[12]||(e[12]=a("p",{class:"text-muted-foreground mt-1"}," Kelola pengaturan situs, media sosial, dan metode pembayaran ",-1))]),s(t(v),{onClick:L,disabled:t(o).processing,size:"lg"},{default:l(()=>[s(t(B),{class:"h-4 w-4 mr-2"}),i(" "+b(t(o).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])]),s(t(pe),{"default-value":"general",class:"space-y-6"},{default:l(()=>[s(t(fe),{class:"grid w-full grid-cols-3"},{default:l(()=>[s(t(F),{value:"general",class:"flex items-center gap-2"},{default:l(()=>[s(t(Q),{class:"h-4 w-4"}),e[13]||(e[13]=a("span",null,"Umum",-1))]),_:1}),s(t(F),{value:"social",class:"flex items-center gap-2"},{default:l(()=>[s(t(T),{class:"h-4 w-4"}),e[14]||(e[14]=a("span",null,"Media Sosial",-1))]),_:1}),s(t(F),{value:"payment",class:"flex items-center gap-2"},{default:l(()=>[s(t(W),{class:"h-4 w-4"}),e[15]||(e[15]=a("span",null,"Pembayaran",-1))]),_:1})]),_:1}),s(t(I),{value:"general"},{default:l(()=>[s(t(P),null,{default:l(()=>[s(t($),null,{default:l(()=>[s(t(C),null,{default:l(()=>[...e[16]||(e[16]=[i("Pengaturan Umum",-1)])]),_:1}),s(t(S),null,{default:l(()=>[...e[17]||(e[17]=[i(" Atur informasi dasar situs seperti nama, deskripsi, dan logo ",-1)])]),_:1})]),_:1}),s(t(M),{class:"space-y-6"},{default:l(()=>[a("div",ye,[s(t(d),{for:"site_name"},{default:l(()=>[...e[18]||(e[18]=[i("Nama Situs",-1)])]),_:1}),s(t(f),{id:"site_name",modelValue:t(o).settings.site_name,"onUpdate:modelValue":e[0]||(e[0]=n=>t(o).settings.site_name=n),placeholder:"PURANUSA"},null,8,["modelValue"]),e[19]||(e[19]=a("p",{class:"text-xs text-muted-foreground"}," Nama situs yang akan ditampilkan di header dan footer ",-1))]),s(t(c)),a("div",ve,[s(t(d),{for:"site_description"},{default:l(()=>[...e[20]||(e[20]=[i("Deskripsi Situs",-1)])]),_:1}),s(t(me),{id:"site_description",modelValue:t(o).settings.site_description,"onUpdate:modelValue":e[1]||(e[1]=n=>t(o).settings.site_description=n),placeholder:"Puranusa adalah destinasi belanja online terpercaya...",rows:4},null,8,["modelValue"]),e[21]||(e[21]=a("p",{class:"text-xs text-muted-foreground"}," Deskripsi singkat tentang situs yang akan ditampilkan di footer ",-1))]),s(t(c)),a("div",xe,[a("div",null,[s(t(d),null,{default:l(()=>[...e[22]||(e[22]=[i("Logo Situs",-1)])]),_:1}),e[23]||(e[23]=a("p",{class:"text-xs text-muted-foreground mt-1"}," Upload logo atau masukkan URL logo yang akan ditampilkan di situs ",-1))]),a("div",be,[a("label",ke,[j(a("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=n=>g.value=n),value:"url",class:"w-4 h-4"},null,512),[[A,g.value]]),e[24]||(e[24]=a("span",{class:"text-sm"},"Input URL",-1))]),a("label",we,[j(a("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=n=>g.value=n),value:"upload",class:"w-4 h-4"},null,512),[[A,g.value]]),e[25]||(e[25]=a("span",{class:"text-sm"},"Upload File",-1))])]),g.value==="url"?(m(),y("div",Ve,[s(t(f),{id:"site_logo_url",modelValue:t(o).settings.site_logo,"onUpdate:modelValue":e[4]||(e[4]=n=>t(o).settings.site_logo=n),placeholder:"https://example.com/logo.png",type:"url"},null,8,["modelValue"])])):(m(),y("div",Ue,[a("div",Pe,[a("div",Me,[a("input",{id:"logo_upload",type:"file",accept:"image/*",onChange:G,class:"hidden"},null,32),s(t(v),{type:"button",variant:"outline",class:"w-full",onClick:R},{default:l(()=>[s(t(Z),{class:"h-4 w-4 mr-2"}),i(" "+b(t(o).site_logo?"Ganti File":"Pilih File"),1)]),_:1})]),k.value?(m(),V(t(v),{key:0,type:"button",variant:"destructive",onClick:D},{default:l(()=>[s(t(ee),{class:"h-4 w-4"})]),_:1})):U("",!0)]),e[26]||(e[26]=a("p",{class:"text-xs text-muted-foreground"}," Format: JPG, PNG, GIF (Max: 2MB) ",-1))])),k.value?(m(),y("div",Se,[s(t(d),{class:"mb-2 block"},{default:l(()=>[...e[27]||(e[27]=[i("Preview",-1)])]),_:1}),a("div",$e,[a("img",{src:k.value,alt:"Logo Preview",class:"max-h-32 max-w-full object-contain",onError:e[5]||(e[5]=()=>{g.value==="url"&&(t(o).settings.site_logo=null)})},null,40,Ce)])])):U("",!0)])]),_:1})]),_:1})]),_:1}),s(t(I),{value:"social"},{default:l(()=>[s(t(P),null,{default:l(()=>[s(t($),null,{default:l(()=>[s(t(C),null,{default:l(()=>[...e[28]||(e[28]=[i("Media Sosial",-1)])]),_:1}),s(t(S),null,{default:l(()=>[...e[29]||(e[29]=[i(" Kelola link media sosial yang akan ditampilkan di footer ",-1)])]),_:1})]),_:1}),s(t(M),{class:"space-y-6"},{default:l(()=>[a("div",Fe,[s(t(d),{for:"social_facebook",class:"flex items-center gap-2"},{default:l(()=>[s(t(T),{class:"h-4 w-4 text-blue-600"}),e[30]||(e[30]=i(" Facebook ",-1))]),_:1}),s(t(f),{id:"social_facebook",modelValue:t(o).settings.social_facebook,"onUpdate:modelValue":e[6]||(e[6]=n=>t(o).settings.social_facebook=n),placeholder:"https://facebook.com/puranusa",type:"url"},null,8,["modelValue"])]),s(t(c)),a("div",Ie,[s(t(d),{for:"social_twitter",class:"flex items-center gap-2"},{default:l(()=>[s(t(te),{class:"h-4 w-4 text-sky-500"}),e[31]||(e[31]=i(" Twitter ",-1))]),_:1}),s(t(f),{id:"social_twitter",modelValue:t(o).settings.social_twitter,"onUpdate:modelValue":e[7]||(e[7]=n=>t(o).settings.social_twitter=n),placeholder:"https://twitter.com/puranusa",type:"url"},null,8,["modelValue"])]),s(t(c)),a("div",he,[s(t(d),{for:"social_instagram",class:"flex items-center gap-2"},{default:l(()=>[s(t(se),{class:"h-4 w-4 text-pink-600"}),e[32]||(e[32]=i(" Instagram ",-1))]),_:1}),s(t(f),{id:"social_instagram",modelValue:t(o).settings.social_instagram,"onUpdate:modelValue":e[8]||(e[8]=n=>t(o).settings.social_instagram=n),placeholder:"https://instagram.com/puranusa",type:"url"},null,8,["modelValue"])]),s(t(c)),a("div",Ne,[s(t(d),{for:"social_youtube",class:"flex items-center gap-2"},{default:l(()=>[s(t(ae),{class:"h-4 w-4 text-red-600"}),e[33]||(e[33]=i(" YouTube ",-1))]),_:1}),s(t(f),{id:"social_youtube",modelValue:t(o).settings.social_youtube,"onUpdate:modelValue":e[9]||(e[9]=n=>t(o).settings.social_youtube=n),placeholder:"https://youtube.com/@puranusa",type:"url"},null,8,["modelValue"])]),a("div",Le,[a("p",Be,[s(t(le),{class:"h-4 w-4 mt-0.5 flex-shrink-0"}),e[34]||(e[34]=a("span",null,"Kosongkan URL untuk menyembunyikan ikon media sosial dari footer",-1))])])]),_:1})]),_:1})]),_:1}),s(t(I),{value:"payment"},{default:l(()=>[s(t(P),null,{default:l(()=>[s(t($),null,{default:l(()=>[s(t(C),null,{default:l(()=>[...e[35]||(e[35]=[i("Metode Pembayaran",-1)])]),_:1}),s(t(S),null,{default:l(()=>[...e[36]||(e[36]=[i(" Kelola metode pembayaran yang akan ditampilkan di footer ",-1)])]),_:1})]),_:1}),s(t(M),{class:"space-y-6"},{default:l(()=>[a("div",Te,[s(t(d),null,{default:l(()=>[...e[37]||(e[37]=[i("Metode Pembayaran Aktif",-1)])]),_:1}),a("div",je,[(m(!0),y(oe,null,ne(r.value,n=>(m(),V(t(re),{key:n,variant:"secondary",class:"px-3 py-1.5 text-sm font-medium flex items-center gap-2"},{default:l(()=>[i(b(n)+" ",1),a("button",{onClick:w=>O(n),class:"hover:text-destructive transition-colors",type:"button"}," × ",8,Ae)]),_:2},1024))),128)),r.value.length===0?(m(),y("span",Ee," Belum ada metode pembayaran ")):U("",!0)])]),s(t(c)),a("div",Ke,[s(t(d),{for:"new_payment_method"},{default:l(()=>[...e[38]||(e[38]=[i("Tambah Metode Pembayaran",-1)])]),_:1}),a("div",Ge,[s(t(f),{id:"new_payment_method",modelValue:p.value,"onUpdate:modelValue":e[10]||(e[10]=n=>p.value=n),placeholder:"Contoh: VISA, Mastercard, GoPay, OVO",onKeydown:ie(ue(N,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"]),s(t(v),{type:"button",onClick:N,disabled:!p.value.trim()},{default:l(()=>[...e[39]||(e[39]=[i(" Tambah ",-1)])]),_:1},8,["disabled"])]),e[40]||(e[40]=a("p",{class:"text-xs text-muted-foreground"}," Tekan Enter atau klik tombol Tambah untuk menambahkan metode pembayaran baru ",-1))]),e[41]||(e[41]=a("div",{class:"rounded-lg bg-muted p-4 mt-6"},[a("p",{class:"text-sm font-medium mb-2"},"Tips:"),a("ul",{class:"text-sm text-muted-foreground space-y-1 list-disc list-inside"},[a("li",null,"Gunakan nama singkat dan jelas (contoh: VISA, Mastercard)"),a("li",null,"Metode pembayaran akan ditampilkan di footer situs"),a("li",null,"Klik tanda × pada badge untuk menghapus metode")])],-1))]),_:1})]),_:1})]),_:1})]),_:1}),a("div",Re,[s(t(v),{onClick:L,disabled:t(o).processing,size:"lg"},{default:l(()=>[s(t(B),{class:"h-4 w-4 mr-2"}),i(" "+b(t(o).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])])]),_:1}))}});export{ut as default};
