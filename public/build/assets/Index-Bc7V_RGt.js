import{d as E,r as _,c as p,g as i,w as t,e as n,b as a,u as e,a4 as N,s,Y as H,Z as M,P as Z,v as w,F as P,x as T,K as o,t as q,$ as G,z as J,j as U,D as Q,Q as B}from"./vendor-FclwbLvj.js";import{_ as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-BpcLPOXg.js";import{_ as O,a as R}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as W}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as x}from"./index-B4cH97KR.js";import{_ as X}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as F}from"./index-CRPqrtU2.js";import{_ as h,a as ee,b as L,c as g,d as le,e as $}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import{_ as C,a as z,b as D,c as j,d as r}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import{_ as ae,a as te,b as se,c as ue,d as ne,e as de,f as ie,g as oe}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D_xJ4jwR.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-B_n2dl-_.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const re={class:"container mx-auto py-6 space-y-6"},fe={class:"flex items-center justify-between"},me={class:"flex flex-col md:flex-row gap-4"},ve={class:"flex-1"},_e={class:"relative"},pe={class:"flex gap-2"},ge={class:"font-medium"},$e={class:"flex justify-end gap-2"},xe={key:1,class:"py-12 text-center"},ke={key:2,class:"mt-6 flex items-center justify-between"},ye={class:"text-sm text-muted-foreground"},ce={class:"flex gap-2"},Ee=E({__name:"Index",props:{items:{},filters:{},courses:{}},setup(d){const k=d,y=_(k.filters.search||""),f=_(k.filters.status||"all"),m=_(k.filters.course_id?.toString()||"all"),c=_(k.filters.per_page),v=_(null),b=_(!1),S=()=>{U.get("/admin/zenner/lessons",{search:y.value||void 0,status:f.value!=="all"?f.value:void 0,course_id:m.value!=="all"?m.value:void 0,per_page:c.value},{preserveState:!0,preserveScroll:!0})},K=V=>{v.value=V},I=()=>{v.value&&(b.value=!0,Q({}).delete(`/admin/zenner/lessons/${v.value}`,{preserveScroll:!0,onSuccess:()=>{B.success("Lesson berhasil dihapus"),v.value=null},onError:()=>B.error("Gagal menghapus data"),onFinish:()=>{b.value=!1}}))},A=V=>{U.get("/admin/zenner/lessons",{page:V,search:y.value||void 0,status:f.value!=="all"?f.value:void 0,course_id:m.value!=="all"?m.value:void 0,per_page:c.value},{preserveState:!0,preserveScroll:!0})};return(V,l)=>(i(),p(Y,null,{default:t(()=>[n("div",re,[n("div",fe,[l[8]||(l[8]=n("div",null,[n("h1",{class:"text-3xl font-bold tracking-tight"},"Lessons"),n("p",{class:"text-muted-foreground"},"Kelola lesson Zenner Academy")],-1)),a(e(x),{"as-child":""},{default:t(()=>[a(e(N),{href:"/admin/zenner/lessons/create"},{default:t(()=>[a(e(H),{class:"mr-2 h-4 w-4"}),l[7]||(l[7]=s("Tambah Lesson",-1))]),_:1})]),_:1})]),a(e(O),null,{default:t(()=>[a(e(W),null,{default:t(()=>[n("div",me,[n("div",ve,[n("div",_e,[a(e(M),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(e(X),{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=u=>y.value=u),placeholder:"Cari lesson...",class:"pl-10",onKeyup:Z(S,["enter"])},null,8,["modelValue"])])]),n("div",pe,[a(e(C),{modelValue:m.value,"onUpdate:modelValue":[l[1]||(l[1]=u=>m.value=u),S]},{default:t(()=>[a(e(z),{class:"w-[180px]"},{default:t(()=>[a(e(D),{placeholder:"Course"})]),_:1}),a(e(j),null,{default:t(()=>[a(e(r),{value:"all"},{default:t(()=>[...l[9]||(l[9]=[s("Semua Course",-1)])]),_:1}),(i(!0),w(P,null,T(d.courses,u=>(i(),p(e(r),{key:u.id,value:u.id.toString()},{default:t(()=>[s(o(u.title),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(e(C),{modelValue:f.value,"onUpdate:modelValue":[l[2]||(l[2]=u=>f.value=u),S]},{default:t(()=>[a(e(z),{class:"w-[140px]"},{default:t(()=>[a(e(D),{placeholder:"Status"})]),_:1}),a(e(j),null,{default:t(()=>[a(e(r),{value:"all"},{default:t(()=>[...l[10]||(l[10]=[s("Semua",-1)])]),_:1}),a(e(r),{value:"active"},{default:t(()=>[...l[11]||(l[11]=[s("Aktif",-1)])]),_:1}),a(e(r),{value:"inactive"},{default:t(()=>[...l[12]||(l[12]=[s("Nonaktif",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(e(C),{modelValue:c.value,"onUpdate:modelValue":[l[3]||(l[3]=u=>c.value=u),S]},{default:t(()=>[a(e(z),{class:"w-[100px]"},{default:t(()=>[a(e(D),{placeholder:"Per halaman"})]),_:1}),a(e(j),null,{default:t(()=>[a(e(r),{value:"10"},{default:t(()=>[...l[13]||(l[13]=[s("10",-1)])]),_:1}),a(e(r),{value:"25"},{default:t(()=>[...l[14]||(l[14]=[s("25",-1)])]),_:1}),a(e(r),{value:"50"},{default:t(()=>[...l[15]||(l[15]=[s("50",-1)])]),_:1}),a(e(r),{value:"100"},{default:t(()=>[...l[16]||(l[16]=[s("100",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),a(e(R),null,{default:t(()=>[d.items.data.length>0?(i(),p(e(h),{key:0},{default:t(()=>[a(e(ee),null,{default:t(()=>[a(e(L),null,{default:t(()=>[a(e(g),null,{default:t(()=>[...l[17]||(l[17]=[s("Judul",-1)])]),_:1}),a(e(g),null,{default:t(()=>[...l[18]||(l[18]=[s("Course",-1)])]),_:1}),a(e(g),null,{default:t(()=>[...l[19]||(l[19]=[s("Durasi",-1)])]),_:1}),a(e(g),null,{default:t(()=>[...l[20]||(l[20]=[s("Status",-1)])]),_:1}),a(e(g),null,{default:t(()=>[...l[21]||(l[21]=[s("Urutan",-1)])]),_:1}),a(e(g),{class:"text-right"},{default:t(()=>[...l[22]||(l[22]=[s("Aksi",-1)])]),_:1})]),_:1})]),_:1}),a(e(le),null,{default:t(()=>[(i(!0),w(P,null,T(d.items.data,u=>(i(),p(e(L),{key:u.id},{default:t(()=>[a(e($),null,{default:t(()=>[n("p",ge,o(u.title),1)]),_:2},1024),a(e($),null,{default:t(()=>[s(o(u.course?.title||"-"),1)]),_:2},1024),a(e($),null,{default:t(()=>[s(o(u.duration_minutes)+" menit",1)]),_:2},1024),a(e($),null,{default:t(()=>[u.is_active?(i(),p(e(F),{key:0,variant:"default"},{default:t(()=>[...l[23]||(l[23]=[s("Aktif",-1)])]),_:1})):(i(),p(e(F),{key:1,variant:"secondary"},{default:t(()=>[...l[24]||(l[24]=[s("Nonaktif",-1)])]),_:1}))]),_:2},1024),a(e($),null,{default:t(()=>[s(o(u.sort_order),1)]),_:2},1024),a(e($),{class:"text-right"},{default:t(()=>[n("div",$e,[a(e(x),{"as-child":"",variant:"ghost",size:"icon"},{default:t(()=>[a(e(N),{href:`/admin/zenner/lessons/${u.id}/edit`},{default:t(()=>[a(e(G),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),a(e(x),{variant:"ghost",size:"icon",onClick:be=>K(u.id)},{default:t(()=>[a(e(J),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(i(),w("div",xe,[...l[25]||(l[25]=[n("p",{class:"text-muted-foreground"},"Tidak ada data ditemukan",-1)])])),d.items.last_page>1?(i(),w("div",ke,[n("p",ye,"Menampilkan "+o(d.items.from)+" - "+o(d.items.to)+" dari "+o(d.items.total)+" data",1),n("div",ce,[a(e(x),{variant:"outline",size:"sm",disabled:d.items.current_page===1,onClick:l[4]||(l[4]=u=>A(d.items.current_page-1))},{default:t(()=>[...l[26]||(l[26]=[s("Sebelumnya",-1)])]),_:1},8,["disabled"]),a(e(x),{variant:"outline",size:"sm",disabled:d.items.current_page===d.items.last_page,onClick:l[5]||(l[5]=u=>A(d.items.current_page+1))},{default:t(()=>[...l[27]||(l[27]=[s("Selanjutnya",-1)])]),_:1},8,["disabled"])])])):q("",!0)]),_:1})]),_:1})]),a(e(ae),{open:v.value!==null,"onUpdate:open":l[6]||(l[6]=u=>v.value=null)},{default:t(()=>[a(e(te),null,{default:t(()=>[a(e(se),null,{default:t(()=>[a(e(ue),null,{default:t(()=>[...l[28]||(l[28]=[s("Hapus Lesson?",-1)])]),_:1}),a(e(ne),null,{default:t(()=>[...l[29]||(l[29]=[s("Data akan dihapus secara permanen. Apakah Anda yakin?",-1)])]),_:1})]),_:1}),a(e(de),null,{default:t(()=>[a(e(ie),null,{default:t(()=>[...l[30]||(l[30]=[s("Batal",-1)])]),_:1}),a(e(oe),{disabled:b.value,onClick:I},{default:t(()=>[s(o(b.value?"Menghapus...":"Hapus"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{Ee as default};
