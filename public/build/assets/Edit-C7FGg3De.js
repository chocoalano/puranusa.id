import{d as C,r as D,D as J,p as N,E as F,v as m,g as p,b as t,u as s,a0 as K,w as l,e as a,a3 as O,G as T,K as r,s as i,S as j,ad as B,t as _,J as g,F as G}from"./vendor-CVW9Nval.js";import{_ as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-BbJISVUI.js";import{_ as b}from"./index-B7p2qoN8.js";import{_ as y,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-pGOtvMG5.js";import{_ as $}from"./CardDescription.vue_vue_type_script_setup_true_lang-DismoEA2.js";import{_ as S}from"./CardHeader.vue_vue_type_script_setup_true_lang-BW0MQQHd.js";import{_ as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-DQhrnhF9.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-Dtyom-PX.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-1GqaQLHe.js";import{_ as z}from"./Switch.vue_vue_type_script_setup_true_lang-CKlblv1U.js";import{_ as I,a as L,b as M,c as A,d as U}from"./SelectValue.vue_vue_type_script_setup_true_lang-Rp4It03a.js";import{_ as R}from"./PageBuilder.vue_vue_type_script_setup_true_lang-CkDEjwK1.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-DenOdfSF.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-BvNVfb1D.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DKSq9Cld.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BE6efEuL.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-1rpGkrO5.js";import"./Textarea.vue_vue_type_script_setup_true_lang-6Fw2YVaN.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-6gwUdpM3.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-Cn8gwyVG.js";import"./index-gctV3Ayh.js";const W={class:"container mx-auto py-6 space-y-6"},q={class:"flex items-center justify-between"},Q={class:"flex items-center gap-4"},X={class:"text-muted-foreground mt-1"},Y={class:"space-y-2"},Z={key:0,class:"text-sm text-destructive"},h={class:"space-y-2"},ee={class:"text-xs text-muted-foreground"},te={class:"font-medium"},se={key:0,class:"text-sm text-destructive"},le={class:"space-y-2"},ae={key:0,class:"text-sm text-destructive"},oe={class:"space-y-2"},ie={key:0,class:"text-sm text-destructive"},ue={class:"space-y-2"},de={key:0,class:"text-sm text-destructive"},ne={class:"flex items-center justify-between space-x-2"},re={class:"space-y-0.5"},me={class:"space-y-2"},pe={key:0,class:"text-sm text-destructive"},fe={class:"space-y-2"},_e={class:"text-xs text-muted-foreground"},ve={key:0,class:"text-sm text-destructive"},ge={class:"flex justify-end gap-4"},Ge=C({__name:"Edit",props:{page:{}},setup(c){const n=c,o=D({title:n.page.title,slug:n.page.slug,blocks:n.page.blocks||[],seo_title:n.page.seo_title||"",seo_description:n.page.seo_description||"",is_published:n.page.is_published,template:n.page.template,order:n.page.order}),x=J({}),P=N(()=>x.processing),u=N(()=>x.errors);F(()=>n.page.blocks,v=>{v&&(o.value.blocks=JSON.parse(JSON.stringify(v)))},{immediate:!0});const E=()=>{const v={...o.value,blocks:JSON.stringify(o.value.blocks),_method:"PUT"};x.transform(()=>v).post(`/admin/pages/${n.page.id}`,{preserveScroll:!0})};return(v,e)=>(p(),m(G,null,[t(s(K),{title:`Edit: ${c.page.title}`},null,8,["title"]),t(H,null,{default:l(()=>[a("div",W,[a("div",q,[a("div",Q,[t(s(O),{href:"/admin/pages"},{default:l(()=>[t(s(b),{variant:"outline",size:"icon"},{default:l(()=>[t(s(T),{class:"h-4 w-4"})]),_:1})]),_:1}),a("div",null,[e[8]||(e[8]=a("h1",{class:"text-3xl font-bold tracking-tight"},"Edit Halaman",-1)),a("p",X,r(c.page.title),1)])]),t(s(b),{onClick:E,disabled:P.value},{default:l(()=>[t(s(j),{class:"h-4 w-4 mr-2"}),e[9]||(e[9]=i(" Simpan Perubahan ",-1))]),_:1},8,["disabled"])]),a("form",{onSubmit:B(E,["prevent"]),class:"space-y-6"},[t(s(y),null,{default:l(()=>[t(s(S),null,{default:l(()=>[t(s(w),null,{default:l(()=>[...e[10]||(e[10]=[i("Informasi Dasar",-1)])]),_:1}),t(s($),null,{default:l(()=>[...e[11]||(e[11]=[i("Informasi utama halaman",-1)])]),_:1})]),_:1}),t(s(V),{class:"space-y-4"},{default:l(()=>[a("div",Y,[t(s(f),{for:"title"},{default:l(()=>[...e[12]||(e[12]=[i("Judul Halaman *",-1)])]),_:1}),t(s(k),{id:"title",modelValue:o.value.title,"onUpdate:modelValue":e[0]||(e[0]=d=>o.value.title=d),placeholder:"Contoh: Tentang Kami, Kebijakan Privasi",class:g({"border-destructive":u.value.title})},null,8,["modelValue","class"]),u.value.title?(p(),m("p",Z,r(u.value.title),1)):_("",!0)]),a("div",h,[t(s(f),{for:"slug"},{default:l(()=>[...e[13]||(e[13]=[i("Slug *",-1)])]),_:1}),t(s(k),{id:"slug",modelValue:o.value.slug,"onUpdate:modelValue":e[1]||(e[1]=d=>o.value.slug=d),placeholder:"tentang-kami",class:g({"border-destructive":u.value.slug})},null,8,["modelValue","class"]),a("p",ee,[e[14]||(e[14]=i(" URL: /page/",-1)),a("span",te,r(o.value.slug),1)]),u.value.slug?(p(),m("p",se,r(u.value.slug),1)):_("",!0)]),a("div",le,[t(s(f),null,{default:l(()=>[...e[15]||(e[15]=[i("Konten Halaman",-1)])]),_:1}),t(R,{modelValue:o.value.blocks,"onUpdate:modelValue":e[2]||(e[2]=d=>o.value.blocks=d)},null,8,["modelValue"]),e[16]||(e[16]=a("p",{class:"text-xs text-muted-foreground"}," Gunakan PageBuilder untuk membuat konten dengan berbagai jenis block ",-1)),u.value.blocks?(p(),m("p",ae,r(u.value.blocks),1)):_("",!0)])]),_:1})]),_:1}),t(s(y),null,{default:l(()=>[t(s(S),null,{default:l(()=>[t(s(w),null,{default:l(()=>[...e[17]||(e[17]=[i("Pengaturan",-1)])]),_:1}),t(s($),null,{default:l(()=>[...e[18]||(e[18]=[i("Konfigurasi tampilan dan urutan",-1)])]),_:1})]),_:1}),t(s(V),{class:"space-y-4"},{default:l(()=>[a("div",oe,[t(s(f),{for:"template"},{default:l(()=>[...e[19]||(e[19]=[i("Template",-1)])]),_:1}),t(s(I),{modelValue:o.value.template,"onUpdate:modelValue":e[3]||(e[3]=d=>o.value.template=d)},{default:l(()=>[t(s(L),{id:"template"},{default:l(()=>[t(s(M),{placeholder:"Pilih template"})]),_:1}),t(s(A),null,{default:l(()=>[t(s(U),{value:"default"},{default:l(()=>[...e[20]||(e[20]=[i("Default",-1)])]),_:1}),t(s(U),{value:"full-width"},{default:l(()=>[...e[21]||(e[21]=[i("Full Width",-1)])]),_:1}),t(s(U),{value:"narrow"},{default:l(()=>[...e[22]||(e[22]=[i("Narrow",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u.value.template?(p(),m("p",ie,r(u.value.template),1)):_("",!0)]),a("div",ue,[t(s(f),{for:"order"},{default:l(()=>[...e[23]||(e[23]=[i("Urutan",-1)])]),_:1}),t(s(k),{id:"order",modelValue:o.value.order,"onUpdate:modelValue":e[4]||(e[4]=d=>o.value.order=d),modelModifiers:{number:!0},type:"number",min:"0",class:g({"border-destructive":u.value.order})},null,8,["modelValue","class"]),e[24]||(e[24]=a("p",{class:"text-xs text-muted-foreground"}," Semakin kecil angka, semakin tinggi prioritasnya ",-1)),u.value.order?(p(),m("p",de,r(u.value.order),1)):_("",!0)]),a("div",ne,[a("div",re,[t(s(f),{for:"is_published"},{default:l(()=>[...e[25]||(e[25]=[i("Status Publikasi",-1)])]),_:1}),e[26]||(e[26]=a("p",{class:"text-xs text-muted-foreground"}," Publikasikan halaman ini ke website ",-1))]),t(z,{id:"is_published",checked:o.value.is_published,"onUpdate:checked":e[5]||(e[5]=d=>o.value.is_published=d)},null,8,["checked"])])]),_:1})]),_:1}),t(s(y),null,{default:l(()=>[t(s(S),null,{default:l(()=>[t(s(w),null,{default:l(()=>[...e[27]||(e[27]=[i("SEO",-1)])]),_:1}),t(s($),null,{default:l(()=>[...e[28]||(e[28]=[i("Optimasi untuk mesin pencari",-1)])]),_:1})]),_:1}),t(s(V),{class:"space-y-4"},{default:l(()=>[a("div",me,[t(s(f),{for:"seo_title"},{default:l(()=>[...e[29]||(e[29]=[i("SEO Title",-1)])]),_:1}),t(s(k),{id:"seo_title",modelValue:o.value.seo_title,"onUpdate:modelValue":e[6]||(e[6]=d=>o.value.seo_title=d),placeholder:"Judul untuk Google (kosongkan untuk menggunakan judul halaman)",class:g({"border-destructive":u.value.seo_title})},null,8,["modelValue","class"]),u.value.seo_title?(p(),m("p",pe,r(u.value.seo_title),1)):_("",!0)]),a("div",fe,[t(s(f),{for:"seo_description"},{default:l(()=>[...e[30]||(e[30]=[i("SEO Description",-1)])]),_:1}),t(s(k),{id:"seo_description",modelValue:o.value.seo_description,"onUpdate:modelValue":e[7]||(e[7]=d=>o.value.seo_description=d),placeholder:"Deskripsi singkat untuk hasil pencarian (150-160 karakter)",class:g({"border-destructive":u.value.seo_description})},null,8,["modelValue","class"]),a("p",_e,r(o.value.seo_description?.length||0)+"/160 karakter ",1),u.value.seo_description?(p(),m("p",ve,r(u.value.seo_description),1)):_("",!0)])]),_:1})]),_:1}),a("div",ge,[t(s(O),{href:"/admin/pages"},{default:l(()=>[t(s(b),{type:"button",variant:"outline"},{default:l(()=>[...e[31]||(e[31]=[i(" Batal ",-1)])]),_:1})]),_:1}),t(s(b),{type:"submit",disabled:P.value},{default:l(()=>[t(s(j),{class:"h-4 w-4 mr-2"}),e[32]||(e[32]=i(" Simpan Perubahan ",-1))]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Ge as default};
