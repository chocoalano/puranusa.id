const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-FclwbLvj.js","assets/vendor-UvtswsZk.css"])))=>i.map(i=>d[i]);
import{_ as kt,a as ht,b as oe,c as ie}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-BGTZyoFH.js";import{b as ns,c as Dt,_ as rs}from"./Ecommerce.vue_vue_type_script_setup_true_lang-dKYJ7kb7.js";import{d as Y,r as L,p as N,c as R,g as o,u as e,w as a,b as s,e as t,t as w,s as i,K as r,at as ge,aV as je,bE as os,d9 as is,dF as ds,Q as M,E as mt,v as m,M as Be,Y as us,F as W,x as te,J as Z,aw as ms,$ as cs,z as ct,h as de,j as xe,D as Ce,dv as ps,dP as It,au as Oe,cF as fs,T as pt,dD as xs,aR as ft,aL as Te,aK as gs,dQ as vs,an as De,ae as We,aQ as wt,dt as bs,cY as $t,L as Ae,a3 as Fe,ak as ys,C as _s,aW as Pt,dR as Vt,dS as ks,a4 as xt,dT as Ut,dU as Et,o as at,I as hs,dz as Ye,P as ws,aq as Qe,dO as Je,cH as Mt,ax as He,dl as Ze,dV as Ne,_ as $s,az as gt,aA as Bt,G as Lt,Z as Ge,dW as Ps,dI as Ss,dX as Cs,dY as Rs,aB as Ts,dZ as As,a2 as js,as as ye,d_ as Kt,aD as Nt,a1 as Ds,d$ as Ms}from"./vendor-FclwbLvj.js";import{_ as Bs,a as Ls}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import{_ as Is}from"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import{_ as K}from"./index-CRPqrtU2.js";import{_ as z,a as O}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as F}from"./index-B4cH97KR.js";import{f as q,s as ae}from"./currency-DfrMaoZy.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-Mk0zvokq.js";import{a as Le,b as Ie,c as Ve,_ as Ue}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B5ATmSCe.js";import{_ as Ee}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DIgsec14.js";import{_ as Ke}from"./DialogHeader.vue_vue_type_script_setup_true_lang-C6g98D8f.js";import{_ as se}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as G}from"./Label.vue_vue_type_script_setup_true_lang-CTFNLsIT.js";import{_ as ze}from"./Textarea.vue_vue_type_script_setup_true_lang-DC5Bavy7.js";import{_ as Vs}from"./Switch.vue_vue_type_script_setup_true_lang-DF8iDEO0.js";import{_ as le}from"./Separator.vue_vue_type_script_setup_true_lang-DiwEZyi3.js";import{_ as vt,a as bt,b as yt,c as _t,d as Xe}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import{_ as ue}from"./CardDescription.vue_vue_type_script_setup_true_lang-CC80hHWr.js";import{f as Us,g as Es,h as Ks,i as Ns,j as Fs}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import{_ as ot,a as it,b as dt}from"./index-DnDXuqtc.js";import{a as zs,b as Os,c as Ws,d as qs,e as Gs,f as Qs,g as Js,_ as Hs}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D_xJ4jwR.js";import{q as fe,a as lt}from"./index-CMWG4mbA.js";import{_ as et,a as tt,b as Re,c as ne,d as st,e as re}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-CHDpuY8C.js";import"./app-Dkm3vZxH.js";function Me(){const l=n=>q(n),d=n=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(n)),u=n=>{const f=(n||"").toString().trim().toLowerCase();return f==="canceled"?"cancelled":f};return{formatCurrency:l,formatDate:d,normalizeStatus:u,getStatusLabel:n=>{const f={pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",delivered:"Selesai",cancelled:"Dibatalkan"},j=u(n);return f[j]||n},getTransactionTypeLabel:n=>({topup:"Top Up",top_up:"Top Up",withdrawal:"Penarikan",bonus:"Bonus",purchase:"Pembelian",refund:"Refund",deduct:"Potongan Admin"})[n]||n,getTransactionStatusLabel:n=>{const f={pending:"Menunggu",completed:"Selesai",failed:"Gagal",cancelled:"Dibatalkan"},j=u(n);return f[j]||n}}}const Zs={class:"flex flex-col items-center text-center"},Ys={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Xs={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},ea={class:"mt-4 w-full space-y-2 text-sm"},ta={class:"space-y-1.5"},sa={class:"flex items-center justify-between"},aa={class:"flex gap-1"},la={class:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},na={class:"flex items-center justify-between"},ra={class:"font-mono font-semibold"},oa={class:"text-[10px] text-gray-500 dark:text-gray-400 mt-1 break-all"},ia={class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},da={class:"font-mono font-semibold"},ua={class:"flex items-center justify-between p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},ma={class:"font-semibold text-emerald-700 dark:text-emerald-400"},ca=Y({__name:"ProfileCard",props:{customer:{}},setup(l){const d=l,{formatCurrency:u}=Me(),c=L(!1),P=N(()=>d.customer.name.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2)),v=N(()=>typeof window>"u"?"":`${window.location.origin}/beranda?ref=${d.customer.username}`),n=async()=>{if(typeof window>"u"||!navigator.clipboard){M.error("Tidak dapat menyalin link ke clipboard");return}try{await navigator.clipboard.writeText(v.value),c.value=!0,M.success("Link referral telah disalin ke clipboard"),setTimeout(()=>{c.value=!1},2e3)}catch{M.error("Tidak dapat menyalin link ke clipboard")}},f=async()=>{if(typeof window>"u")return;const j={title:"Bergabung dengan Referral Saya",text:`Gunakan Username saya untuk mengajak teman: ${d.customer.username}`,url:v.value};if(navigator.share)try{await navigator.share(j),M.success("Link referral berhasil dibagikan")}catch(g){g.name!=="AbortError"&&console.error("Error sharing:",g)}else await n()};return(j,g)=>(o(),R(e(z),null,{default:a(()=>[s(e(O),{class:"pt-6"},{default:a(()=>[t("div",Zs,[s(e(Bs),{class:"h-24 w-24 mb-4"},{default:a(()=>[s(e(Is),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${l.customer.name}`},null,8,["src"]),s(e(Ls),null,{default:a(()=>[i(r(P.value),1)]),_:1})]),_:1}),t("h2",Ys,r(l.customer.name),1),t("p",Xs,r(l.customer.username),1),l.customer.level?(o(),R(e(K),{key:0,variant:"outline",class:"mt-2 bg-amber-50 text-amber-700 border-amber-300 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-700"},{default:a(()=>[i(r(l.customer.level),1)]),_:1})):w("",!0),l.customer.email_verified_at?(o(),R(e(K),{key:1,class:"mt-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 mr-1"}),g[0]||(g[0]=i(" Email Terverifikasi ",-1))]),_:1})):(o(),R(e(K),{key:2,variant:"secondary",class:"mt-3"},{default:a(()=>[s(e(je),{class:"w-3 h-3 mr-1"}),g[1]||(g[1]=i(" Email Belum Terverifikasi ",-1))]),_:1})),t("div",ea,[t("div",ta,[t("div",sa,[g[3]||(g[3]=t("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Referral Link",-1)),t("div",aa,[s(e(F),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:n},{default:a(()=>[c.value?(o(),R(e(os),{key:0,class:"w-3 h-3 mr-1"})):(o(),R(e(is),{key:1,class:"w-3 h-3 mr-1"})),i(" "+r(c.value?"Tersalin":"Salin"),1)]),_:1}),s(e(F),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:f},{default:a(()=>[s(e(ds),{class:"w-3 h-3 mr-1"}),g[2]||(g[2]=i(" Bagikan ",-1))]),_:1})])]),t("div",la,[t("div",na,[g[4]||(g[4]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Kode Referral",-1)),t("span",ra,r(l.customer.ref_code),1)]),t("p",oa,r(v.value),1)])]),t("div",ia,[g[5]||(g[5]=t("span",{class:"text-gray-600 dark:text-gray-400"},"E-Wallet ID",-1)),t("span",da,r(l.customer.ewallet_id),1)]),t("div",ua,[g[6]||(g[6]=t("span",{class:"text-emerald-700 dark:text-emerald-400"},"Saldo",-1)),t("span",ma,r(e(u)(l.customer.ewallet_saldo)),1)])])])]),_:1})]),_:1}))}}),pa={class:"flex items-center justify-between"},fa={key:0,class:"text-center py-12 text-muted-foreground"},xa={key:1,class:"space-y-4"},ga={class:"flex items-start gap-3 mb-3"},va={class:"flex-1 min-w-0"},ba={class:"flex items-center gap-2 mb-1"},ya={class:"font-semibold text-sm"},_a={class:"text-sm font-medium"},ka={class:"text-xs text-muted-foreground"},ha={class:"space-y-1 mb-3"},wa={class:"text-sm"},$a={key:0,class:"text-sm text-muted-foreground"},Pa={class:"text-sm text-muted-foreground"},Sa={key:0},Ca={class:"text-xs text-muted-foreground"},Ra={key:1,class:"text-xs text-muted-foreground italic mt-2"},Ta={class:"flex items-center gap-2"},Aa={class:"space-y-4 py-4"},ja={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Da={class:"space-y-2"},Ma={class:"flex items-center space-x-2 pt-8"},Ba={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},La={class:"space-y-2"},Ia={class:"space-y-2"},Va={class:"space-y-2"},Ua={class:"space-y-2"},Ea={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ka={class:"space-y-2"},Na={class:"space-y-2"},Fa={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},za={class:"space-y-2"},Oa={class:"space-y-2"},Wa={class:"space-y-2"},qa=Y({__name:"AddressManagement",props:{addresses:{}},setup(l){const d=L(!1),u=L(!1),c=L(!1),P=L(!1),v=L([]),n=L([]),f=L(!1),j=L(!1),g=L(""),S=L(""),h=L({label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""}),b=L(null),x=async()=>{f.value=!0;try{const U=await de.get("/api/shipping/provinces");v.value=U.data.data}catch(U){M.error("Gagal memuat data provinsi"),console.error("Error loading provinces:",U)}finally{f.value=!1}},C=async U=>{if(U){j.value=!0,n.value=[],S.value="";try{const T=await de.get("/api/shipping/cities",{params:{province_id:U}});n.value=T.data.data}catch(T){M.error("Gagal memuat data kota"),console.error("Error loading cities:",T)}finally{j.value=!1}}};mt(g,U=>{if(!U)return;const T=v.value.find(D=>D.id.toString()===U);T&&(h.value.province_id=parseInt(U),h.value.province_label=T.name,C(U))}),mt(S,U=>{if(!U)return;const T=n.value.find(D=>D.id.toString()===U);T&&(h.value.city_id=parseInt(U),h.value.city_label=T.name)});const A=()=>{u.value=!1,h.value={label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""},g.value="",S.value="",n.value=[],x(),d.value=!0},k=U=>{u.value=!0,b.value=U.id,h.value={...U},x().then(()=>{U.province_id&&(g.value=U.province_id.toString(),C(U.province_id.toString()).then(()=>{U.city_id&&(S.value=U.city_id.toString())}))}),d.value=!0},I=()=>{d.value=!1,b.value=null},y=()=>{if(!h.value.recipient_name||!h.value.recipient_phone||!h.value.address_line1){M.error("Mohon lengkapi nama penerima, telepon, dan alamat");return}if(!h.value.province_id||!h.value.city_id){M.error("Mohon pilih provinsi dan kota/kabupaten");return}P.value=!0;const U=u.value&&b.value?`/client/profile/addresses/${b.value}`:"/client/profile/addresses",T=u.value?"put":"post";xe[T](U,h.value,{preserveScroll:!0,onSuccess:()=>{M.success(`Alamat berhasil ${u.value?"diperbarui":"ditambahkan"}`),I()},onError:D=>{if(console.error("Address save error:",D),typeof D=="object"&&D!==null){const _=Object.values(D)[0],p=Array.isArray(_)?_[0]:_;M.error(p||"Gagal menyimpan alamat")}else M.error("Gagal menyimpan alamat. Silakan coba lagi.")},onFinish:()=>{P.value=!1}})},B=U=>{confirm("Apakah Anda yakin ingin menghapus alamat ini?")&&(c.value=!0,xe.delete(`/client/profile/addresses/${U}`,{preserveScroll:!0,onSuccess:()=>{M.success("Alamat berhasil dihapus")},onError:T=>{if(console.error("Address delete error:",T),typeof T=="object"&&T!==null){const D=Object.values(T)[0],_=Array.isArray(D)?D[0]:D;M.error(_||"Gagal menghapus alamat")}else M.error("Gagal menghapus alamat. Silakan coba lagi.")},onFinish:()=>{c.value=!1}}))},E=U=>{Ce({}).post(`/client/profile/addresses/${U}/set-default`,{preserveScroll:!0,onSuccess:()=>{M.success("Alamat utama berhasil diubah")},onError:D=>{if(console.error("Set default address error:",D),typeof D=="object"&&D!==null){const _=Object.values(D)[0],p=Array.isArray(_)?_[0]:_;M.error(p||"Gagal mengubah alamat utama")}else M.error("Gagal mengubah alamat utama. Silakan coba lagi.")}})},Q=U=>U?U.toLowerCase().includes("rumah")||U.toLowerCase().includes("home")?ps:U.toLowerCase().includes("kantor")||U.toLowerCase().includes("office")?It:Be:Be;return(U,T)=>(o(),m(W,null,[s(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",pa,[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Be),{class:"w-5 h-5"}),T[11]||(T[11]=i(" Kelola Alamat ",-1))]),_:1}),s(e(F),{size:"sm",onClick:A},{default:a(()=>[s(e(us),{class:"w-4 h-4 mr-2"}),T[12]||(T[12]=i(" Tambah Alamat ",-1))]),_:1})])]),_:1}),s(e(O),null,{default:a(()=>[l.addresses.length===0?(o(),m("div",fa,[s(e(Be),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),T[13]||(T[13]=t("p",{class:"mb-2"},"Belum ada alamat tersimpan",-1)),T[14]||(T[14]=t("p",{class:"text-sm"},"Tambahkan alamat untuk mempermudah proses pengiriman",-1))])):(o(),m("div",xa,[(o(!0),m(W,null,te(l.addresses,D=>(o(),m("div",{key:D.id,class:Z(["relative p-4 rounded-lg border transition-all",D.is_default?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[D.is_default?(o(),R(e(K),{key:0,variant:"default",class:"absolute top-2 right-2 text-xs"},{default:a(()=>[...T[15]||(T[15]=[i(" Utama ",-1)])]),_:1})):w("",!0),t("div",ga,[(o(),R(ms(Q(D.label)),{class:Z(["w-5 h-5 mt-1 flex-shrink-0",D.is_default?"text-primary":"text-muted-foreground"])},null,8,["class"])),t("div",va,[t("div",ba,[t("h4",ya,r(D.label||"Alamat"),1)]),t("p",_a,r(D.recipient_name),1),t("p",ka,r(D.recipient_phone),1)])]),t("div",ha,[t("p",wa,r(D.address_line1),1),D.address_line2?(o(),m("p",$a,r(D.address_line2),1)):w("",!0),t("p",Pa,[i(r(D.city_label)+", "+r(D.province_label)+" ",1),D.postal_code?(o(),m("span",Sa,r(D.postal_code),1)):w("",!0)]),t("p",Ca,r(D.country),1),D.description?(o(),m("p",Ra,r(D.description),1)):w("",!0)]),s(e(le),{class:"my-3"}),t("div",Ta,[D.is_default?w("",!0):(o(),R(e(F),{key:0,variant:"outline",size:"sm",onClick:_=>E(D.id)},{default:a(()=>[...T[16]||(T[16]=[i(" Jadikan Utama ",-1)])]),_:1},8,["onClick"])),s(e(F),{variant:"outline",size:"sm",onClick:_=>k(D)},{default:a(()=>[s(e(cs),{class:"w-3 h-3 mr-1"}),T[17]||(T[17]=i(" Edit ",-1))]),_:1},8,["onClick"]),s(e(F),{variant:"destructive",size:"sm",disabled:c.value,onClick:_=>B(D.id)},{default:a(()=>[s(e(ct),{class:"w-3 h-3 mr-1"}),T[18]||(T[18]=i(" Hapus ",-1))]),_:1},8,["disabled","onClick"])])],2))),128))]))]),_:1})]),_:1}),s(e(Ue),{open:d.value,"onUpdate:open":I},{default:a(()=>[s(e(Le),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[s(e(Ke),null,{default:a(()=>[s(e(Ie),null,{default:a(()=>[i(r(u.value?"Edit Alamat":"Tambah Alamat Baru"),1)]),_:1}),s(e(Ve),null,{default:a(()=>[i(r(u.value?"Perbarui informasi alamat Anda":"Tambahkan alamat pengiriman baru"),1)]),_:1})]),_:1}),t("div",Aa,[t("div",ja,[t("div",Da,[s(e(G),{for:"label"},{default:a(()=>[...T[19]||(T[19]=[i("Label Alamat",-1)])]),_:1}),s(e(se),{id:"label",modelValue:h.value.label,"onUpdate:modelValue":T[0]||(T[0]=D=>h.value.label=D),placeholder:"Rumah, Kantor, dll"},null,8,["modelValue"])]),t("div",Ma,[s(e(Vs),{id:"is_default",checked:h.value.is_default,"onUpdate:checked":T[1]||(T[1]=D=>h.value.is_default=D)},null,8,["checked"]),s(e(G),{for:"is_default",class:"cursor-pointer"},{default:a(()=>[...T[20]||(T[20]=[i("Jadikan alamat utama",-1)])]),_:1})])]),t("div",Ba,[t("div",La,[s(e(G),{for:"recipient_name"},{default:a(()=>[...T[21]||(T[21]=[i("Nama Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(se),{id:"recipient_name",modelValue:h.value.recipient_name,"onUpdate:modelValue":T[2]||(T[2]=D=>h.value.recipient_name=D),placeholder:"Nama lengkap penerima",required:""},null,8,["modelValue"])]),t("div",Ia,[s(e(G),{for:"recipient_phone"},{default:a(()=>[...T[22]||(T[22]=[i("No. Telepon Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(se),{id:"recipient_phone",modelValue:h.value.recipient_phone,"onUpdate:modelValue":T[3]||(T[3]=D=>h.value.recipient_phone=D),placeholder:"08xxxxxxxxxx",required:""},null,8,["modelValue"])])]),t("div",Va,[s(e(G),{for:"address_line1"},{default:a(()=>[...T[23]||(T[23]=[i("Alamat Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(ze),{id:"address_line1",modelValue:h.value.address_line1,"onUpdate:modelValue":T[4]||(T[4]=D=>h.value.address_line1=D),placeholder:"Jalan, nomor rumah, RT/RW, blok",rows:"3",required:""},null,8,["modelValue"])]),t("div",Ua,[s(e(G),{for:"address_line2"},{default:a(()=>[...T[24]||(T[24]=[i("Detail Tambahan (Opsional)",-1)])]),_:1}),s(e(se),{id:"address_line2",modelValue:h.value.address_line2,"onUpdate:modelValue":T[5]||(T[5]=D=>h.value.address_line2=D),placeholder:"Patokan, gedung, unit, warna rumah, dll"},null,8,["modelValue"])]),t("div",Ea,[t("div",Ka,[s(e(G),{for:"province"},{default:a(()=>[...T[25]||(T[25]=[i("Provinsi ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(vt),{modelValue:g.value,"onUpdate:modelValue":T[6]||(T[6]=D=>g.value=D),disabled:f.value},{default:a(()=>[s(e(bt),{id:"province"},{default:a(()=>[s(e(yt),{placeholder:f.value?"Memuat provinsi...":"Pilih provinsi"},null,8,["placeholder"])]),_:1}),s(e(_t),null,{default:a(()=>[(o(!0),m(W,null,te(v.value,D=>(o(),R(e(Xe),{key:D.id,value:D.id.toString()},{default:a(()=>[i(r(D.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",Na,[s(e(G),{for:"city"},{default:a(()=>[...T[26]||(T[26]=[i("Kota/Kabupaten ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(vt),{modelValue:S.value,"onUpdate:modelValue":T[7]||(T[7]=D=>S.value=D),disabled:!g.value||j.value},{default:a(()=>[s(e(bt),{id:"city"},{default:a(()=>[s(e(yt),{placeholder:j.value?"Memuat kota...":g.value?"Pilih kota/kabupaten":"Pilih provinsi terlebih dahulu"},null,8,["placeholder"])]),_:1}),s(e(_t),null,{default:a(()=>[(o(!0),m(W,null,te(n.value,D=>(o(),R(e(Xe),{key:D.id,value:D.id.toString()},{default:a(()=>[i(r(D.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),t("div",Fa,[t("div",za,[s(e(G),{for:"postal_code"},{default:a(()=>[...T[27]||(T[27]=[i("Kode Pos",-1)])]),_:1}),s(e(se),{id:"postal_code",modelValue:h.value.postal_code,"onUpdate:modelValue":T[8]||(T[8]=D=>h.value.postal_code=D),placeholder:"12345"},null,8,["modelValue"])]),t("div",Oa,[s(e(G),{for:"country"},{default:a(()=>[...T[28]||(T[28]=[i("Negara",-1)])]),_:1}),s(e(se),{id:"country",modelValue:h.value.country,"onUpdate:modelValue":T[9]||(T[9]=D=>h.value.country=D),placeholder:"Indonesia"},null,8,["modelValue"])])]),t("div",Wa,[s(e(G),{for:"description"},{default:a(()=>[...T[29]||(T[29]=[i("Catatan (Opsional)",-1)])]),_:1}),s(e(ze),{id:"description",modelValue:h.value.description,"onUpdate:modelValue":T[10]||(T[10]=D=>h.value.description=D),placeholder:"Catatan khusus untuk alamat ini",rows:"2"},null,8,["modelValue"])])]),s(e(Ee),null,{default:a(()=>[s(e(F),{variant:"outline",onClick:I,disabled:P.value},{default:a(()=>[...T[30]||(T[30]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{onClick:y,disabled:P.value},{default:a(()=>[i(r(P.value?"Menyimpan...":u.value?"Perbarui":"Simpan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Ga={class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},Qa={class:"text-xl font-bold text-emerald-700 dark:text-emerald-400"},Ja={class:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},Ha={class:"text-xl font-bold text-amber-700 dark:text-amber-400"},Za=Y({__name:"BonusStatsCard",props:{customer:{}},setup(l){const{formatCurrency:d}=Me();return(u,c)=>(o(),R(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Oe),{class:"w-5 h-5"}),c[0]||(c[0]=i(" Statistik Bonus ",-1))]),_:1})]),_:1}),s(e(O),{class:"space-y-3"},{default:a(()=>[t("div",Ga,[c[1]||(c[1]=t("p",{class:"text-xs text-emerald-700 dark:text-emerald-400 mb-1"},"Total Diproses",-1)),t("p",Qa,r(e(d)(l.customer.bonus_stats.total_proses)),1)]),t("div",Ja,[c[2]||(c[2]=t("p",{class:"text-xs text-amber-700 dark:text-amber-400 mb-1"},"Total Pending",-1)),t("p",Ha,r(e(d)(l.customer.bonus_stats.total_pending)),1)])]),_:1})]),_:1}))}}),Ya={class:"flex items-center gap-3"},Xa={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},el={class:"font-semibold"},tl=Y({__name:"MemberSinceCard",props:{createdAt:{}},setup(l){const{formatDate:d}=Me();return(u,c)=>(o(),R(e(z),null,{default:a(()=>[s(e(O),{class:"pt-6"},{default:a(()=>[t("div",Ya,[t("div",Xa,[s(e(fs),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[c[0]||(c[0]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Member Sejak",-1)),t("p",el,r(e(d)(l.createdAt)),1)])])]),_:1})]),_:1}))}}),sl={key:0,class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},al={class:"flex items-start gap-3"},ll={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},nl={class:"space-y-2"},rl={class:"relative"},ol={key:0,class:"text-sm text-red-500"},il={class:"space-y-2"},dl={class:"relative"},ul={key:0,class:"text-sm text-red-500"},ml={class:"space-y-2"},cl={class:"relative"},pl={key:0,class:"text-sm text-red-500"},fl={class:"space-y-2"},xl={key:0,class:"text-sm text-red-500"},gl={class:"space-y-2"},vl={class:"relative"},bl={key:0,class:"text-sm text-red-500"},yl={class:"space-y-2"},_l={class:"relative"},kl={key:0,class:"text-sm text-red-500"},hl={class:"space-y-2"},wl={class:"relative"},$l={key:0,class:"text-sm text-red-500"},Pl={class:"space-y-4"},Sl={class:"flex items-center gap-2"},Cl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Rl={class:"space-y-2"},Tl={class:"relative"},Al={key:0,class:"text-sm text-red-500"},jl={class:"space-y-2"},Dl={class:"relative"},Ml={key:0,class:"text-sm text-red-500"},Bl={class:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},Ll={class:"text-sm text-blue-700 dark:text-blue-300"},Il={class:"space-y-2"},Vl={key:0,class:"text-sm text-red-500"},Ul={class:"flex items-center justify-end gap-3"},El=Y({__name:"ProfileInformationTab",props:{customer:{}},setup(l){const d=l,u=Ce({name:d.customer.name,username:d.customer.username||"",nik:d.customer.nik||"",gender:d.customer.gender||"",alamat:d.customer.alamat||"",email:d.customer.email,phone:d.customer.phone,bank_name:d.customer.bank_name||"",bank_account:d.customer.bank_account||"",description:d.customer.description||""}),c=N(()=>!d.customer.nik||!d.customer.bank_name||!d.customer.bank_account),P=()=>{u.patch("/client/profile",{preserveScroll:!0,onSuccess:()=>{M.success("Informasi profil berhasil diperbarui")}})};return(v,n)=>(o(),R(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...n[11]||(n[11]=[i("Informasi Profile",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...n[12]||(n[12]=[i(" Update informasi profil Anda di sini ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[c.value?(o(),m("div",sl,[t("div",al,[s(e(pt),{class:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),n[13]||(n[13]=t("div",null,[t("p",{class:"font-medium text-amber-700 dark:text-amber-300"},"Profil Belum Lengkap"),t("p",{class:"text-sm text-amber-600 dark:text-amber-400 mt-1"}," Mohon lengkapi NIK dan informasi rekening bank Anda untuk dapat melakukan penarikan dana. ")],-1))])])):w("",!0),t("form",{onSubmit:We(P,["prevent"]),class:"space-y-6"},[t("div",ll,[t("div",nl,[s(e(G),{for:"username"},{default:a(()=>[...n[14]||(n[14]=[i(" Username ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",rl,[s(e(xs),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"username",modelValue:e(u).username,"onUpdate:modelValue":n[0]||(n[0]=f=>e(u).username=f),type:"text",placeholder:"username",class:"pl-10",required:"",readonly:""},null,8,["modelValue"])]),e(u).errors.username?(o(),m("p",ol,r(e(u).errors.username),1)):w("",!0)]),t("div",il,[s(e(G),{for:"name"},{default:a(()=>[...n[15]||(n[15]=[i(" Nama Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",dl,[s(e(ft),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"name",modelValue:e(u).name,"onUpdate:modelValue":n[1]||(n[1]=f=>e(u).name=f),type:"text",placeholder:"Masukkan nama lengkap",class:"pl-10",required:"",readonly:""},null,8,["modelValue"])]),e(u).errors.name?(o(),m("p",ul,r(e(u).errors.name),1)):w("",!0)]),t("div",ml,[s(e(G),{for:"nik"},{default:a(()=>[...n[16]||(n[16]=[i("NIK (Nomor Induk Kependudukan)",-1)])]),_:1}),t("div",cl,[s(e(Te),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"nik",modelValue:e(u).nik,"onUpdate:modelValue":n[2]||(n[2]=f=>e(u).nik=f),type:"text",placeholder:"16 digit NIK",class:"pl-10",maxlength:"16"},null,8,["modelValue"])]),e(u).errors.nik?(o(),m("p",pl,r(e(u).errors.nik),1)):w("",!0)]),t("div",fl,[s(e(G),{for:"gender"},{default:a(()=>[...n[17]||(n[17]=[i("Jenis Kelamin",-1)])]),_:1}),s(e(vt),{modelValue:e(u).gender,"onUpdate:modelValue":n[3]||(n[3]=f=>e(u).gender=f)},{default:a(()=>[s(e(bt),null,{default:a(()=>[s(e(yt),{placeholder:"Pilih jenis kelamin"})]),_:1}),s(e(_t),null,{default:a(()=>[s(e(Xe),{value:"laki-laki"},{default:a(()=>[...n[18]||(n[18]=[i("Laki-laki",-1)])]),_:1}),s(e(Xe),{value:"perempuan"},{default:a(()=>[...n[19]||(n[19]=[i("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(u).errors.gender?(o(),m("p",xl,r(e(u).errors.gender),1)):w("",!0)]),t("div",gl,[s(e(G),{for:"email"},{default:a(()=>[...n[20]||(n[20]=[i(" Email ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",vl,[s(e(gs),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"email",modelValue:e(u).email,"onUpdate:modelValue":n[4]||(n[4]=f=>e(u).email=f),type:"email",placeholder:"email@example.com",class:"pl-10",required:""},null,8,["modelValue"])]),e(u).errors.email?(o(),m("p",bl,r(e(u).errors.email),1)):w("",!0)]),t("div",yl,[s(e(G),{for:"phone"},{default:a(()=>[...n[21]||(n[21]=[i(" Nomor Telepon ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",_l,[s(e(vs),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"phone",modelValue:e(u).phone,"onUpdate:modelValue":n[5]||(n[5]=f=>e(u).phone=f),type:"tel",placeholder:"08123456789",class:"pl-10",required:""},null,8,["modelValue"])]),e(u).errors.phone?(o(),m("p",kl,r(e(u).errors.phone),1)):w("",!0)])]),t("div",hl,[s(e(G),{for:"alamat"},{default:a(()=>[...n[22]||(n[22]=[i("Alamat",-1)])]),_:1}),t("div",wl,[s(e(Be),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(ze),{id:"alamat",modelValue:e(u).alamat,"onUpdate:modelValue":n[6]||(n[6]=f=>e(u).alamat=f),placeholder:"Masukkan alamat lengkap...",rows:"3",class:"pl-10"},null,8,["modelValue"])]),e(u).errors.alamat?(o(),m("p",$l,r(e(u).errors.alamat),1)):w("",!0)]),s(e(le)),t("div",Pl,[t("div",Sl,[s(e(De),{class:"h-5 w-5 text-primary"}),n[23]||(n[23]=t("h4",{class:"font-semibold"},"Informasi Rekening Bank",-1))]),n[29]||(n[29]=t("p",{class:"text-sm text-muted-foreground"}," Informasi rekening ini akan digunakan untuk penarikan dana dari e-wallet Anda. Pastikan nama pemilik rekening sama dengan nama yang terdaftar. ",-1)),t("div",Cl,[t("div",Rl,[s(e(G),{for:"bank_name"},{default:a(()=>[...n[24]||(n[24]=[i(" Nama Bank ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Tl,[s(e(It),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"bank_name",modelValue:e(u).bank_name,"onUpdate:modelValue":n[7]||(n[7]=f=>e(u).bank_name=f),type:"text",placeholder:"e.g., BCA, Mandiri, BNI",class:"pl-10"},null,8,["modelValue"])]),e(u).errors.bank_name?(o(),m("p",Al,r(e(u).errors.bank_name),1)):w("",!0)]),t("div",jl,[s(e(G),{for:"bank_account"},{default:a(()=>[...n[25]||(n[25]=[i(" Nomor Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Dl,[s(e(De),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"bank_account",modelValue:e(u).bank_account,"onUpdate:modelValue":n[8]||(n[8]=f=>e(u).bank_account=f),type:"text",placeholder:"Nomor rekening bank",class:"pl-10"},null,8,["modelValue"])]),e(u).errors.bank_account?(o(),m("p",Ml,r(e(u).errors.bank_account),1)):w("",!0)])]),t("div",Bl,[t("p",Ll,[n[26]||(n[26]=t("strong",null,"Penting:",-1)),n[27]||(n[27]=i(" Nama pemilik rekening harus sama dengan nama Anda yang terdaftar (",-1)),t("strong",null,r(l.customer.name),1),n[28]||(n[28]=i("). Dana akan ditransfer ke rekening atas nama tersebut. ",-1))])])]),s(e(le)),t("div",Il,[s(e(G),{for:"description"},{default:a(()=>[...n[30]||(n[30]=[i("Deskripsi",-1)])]),_:1}),s(e(ze),{id:"description",modelValue:e(u).description,"onUpdate:modelValue":n[9]||(n[9]=f=>e(u).description=f),placeholder:"Ceritakan tentang diri Anda...",rows:"4"},null,8,["modelValue"]),n[31]||(n[31]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Maksimal 1000 karakter ",-1)),e(u).errors.description?(o(),m("p",Vl,r(e(u).errors.description),1)):w("",!0)]),t("div",Ul,[s(e(F),{type:"button",variant:"outline",onClick:n[10]||(n[10]=f=>e(u).reset()),disabled:e(u).processing},{default:a(()=>[...n[32]||(n[32]=[i(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"submit",disabled:e(u).processing},{default:a(()=>[e(u).processing?w("",!0):(o(),R(e(ge),{key:0,class:"w-4 h-4 mr-2"})),i(" "+r(e(u).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Kl={key:0,class:"flex items-center justify-center py-12"},Nl={key:1,class:"space-y-6 py-6"},Fl={class:"space-y-3"},zl={class:"flex items-center gap-2 text-sm font-medium"},Ol={class:"space-y-2"},Wl={class:"flex justify-between"},ql={class:"text-sm font-medium"},Gl={class:"flex justify-between items-center"},Ql={key:0,class:"flex justify-between"},Jl={class:"text-sm font-medium"},Hl={key:1,class:"flex justify-between items-center"},Zl={class:"space-y-3"},Yl={class:"flex items-center gap-2 text-sm font-medium"},Xl={class:"space-y-3"},en=["src","alt"],tn={class:"flex-1"},sn={class:"font-medium text-sm"},an={class:"text-xs text-muted-foreground"},ln={class:"text-xs text-muted-foreground"},nn={class:"text-right"},rn={class:"font-semibold text-sm"},on={key:0,class:"space-y-3"},dn={class:"flex items-center gap-2 text-sm font-medium"},un={class:"p-3 bg-muted/30 rounded-lg space-y-1"},mn={class:"font-medium text-sm"},cn={class:"text-sm text-muted-foreground"},pn={class:"text-sm text-muted-foreground"},fn={class:"text-sm text-muted-foreground"},xn={key:1,class:"space-y-3"},gn={class:"flex items-center gap-2 text-sm font-medium"},vn={class:"p-3 bg-muted/30 rounded-lg space-y-2"},bn={class:"flex justify-between"},yn={class:"text-sm font-medium"},_n={class:"flex justify-between"},kn={class:"text-sm font-medium"},hn={class:"flex justify-between"},wn={class:"text-sm font-medium"},$n={class:"space-y-3"},Pn={class:"flex items-center gap-2 text-sm font-medium"},Sn={class:"space-y-2 text-sm"},Cn={class:"flex justify-between"},Rn={key:0,class:"flex justify-between"},Tn={class:"text-red-600"},An={class:"flex justify-between"},jn={key:1,class:"flex justify-between"},Dn={class:"flex justify-between font-semibold text-base"},Mn={class:"text-primary"},Bn={key:2,class:"space-y-2"},Ln={class:"space-y-1"},In={class:"text-sm text-muted-foreground"},Vn={key:3,class:"space-y-4 pt-4"},Un={class:"space-y-3"},En={class:"flex items-center gap-2 text-sm font-medium"},Kn={class:"flex items-start justify-between"},Nn={class:"flex items-center gap-2 font-medium text-sm"},Fn={class:"text-xs text-muted-foreground"},zn={key:0,class:"mt-1 text-xs text-destructive"},On={class:"flex items-start justify-between"},Wn={class:"flex items-center gap-2 font-medium text-sm"},qn={key:3},Gn={key:4},Qn={key:4,class:"pt-4"},Jn={key:2,class:"flex items-center justify-center py-12 text-muted-foreground"},Hn=Y({__name:"OrderDetailSheet",props:{open:{type:Boolean},orderId:{}},emits:["update:open"],setup(l,{emit:d}){const u=l,c=d,{formatCurrency:P,formatDate:v,getStatusLabel:n,normalizeStatus:f}=Me(),j=wt(),g=N(()=>j.props.auth?.user?.ewallet_saldo??0),S=L(!1),h=L(!1),b=L(!1),x=L(!1),C=L(null),A=L("midtrans"),k=N(()=>C.value?.status?.toUpperCase()==="SHIPPED"),I=N(()=>C.value?.status?.toUpperCase()==="PENDING"&&!C.value?.paid_at),y=N(()=>C.value?g.value>=C.value.grand_total:!1);bs(()=>{typeof document<"u"&&(x.value?document.body.classList.add("midtrans-popup-active"):document.body.classList.remove("midtrans-popup-active"))}),$t(()=>{typeof document<"u"&&document.body.classList.remove("midtrans-popup-active")});const B=N(()=>{const _=f(C.value?.status||"");return{"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":_==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":_==="processing"||_==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":_==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":_==="delivered"||_==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":_==="cancelled"}}),E=async()=>{if(u.orderId){S.value=!0;try{const _=await de.get(`/api/client/orders/${u.orderId}`);C.value=_.data.data}catch(_){console.error("Failed to load order:",_),M.error("Gagal memuat detail pesanan")}finally{S.value=!1}}},Q=async()=>{if(!(!C.value||!k.value||h.value)){h.value=!0;try{await de.post(`/api/client/orders/${C.value.id}/complete`),await E(),xe.reload({only:["orders"]}),M.success('Status pesanan berhasil diperbarui menjadi "Selesai".')}catch(_){console.error("Failed to update order status:",_),M.error(_.response?.data?.message||"Gagal memperbarui status pesanan")}finally{h.value=!1}}},U=async()=>{if(!C.value||!I.value||b.value)return;const _=window.snap;if(!_){M.error("Sistem pembayaran belum siap. Mohon refresh halaman.");return}b.value=!0;try{const $=(await de.post(`/api/client/orders/${C.value.id}/pay`)).data;$.success&&$.snap_token?(x.value=!0,_.pay($.snap_token,{onSuccess:function(){x.value=!1,b.value=!1,M.success("Pembayaran berhasil!"),E(),xe.reload({only:["orders"]})},onPending:function(){x.value=!1,b.value=!1,M.info("Pembayaran tertunda. Silakan selesaikan pembayaran."),E(),xe.reload({only:["orders"]})},onError:function(){x.value=!1,b.value=!1,M.error("Pembayaran gagal. Silakan coba lagi."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)},onClose:function(){x.value=!1,b.value=!1,M.info("Pembayaran dibatalkan."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)}})):M.error($.message||"Gagal memproses pembayaran")}catch(p){console.error("Failed to initiate payment:",p),M.error(p.response?.data?.message||"Gagal memproses pembayaran")}finally{x.value||(b.value=!1)}},T=async()=>{if(!(!C.value||!I.value||b.value)){if(!y.value){M.error("Saldo e-wallet Anda tidak mencukupi");return}b.value=!0;try{const p=(await de.post(`/api/client/orders/${C.value.id}/pay-wallet`)).data;p.success?(M.success(p.message||"Pembayaran berhasil!"),await E(),xe.reload({only:["orders","auth"]})):M.error(p.message||"Gagal memproses pembayaran")}catch(_){console.error("Failed to pay with wallet:",_),M.error(_.response?.data?.message||"Gagal memproses pembayaran")}finally{b.value=!1}}},D=()=>{A.value==="wallet"?T():U()};return mt(()=>[u.open,u.orderId],([_,p])=>{_&&p&&E()}),(_,p)=>(o(),R(e(Us),{open:l.open,"onUpdate:open":p[3]||(p[3]=$=>c("update:open",$))},{default:a(()=>[s(e(Es),{side:"right",class:"sm:max-w-2xl w-full overflow-y-auto"},{default:a(()=>[s(e(Ks),null,{default:a(()=>[s(e(Ns),null,{default:a(()=>[...p[4]||(p[4]=[i("Detail Pesanan",-1)])]),_:1}),s(e(Fs),null,{default:a(()=>[...p[5]||(p[5]=[i(" Informasi lengkap pesanan Anda ",-1)])]),_:1})]),_:1}),S.value?(o(),m("div",Kl,[s(e(Ae),{class:"h-8 w-8 animate-spin text-muted-foreground"})])):C.value?(o(),m("div",Nl,[t("div",Fl,[t("div",zl,[s(e(Fe),{class:"h-4 w-4"}),p[6]||(p[6]=t("span",null,"Ringkasan Pesanan",-1))]),t("div",Ol,[t("div",Wl,[p[7]||(p[7]=t("span",{class:"text-sm text-muted-foreground"},"Nomor Pesanan",-1)),t("span",ql,r(C.value.order_no),1)]),t("div",Gl,[p[8]||(p[8]=t("span",{class:"text-sm text-muted-foreground"},"Status",-1)),s(e(K),{class:Z(B.value)},{default:a(()=>[i(r(e(n)(C.value.status)),1)]),_:1},8,["class"])]),C.value.placed_at?(o(),m("div",Ql,[p[9]||(p[9]=t("span",{class:"text-sm text-muted-foreground"},"Tanggal Pesan",-1)),t("span",Jl,r(e(v)(C.value.placed_at)),1)])):w("",!0),C.value.paid_at?(o(),m("div",Hl,[p[10]||(p[10]=t("span",{class:"text-sm text-muted-foreground"},"Status Pembayaran",-1)),s(e(K),{variant:"secondary"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 mr-1"}),i(" Dibayar "+r(e(v)(C.value.paid_at)),1)]),_:1})])):w("",!0)])]),s(e(le)),t("div",Zl,[t("div",Yl,[s(e(Fe),{class:"h-4 w-4"}),p[11]||(p[11]=t("span",null,"Produk Pesanan",-1))]),t("div",Xl,[(o(!0),m(W,null,te(C.value.items,$=>(o(),m("div",{key:$.id,class:"flex gap-4 p-3 bg-muted/30 rounded-lg"},[$.meta_json?.image?(o(),m("img",{key:0,src:$.meta_json.image,alt:$.name,class:"w-16 h-16 object-cover rounded-md"},null,8,en)):w("",!0),t("div",tn,[t("h4",sn,r($.name),1),t("p",an,"SKU: "+r($.sku),1),t("p",ln,r($.qty)+"x "+r(e(P)($.unit_price)),1)]),t("div",nn,[t("p",rn,r(e(P)($.row_total)),1)])]))),128))])]),s(e(le)),C.value.shipping_address?(o(),m("div",on,[t("div",dn,[s(e(Be),{class:"h-4 w-4"}),p[12]||(p[12]=t("span",null,"Alamat Pengiriman",-1))]),t("div",un,[t("p",mn,r(C.value.shipping_address.recipient_name),1),t("p",cn,r(C.value.shipping_address.recipient_phone),1),t("p",pn,r(C.value.shipping_address.address_line1),1),t("p",fn,r(C.value.shipping_address.city_label)+", "+r(C.value.shipping_address.province_label)+" "+r(C.value.shipping_address.postal_code),1)])])):w("",!0),s(e(le)),C.value.applied_promos?.shipping?(o(),m("div",xn,[t("div",gn,[s(e(ys),{class:"h-4 w-4"}),p[13]||(p[13]=t("span",null,"Informasi Pengiriman",-1))]),t("div",vn,[t("div",bn,[p[14]||(p[14]=t("span",{class:"text-sm text-muted-foreground"},"Kurir",-1)),t("span",yn,r(C.value.applied_promos.shipping.courier),1)]),t("div",_n,[p[15]||(p[15]=t("span",{class:"text-sm text-muted-foreground"},"Layanan",-1)),t("span",kn,r(C.value.applied_promos.shipping.service),1)]),t("div",hn,[p[16]||(p[16]=t("span",{class:"text-sm text-muted-foreground"},"Estimasi",-1)),t("span",wn,r(C.value.applied_promos.shipping.etd)+" hari",1)])])])):w("",!0),s(e(le)),t("div",$n,[t("div",Pn,[s(e(Te),{class:"h-4 w-4"}),p[17]||(p[17]=t("span",null,"Ringkasan Pembayaran",-1))]),t("div",Sn,[t("div",Cn,[p[18]||(p[18]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),t("span",null,r(e(P)(C.value.subtotal_amount)),1)]),C.value.discount_amount>0?(o(),m("div",Rn,[p[19]||(p[19]=t("span",{class:"text-muted-foreground"},"Diskon",-1)),t("span",Tn,"-"+r(e(P)(C.value.discount_amount)),1)])):w("",!0),t("div",An,[p[20]||(p[20]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),t("span",null,r(e(P)(C.value.shipping_amount)),1)]),C.value.tax_amount>0?(o(),m("div",jn,[p[21]||(p[21]=t("span",{class:"text-muted-foreground"},"Pajak",-1)),t("span",null,r(e(P)(C.value.tax_amount)),1)])):w("",!0),s(e(le)),t("div",Dn,[p[22]||(p[22]=t("span",null,"Total",-1)),t("span",Mn,r(e(P)(C.value.grand_total)),1)])])]),C.value.notes?(o(),m("div",Bn,[s(e(le)),t("div",Ln,[p[23]||(p[23]=t("p",{class:"text-sm font-medium"},"Catatan",-1)),t("p",In,r(C.value.notes),1)])])):w("",!0),I.value?(o(),m("div",Vn,[s(e(le)),t("div",Un,[t("div",En,[s(e(De),{class:"h-4 w-4"}),p[24]||(p[24]=t("span",null,"Metode Pembayaran",-1))]),s(e(ns),{modelValue:A.value,"onUpdate:modelValue":p[2]||(p[2]=$=>A.value=$),class:"space-y-3"},{default:a(()=>[t("div",{class:Z(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":A.value==="wallet","hover:bg-muted":A.value!=="wallet","cursor-not-allowed opacity-50":!y.value}]),onClick:p[0]||(p[0]=$=>y.value&&(A.value="wallet"))},[s(e(Dt),{value:"wallet",id:"payment-wallet-detail",disabled:!y.value},null,8,["disabled"]),s(e(G),{for:"payment-wallet-detail",class:Z(["flex-1 cursor-pointer",{"cursor-not-allowed":!y.value}])},{default:a(()=>[t("div",Kn,[t("div",null,[t("div",Nn,[s(e(De),{class:"h-4 w-4"}),p[25]||(p[25]=i(" E-Wallet ",-1))]),t("div",Fn," Saldo: "+r(e(P)(g.value)),1),y.value?w("",!0):(o(),m("div",zn," Saldo tidak mencukupi (kurang "+r(e(P)(C.value.grand_total-g.value))+") ",1))])])]),_:1},8,["class"])],2),t("div",{class:Z(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":A.value==="midtrans","hover:bg-muted":A.value!=="midtrans"}]),onClick:p[1]||(p[1]=$=>A.value="midtrans")},[s(e(Dt),{value:"midtrans",id:"payment-midtrans-detail"}),s(e(G),{for:"payment-midtrans-detail",class:"flex-1 cursor-pointer"},{default:a(()=>[t("div",On,[t("div",null,[t("div",Wn,[s(e(Te),{class:"h-4 w-4"}),p[26]||(p[26]=i(" Payment Gateway ",-1))]),p[27]||(p[27]=t("div",{class:"text-xs text-muted-foreground"}," Transfer Bank, E-wallet, Kartu Kredit ",-1))])])]),_:1})],2)]),_:1},8,["modelValue"])]),s(e(F),{onClick:D,disabled:b.value||x.value||A.value==="wallet"&&!y.value,class:"w-full",size:"lg"},{default:a(()=>[b.value?(o(),R(e(Ae),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):A.value==="wallet"?(o(),R(e(De),{key:1,class:"h-4 w-4 mr-2"})):(o(),R(e(Te),{key:2,class:"h-4 w-4 mr-2"})),A.value==="wallet"?(o(),m("span",qn," Bayar dengan E-Wallet "+r(e(P)(C.value.grand_total)),1)):(o(),m("span",Gn," Bayar "+r(e(P)(C.value.grand_total)),1))]),_:1},8,["disabled"])])):w("",!0),k.value?(o(),m("div",Qn,[s(e(F),{onClick:Q,disabled:h.value,class:"w-full",size:"lg"},{default:a(()=>[h.value?(o(),R(e(Ae),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(o(),R(e(ge),{key:1,class:"h-4 w-4 mr-2"})),p[28]||(p[28]=i(" Tandai Pesanan Selesai ",-1))]),_:1},8,["disabled"])])):w("",!0)])):(o(),m("div",Jn," Tidak ada data pesanan "))]),_:1})]),_:1},8,["open"]))}}),Zn={class:"space-y-6 py-4"},Yn={key:2,class:"flex gap-4 rounded-lg bg-muted p-4"},Xn=["src","alt"],er={class:"flex-1"},tr={class:"font-medium"},sr={class:"space-y-2"},ar={class:"flex items-center gap-2"},lr=["onClick","onMouseenter"],nr={class:"ml-2 text-sm text-muted-foreground"},rr={class:"space-y-2"},or={key:0,class:"text-sm text-destructive"},ir={class:"space-y-2"},dr={class:"text-right text-xs text-muted-foreground"},ur={key:0,class:"text-sm text-destructive"},mr=Y({__name:"ProductReviewDialog",props:{open:{type:Boolean},orderId:{},orderItems:{}},emits:["update:open","review-submitted"],setup(l,{emit:d}){const u=l,c=d,P=L(0),v=L(null),n=L(!1),f=L({}),j=N(()=>u.orderItems[P.value]),g=N(()=>P.value<u.orderItems.length-1),S=N(()=>P.value===u.orderItems.length-1),h=L({order_item_id:0,product_id:0,rating:5,title:"",comment:""}),b=L(0),x=B=>{h.value.rating=B},C=async()=>{if(j.value){h.value.order_item_id=j.value.id,h.value.product_id=j.value.product_id,v.value=null,f.value={},n.value=!0;try{const B=await de.post(`/api/client/orders/${u.orderId}/reviews`,h.value);if(B.data.success){const E=B.data.message||"Review berhasil dikirim dan menunggu persetujuan!";v.value={type:"success",message:E},M.success(E),g.value?setTimeout(()=>{P.value++,k(),v.value=null},1500):setTimeout(()=>{c("update:open",!1),c("review-submitted"),I()},2e3)}}catch(B){console.error("Submit review error:",B);let E="Gagal mengirim review. Silakan coba lagi.";if(B.response?.data){const Q=B.response.data;if(Q.message&&(E=Q.message),Q.errors){f.value=Q.errors;const U=Object.values(Q.errors)[0];Array.isArray(U)&&U.length>0?E=U[0]:typeof U=="string"&&(E=U)}}v.value={type:"error",message:E},M.error(E)}finally{n.value=!1}}},A=()=>{g.value?(P.value++,k(),v.value=null):(c("update:open",!1),c("review-submitted"),I())},k=()=>{h.value={order_item_id:0,product_id:0,rating:5,title:"",comment:""},f.value={}},I=()=>{P.value=0,k(),v.value=null},y=B=>{c("update:open",B),B||I()};return(B,E)=>(o(),R(e(Ue),{open:l.open,"onUpdate:open":y},{default:a(()=>[s(e(Le),{class:"sm:max-w-[500px]"},{default:a(()=>[s(e(Ke),null,{default:a(()=>[s(e(Ie),null,{default:a(()=>[...E[4]||(E[4]=[i("Beri Rating & Review",-1)])]),_:1}),s(e(Ve),null,{default:a(()=>[i(" Bagikan pengalaman Anda dengan produk ini ("+r(P.value+1)+" dari "+r(l.orderItems.length)+") ",1)]),_:1})]),_:1}),t("div",Zn,[!j.value||l.orderItems.length===0?(o(),R(e(ot),{key:0,variant:"default"},{default:a(()=>[s(e(je),{class:"h-4 w-4"}),s(e(it),null,{default:a(()=>[...E[5]||(E[5]=[i("Tidak Ada Item",-1)])]),_:1}),s(e(dt),null,{default:a(()=>[...E[6]||(E[6]=[i(" Tidak ada produk yang dapat direview dari pesanan ini. ",-1)])]),_:1})]),_:1})):(o(),m(W,{key:1},[v.value?.type==="success"?(o(),R(e(ot),{key:0,variant:"default"},{default:a(()=>[s(e(_s),{class:"h-4 w-4"}),s(e(it),null,{default:a(()=>[...E[7]||(E[7]=[i("Berhasil!",-1)])]),_:1}),s(e(dt),null,{default:a(()=>[i(r(v.value.message),1)]),_:1})]),_:1})):w("",!0),v.value?.type==="error"?(o(),R(e(ot),{key:1,variant:"destructive"},{default:a(()=>[s(e(je),{class:"h-4 w-4"}),s(e(it),null,{default:a(()=>[...E[8]||(E[8]=[i("Terjadi Kesalahan",-1)])]),_:1}),s(e(dt),null,{default:a(()=>[i(r(v.value.message),1)]),_:1})]),_:1})):w("",!0),j.value?(o(),m("div",Yn,[j.value.product_image?(o(),m("img",{key:0,src:j.value.product_image,alt:j.value.product_name,class:"h-20 w-20 rounded-md object-cover"},null,8,Xn)):w("",!0),t("div",er,[t("h4",tr,r(j.value.product_name),1)])])):w("",!0),t("div",sr,[s(e(G),null,{default:a(()=>[...E[9]||(E[9]=[i("Rating Produk",-1)])]),_:1}),t("div",ar,[(o(),m(W,null,te(5,Q=>t("button",{key:Q,type:"button",onClick:U=>x(Q),onMouseenter:U=>b.value=Q,onMouseleave:E[0]||(E[0]=U=>b.value=0),class:"transition-transform hover:scale-110 focus:outline-none"},[s(e(Pt),{class:Z(["h-8 w-8 transition-colors",(b.value||h.value.rating)>=Q?"fill-yellow-400 text-yellow-400":"text-gray-300"])},null,8,["class"])],40,lr)),64)),t("span",nr,r(h.value.rating)+" / 5 ",1)])]),t("div",rr,[s(e(G),{for:"title"},{default:a(()=>[...E[10]||(E[10]=[i("Judul Review (Opsional)",-1)])]),_:1}),s(e(se),{id:"title",modelValue:h.value.title,"onUpdate:modelValue":E[1]||(E[1]=Q=>h.value.title=Q),placeholder:"Ringkasan singkat pengalaman Anda",maxlength:"100"},null,8,["modelValue"]),f.value.title?(o(),m("p",or,r(f.value.title),1)):w("",!0)]),t("div",ir,[s(e(G),{for:"comment"},{default:a(()=>[...E[11]||(E[11]=[i("Komentar (Opsional)",-1)])]),_:1}),s(e(ze),{id:"comment",modelValue:h.value.comment,"onUpdate:modelValue":E[2]||(E[2]=Q=>h.value.comment=Q),placeholder:"Ceritakan pengalaman Anda dengan produk ini...",rows:"4",maxlength:"500"},null,8,["modelValue"]),t("p",dr,r(h.value.comment?.length||0)+" / 500 karakter ",1),f.value.comment?(o(),m("p",ur,r(f.value.comment),1)):w("",!0)])],64))]),s(e(Ee),{class:"flex-col gap-2 sm:flex-row"},{default:a(()=>[j.value&&l.orderItems.length>0?(o(),m(W,{key:0},[g.value||S.value?(o(),R(e(F),{key:0,type:"button",variant:"outline",onClick:A,disabled:n.value},{default:a(()=>[i(r(g.value?"Lewati":"Tutup"),1)]),_:1},8,["disabled"])):w("",!0),s(e(F),{type:"button",onClick:C,disabled:n.value||h.value.rating===0,class:"w-full sm:w-auto"},{default:a(()=>[n.value?(o(),R(e(Ae),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):w("",!0),i(" "+r(g.value?"Kirim & Lanjut":"Kirim Review"),1)]),_:1},8,["disabled"])],64)):(o(),R(e(F),{key:1,type:"button",variant:"outline",onClick:E[3]||(E[3]=Q=>y(!1))},{default:a(()=>[...E[12]||(E[12]=[i(" Tutup ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"]))}}),cr={class:"rounded-lg border p-4 transition-colors hover:border-primary"},pr={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},fr={class:"flex-1"},xr={class:"mb-2 flex items-center gap-3"},gr={class:"text-sm font-semibold"},vr={key:0,class:"text-xs text-muted-foreground"},br={class:"mt-2 flex items-center gap-2"},yr={class:"flex flex-col gap-2 md:items-end"},_r={class:"text-lg font-bold text-primary"},kr={class:"flex flex-wrap gap-2"},hr=Y({__name:"OrderCard",props:{order:{}},setup(l){const d=l,{formatCurrency:u,formatDate:c,getStatusLabel:P,normalizeStatus:v}=Me(),n=L(!1),f=L(!1),j=L(!1),g=L(!1),S=L(d.order.status),h=L(d.order.paid_at),b=N(()=>v(S.value)),x=async()=>{if(!j.value){j.value=!0;try{const I=await de.post(`/api/client/orders/${d.order.id}/check-payment-status`);I.data.success?(S.value=I.data.status,I.data.paid_at&&(h.value=I.data.paid_at),M.success(I.data.message),setTimeout(()=>{xe.reload({only:["orders"]})},500)):M.error(I.data.message)}catch(I){console.error("Check payment status error:",I),M.error(I.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{j.value=!1}}},C=async()=>{if(!g.value){g.value=!0;try{const I=await de.post(`/api/client/orders/${d.order.id}/complete`);I.data.success&&(S.value="COMPLETED",M.success(I.data.message||"Pesanan berhasil diselesaikan"),I.data.items&&I.data.items.length>0?(d.order.items=I.data.items,f.value=!0):setTimeout(()=>{xe.reload({only:["orders"]})},500))}catch(I){console.error("Complete order error:",I),M.error(I.response?.data?.message||"Gagal menandai pesanan sebagai diterima")}finally{g.value=!1}}},A=()=>{xe.reload({only:["orders"]})},k=()=>{const I=(d.order.items||[]).filter(y=>!y.has_review);I.length>0?(d.order.items=I,f.value=!0):M.info("Semua produk sudah direview")};return(I,y)=>(o(),m("div",cr,[t("div",pr,[t("div",fr,[t("div",xr,[s(e(Fe),{class:"h-5 w-5 text-muted-foreground"}),t("div",null,[t("p",gr,r(l.order.order_no),1),l.order.placed_at?(o(),m("p",vr,r(e(c)(l.order.placed_at)),1)):w("",!0),l.order.type?(o(),m("p",{key:1,class:Z(["text-xs font-medium",{"text-blue-600 dark:text-blue-400":l.order.type==="planA","text-amber-600 dark:text-amber-400":l.order.type==="planB"}])},r(l.order.type==="planA"?"Network Builder":"Retail"),3)):w("",!0)])]),t("div",br,[s(e(K),{class:Z({"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":b.value==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":b.value==="processing"||b.value==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":b.value==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":b.value==="delivered"||b.value==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":b.value==="cancelled"})},{default:a(()=>[i(r(e(P)(S.value)),1)]),_:1},8,["class"]),h.value?(o(),R(e(K),{key:0,variant:"secondary"},{default:a(()=>[s(e(ge),{class:"mr-1 h-3 w-3"}),y[3]||(y[3]=i(" Dibayar ",-1))]),_:1})):w("",!0)])]),t("div",yr,[t("p",_r,r(e(u)(l.order.grand_total)),1),t("div",kr,[b.value==="pending"&&!h.value?(o(),R(e(F),{key:0,variant:"outline",size:"sm",disabled:j.value,onClick:x},{default:a(()=>[s(e(Vt),{class:Z(["mr-1 h-3 w-3",{"animate-spin":j.value}])},null,8,["class"]),y[4]||(y[4]=i(" Cek Status ",-1))]),_:1},8,["disabled"])):w("",!0),b.value==="shipped"?(o(),R(e(F),{key:1,variant:"default",size:"sm",disabled:g.value,onClick:C},{default:a(()=>[s(e(ks),{class:"mr-1 h-3 w-3"}),y[5]||(y[5]=i(" Pesanan Diterima ",-1))]),_:1},8,["disabled"])):w("",!0),b.value==="completed"&&l.order.has_unreviewed_items?(o(),R(e(F),{key:2,variant:"outline",size:"sm",onClick:k},{default:a(()=>[s(e(Pt),{class:"mr-1 h-3 w-3"}),y[6]||(y[6]=i(" Tambah Review ",-1))]),_:1})):w("",!0),s(e(F),{variant:"outline",size:"sm",onClick:y[0]||(y[0]=B=>n.value=!0)},{default:a(()=>[...y[7]||(y[7]=[i(" Lihat Detail ",-1)])]),_:1})])])]),s(Hn,{open:n.value,"onUpdate:open":y[1]||(y[1]=B=>n.value=B),"order-id":l.order.id},null,8,["open","order-id"]),s(mr,{open:f.value,"onUpdate:open":y[2]||(y[2]=B=>f.value=B),"order-id":l.order.id,"order-items":l.order.items||[],onReviewSubmitted:A},null,8,["open","order-id","order-items"])]))}}),wr={key:0,class:"space-y-4"},$r={key:1,class:"py-12 text-center"},Pr=Y({__name:"OrdersTab",props:{orders:{}},setup(l){return(d,u)=>(o(),R(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...u[0]||(u[0]=[i("Pesanan Saya",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...u[1]||(u[1]=[i(" Riwayat pesanan dan status pengiriman ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[l.orders.length>0?(o(),m("div",wr,[(o(!0),m(W,null,te(l.orders,c=>(o(),R(hr,{key:c.id,order:c},null,8,["order"]))),128))])):(o(),m("div",$r,[s(e(Fe),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),u[3]||(u[3]=t("p",{class:"text-muted-foreground mb-4"},"Belum ada pesanan",-1)),s(e(xt),{href:"/beranda"},{default:a(()=>[s(e(F),null,{default:a(()=>[...u[2]||(u[2]=[i(" Mulai Belanja ",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),Sr={class:"text-center"},Cr={class:"text-4xl font-bold text-primary mb-4"},Rr={class:"flex gap-3 justify-center"},Tr=Y({__name:"WalletBalance",props:{balance:{}},emits:["topup","withdrawal"],setup(l,{emit:d}){const u=d,{formatCurrency:c}=Me();return(P,v)=>(o(),R(e(z),null,{default:a(()=>[s(e(O),{class:"pt-6"},{default:a(()=>[t("div",Sr,[v[4]||(v[4]=t("p",{class:"text-sm text-muted-foreground mb-2"},"Saldo E-Wallet",-1)),t("p",Cr,r(e(c)(l.balance)),1),t("div",Rr,[s(e(F),{onClick:v[0]||(v[0]=n=>u("topup")),size:"sm"},{default:a(()=>[s(e(Ut),{class:"w-4 h-4 mr-2"}),v[2]||(v[2]=i(" Top Up ",-1))]),_:1}),s(e(F),{onClick:v[1]||(v[1]=n=>u("withdrawal")),variant:"outline",size:"sm"},{default:a(()=>[s(e(Et),{class:"w-4 h-4 mr-2"}),v[3]||(v[3]=i(" Tarik Dana ",-1))]),_:1})])])]),_:1})]),_:1}))}}),Ar={class:"space-y-2"},jr={class:"relative"},Dr={key:0,class:"text-sm text-red-500"},Mr={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},Br={class:"flex items-start gap-3"},Lr={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Ir={class:"flex items-start gap-3"},Vr={class:"flex items-center justify-end gap-3"},Ur={key:0},Er={key:1},Kr={key:2},Nr={key:3},Fr=Y({__name:"WalletTopupForm",emits:["cancel"],setup(l,{emit:d}){const u=d,c=Ce({amount:"",payment_method:"midtrans"}),P=L(!1),v=L(!1);at(()=>{if(window.snap){P.value=!0;return}if(typeof window>"u")return;const g=()=>{window.snap&&(P.value=!0,v.value=!1,console.log("Midtrans Snap loaded (event)."))};window.addEventListener("midtrans:snap:loaded",g,{once:!0}),setTimeout(()=>{P.value||(window.snap?(P.value=!0,console.log("Midtrans Snap loaded (fallback).")):(v.value=!0,console.error("Failed to load Midtrans Snap (timeout).")))},5e3)});const n=g=>{if(!window.snap){console.error("Snap not available"),alert("Pembayaran tidak dapat diproses. Silakan refresh halaman dan coba lagi."),u("cancel");return}try{window.snap.pay(g,{onSuccess:function(S){console.log("Payment success:",S),M.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(S){console.log("Payment pending:",S),M.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(S){console.error("Payment error (Midtrans):",S),M.error("Pembayaran gagal.");try{console.log("Midtrans raw error JSON:",JSON.stringify(S,null,2))}catch{}const h=S?.status_message||S?.status_code||"Terjadi kesalahan pembayaran.",b=S?.status_code==="505"?`
Catatan: Sandbox sering menolak VA dengan nominal rendah (coba >= 15000 atau metode lain).`:"";if(S?.status_code==="505"){alert("Midtrans Error: "+h+b+`
Sandbox akan otomatis mencoba QRIS.`),j("qris");return}alert("Midtrans Error: "+h+`
Silakan coba metode lain atau refresh.`),u("cancel")},onClose:function(){console.log("Payment modal closed"),M("Pembayaran ditutup sebelum selesai."),u("cancel")}})}catch(S){console.error("Error opening Snap modal:",S),alert("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),M.error("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),u("cancel")}},f=async()=>{if(!c.processing){if(!P.value||!window.snap){M.error("Sistem pembayaran belum siap. Silakan tunggu beberapa saat atau refresh halaman.");return}try{c.processing=!0;const S=(await de.post("/client/wallet/topup",{amount:c.amount,payment_method:c.payment_method})).data,h=S.snap_token;if(S.success===!1&&S.message){M.error(S.message),c.processing=!1;return}h&&typeof h=="string"&&h.trim()!==""?(c.reset(),c.processing=!1,setTimeout(()=>{n(h)},100)):(c.processing=!1,console.error("Invalid snap token:",h),console.error("Full response:",S),M.error("Gagal mendapatkan token pembayaran. Silakan coba lagi."),c.reset(),u("cancel"))}catch(g){if(c.processing=!1,console.error("Form submission error:",g),M.error("Terjadi kesalahan saat mengirim formulir."),g.response?.status===422&&g.response?.data?.errors){const S=g.response.data.errors,h=Object.values(S)[0],b=Array.isArray(h)?h[0]:h;M.error(b)}else{const S=g.response?.data?.message||g.message||"Terjadi kesalahan. Silakan coba lagi.";M.error(S)}c.reset()}}},j=async g=>{if(!c.processing){if(!P.value||!window.snap){alert("Sistem pembayaran belum siap untuk retry.");return}try{c.processing=!0;const h=(await de.post("/client/wallet/topup",{amount:c.amount||"20000",payment_method:c.payment_method,force_payment:g})).data,b=h.snap_token;if(!h.success||!b){M.error(h.message||"Retry gagal mendapatkan token."),c.processing=!1;return}c.processing=!1,M.success("Metode dialihkan ke "+g.toUpperCase()+". Silakan lanjutkan pembayaran."),n(b)}catch(S){c.processing=!1,M.error(S?.response?.data?.message||S.message||"Retry gagal.")}}};return(g,S)=>(o(),R(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...S[2]||(S[2]=[i("Top Up E-Wallet",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...S[3]||(S[3]=[i(" Isi saldo e-wallet Anda melalui Midtrans ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("form",{onSubmit:We(f,["prevent"]),class:"space-y-6"},[t("div",Ar,[s(e(G),{for:"topup_amount"},{default:a(()=>[...S[4]||(S[4]=[i(" Jumlah Top Up ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",jr,[s(e(Te),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"topup_amount",modelValue:e(c).amount,"onUpdate:modelValue":S[0]||(S[0]=h=>e(c).amount=h),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:"10000000",required:""},null,8,["modelValue"])]),S[5]||(S[5]=t("p",{class:"text-xs text-muted-foreground"}," Minimum Rp 10.000 - Maximum Rp 10.000.000. Disarankan >= Rp 15.000 untuk Virtual Account agar tidak ditolak (505). ",-1)),e(c).errors.amount?(o(),m("p",Dr,r(e(c).errors.amount),1)):w("",!0)]),t("div",Mr,[t("div",Br,[s(e(Te),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),S[6]||(S[6]=t("div",null,[t("p",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"}," Pembayaran via Midtrans "),t("p",{class:"text-xs text-blue-700 dark:text-blue-300 mt-1"}," Anda akan diarahkan ke halaman pembayaran Midtrans untuk menyelesaikan transaksi ")],-1))])]),v.value?(o(),m("div",Lr,[t("div",Ir,[s(e(je),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),S[7]||(S[7]=t("div",null,[t("p",{class:"text-sm font-semibold text-red-900 dark:text-red-100"}," Sistem Pembayaran Belum Siap "),t("p",{class:"text-xs text-red-700 dark:text-red-300 mt-1"}," Silakan refresh halaman untuk memuat ulang sistem pembayaran. ")],-1))])])):w("",!0),t("div",Vr,[s(e(F),{type:"button",variant:"outline",onClick:S[1]||(S[1]=h=>{e(c).reset(),u("cancel")}),disabled:e(c).processing},{default:a(()=>[...S[8]||(S[8]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"submit",disabled:e(c).processing||v.value||!P.value},{default:a(()=>[e(c).processing?(o(),m("span",Ur,"Memproses...")):!P.value&&!v.value?(o(),m("span",Er,"Memuat sistem pembayaran...")):v.value?(o(),m("span",Kr,"Sistem pembayaran error")):(o(),m("span",Nr,"Lanjut ke Pembayaran"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),zr={key:0,class:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Or={class:"flex items-start gap-3"},Wr={key:1,class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},qr={class:"flex items-start gap-3"},Gr={class:"space-y-2"},Qr={class:"relative"},Jr={class:"text-xs text-muted-foreground"},Hr={key:0,class:"text-sm text-red-500"},Zr={class:"space-y-4"},Yr={class:"flex items-center justify-between"},Xr={key:0,class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-3"},eo={class:"flex justify-between text-sm"},to={class:"font-medium"},so={class:"flex justify-between text-sm"},ao={class:"font-medium"},lo={class:"flex justify-between text-sm"},no={class:"font-medium"},ro={key:1,class:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg text-center text-sm text-muted-foreground"},oo={class:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},io={key:0,class:"p-4 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg space-y-2"},uo={class:"flex justify-between text-sm"},mo={class:"flex justify-between text-sm"},co={class:"text-red-600 dark:text-red-400"},po={class:"flex justify-between text-sm font-semibold"},fo={class:"text-green-600 dark:text-green-400"},xo={class:"flex items-center justify-end gap-3"},go={class:"space-y-3 py-4"},vo={class:"flex justify-between text-sm"},bo={class:"flex justify-between text-sm"},yo={class:"text-red-600"},_o={class:"flex justify-between text-sm font-semibold"},ko={class:"text-green-600"},ho={class:"flex justify-between text-sm"},wo={class:"font-medium"},$o={class:"flex justify-between text-sm"},Po={class:"font-medium"},So={class:"flex justify-between text-sm"},Co={class:"font-medium"},Ro={class:"space-y-4 py-4"},To={class:"space-y-2"},Ao={class:"relative"},jo={key:0,class:"text-sm text-red-500"},ut=6500,Do=Y({__name:"WalletWithdrawalForm",props:{customer:{},maxAmount:{},hasPendingWithdrawal:{type:Boolean}},emits:["cancel"],setup(l,{emit:d}){const u=l,c=d,P=N(()=>(console.log(u.customer),!!u.customer.nik&&!!u.customer.bank_name&&!!u.customer.bank_account)),v=L(!1),n=L(!1),f=L(!1),j=L(""),g=Ce({amount:"",password:""}),S=N(()=>{const A=parseFloat(g.amount)||0,k=Math.max(0,A-ut);return{amount:A,formattedAmount:A.toLocaleString("id-ID"),adminFee:ut,formattedAdminFee:ut.toLocaleString("id-ID"),netAmount:k,formattedNetAmount:k.toLocaleString("id-ID")}}),h=()=>{if(!P.value){M.error("Lengkapi NIK dan informasi bank di profil Anda terlebih dahulu");return}if(!g.amount||parseFloat(g.amount)<5e4){M.error("Jumlah penarikan minimal Rp 50.000");return}if(parseFloat(g.amount)>u.maxAmount){M.error("Jumlah penarikan melebihi saldo yang tersedia");return}v.value=!0},b=()=>{v.value=!1,n.value=!0,g.password="",j.value=""},x=()=>{if(!g.password){j.value="Password wajib diisi";return}j.value="",g.post("/client/wallet/withdrawal",{preserveScroll:!0,onSuccess:()=>{n.value=!1,g.reset(),c("cancel"),M.success("Permintaan penarikan berhasil diajukan.")},onError:A=>{A.password?j.value=A.password:A.pending?(n.value=!1,M.error(A.pending)):A.profile&&(n.value=!1,M.error(A.profile))}})},C=()=>{n.value=!1,g.password="",j.value=""};return(A,k)=>(o(),m(W,null,[s(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...k[6]||(k[6]=[i("Tarik Dana E-Wallet",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...k[7]||(k[7]=[i(" Tarik saldo ke rekening bank Anda ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[P.value?w("",!0):(o(),m("div",zr,[t("div",Or,[s(e(pt),{class:"h-5 w-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5"}),t("div",null,[k[9]||(k[9]=t("p",{class:"font-medium text-red-700 dark:text-red-300"},"Profil Belum Lengkap",-1)),k[10]||(k[10]=t("p",{class:"text-sm text-red-600 dark:text-red-400 mt-1"}," Untuk melakukan penarikan, Anda harus melengkapi NIK dan informasi rekening bank di profil Anda. ",-1)),s(e(xt),{href:"/client/profile",class:"inline-flex items-center gap-1 text-sm font-medium text-red-700 dark:text-red-300 hover:underline mt-2"},{default:a(()=>[...k[8]||(k[8]=[i(" Lengkapi Profil Sekarang  ",-1)])]),_:1})])])])),l.hasPendingWithdrawal?(o(),m("div",Wr,[t("div",qr,[s(e(pt),{class:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),k[11]||(k[11]=t("div",null,[t("p",{class:"font-medium text-amber-700 dark:text-amber-300"},"Permintaan Pending"),t("p",{class:"text-sm text-amber-600 dark:text-amber-400 mt-1"}," Anda masih memiliki permintaan penarikan yang belum diproses. Silakan tunggu hingga permintaan sebelumnya selesai diproses. ")],-1))])])):w("",!0),t("form",{onSubmit:We(h,["prevent"]),class:"space-y-6"},[t("div",Gr,[s(e(G),{for:"withdrawal_amount"},{default:a(()=>[...k[12]||(k[12]=[i(" Jumlah Penarikan ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Qr,[s(e(Te),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"withdrawal_amount",modelValue:e(g).amount,"onUpdate:modelValue":k[0]||(k[0]=I=>e(g).amount=I),type:"number",placeholder:"Minimal Rp 50.000",class:"pl-10",min:"50000",max:l.maxAmount,disabled:l.hasPendingWithdrawal||!P.value,required:""},null,8,["modelValue","max","disabled"])]),t("p",Jr," Minimum Rp 50.000 - Maksimal Rp "+r(l.maxAmount.toLocaleString("id-ID")),1),e(g).errors.amount?(o(),m("p",Hr,r(e(g).errors.amount),1)):w("",!0)]),s(e(le)),t("div",Zr,[t("div",Yr,[k[14]||(k[14]=t("h4",{class:"font-semibold"},"Informasi Rekening",-1)),s(e(xt),{href:"/client/profile",class:"text-sm text-primary hover:underline"},{default:a(()=>[...k[13]||(k[13]=[i(" Ubah di Profil ",-1)])]),_:1})]),P.value?(o(),m("div",Xr,[t("div",eo,[k[15]||(k[15]=t("span",{class:"text-muted-foreground"},"Nama Bank:",-1)),t("span",to,r(l.customer.bank_name),1)]),t("div",so,[k[16]||(k[16]=t("span",{class:"text-muted-foreground"},"No. Rekening:",-1)),t("span",ao,r(l.customer.bank_account),1)]),t("div",lo,[k[17]||(k[17]=t("span",{class:"text-muted-foreground"},"Atas Nama:",-1)),t("span",no,r(l.customer.name),1)])])):(o(),m("div",ro," Informasi rekening belum diisi ")),t("div",oo,[s(e(hs),{class:"h-4 w-4 text-blue-600 dark:text-blue-400 shrink-0 mt-0.5"}),k[18]||(k[18]=t("p",{class:"text-xs text-blue-700 dark:text-blue-300"}," Nama pemilik rekening harus sama dengan nama yang terdaftar sebagai member. ",-1))])]),e(g).amount&&parseFloat(e(g).amount)>=5e4?(o(),m("div",io,[k[22]||(k[22]=t("h4",{class:"font-semibold text-sm"},"Rincian Penarikan",-1)),t("div",uo,[k[19]||(k[19]=t("span",{class:"text-muted-foreground"},"Jumlah Penarikan:",-1)),t("span",null,"Rp "+r(S.value.formattedAmount),1)]),t("div",mo,[k[20]||(k[20]=t("span",{class:"text-muted-foreground"},"Biaya Administrasi:",-1)),t("span",co,"- Rp "+r(S.value.formattedAdminFee),1)]),s(e(le)),t("div",po,[k[21]||(k[21]=t("span",null,"Yang Akan Diterima:",-1)),t("span",fo,"Rp "+r(S.value.formattedNetAmount),1)])])):w("",!0),k[24]||(k[24]=t("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg space-y-2"},[t("p",{class:"text-sm text-amber-700 dark:text-amber-300"},[t("strong",null,"Catatan:")]),t("ol",{class:"text-sm text-amber-700 dark:text-amber-300 list-decimal list-inside space-y-2"},[t("li",null,[i(" 1. Setiap penarikan dikenakan "),t("strong",null,"biaya administrasi Rp 6.500"),i(". ")]),t("li",null,[i(" 2. Periode transfer penarikan dana: "),t("ul",{class:"mt-1 list-disc list-inside space-y-1"},[t("li",null,"Pengajuan pukul 00.01-12.00 WIB diproses pukul 14.00 WIB."),t("li",null,"Pengajuan pukul 12.01-16.00 WIB diproses pukul 17.00 WIB."),t("li",null,"Pengajuan pukul 16.01-00.00 WIB diproses keesokan hari pukul 14.00 WIB.")])]),t("li",null,"3. Pastikan data rekening sudah benar.")])],-1)),t("div",xo,[s(e(F),{type:"button",variant:"outline",onClick:k[1]||(k[1]=I=>{e(g).reset(),c("cancel")}),disabled:e(g).processing},{default:a(()=>[...k[23]||(k[23]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"submit",disabled:e(g).processing||l.hasPendingWithdrawal||!P.value},{default:a(()=>[i(r(e(g).processing?"Memproses...":"Ajukan Penarikan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}),s(e(Hs),{open:v.value,"onUpdate:open":k[2]||(k[2]=I=>v.value=I)},{default:a(()=>[s(e(zs),null,{default:a(()=>[s(e(Os),null,{default:a(()=>[s(e(Ws),null,{default:a(()=>[...k[25]||(k[25]=[i("Konfirmasi Penarikan",-1)])]),_:1}),s(e(qs),null,{default:a(()=>[...k[26]||(k[26]=[i(" Apakah Anda yakin ingin menarik dana dengan detail berikut? ",-1)])]),_:1})]),_:1}),t("div",go,[t("div",vo,[k[27]||(k[27]=t("span",{class:"text-muted-foreground"},"Jumlah Penarikan:",-1)),t("span",null,"Rp "+r(S.value.formattedAmount),1)]),t("div",bo,[k[28]||(k[28]=t("span",{class:"text-muted-foreground"},"Biaya Administrasi:",-1)),t("span",yo,"- Rp "+r(S.value.formattedAdminFee),1)]),t("div",_o,[k[29]||(k[29]=t("span",null,"Yang Akan Diterima:",-1)),t("span",ko,"Rp "+r(S.value.formattedNetAmount),1)]),s(e(le)),t("div",ho,[k[30]||(k[30]=t("span",{class:"text-muted-foreground"},"Bank:",-1)),t("span",wo,r(l.customer.bank_name),1)]),t("div",$o,[k[31]||(k[31]=t("span",{class:"text-muted-foreground"},"No. Rekening:",-1)),t("span",Po,r(l.customer.bank_account),1)]),t("div",So,[k[32]||(k[32]=t("span",{class:"text-muted-foreground"},"Atas Nama:",-1)),t("span",Co,r(l.customer.name),1)])]),s(e(Gs),null,{default:a(()=>[s(e(Qs),null,{default:a(()=>[...k[33]||(k[33]=[i("Batal",-1)])]),_:1}),s(e(Js),{onClick:b},{default:a(()=>[...k[34]||(k[34]=[i(" Lanjutkan ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(e(Ue),{open:n.value,"onUpdate:open":k[5]||(k[5]=I=>n.value=I)},{default:a(()=>[s(e(Le),{class:"sm:max-w-md"},{default:a(()=>[s(e(Ke),null,{default:a(()=>[s(e(Ie),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Ye),{class:"h-5 w-5"}),k[35]||(k[35]=i(" Konfirmasi Password ",-1))]),_:1}),s(e(Ve),null,{default:a(()=>[...k[36]||(k[36]=[i(" Masukkan password akun Anda untuk melanjutkan penarikan dana. ",-1)])]),_:1})]),_:1}),t("div",Ro,[t("div",To,[s(e(G),{for:"confirm_password"},{default:a(()=>[...k[37]||(k[37]=[i("Password",-1)])]),_:1}),t("div",Ao,[s(e(se),{id:"confirm_password",modelValue:e(g).password,"onUpdate:modelValue":k[3]||(k[3]=I=>e(g).password=I),type:f.value?"text":"password",placeholder:"Masukkan password Anda",class:"pr-10",onKeyup:ws(x,["enter"])},null,8,["modelValue","type"]),t("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:k[4]||(k[4]=I=>f.value=!f.value)},[f.value?(o(),R(e(Je),{key:1,class:"h-4 w-4"})):(o(),R(e(Qe),{key:0,class:"h-4 w-4"}))])]),j.value?(o(),m("p",jo,r(j.value),1)):w("",!0)])]),s(e(Ee),null,{default:a(()=>[s(e(F),{type:"button",variant:"outline",onClick:C,disabled:e(g).processing},{default:a(()=>[...k[38]||(k[38]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"button",onClick:x,disabled:e(g).processing||!e(g).password},{default:a(()=>[e(g).processing?(o(),R(e(Ae),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):w("",!0),i(" "+r(e(g).processing?"Memproses...":"Konfirmasi Penarikan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Mo={class:"p-3 border rounded-lg"},Bo={class:"flex items-start justify-between gap-2 mb-2"},Lo={class:"flex items-center gap-2"},Io={class:"font-semibold text-sm"},Vo={class:"text-xs text-muted-foreground"},Uo={class:"mb-2 text-xs text-muted-foreground space-y-1"},Eo={key:0,class:"line-clamp-2"},Ko={key:1,class:"space-y-1"},No={class:"text-foreground/80 font-medium"},Fo={class:"grid grid-cols-3 gap-2 pt-1"},zo={class:"text-foreground/90 font-medium"},Oo={class:"border-x px-2"},Wo={class:"text-foreground/90 font-medium"},qo={class:"text-foreground/90 font-medium"},Go={class:"grid grid-cols-3 gap-2 text-xs border-t pt-2"},Qo={class:"text-center"},Jo={class:"font-semibold text-red-600 dark:text-red-400"},Ho={class:"text-center border-x"},Zo={class:"font-semibold text-emerald-600 dark:text-emerald-400"},Yo={class:"text-center"},Xo={class:"font-semibold"},ei={key:0,class:"mt-3 pt-3 border-t"},ti={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},si={class:"flex gap-2"},ai=Y({__name:"WalletTransactionCard",props:{transaction:{}},emits:["continue-payment","status-updated"],setup(l,{emit:d}){const u=l,c=d,{formatDate:P,getTransactionTypeLabel:v,getTransactionStatusLabel:n}=Me(),f=L(!1),j=L(u.transaction.status),g=["topup","top_up","bonus","refund"],S=N(()=>g.includes(u.transaction.type)),h=y=>q(y,"-"),b=y=>typeof y=="object"&&y!==null&&!Array.isArray(y),x=y=>{if(y==null)return null;if(b(y))return y;if(typeof y=="string"){const B=y.trim();if(!B)return null;if(!(B.startsWith("{")&&B.endsWith("}")||B.startsWith("[")&&B.endsWith("]")))return B;try{const Q=JSON.parse(B);return b(Q)?Q:B}catch{return B}}return String(y)},C=N(()=>x(u.transaction.notes)),A=N(()=>{const y=C.value;return!y||typeof y=="string"||!(typeof y.bank_name=="string"&&typeof y.bank_account=="string"&&typeof y.bank_holder=="string")?null:{bank_name:y.bank_name,bank_account:y.bank_account,bank_holder:y.bank_holder,gross_amount:typeof y.gross_amount=="number"?y.gross_amount:void 0,admin_fee:typeof y.admin_fee=="number"?y.admin_fee:void 0,net_amount:typeof y.net_amount=="number"?y.net_amount:void 0}}),k=N(()=>{const y=C.value;if(!y)return"";if(typeof y=="string")return y;if(A.value)return"";if(typeof y.message=="string")return y.message;if(typeof y.description=="string")return y.description;if(typeof y.label=="string")return y.label;try{return JSON.stringify(y)}catch{return"[notes]"}}),I=async y=>{if(!f.value){f.value=!0;try{const B=await de.post("/client/wallet/check-status",{transaction_ref:y});B.data.success?(j.value=B.data.status,c("status-updated",{transactionRef:y,status:B.data.status,newBalance:B.data.new_balance}),M.success(B.data.message),setTimeout(()=>{xe.reload({only:["customer","transactions"]})},500)):M.error(B.data.message)}catch(B){console.error("Check status error:",B),M.error(B.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{f.value=!1}}};return(y,B)=>(o(),m("div",Mo,[t("div",Bo,[t("div",Lo,[t("div",{class:Z(["p-1.5 rounded-full shrink-0",{"bg-emerald-100 dark:bg-emerald-900/20":S.value,"bg-red-100 dark:bg-red-900/20":!S.value}])},[S.value?(o(),R(e(Ut),{key:0,class:"w-3.5 h-3.5 text-emerald-600 dark:text-emerald-400"})):(o(),R(e(Et),{key:1,class:"w-3.5 h-3.5 text-red-600 dark:text-red-400"}))],2),t("div",null,[t("p",Io,r(e(v)(l.transaction.type)),1),t("p",Vo,r(e(P)(l.transaction.created_at)),1)])]),s(e(K),{variant:"secondary",class:Z(["shrink-0",{"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100":j.value==="pending","bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-100":j.value==="completed","bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-100":j.value==="failed"||j.value==="cancelled"}])},{default:a(()=>[i(r(e(n)(j.value)),1)]),_:1},8,["class"])]),t("div",Uo,[k.value?(o(),m("p",Eo,r(k.value),1)):A.value?(o(),m("div",Ko,[t("p",No," Rekening: "+r(A.value.bank_name)+" - "+r(A.value.bank_account),1),t("p",null," a.n "+r(A.value.bank_holder),1),t("div",Fo,[t("div",null,[B[2]||(B[2]=t("p",{class:"text-[11px] text-muted-foreground"},"Gross",-1)),t("p",zo,r(A.value.gross_amount!=null?h(A.value.gross_amount):"-"),1)]),t("div",Oo,[B[3]||(B[3]=t("p",{class:"text-[11px] text-muted-foreground"},"Admin",-1)),t("p",Wo,r(A.value.admin_fee!=null?h(A.value.admin_fee):"-"),1)]),t("div",null,[B[4]||(B[4]=t("p",{class:"text-[11px] text-muted-foreground"},"Net",-1)),t("p",qo,r(A.value.net_amount!=null?h(A.value.net_amount):"-"),1)])])])):w("",!0),t("p",null,"Ref: "+r(l.transaction.transaction_ref),1)]),t("div",Go,[t("div",Qo,[B[5]||(B[5]=t("p",{class:"text-muted-foreground mb-0.5"},"Debit",-1)),t("p",Jo,r(S.value?"-":h(l.transaction.amount)),1)]),t("div",Ho,[B[6]||(B[6]=t("p",{class:"text-muted-foreground mb-0.5"},"Kredit",-1)),t("p",Zo,r(S.value?h(l.transaction.amount):"-"),1)]),t("div",Yo,[B[7]||(B[7]=t("p",{class:"text-muted-foreground mb-0.5"},"Saldo",-1)),t("p",Xo,r(h(l.transaction.balance_after)),1)])]),l.transaction.type==="topup"&&j.value==="pending"&&l.transaction.midtrans_transaction_id?(o(),m("div",ei,[t("div",ti,[B[10]||(B[10]=t("p",{class:"text-xs text-muted-foreground"},"Pembayaran menunggu konfirmasi",-1)),t("div",si,[s(e(F),{size:"sm",variant:"outline",disabled:f.value,onClick:B[0]||(B[0]=E=>I(l.transaction.transaction_ref)),class:"shrink-0"},{default:a(()=>[s(e(Vt),{class:Z(["w-3 h-3 mr-1",{"animate-spin":f.value}])},null,8,["class"]),B[8]||(B[8]=i(" Cek Status ",-1))]),_:1},8,["disabled"]),s(e(F),{size:"sm",onClick:B[1]||(B[1]=E=>c("continue-payment",l.transaction.midtrans_transaction_id)),class:"shrink-0"},{default:a(()=>[s(e(Te),{class:"w-3 h-3 mr-1"}),B[9]||(B[9]=i(" Lanjutkan Pembayaran ",-1))]),_:1})])])])):w("",!0)]))}}),li={key:0,class:"space-y-3"},ni={key:1,class:"py-12 text-center"},ri=Y({__name:"WalletTransactionList",props:{transactions:{}},setup(l){const d=wt(),u=N(()=>d.props.customer),c=v=>{typeof window>"u"||(window.snap?window.snap.pay(v,{onSuccess:function(n){console.log("Payment success:",n),M.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(n){console.log("Payment pending:",n),M.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(n){M.error("Pembayaran gagal."),console.error("Payment error:",n)},onClose:function(){M("Pembayaran ditutup sebelum selesai."),console.log("Payment modal closed")}}):alert("Midtrans Snap belum siap. Silakan refresh halaman."))},P=v=>{v.newBalance!==void 0&&u.value&&(u.value.ewallet_saldo=v.newBalance)};return(v,n)=>(o(),R(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...n[0]||(n[0]=[i("Riwayat Transaksi",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[i(r(l.transactions.length)+" transaksi e-wallet terbaru ",1)]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[l.transactions.length>0?(o(),m("div",li,[(o(!0),m(W,null,te(l.transactions,f=>(o(),R(ai,{key:f.id,transaction:f,onContinuePayment:c,onStatusUpdated:P},null,8,["transaction"]))),128))])):(o(),m("div",ni,[s(e(De),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),n[1]||(n[1]=t("p",{class:"text-muted-foreground"},"Belum ada transaksi",-1))]))]),_:1})]),_:1}))}}),oi={class:"flex-1"},ii={key:0,class:"text-xs mt-1 text-gray-700 dark:text-gray-300"},di={class:"font-mono"},ui={class:"uppercase"},mi=["disabled"],ci={key:1,class:"border border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 text-xs text-amber-800 dark:text-amber-200"},pi=Y({__name:"WalletStatusBanner",props:{initialTransactions:{}},setup(l){const d=l,u=L(!1),c=L(null),P=L(null),v=N(()=>{const g=P.value?.status||"";return g==="completed"||g==="success"?{tone:"success",title:"Top up berhasil",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900",text:"text-green-800 dark:text-green-200"}:g==="pending"?{tone:"pending",title:"Menunggu pembayaran",bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-900",text:"text-yellow-800 dark:text-yellow-200"}:g==="cancelled"||g==="failed"||g==="expire"||g==="denied"||g==="deny"?{tone:"failed",title:"Pembayaran gagal / dibatalkan",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-900",text:"text-red-800 dark:text-red-200"}:{tone:"info",title:"Status transaksi",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900",text:"text-blue-800 dark:text-blue-200"}});function n(g,S=2){const h=new Date(g).getTime();return(Date.now()-h)/36e5<=S}const f=N(()=>{if(!P.value)return!1;const g=P.value.status;return g==="pending"?!0:g==="completed"||g==="success"?n(P.value.created_at,2):n(P.value.created_at,6)});async function j(){try{u.value=!0,c.value=null;const{data:g}=await de.get("/client/wallet/history",{params:{type:"topup"}}),S=Array.isArray(g?.data)?g.data:Array.isArray(g)?g:[];S.length>0&&(P.value=S[0])}catch(g){c.value=g?.response?.data?.message||g?.message||"Gagal memuat status transaksi."}finally{u.value=!1}}return at(()=>{d.initialTransactions&&d.initialTransactions.length>0&&(P.value=d.initialTransactions[0]),j()}),(g,S)=>f.value?(o(),m("div",{key:0,class:Z(["border rounded-lg p-4 flex items-start gap-3",v.value.border,v.value.bg])},[t("div",oi,[t("p",{class:Z(["text-sm font-semibold",v.value.text])},r(v.value.title),3),P.value?(o(),m("p",ii,[S[0]||(S[0]=i(" Ref: ",-1)),t("span",di,r(P.value.transaction_ref),1),i("  Jumlah: Rp "+r(new Intl.NumberFormat("id-ID").format(P.value.amount))+"  Status: ",1),t("span",ui,r(P.value.status),1)])):w("",!0)]),t("button",{type:"button",class:"text-xs underline text-gray-700 dark:text-gray-300",onClick:j,disabled:u.value},r(u.value?"Menyegarkan...":"Segarkan"),9,mi)],2)):c.value?(o(),m("div",ci,r(c.value),1)):w("",!0)}}),fi={class:"space-y-6"},xi=Y({__name:"WalletTab",props:{customer:{},transactions:{},hasPendingWithdrawal:{type:Boolean}},setup(l){const d=L("wallet");return(u,c)=>(o(),m("div",fi,[s(Tr,{balance:Number(l.customer.ewallet_saldo)||0,onTopup:c[0]||(c[0]=P=>d.value="wallet-topup"),onWithdrawal:c[1]||(c[1]=P=>d.value="wallet-withdrawal")},null,8,["balance"]),d.value==="wallet"?(o(),R(pi,{key:0,"initial-transactions":l.transactions},null,8,["initial-transactions"])):w("",!0),d.value==="wallet-topup"?(o(),R(Fr,{key:1,onCancel:c[2]||(c[2]=P=>d.value="wallet")})):w("",!0),d.value==="wallet-withdrawal"?(o(),R(Do,{key:2,customer:l.customer,"max-amount":Number(l.customer.ewallet_saldo)||0,"has-pending-withdrawal":l.hasPendingWithdrawal,onCancel:c[3]||(c[3]=P=>d.value="wallet")},null,8,["customer","max-amount","has-pending-withdrawal"])):w("",!0),d.value==="wallet"?(o(),R(ri,{key:3,transactions:l.transactions},null,8,["transactions"])):w("",!0)]))}}),gi={class:"space-y-2"},vi={class:"relative"},bi={key:0,class:"text-sm text-red-500"},yi={class:"space-y-2"},_i={class:"relative"},ki={key:0,class:"text-sm text-red-500"},hi={class:"space-y-2"},wi={class:"relative"},$i={class:"flex items-center justify-end gap-3"},Pi=Y({__name:"SecurityTab",setup(l){const d=Ce({current_password:"",password:"",password_confirmation:""}),u=L(!1),c=L(!1),P=L(!1),v=()=>{d.patch("/client/profile/password",{preserveScroll:!0,onSuccess:()=>{d.reset(),u.value=!1,c.value=!1,P.value=!1,M.success("Password berhasil diubah")}})};return(n,f)=>(o(),R(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...f[7]||(f[7]=[i("Ubah Password",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...f[8]||(f[8]=[i(" Pastikan akun Anda menggunakan password yang kuat ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("form",{onSubmit:We(v,["prevent"]),class:"space-y-6"},[t("div",gi,[s(e(G),{for:"current_password"},{default:a(()=>[...f[9]||(f[9]=[i(" Password Saat Ini ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",vi,[s(e(Ye),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"current_password",modelValue:e(d).current_password,"onUpdate:modelValue":f[0]||(f[0]=j=>e(d).current_password=j),type:u.value?"text":"password",placeholder:"Masukkan password saat ini",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:f[1]||(f[1]=j=>u.value=!u.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[u.value?(o(),R(e(Je),{key:1,class:"h-4 w-4"})):(o(),R(e(Qe),{key:0,class:"h-4 w-4"}))])]),e(d).errors.current_password?(o(),m("p",bi,r(e(d).errors.current_password),1)):w("",!0)]),s(e(le)),t("div",yi,[s(e(G),{for:"password"},{default:a(()=>[...f[10]||(f[10]=[i(" Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",_i,[s(e(Mt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"password",modelValue:e(d).password,"onUpdate:modelValue":f[2]||(f[2]=j=>e(d).password=j),type:c.value?"text":"password",placeholder:"Masukkan password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:f[3]||(f[3]=j=>c.value=!c.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[c.value?(o(),R(e(Je),{key:1,class:"h-4 w-4"})):(o(),R(e(Qe),{key:0,class:"h-4 w-4"}))])]),f[11]||(f[11]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimal 8 karakter ",-1)),e(d).errors.password?(o(),m("p",ki,r(e(d).errors.password),1)):w("",!0)]),t("div",hi,[s(e(G),{for:"password_confirmation"},{default:a(()=>[...f[12]||(f[12]=[i(" Konfirmasi Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",wi,[s(e(Mt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"password_confirmation",modelValue:e(d).password_confirmation,"onUpdate:modelValue":f[4]||(f[4]=j=>e(d).password_confirmation=j),type:P.value?"text":"password",placeholder:"Konfirmasi password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:f[5]||(f[5]=j=>P.value=!P.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[P.value?(o(),R(e(Je),{key:1,class:"h-4 w-4"})):(o(),R(e(Qe),{key:0,class:"h-4 w-4"}))])])]),t("div",$i,[s(e(F),{type:"button",variant:"outline",onClick:f[6]||(f[6]=j=>e(d).reset()),disabled:e(d).processing},{default:a(()=>[...f[13]||(f[13]=[i(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"submit",disabled:e(d).processing},{default:a(()=>[e(d).processing?w("",!0):(o(),R(e(Ye),{key:0,class:"w-4 h-4 mr-2"})),i(" "+r(e(d).processing?"Mengupdate...":"Update Password"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Si={class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Ci={class:"flex items-start gap-3"},Ri={class:"flex-1"},Ti=Y({__name:"DangerZoneTab",setup(l){const d=L(!1),u=Ce({}),c=()=>{u.delete("/client/profile",{onFinish:()=>{d.value=!1}})};return(P,v)=>(o(),m(W,null,[s(e(z),{class:"border-red-200 dark:border-red-900"},{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"text-red-600 dark:text-red-400"},{default:a(()=>[...v[3]||(v[3]=[i("Zona Bahaya",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...v[4]||(v[4]=[i(" Tindakan di bawah ini bersifat permanen dan tidak dapat dibatalkan ",-1)])]),_:1})]),_:1}),s(e(O),{class:"space-y-6"},{default:a(()=>[t("div",Si,[t("div",Ci,[s(e(je),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),t("div",Ri,[v[6]||(v[6]=t("h3",{class:"font-semibold text-red-900 dark:text-red-100"}," Hapus Akun ",-1)),v[7]||(v[7]=t("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Setelah akun Anda dihapus, semua data akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1)),s(e(F),{type:"button",variant:"destructive",class:"mt-4",onClick:v[0]||(v[0]=n=>d.value=!0)},{default:a(()=>[s(e(ct),{class:"w-4 h-4 mr-2"}),v[5]||(v[5]=i(" Hapus Akun Saya ",-1))]),_:1})])])])]),_:1})]),_:1}),s(e(Ue),{open:d.value,"onUpdate:open":v[2]||(v[2]=n=>d.value=n)},{default:a(()=>[s(e(Le),null,{default:a(()=>[s(e(Ke),null,{default:a(()=>[s(e(Ie),{class:"flex items-center gap-2 text-red-600"},{default:a(()=>[s(e(je),{class:"w-5 h-5"}),v[8]||(v[8]=i(" Konfirmasi Hapus Akun ",-1))]),_:1}),s(e(Ve),null,{default:a(()=>[...v[9]||(v[9]=[i(" Apakah Anda yakin ingin menghapus akun Anda? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan dihapus secara permanen. ",-1)])]),_:1})]),_:1}),v[11]||(v[11]=t("div",{class:"py-4"},[t("div",{class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},[t("p",{class:"text-sm text-red-700 dark:text-red-300"},[t("strong",null,"Data yang akan dihapus:")]),t("ul",{class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside space-y-1"},[t("li",null,"Informasi profil dan akun"),t("li",null,"Riwayat transaksi"),t("li",null,"E-wallet dan saldo"),t("li",null,"Jaringan dan bonus")])])],-1)),s(e(Ee),null,{default:a(()=>[s(e(F),{type:"button",variant:"outline",onClick:v[1]||(v[1]=n=>d.value=!1),disabled:e(u).processing},{default:a(()=>[...v[10]||(v[10]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"button",variant:"destructive",onClick:c,disabled:e(u).processing},{default:a(()=>[s(e(ct),{class:"w-4 h-4 mr-2"}),i(" "+r(e(u).processing?"Menghapus...":"Ya, Hapus Akun"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Ai={key:0,class:"text-center py-12 text-muted-foreground"},ji={class:"flex items-start justify-between"},Di={class:"flex-1"},Mi={class:"flex items-center gap-2 mb-2"},Bi={class:"font-semibold text-lg"},Li={class:"text-sm font-normal text-muted-foreground"},Ii={class:"space-y-1 text-sm text-muted-foreground"},Vi={key:0},Ui={key:1,class:"text-xs font-medium text-primary"},Ei={key:2,class:"text-xs"},Ki={class:"text-blue-600 dark:text-blue-400"},Ni={class:"text-green-600 dark:text-green-400"},Fi={class:"text-xs"},zi={class:"text-xs font-medium text-green-600 dark:text-green-400"},Oi={class:"flex flex-col items-end gap-2"},Wi={key:0,class:"text-center py-12 text-muted-foreground"},qi={class:"flex items-start justify-between"},Gi={class:"flex-1"},Qi={class:"flex items-center gap-2 mb-2"},Ji={class:"font-semibold text-lg"},Hi={class:"text-sm font-normal text-muted-foreground"},Zi={class:"space-y-1 text-sm text-muted-foreground"},Yi={key:0},Xi={key:1,class:"text-xs font-medium text-primary"},ed={key:2,class:"text-xs"},td={class:"text-blue-600 dark:text-blue-400"},sd={class:"text-green-600 dark:text-green-400"},ad={class:"text-xs"},ld={class:"text-xs font-medium text-orange-600 dark:text-orange-400"},nd={class:"flex flex-col items-end gap-2"},rd={key:0,class:"text-center py-12 text-muted-foreground"},od={class:"flex items-start justify-between"},id={class:"flex-1"},dd={class:"flex items-center gap-2 mb-2"},ud={class:"font-semibold text-lg"},md={class:"text-sm font-normal text-muted-foreground"},cd={class:"space-y-1 text-sm text-muted-foreground"},pd={key:0},fd={key:1,class:"text-xs font-medium text-primary"},xd={key:2,class:"text-xs"},gd={class:"text-blue-600 dark:text-blue-400"},vd={class:"text-green-600 dark:text-green-400"},bd={class:"text-xs"},yd={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},_d={class:"flex flex-col items-end gap-2"},kd={class:"font-semibold"},hd={class:"grid grid-cols-2 gap-4 py-4"},wd=["disabled"],$d={class:"text-xs text-muted-foreground mt-1"},Pd=["disabled"],Sd={class:"text-xs text-muted-foreground mt-1"},Cd=Y({__name:"NetworkMembersTab",props:{activeMembers:{},passiveMembers:{},prospectMembers:{},hasLeft:{type:Boolean},hasRight:{type:Boolean}},setup(l){const d=L(!1),u=L(null),c=L(null),P=Ce({member_id:0,position:""}),v=h=>{u.value=h,c.value=null,P.member_id=h.id,P.position="",d.value=!0},n=()=>{d.value=!1,u.value=null,c.value=null,P.reset()},f=()=>{if(!u.value||!c.value){M.error("Pilih posisi terlebih dahulu");return}P.position=c.value,P.post("/client/profile/place-member",{onSuccess:()=>{M.success(`${u.value?.name} berhasil ditempatkan di posisi ${c.value}`),n()},onError:h=>{const b=h.error||"Gagal menempatkan member ke binary tree";M.error(b)}})},j=h=>new Date(h).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),g=h=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(h),S=h=>h?{variant:h==="left"?"default":"secondary",text:h==="left"?"Kiri":"Kanan"}:{variant:"outline",text:"Belum Ditempatkan"};return(h,b)=>(o(),m(W,null,[s(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...b[2]||(b[2]=[i("Jaringan Member",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...b[3]||(b[3]=[i("Kelola dan lihat member dalam jaringan Anda",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(kt),{"default-value":"active",class:"w-full"},{default:a(()=>[s(e(ht),{class:"grid w-full grid-cols-3"},{default:a(()=>[s(e(oe),{value:"active"},{default:a(()=>[s(e(ge),{class:"w-4 h-4 mr-2"}),i(" Aktif ("+r(l.activeMembers.length)+") ",1)]),_:1}),s(e(oe),{value:"passive"},{default:a(()=>[s(e(He),{class:"w-4 h-4 mr-2"}),i(" Pasif ("+r(l.passiveMembers.length)+") ",1)]),_:1}),s(e(oe),{value:"prospect"},{default:a(()=>[s(e(Ze),{class:"w-4 h-4 mr-2"}),i(" Prospek ("+r(l.prospectMembers.length)+") ",1)]),_:1})]),_:1}),s(e(ie),{value:"active",class:"space-y-4"},{default:a(()=>[l.activeMembers.length===0?(o(),m("div",Ai,[s(e(ge),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),b[4]||(b[4]=t("p",null,"Belum ada member aktif",-1)),b[5]||(b[5]=t("p",{class:"text-sm mt-2"},"Member aktif adalah member yang sudah ditempatkan di binary tree",-1))])):w("",!0),(o(!0),m(W,null,te(l.activeMembers,x=>(o(),R(e(z),{key:x.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(O),{class:"p-4"},{default:a(()=>[t("div",ji,[t("div",Di,[t("div",Mi,[t("h4",Bi,[i(r(x.name)+" ",1),t("span",Li,"(@"+r(x.username)+")",1)]),s(e(K),{variant:S(x.position).variant},{default:a(()=>[i(r(S(x.position).text),1)]),_:2},1032,["variant"]),x.level?(o(),R(e(K),{key:0,variant:"outline"},{default:a(()=>[i(" Level "+r(x.level),1)]),_:2},1024)):w("",!0)]),t("div",Ii,[t("p",null,r(x.email),1),x.phone?(o(),m("p",Vi,r(x.phone),1)):w("",!0),x.package_name?(o(),m("p",Ui," Paket: "+r(x.package_name),1)):w("",!0),(x.total_left??0)>0||(x.total_right??0)>0?(o(),m("p",Ei,[t("span",Ki,"Kiri: "+r(x.total_left??0),1),b[6]||(b[6]=t("span",{class:"mx-1"},"|",-1)),t("span",Ni,"Kanan: "+r(x.total_right??0),1)])):w("",!0),t("p",Fi,"Bergabung: "+r(j(x.joined_at)),1),t("p",zi," Omzet: "+r(g(x.omzet)),1)])]),t("div",Oi,[s(e(K),{variant:"default"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 mr-1"}),b[7]||(b[7]=i(" Aktif ",-1))]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(ie),{value:"passive",class:"space-y-4"},{default:a(()=>[l.passiveMembers.length===0?(o(),m("div",Wi,[s(e(He),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),b[8]||(b[8]=t("p",null,"Belum ada member pasif",-1)),b[9]||(b[9]=t("p",{class:"text-sm mt-2"},"Member pasif adalah member yang belum ditempatkan di binary tree tapi sudah memiliki pembelian/order",-1))])):w("",!0),(o(!0),m(W,null,te(l.passiveMembers,x=>(o(),R(e(z),{key:x.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(O),{class:"p-4"},{default:a(()=>[t("div",qi,[t("div",Gi,[t("div",Qi,[t("h4",Ji,[i(r(x.name)+" ",1),t("span",Hi,"(@"+r(x.username)+")",1)]),s(e(K),{variant:"secondary"},{default:a(()=>[...b[10]||(b[10]=[i("Belum Ditempatkan",-1)])]),_:1})]),t("div",Zi,[t("p",null,r(x.email),1),x.phone?(o(),m("p",Yi,r(x.phone),1)):w("",!0),x.package_name?(o(),m("p",Xi," Paket: "+r(x.package_name),1)):w("",!0),(x.total_left??0)>0||(x.total_right??0)>0?(o(),m("p",ed,[t("span",td,"Kiri: "+r(x.total_left??0),1),b[11]||(b[11]=t("span",{class:"mx-1"},"|",-1)),t("span",sd,"Kanan: "+r(x.total_right??0),1)])):w("",!0),t("p",ad,"Bergabung: "+r(j(x.joined_at)),1),t("p",ld," Omzet: "+r(g(x.omzet)),1)])]),t("div",nd,[s(e(K),{variant:"outline"},{default:a(()=>[s(e(He),{class:"w-3 h-3 mr-1"}),b[12]||(b[12]=i(" Pasif ",-1))]),_:1}),s(e(K),{variant:"default"},{default:a(()=>[...b[13]||(b[13]=[i(" Sudah Belanja ",-1)])]),_:1}),!l.hasLeft||!l.hasRight?(o(),R(e(F),{key:0,size:"sm",variant:"default",class:"mt-2",onClick:C=>v(x)},{default:a(()=>[s(e(Ne),{class:"w-3 h-3 mr-1"}),b[14]||(b[14]=i(" Tempatkan ke Binary ",-1))]),_:1},8,["onClick"])):w("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(ie),{value:"prospect",class:"space-y-4"},{default:a(()=>[l.prospectMembers.length===0?(o(),m("div",rd,[s(e(Ze),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),b[15]||(b[15]=t("p",null,"Belum ada member prospek",-1)),b[16]||(b[16]=t("p",{class:"text-sm mt-2"},"Member prospek adalah member yang baru mendaftar, belum ditempatkan di binary tree dan belum memiliki pembelian/order",-1))])):w("",!0),(o(!0),m(W,null,te(l.prospectMembers,x=>(o(),R(e(z),{key:x.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(O),{class:"p-4"},{default:a(()=>[t("div",od,[t("div",id,[t("div",dd,[t("h4",ud,[i(r(x.name)+" ",1),t("span",md,"(@"+r(x.username)+")",1)]),s(e(K),{variant:"outline"},{default:a(()=>[...b[17]||(b[17]=[i("Baru Bergabung",-1)])]),_:1})]),t("div",cd,[t("p",null,r(x.email),1),x.phone?(o(),m("p",pd,r(x.phone),1)):w("",!0),x.package_name?(o(),m("p",fd," Paket: "+r(x.package_name),1)):w("",!0),(x.total_left??0)>0||(x.total_right??0)>0?(o(),m("p",xd,[t("span",gd,"Kiri: "+r(x.total_left??0),1),b[18]||(b[18]=t("span",{class:"mx-1"},"|",-1)),t("span",vd,"Kanan: "+r(x.total_right??0),1)])):w("",!0),t("p",bd,"Bergabung: "+r(j(x.joined_at)),1),t("p",yd," Omzet: "+r(g(x.omzet)),1)])]),t("div",_d,[s(e(K),{variant:"secondary"},{default:a(()=>[s(e(Ze),{class:"w-3 h-3 mr-1"}),b[19]||(b[19]=i(" Prospek ",-1))]),_:1}),s(e(K),{variant:"secondary"},{default:a(()=>[...b[20]||(b[20]=[i(" Belum Belanja ",-1)])]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),s(e(Ue),{open:d.value,"onUpdate:open":n},{default:a(()=>[s(e(Le),{class:"sm:max-w-md"},{default:a(()=>[s(e(Ke),null,{default:a(()=>[s(e(Ie),null,{default:a(()=>[...b[21]||(b[21]=[i("Tempatkan Member ke Binary Tree",-1)])]),_:1}),s(e(Ve),null,{default:a(()=>[b[22]||(b[22]=i(" Pilih posisi untuk menempatkan ",-1)),t("span",kd,r(u.value?.name),1),b[23]||(b[23]=i(" di jaringan binary tree Anda. ",-1))]),_:1})]),_:1}),t("div",hd,[t("button",{type:"button",disabled:l.hasLeft,class:Z(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",l.hasLeft?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":c.value==="left"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:b[0]||(b[0]=x=>!l.hasLeft&&(c.value="left"))},[s(e(Ne),{class:"w-8 h-8 mb-2 rotate-90"}),b[24]||(b[24]=t("span",{class:"font-semibold"},"Posisi Kiri",-1)),t("span",$d,r(l.hasLeft?"Sudah Terisi":"Left Position"),1)],10,wd),t("button",{type:"button",disabled:l.hasRight,class:Z(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",l.hasRight?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":c.value==="right"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:b[1]||(b[1]=x=>!l.hasRight&&(c.value="right"))},[s(e(Ne),{class:"w-8 h-8 mb-2 -rotate-90"}),b[25]||(b[25]=t("span",{class:"font-semibold"},"Posisi Kanan",-1)),t("span",Sd,r(l.hasRight?"Sudah Terisi":"Right Position"),1)],10,Pd)]),s(e(Ee),null,{default:a(()=>[s(e(F),{variant:"outline",onClick:n,disabled:e(P).processing},{default:a(()=>[...b[26]||(b[26]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{onClick:f,disabled:!c.value||e(P).processing},{default:a(()=>[i(r(e(P).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Rd=Y({__name:"GoJSBinaryTree",props:{binaryTree:{},isDialog:{type:Boolean,default:!1}},setup(l,{expose:d}){let u=null;const c=l,P=L(null),v=L(!1);let n=null;const f=(x,C=null)=>{if(!x)return{nodes:[],links:[]};const A=[],k=[],I=(y,B,E)=>{const Q=y.level<5,U={key:y.id,name:y.name,username:y.username,package:y.package_name||"Tidak ada paket",totalLeft:y.total_left||0,totalRight:y.total_right||0,position:E,isActive:y.status,hasLeft:!!y.left,hasRight:!!y.right,level:y.level,order:E==="left"?0:E==="right"?1:0};if(A.push(U),B!==null&&k.push({from:B,to:y.id,order:E==="left"?0:1}),!y.left&&y.status&&Q){const T=-y.id*2;A.push({key:T,name:"+ Kiri",username:"",package:"",isPlaceholder:!0,parentId:y.id,placeholderPosition:"left",order:0}),k.push({from:y.id,to:T,order:0})}if(!y.right&&y.status&&Q){const T=-y.id*2-1;A.push({key:T,name:"+ Kanan",username:"",package:"",isPlaceholder:!0,parentId:y.id,placeholderPosition:"right",order:1}),k.push({from:y.id,to:T,order:1})}y.left&&I(y.left,y.id,"left"),y.right&&I(y.right,y.id,"right")};return I(x,C,null),{nodes:A,links:k}},j=()=>{if(!P.value||!u)return;const x=u,C=x.GraphObject.make;n=C(x.Diagram,P.value,{"undoManager.isEnabled":!1,"animationManager.isEnabled":!0,initialAutoScale:x.AutoScale.Uniform,contentAlignment:x.Spot.Top,layout:C(x.TreeLayout,{angle:90,layerSpacing:50,nodeSpacing:20,arrangement:x.TreeArrangement.Horizontal,sorting:x.TreeSorting.Ascending,comparer:(A,k)=>{const I=A.node?.data?.order??0,y=k.node?.data?.order??0;return I-y}}),maxSelectionCount:1}),n.addDiagramListener("ObjectSingleClicked",A=>{const k=A.subject.part;if(k instanceof x.Node){const I=k.data;I?.isPlaceholder&&I?.parentId&&I?.placeholderPosition?window.dispatchEvent(new CustomEvent("gojs-open-placement",{detail:{uplineId:I.parentId,position:I.placeholderPosition}})):!I?.isPlaceholder&&I?.key&&window.dispatchEvent(new CustomEvent("gojs-member-click",{detail:{memberId:I.key}}))}}),n.nodeTemplate=C(x.Node,"Auto",{cursor:"pointer",selectionAdorned:!1},C(x.Shape,"RoundedRectangle",{fill:"white",stroke:"#e2e8f0",strokeWidth:2,parameter1:8},new x.Binding("fill","",A=>A.isPlaceholder?"#f8fafc":A.isActive?"#ffffff":"#fef3c7"),new x.Binding("stroke","",A=>A.isPlaceholder?"#cbd5e1":A.position==="left"?"#3b82f6":A.position==="right"?"#22c55e":"#6366f1"),new x.Binding("strokeWidth","",A=>A.isPlaceholder?1:2),new x.Binding("strokeDashArray","isPlaceholder",A=>A?[4,4]:null)),C(x.Panel,"Vertical",{margin:8,defaultAlignment:x.Spot.Left},C(x.TextBlock,{font:"bold 13px Inter, sans-serif",stroke:"#1e293b",maxSize:new x.Size(140,NaN),wrap:x.Wrap.Fit,textAlign:"center",alignment:x.Spot.Center},new x.Binding("text","name"),new x.Binding("stroke","isPlaceholder",A=>A?"#64748b":"#1e293b"),new x.Binding("font","isPlaceholder",A=>A?"12px Inter, sans-serif":"bold 13px Inter, sans-serif")),C(x.TextBlock,{font:"11px Inter, sans-serif",stroke:"#64748b",maxSize:new x.Size(140,NaN),wrap:x.Wrap.Fit,margin:new x.Margin(2,0,0,0),alignment:x.Spot.Center},new x.Binding("text","username"),new x.Binding("visible","isPlaceholder",A=>!A)),C(x.Panel,"Auto",{margin:new x.Margin(4,0,0,0),alignment:x.Spot.Center},new x.Binding("visible","isPlaceholder",A=>!A),C(x.Shape,"RoundedRectangle",{fill:"#eff6ff",stroke:"#bfdbfe",strokeWidth:1,parameter1:4}),C(x.TextBlock,{font:"10px Inter, sans-serif",stroke:"#1d4ed8",margin:new x.Margin(2,6,2,6)},new x.Binding("text","package"))),C(x.Panel,"Horizontal",{margin:new x.Margin(6,0,0,0),alignment:x.Spot.Center},new x.Binding("visible","isPlaceholder",A=>!A),C(x.Panel,"Horizontal",C(x.Shape,"Circle",{width:8,height:8,fill:"#3b82f6",stroke:null,margin:new x.Margin(0,4,0,0)}),C(x.TextBlock,{font:"10px Inter, sans-serif",stroke:"#64748b"},new x.Binding("text","totalLeft",A=>`L: ${A}`))),C(x.TextBlock," | ",{font:"10px Inter, sans-serif",stroke:"#cbd5e1"}),C(x.Panel,"Horizontal",C(x.Shape,"Circle",{width:8,height:8,fill:"#22c55e",stroke:null,margin:new x.Margin(0,4,0,0)}),C(x.TextBlock,{font:"10px Inter, sans-serif",stroke:"#64748b"},new x.Binding("text","totalRight",A=>`R: ${A}`)))))),n.linkTemplate=C(x.Link,{routing:x.Routing.Orthogonal,corner:10,selectable:!1},C(x.Shape,{strokeWidth:2,stroke:"#cbd5e1"})),g()},g=()=>{if(!n||!c.binaryTree||!u)return;const x=u,{nodes:C,links:A}=f(c.binaryTree);n.model=new x.GraphLinksModel(C,A),requestAnimationFrame(()=>{n&&n.zoomToFit()})},S=()=>{n&&n.commandHandler.increaseZoom()},h=()=>{n&&n.commandHandler.decreaseZoom()},b=()=>{n&&n.zoomToFit()};return at(async()=>{typeof window<"u"&&(u=await $s(()=>import("./vendor-FclwbLvj.js").then(x=>x.ee),__vite__mapDeps([0,1])),v.value=!0,setTimeout(()=>{j()},0))}),$t(()=>{n&&(n.removeDiagramListener("ObjectSingleClicked",()=>{}),n.clear(),n.div=null,n=null)}),d({zoomIn:S,zoomOut:h,resetZoom:b}),(x,C)=>v.value?(o(),m("div",{key:1,ref_key:"diagramDiv",ref:P,class:Z(["w-full border rounded-lg bg-slate-50",l.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},null,2)):(o(),m("div",{key:0,class:Z(["w-full border rounded-lg bg-slate-50 flex items-center justify-center",l.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},[...C[0]||(C[0]=[t("div",{class:"text-center text-muted-foreground"},[t("div",{class:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-2"}),t("p",{class:"text-sm"},"Memuat diagram...")],-1)])],2))}}),pe=l=>({url:pe.url(l),method:"get"});pe.definition={methods:["get","head"],url:"/client/profile"};pe.url=l=>pe.definition.url+fe(l);pe.get=l=>({url:pe.url(l),method:"get"});pe.head=l=>({url:pe.url(l),method:"head"});const St=l=>({action:pe.url(l),method:"get"});St.get=l=>({action:pe.url(l),method:"get"});St.head=l=>({action:pe.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...l?.query??l?.mergeQuery??{}}}),method:"get"});pe.form=St;const _e=l=>({url:_e.url(l),method:"patch"});_e.definition={methods:["patch"],url:"/client/profile"};_e.url=l=>_e.definition.url+fe(l);_e.patch=l=>({url:_e.url(l),method:"patch"});const Ft=l=>({action:_e.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});Ft.patch=l=>({action:_e.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});_e.form=Ft;const ke=l=>({url:ke.url(l),method:"patch"});ke.definition={methods:["patch"],url:"/client/profile/password"};ke.url=l=>ke.definition.url+fe(l);ke.patch=l=>({url:ke.url(l),method:"patch"});const zt=l=>({action:ke.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});zt.patch=l=>({action:ke.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});ke.form=zt;const he=l=>({url:he.url(l),method:"delete"});he.definition={methods:["delete"],url:"/client/profile"};he.url=l=>he.definition.url+fe(l);he.delete=l=>({url:he.url(l),method:"delete"});const Ot=l=>({action:he.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...l?.query??l?.mergeQuery??{}}}),method:"post"});Ot.delete=l=>({action:he.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...l?.query??l?.mergeQuery??{}}}),method:"post"});he.form=Ot;const ve=l=>({url:ve.url(l),method:"post"});ve.definition={methods:["post"],url:"/client/profile/place-member"};ve.url=l=>ve.definition.url+fe(l);ve.post=l=>({url:ve.url(l),method:"post"});const Wt=l=>({action:ve.url(l),method:"post"});Wt.post=l=>({action:ve.url(l),method:"post"});ve.form=Wt;const me=(l,d)=>({url:me.url(l,d),method:"get"});me.definition={methods:["get","head"],url:"/client/profile/member-tree/{memberId}"};me.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={memberId:l}),Array.isArray(l)&&(l={memberId:l[0]}),l=lt(l);const u={memberId:l.memberId};return me.definition.url.replace("{memberId}",u.memberId.toString()).replace(/\/+$/,"")+fe(d)};me.get=(l,d)=>({url:me.url(l,d),method:"get"});me.head=(l,d)=>({url:me.url(l,d),method:"head"});const Ct=(l,d)=>({action:me.url(l,d),method:"get"});Ct.get=(l,d)=>({action:me.url(l,d),method:"get"});Ct.head=(l,d)=>({action:me.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...d?.query??d?.mergeQuery??{}}}),method:"get"});me.form=Ct;const ce=l=>({url:ce.url(l),method:"get"});ce.definition={methods:["get","head"],url:"/client/profile/search-member"};ce.url=l=>ce.definition.url+fe(l);ce.get=l=>({url:ce.url(l),method:"get"});ce.head=l=>({url:ce.url(l),method:"head"});const Rt=l=>({action:ce.url(l),method:"get"});Rt.get=l=>({action:ce.url(l),method:"get"});Rt.head=l=>({action:ce.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...l?.query??l?.mergeQuery??{}}}),method:"get"});ce.form=Rt;const be=l=>({url:be.url(l),method:"post"});be.definition={methods:["post"],url:"/client/profile/claim-lifetime-reward"};be.url=l=>be.definition.url+fe(l);be.post=l=>({url:be.url(l),method:"post"});const qt=l=>({action:be.url(l),method:"post"});qt.post=l=>({action:be.url(l),method:"post"});be.form=qt;const we=l=>({url:we.url(l),method:"post"});we.definition={methods:["post"],url:"/client/profile/addresses"};we.url=l=>we.definition.url+fe(l);we.post=l=>({url:we.url(l),method:"post"});const Gt=l=>({action:we.url(l),method:"post"});Gt.post=l=>({action:we.url(l),method:"post"});we.form=Gt;const $e=(l,d)=>({url:$e.url(l,d),method:"put"});$e.definition={methods:["put"],url:"/client/profile/addresses/{address}"};$e.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=lt(l);const u={address:l.address};return $e.definition.url.replace("{address}",u.address.toString()).replace(/\/+$/,"")+fe(d)};$e.put=(l,d)=>({url:$e.url(l,d),method:"put"});const Qt=(l,d)=>({action:$e.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...d?.query??d?.mergeQuery??{}}}),method:"post"});Qt.put=(l,d)=>({action:$e.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...d?.query??d?.mergeQuery??{}}}),method:"post"});$e.form=Qt;const Pe=(l,d)=>({url:Pe.url(l,d),method:"delete"});Pe.definition={methods:["delete"],url:"/client/profile/addresses/{address}"};Pe.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=lt(l);const u={address:l.address};return Pe.definition.url.replace("{address}",u.address.toString()).replace(/\/+$/,"")+fe(d)};Pe.delete=(l,d)=>({url:Pe.url(l,d),method:"delete"});const Jt=(l,d)=>({action:Pe.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...d?.query??d?.mergeQuery??{}}}),method:"post"});Jt.delete=(l,d)=>({action:Pe.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...d?.query??d?.mergeQuery??{}}}),method:"post"});Pe.form=Jt;const Se=(l,d)=>({url:Se.url(l,d),method:"post"});Se.definition={methods:["post"],url:"/client/profile/addresses/{address}/set-default"};Se.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=lt(l);const u={address:l.address};return Se.definition.url.replace("{address}",u.address.toString()).replace(/\/+$/,"")+fe(d)};Se.post=(l,d)=>({url:Se.url(l,d),method:"post"});const Ht=(l,d)=>({action:Se.url(l,d),method:"post"});Ht.post=(l,d)=>({action:Se.url(l,d),method:"post"});Se.form=Ht;const Td={class:"space-y-4 sm:space-y-6"},Ad={class:"grid grid-cols-3 gap-2 sm:gap-4"},jd={class:"text-lg sm:text-2xl font-bold"},Dd={class:"text-lg sm:text-2xl font-bold text-blue-600"},Md={class:"text-lg sm:text-2xl font-bold text-green-600"},Bd={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Ld={class:"flex items-center gap-2"},Id={class:"flex items-center gap-1 sm:gap-2"},Vd={class:"relative"},Ud={class:"relative"},Ed={key:0,class:"absolute top-full right-0 mt-1 w-64 sm:w-72 bg-background border rounded-lg shadow-lg z-20 max-h-64 overflow-y-auto"},Kd={key:0,class:"p-3 text-center text-sm text-muted-foreground"},Nd=["onMousedown"],Fd={class:"text-sm font-medium truncate"},zd={class:"text-xs text-muted-foreground truncate"},Od={key:0,class:"text-xs text-primary"},Wd={class:"relative"},qd={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg"},Gd={class:"text-center"},Qd={key:2,class:"h-[400px] flex items-center justify-center text-muted-foreground"},Jd={class:"text-center"},Hd={class:"font-semibold"},Zd={class:"flex-1 overflow-y-auto py-2 sm:py-4"},Yd={class:"relative mb-3 sm:mb-4"},Xd={key:0,class:"text-center py-8 sm:py-12 text-muted-foreground"},eu={class:"text-sm sm:text-base"},tu={key:1,class:"text-center py-8 sm:py-12 text-muted-foreground"},su={key:2,class:"space-y-2"},au=["onClick"],lu={class:"flex items-start justify-between gap-2"},nu={class:"flex-1 min-w-0"},ru={class:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1"},ou={class:"font-semibold text-sm sm:text-base truncate"},iu={class:"space-y-0.5 text-xs sm:text-sm text-muted-foreground"},du={class:"truncate"},uu={key:0,class:"truncate"},mu={class:"text-[10px] sm:text-xs"},cu={key:0,class:"flex-shrink-0"},pu=Y({__name:"BinaryTreeTab",props:{binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},passiveMembers:{}},setup(l){const d=l,u=L(null),c=L(!1),P=L(null),v=L(null),n=L(null),f=L(""),j=L(""),g=L([]),S=L(!1),h=L(!1),b=L(!1),x=L(!1),C=L(null),A=L(null),k=L({totalDownlines:0,totalLeft:0,totalRight:0}),I=N(()=>b.value?A.value:d.binaryTree),y=N(()=>b.value?k.value:{totalDownlines:d.totalDownlines,totalLeft:d.totalLeft,totalRight:d.totalRight}),B=L(0),E=N(()=>`tree-${B.value}`),Q=N(()=>{if(!f.value.trim())return d.passiveMembers;const X=f.value.toLowerCase().trim();return d.passiveMembers.filter(V=>{const ee=V.name?.toLowerCase().includes(X),rt=V.email?.toLowerCase().includes(X),ls=V.phone?.toLowerCase().includes(X);return ee||rt||ls})}),U=Ce({member_id:0,upline_id:null,position:""}),T=(X,V)=>{P.value=X,v.value=V,n.value=null,f.value="",c.value=!0},D=()=>{c.value=!1,P.value=null,v.value=null,n.value=null,f.value=""},_=X=>{n.value=X},p=()=>{if(!n.value||!v.value){M.error("Pilih member terlebih dahulu");return}U.member_id=n.value.id,U.upline_id=P.value,U.position=v.value,xe.post(ve().url,{member_id:U.member_id,upline_id:U.upline_id,position:U.position},{preserveScroll:!0,onStart:()=>{U.processing=!0},onFinish:()=>{U.processing=!1},onSuccess:()=>{M.success(`${n.value?.name} berhasil ditempatkan di posisi ${v.value}`),D()},onError:X=>{const V=X.error||"Gagal menempatkan member ke binary tree";M.error(V)}})},$=X=>new Date(X).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),Tt=async X=>{x.value=!0,b.value=!0;try{const V=await de.get(me(X).url);V.data.success?(C.value=V.data.data.member,A.value=V.data.data.tree,k.value={totalDownlines:V.data.data.totalDownlines,totalLeft:V.data.data.totalLeft,totalRight:V.data.data.totalRight},B.value++):(M.error("Gagal memuat data jaringan member"),qe())}catch(V){M.error(V.response?.data?.message||"Gagal memuat data jaringan member"),qe()}finally{x.value=!1}},qe=()=>{b.value=!1,C.value=null,A.value=null,k.value={totalDownlines:0,totalLeft:0,totalRight:0},j.value="",g.value=[],h.value=!1};let nt=null;const Zt=async()=>{const X=j.value.trim();if(X.length<2){g.value=[],h.value=!1;return}nt&&clearTimeout(nt),nt=setTimeout(async()=>{S.value=!0,h.value=!0;try{const V=await de.get(ce({query:{query:X}}).url);V.data.success?g.value=V.data.data:g.value=[]}catch{g.value=[]}finally{S.value=!1}},300)},Yt=X=>{j.value="",g.value=[],h.value=!1,Tt(X.id)},Xt=()=>{setTimeout(()=>{es()},200)},es=()=>{h.value=!1},ts=()=>{u.value?.zoomIn()},ss=()=>{u.value?.zoomOut()},as=()=>{u.value?.resetZoom()},At=X=>{Tt(X.detail.memberId)},jt=X=>{T(X.detail.uplineId,X.detail.position)};return at(()=>{window.addEventListener("gojs-member-click",At),window.addEventListener("gojs-open-placement",jt)}),$t(()=>{window.removeEventListener("gojs-member-click",At),window.removeEventListener("gojs-open-placement",jt)}),(X,V)=>(o(),m(W,null,[t("div",Td,[t("div",Ad,[s(e(z),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...V[2]||(V[2]=[i("Total Jaringan",-1)])]),_:1}),s(e(gt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"})]),_:1}),s(e(O),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",jd,r(y.value.totalDownlines),1),V[3]||(V[3]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member aktif di jaringan Anda",-1))]),_:1})]),_:1}),s(e(z),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...V[4]||(V[4]=[i("Kaki Kiri",-1)])]),_:1}),s(e(Bt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"})]),_:1}),s(e(O),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Dd,r(y.value.totalLeft),1),V[5]||(V[5]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kiri",-1))]),_:1})]),_:1}),s(e(z),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...V[6]||(V[6]=[i("Kaki Kanan",-1)])]),_:1}),s(e(Bt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"})]),_:1}),s(e(O),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Md,r(y.value.totalRight),1),V[7]||(V[7]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kanan",-1))]),_:1})]),_:1})]),s(e(z),null,{default:a(()=>[s(e(J),{class:"p-3 sm:p-6"},{default:a(()=>[t("div",Bd,[t("div",Ld,[b.value?(o(),R(e(F),{key:0,variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:qe},{default:a(()=>[s(e(Lt),{class:"h-4 w-4"})]),_:1})):w("",!0),t("div",null,[s(e(H),{class:"text-sm sm:text-base flex items-center gap-2"},{default:a(()=>[b.value&&C.value?(o(),m(W,{key:0},[i(" Jaringan "+r(C.value.name),1)],64)):(o(),m(W,{key:1},[i(" Struktur Binary Tree ")],64))]),_:1}),s(e(ue),{class:"text-xs sm:text-sm"},{default:a(()=>[b.value&&C.value?(o(),m(W,{key:0},[i(r(C.value.username),1)],64)):(o(),m(W,{key:1},[i(" Visualisasi jaringan MLM binary tree Anda ")],64))]),_:1})])]),t("div",Id,[t("div",Vd,[t("div",Ud,[s(e(Ge),{class:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s(e(se),{modelValue:j.value,"onUpdate:modelValue":V[0]||(V[0]=ee=>j.value=ee),type:"text",placeholder:"Cari member...",class:"h-7 sm:h-8 w-28 sm:w-40 pl-8 text-xs sm:text-sm",onInput:Zt,onBlur:Xt},null,8,["modelValue"]),S.value?(o(),R(e(Ae),{key:0,class:"absolute right-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 animate-spin text-muted-foreground"})):w("",!0)]),h.value&&(g.value.length>0||j.value.length>=2)?(o(),m("div",Ed,[g.value.length===0?(o(),m("div",Kd,[s(e(Ge),{class:"w-5 h-5 mx-auto mb-2 opacity-20"}),V[8]||(V[8]=t("p",null,"Tidak ditemukan",-1))])):w("",!0),(o(!0),m(W,null,te(g.value,ee=>(o(),m("button",{key:ee.id,type:"button",class:"w-full p-2.5 text-left hover:bg-muted/50 border-b last:border-b-0 transition-colors",onMousedown:We(rt=>Yt(ee),["prevent"])},[t("p",Fd,r(ee.name),1),t("p",zd,r(ee.email),1),ee.package_name?(o(),m("p",Od,r(ee.package_name),1)):w("",!0)],40,Nd))),128))])):w("",!0)]),b.value?(o(),R(e(F),{key:0,variant:"outline",size:"sm",class:"h-7 sm:h-8 text-xs",onClick:qe},{default:a(()=>[s(e(Lt),{class:"h-3.5 w-3.5 mr-1"}),V[9]||(V[9]=t("span",{class:"hidden sm:inline"},"Kembali",-1))]),_:1})):w("",!0),s(e(F),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:ss},{default:a(()=>[s(e(Ps),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(F),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:ts},{default:a(()=>[s(e(Ss),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(F),{variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:as,title:"Fit to Screen"},{default:a(()=>[s(e(Cs),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1})])])]),_:1}),s(e(O),{class:"p-2 sm:p-6 pt-0"},{default:a(()=>[t("div",Wd,[x.value?(o(),m("div",qd,[t("div",Gd,[s(e(Ae),{class:"w-8 h-8 mx-auto mb-4 animate-spin text-primary"}),V[10]||(V[10]=t("p",{class:"text-sm text-muted-foreground"},"Memuat data jaringan...",-1))])])):w("",!0),I.value?(o(),R(Rd,{key:E.value,ref_key:"goJSTreeRef",ref:u,"binary-tree":I.value,"is-dialog":b.value},null,8,["binary-tree","is-dialog"])):(o(),m("div",Qd,[t("div",Jd,[s(e(gt),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),V[11]||(V[11]=t("p",null,"Belum ada jaringan binary tree",-1))])]))]),V[12]||(V[12]=t("div",{class:"mt-4 sm:mt-6 p-2 sm:p-4 rounded-lg bg-muted/50"},[t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-center sm:text-left"},[t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[i("  "),t("span",{class:"hidden sm:inline"},'Klik member untuk melihat jaringannya  Klik "+" untuk menambah member'),t("span",{class:"sm:hidden"},"Klik member untuk lihat jaringan")]),t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[t("span",{class:"hidden sm:inline"},"Scroll/drag untuk navigasi  Mouse wheel untuk zoom"),t("span",{class:"sm:hidden"},"Drag & Pinch untuk navigasi")])])],-1))]),_:1})]),_:1})]),s(e(Ue),{open:c.value,"onUpdate:open":D},{default:a(()=>[s(e(Le),{class:"w-[95vw] max-w-2xl max-h-[85vh] overflow-hidden flex flex-col p-4 sm:p-6"},{default:a(()=>[s(e(Ke),{class:"space-y-1 sm:space-y-2"},{default:a(()=>[s(e(Ie),{class:"text-base sm:text-lg"},{default:a(()=>[...V[13]||(V[13]=[i("Pilih Member untuk Ditempatkan",-1)])]),_:1}),s(e(Ve),{class:"text-xs sm:text-sm"},{default:a(()=>[V[14]||(V[14]=i(" Pilih member pasif untuk ditempatkan di posisi ",-1)),t("span",Hd,r(v.value==="left"?"Kiri":"Kanan"),1)]),_:1})]),_:1}),t("div",Zd,[t("div",Yd,[s(e(Ge),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s(e(se),{modelValue:f.value,"onUpdate:modelValue":V[1]||(V[1]=ee=>f.value=ee),type:"text",placeholder:"Cari nama, email, atau telepon...",class:"pl-9 text-sm"},null,8,["modelValue"])]),Q.value.length===0&&f.value?(o(),m("div",Xd,[s(e(Ge),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),t("p",eu,'Tidak ditemukan member dengan "'+r(f.value)+'"',1),V[15]||(V[15]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Coba kata kunci lain",-1))])):l.passiveMembers.length===0?(o(),m("div",tu,[s(e(Ze),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),V[16]||(V[16]=t("p",{class:"text-sm sm:text-base"},"Tidak ada member pasif",-1)),V[17]||(V[17]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Semua member sudah ditempatkan",-1))])):(o(),m("div",su,[(o(!0),m(W,null,te(Q.value,ee=>(o(),m("button",{key:ee.id,type:"button",class:Z(["w-full p-3 sm:p-4 rounded-lg border-2 text-left transition-all",n.value?.id===ee.id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"]),onClick:rt=>_(ee)},[t("div",lu,[t("div",nu,[t("div",ru,[t("h4",ou,r(ee.name),1),ee.has_purchase?(o(),R(e(K),{key:0,variant:"default",class:"text-[10px] sm:text-xs"},{default:a(()=>[...V[18]||(V[18]=[t("span",{class:"hidden sm:inline"},"Ada Pembelian",-1),t("span",{class:"sm:hidden"},"Beli",-1)])]),_:1})):(o(),R(e(K),{key:1,variant:"secondary",class:"text-[10px] sm:text-xs"},{default:a(()=>[...V[19]||(V[19]=[t("span",{class:"hidden sm:inline"},"Belum Belanja",-1),t("span",{class:"sm:hidden"},"Belum",-1)])]),_:1}))]),t("div",iu,[t("p",du,r(ee.email),1),ee.phone?(o(),m("p",uu,r(ee.phone),1)):w("",!0),t("p",mu,"Bergabung: "+r($(ee.joined_at)),1)])]),n.value?.id===ee.id?(o(),m("div",cu,[...V[20]||(V[20]=[t("div",{class:"flex h-5 w-5 sm:h-6 sm:w-6 items-center justify-center rounded-full bg-primary text-primary-foreground"},[t("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):w("",!0)])],10,au))),128))]))]),s(e(Ee),{class:"flex-col-reverse sm:flex-row gap-2 sm:gap-0"},{default:a(()=>[s(e(F),{variant:"outline",onClick:D,disabled:e(U).processing,class:"w-full sm:w-auto"},{default:a(()=>[...V[21]||(V[21]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{onClick:p,disabled:!n.value||e(U).processing,class:"w-full sm:w-auto"},{default:a(()=>[i(r(e(U).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),fu={class:"space-y-4 sm:space-y-6"},xu={class:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},gu={class:"text-xl sm:text-2xl font-bold truncate"},vu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},bu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},yu={class:"text-xl sm:text-2xl font-bold truncate"},_u={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ku={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},hu={class:"text-xl sm:text-2xl font-bold truncate"},wu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},$u={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},Pu={class:"text-xl sm:text-2xl font-bold truncate"},Su={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Cu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},Ru={class:"text-xl sm:text-2xl font-bold truncate"},Tu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Au={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},ju={class:"text-xl sm:text-2xl font-bold truncate"},Du={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Mu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},Bu={class:"text-xl sm:text-2xl font-bold truncate"},Lu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Iu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},Vu={class:"text-xl sm:text-2xl font-bold text-primary truncate"},Uu={class:"w-full text-center overflow-x-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] -mx-2 px-2 sm:mx-0 sm:px-0",style:{"-webkit-overflow-scrolling":"touch"}},Eu={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Ku={key:1,class:"space-y-1.5 sm:space-y-3"},Nu={class:"flex-1 min-w-0"},Fu={class:"flex flex-wrap items-center gap-1 sm:gap-2"},zu={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Ou={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Wu={key:0,class:"block sm:inline"},qu={class:"block sm:inline sm:ml-1"},Gu={class:"text-left sm:text-right flex-shrink-0"},Qu={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Ju={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Hu={key:1,class:"space-y-1.5 sm:space-y-3"},Zu={class:"flex-1 min-w-0"},Yu={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Xu={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},em={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},tm={key:0,class:"block sm:inline"},sm={class:"block sm:inline sm:ml-2"},am={class:"text-left sm:text-right flex-shrink-0"},lm={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},nm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},rm={key:1,class:"space-y-3"},om={class:"flex-1 min-w-0"},im={class:"flex flex-wrap items-center gap-2"},dm={class:"text-xs sm:text-sm font-medium break-words"},um={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},mm={class:"text-left sm:text-right flex-shrink-0"},cm={class:"text-base sm:text-lg font-bold text-green-600"},pm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},fm={key:1,class:"space-y-1.5 sm:space-y-3"},xm={class:"flex-1 min-w-0"},gm={class:"flex flex-wrap items-center gap-1 sm:gap-2"},vm={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},bm={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},ym={key:0,class:"block sm:inline"},_m={class:"block sm:inline sm:ml-1"},km={class:"text-left sm:text-right flex-shrink-0"},hm={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},wm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},$m={key:1,class:"space-y-1.5 sm:space-y-3"},Pm={class:"flex-1 min-w-0"},Sm={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Cm={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Rm={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Tm={class:"text-left sm:text-right flex-shrink-0"},Am={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},jm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Dm={key:1,class:"space-y-1.5 sm:space-y-3"},Mm={class:"flex-1 min-w-0"},Bm={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Lm={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Im={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Vm={key:0,class:"block sm:inline"},Um={class:"block sm:inline sm:ml-1"},Em={class:"text-left sm:text-right flex-shrink-0"},Km={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Nm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Fm={key:1,class:"space-y-1.5 sm:space-y-3"},zm={class:"flex-1 min-w-0"},Om={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Wm={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},qm={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Gm={class:"block sm:inline"},Qm={class:"block sm:inline sm:ml-1"},Jm={class:"text-left sm:text-right flex-shrink-0"},Hm={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Zm=Y({__name:"BonusTab",props:{bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{}},setup(l){const d=l,u=_=>new Date(_).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),c=N(()=>d.bonusSponsors.reduce((_,p)=>_+ae(p.amount),0)),P=N(()=>d.bonusMatchings.reduce((_,p)=>_+ae(p.amount),0)),v=N(()=>d.bonusPairings.reduce((_,p)=>_+ae(p.amount),0)),n=N(()=>d.bonusCashbacks.reduce((_,p)=>_+ae(p.amount),0)),f=N(()=>d.bonusRewards.reduce((_,p)=>_+ae(p.amount),0)),j=N(()=>d.bonusSponsors.filter(_=>_.status===0).reduce((_,p)=>_+ae(p.amount),0)),g=N(()=>d.bonusSponsors.filter(_=>_.status===1).reduce((_,p)=>_+ae(p.amount),0)),S=N(()=>d.bonusMatchings.filter(_=>_.status===0).reduce((_,p)=>_+ae(p.amount),0)),h=N(()=>d.bonusMatchings.filter(_=>_.status===1).reduce((_,p)=>_+ae(p.amount),0)),b=N(()=>d.bonusPairings.filter(_=>_.status===0).reduce((_,p)=>_+ae(p.amount),0)),x=N(()=>d.bonusPairings.filter(_=>_.status===1).reduce((_,p)=>_+ae(p.amount),0)),C=N(()=>d.bonusCashbacks.filter(_=>_.status===0).reduce((_,p)=>_+ae(p.amount),0)),A=N(()=>d.bonusCashbacks.filter(_=>_.status===1).reduce((_,p)=>_+ae(p.amount),0)),k=N(()=>d.bonusRewards.filter(_=>_.status===0).reduce((_,p)=>_+ae(p.amount),0)),I=N(()=>d.bonusRewards.filter(_=>_.status===1).reduce((_,p)=>_+ae(p.amount),0)),y=N(()=>d.bonusRetails.reduce((_,p)=>_+ae(p.amount),0)),B=N(()=>d.bonusRetails.filter(_=>_.status===0).reduce((_,p)=>_+ae(p.amount),0)),E=N(()=>d.bonusRetails.filter(_=>_.status===1).reduce((_,p)=>_+ae(p.amount),0)),Q=N(()=>d.bonusLifetimeCashRewards.reduce((_,p)=>_+ae(p.amount),0)),U=N(()=>d.bonusLifetimeCashRewards.filter(_=>_.status===0).reduce((_,p)=>_+ae(p.amount),0)),T=N(()=>d.bonusLifetimeCashRewards.filter(_=>_.status===1).reduce((_,p)=>_+ae(p.amount),0)),D=N(()=>c.value+P.value+v.value+n.value+f.value+y.value+Q.value);return(_,p)=>(o(),m("div",fu,[t("div",xu,[s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(gt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),p[0]||(p[0]=t("span",{class:"truncate"},"Referral Incentive",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",gu,r(e(q)(c.value)),1),t("p",vu,r(l.bonusSponsors.length)+" transaksi ",1),t("div",bu,[s(e(K),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(j.value)),1)]),_:1}),s(e(K),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(g.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Rs),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"}),p[1]||(p[1]=t("span",{class:"truncate"},"Team Affiliate Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",yu,r(e(q)(P.value)),1),t("p",_u,r(l.bonusMatchings.length)+" transaksi ",1),t("div",ku,[s(e(K),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(S.value)),1)]),_:1}),s(e(K),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(h.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ts),{class:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),p[2]||(p[2]=t("span",{class:"truncate"},"Partner Team Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",hu,r(e(q)(v.value)),1),t("p",wu,r(l.bonusPairings.length)+" transaksi ",1),t("div",$u,[s(e(K),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(b.value)),1)]),_:1}),s(e(K),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(x.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(As),{class:"h-3 w-3 sm:h-4 sm:w-4 text-orange-500 flex-shrink-0"}),p[3]||(p[3]=t("span",{class:"truncate"},"Cashback Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",Pu,r(e(q)(n.value)),1),t("p",Su,r(l.bonusCashbacks.length)+" transaksi ",1),t("div",Cu,[s(e(K),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(C.value)),1)]),_:1}),s(e(K),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(A.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Oe),{class:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 flex-shrink-0"}),p[4]||(p[4]=t("span",{class:"truncate"},"Promotions Rewards",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",Ru,r(e(q)(f.value)),1),t("p",Tu,r(l.bonusRewards.length)+" transaksi ",1),t("div",Au,[s(e(K),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(k.value)),1)]),_:1}),s(e(K),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(I.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(js),{class:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-500 flex-shrink-0"}),p[5]||(p[5]=t("span",{class:"truncate"},"Retail Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",ju,r(e(q)(y.value)),1),t("p",Du,r(l.bonusRetails.length)+" transaksi ",1),t("div",Mu,[s(e(K),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(B.value)),1)]),_:1}),s(e(K),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(E.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Pt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"}),p[6]||(p[6]=t("span",{class:"truncate"},"Lifetime Cash Rewards",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",Bu,r(e(q)(Q.value)),1),t("p",Lu,r(l.bonusLifetimeCashRewards.length)+" transaksi ",1),t("div",Iu,[s(e(K),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(U.value)),1)]),_:1}),s(e(K),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(T.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ye),{class:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"}),p[7]||(p[7]=t("span",{class:"truncate"},"Total Bonus",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",Vu,r(e(q)(D.value)),1),p[8]||(p[8]=t("p",{class:"text-[10px] sm:text-xs text-muted-foreground mt-1"}," Semua jenis bonus ",-1))]),_:1})]),_:1})]),s(e(z),null,{default:a(()=>[s(e(J),{class:"p-2 sm:p-4 md:p-6 pb-2"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-base md:text-lg"},{default:a(()=>[...p[9]||(p[9]=[i("Riwayat Bonus",-1)])]),_:1}),s(e(ue),{class:"text-[9px] sm:text-xs md:text-sm"},{default:a(()=>[...p[10]||(p[10]=[i(" Detail transaksi bonus ",-1)])]),_:1})]),_:1}),s(e(O),{class:"p-2 sm:p-4 md:p-6 pt-0"},{default:a(()=>[s(e(kt),{"default-value":"sponsor",class:"w-full"},{default:a(()=>[t("div",Uu,[s(e(ht),{class:"flex w-max sm:grid sm:w-full sm:grid-cols-7 gap-0.5 sm:gap-1 h-7 sm:h-auto bg-muted/30"},{default:a(()=>[s(e(oe),{value:"sponsor",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[11]||(p[11]=[i(" Referral ",-1)])]),_:1}),s(e(oe),{value:"matching",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[12]||(p[12]=[i(" Team Aff. ",-1)])]),_:1}),s(e(oe),{value:"pairing",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[13]||(p[13]=[i(" Partner ",-1)])]),_:1}),s(e(oe),{value:"cashback",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[14]||(p[14]=[i(" Cashback ",-1)])]),_:1}),s(e(oe),{value:"reward",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[15]||(p[15]=[i(" Rewards ",-1)])]),_:1}),s(e(oe),{value:"retail",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[16]||(p[16]=[i(" Retail ",-1)])]),_:1}),s(e(oe),{value:"lifetime",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...p[17]||(p[17]=[i(" Lifetime ",-1)])]),_:1})]),_:1})]),s(e(ie),{value:"sponsor",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusSponsors.length===0?(o(),m("div",Eu," Belum ada bonus referral incentive ")):(o(),m("div",Ku,[(o(!0),m(W,null,te(l.bonusSponsors,$=>(o(),m("div",{key:$.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Nu,[t("div",Fu,[s(e(K),{variant:$.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r($.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",zu,r($.description||"Bonus Sponsor"),1)]),t("p",Ou,[$.from_member?(o(),m("span",Wu," Dari: "+r($.from_member.name),1)):w("",!0),t("span",qu,r(u($.created_at)),1)])]),t("div",Gu,[t("div",Qu,r(e(q)($.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",$.status===1?"text-green-600":"text-yellow-600"])},r($.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ie),{value:"matching",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusMatchings.length===0?(o(),m("div",Ju," Belum ada bonus team affiliate commission ")):(o(),m("div",Hu,[(o(!0),m(W,null,te(l.bonusMatchings,$=>(o(),m("div",{key:$.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Zu,[t("div",Yu,[s(e(K),{variant:$.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r($.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(K),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(" L"+r($.level),1)]),_:2},1024),t("span",Xu,r($.description||"Bonus Matching"),1)]),t("p",em,[$.from_member?(o(),m("span",tm," Dari: "+r($.from_member.name),1)):w("",!0),t("span",sm,r(u($.created_at)),1)])]),t("div",am,[t("div",lm,r(e(q)($.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",$.status===1?"text-green-600":"text-yellow-600"])},r($.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ie),{value:"pairing",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusPairings.length===0?(o(),m("div",nm," Belum ada bonus partner team commission ")):(o(),m("div",rm,[(o(!0),m(W,null,te(l.bonusPairings,$=>(o(),m("div",{key:$.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",om,[t("div",im,[s(e(K),{variant:$.status===1?"secondary":"outline",class:"text-xs"},{default:a(()=>[i(r($.status===1?"Released":"Pending"),1)]),_:2},1032,["variant"]),s(e(K),{variant:"outline",class:"text-xs"},{default:a(()=>[i(r($.pair)+" Pairs ",1)]),_:2},1024),t("span",dm,r($.description||"Bonus Pairing"),1)]),t("p",um,r(u($.created_at)),1)]),t("div",mm,[t("div",cm,r(e(q)($.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",$.status===1?"text-green-600":"text-yellow-600"])},r($.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ie),{value:"cashback",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusCashbacks.length===0?(o(),m("div",pm," Belum ada bonus cashback commission ")):(o(),m("div",fm,[(o(!0),m(W,null,te(l.bonusCashbacks,$=>(o(),m("div",{key:$.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",xm,[t("div",gm,[s(e(K),{variant:$.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r($.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",vm,r($.description||"Bonus Cashback"),1)]),t("p",bm,[p[18]||(p[18]=i('eground mt-0.5"> ',-1)),$.order_id?(o(),m("span",ym," #"+r($.order_id),1)):w("",!0),t("span",_m,r(u($.created_at)),1)])]),t("div",km,[t("div",hm,r(e(q)($.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",$.status===1?"text-green-600":"text-yellow-600"])},r($.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ie),{value:"reward",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRewards.length===0?(o(),m("div",wm," Belum ada promotions rewards ")):(o(),m("div",$m,[(o(!0),m(W,null,te(l.bonusRewards,$=>(o(),m("div",{key:$.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Pm,[t("div",Sm,[s(e(K),{variant:$.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r($.status===1?"R":"P"),1)]),_:2},1032,["variant"]),$.reward_type?(o(),R(e(K),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r($.reward_type),1)]),_:2},1024)):w("",!0),t("span",Cm,r($.description||"Promotions Reward"),1)]),t("p",Rm,r(u($.created_at)),1)]),t("div",Tm,[t("div",Am,r(e(q)($.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",$.status===1?"text-green-600":"text-yellow-600"])},r($.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ie),{value:"retail",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRetails.length===0?(o(),m("div",jm," Belum ada bonus retail commission ")):(o(),m("div",Dm,[(o(!0),m(W,null,te(l.bonusRetails,$=>(o(),m("div",{key:$.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Mm,[t("div",Bm,[s(e(K),{variant:$.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r($.status===1?"R":"P"),1)]),_:2},1032,["variant"]),$.index_value?(o(),R(e(K),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(" IDX: "+r($.index_value),1)]),_:2},1024)):w("",!0),t("span",Lm,r($.description||"Retail Commission"),1)]),t("p",Im,[$.from_member?(o(),m("span",Vm," Dari: "+r($.from_member.name),1)):w("",!0),t("span",Um,r(u($.created_at)),1)])]),t("div",Em,[t("div",Km,r(e(q)($.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",$.status===1?"text-green-600":"text-yellow-600"])},r($.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(ie),{value:"lifetime",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusLifetimeCashRewards.length===0?(o(),m("div",Nm," Belum ada lifetime cash rewards ")):(o(),m("div",Fm,[(o(!0),m(W,null,te(l.bonusLifetimeCashRewards,$=>(o(),m("div",{key:$.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",zm,[t("div",Om,[s(e(K),{variant:$.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r($.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(K),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r($.reward_name),1)]),_:2},1024),t("span",Wm,r($.description||"Lifetime Cash Reward"),1)]),t("p",qm,[t("span",Gm," Reward: "+r(e(q)($.reward))+" | BV: "+r($.bv),1),t("span",Qm,r(u($.created_at)),1)])]),t("div",Jm,[t("div",Hm,r(e(q)($.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",$.status===1?"text-green-600":"text-yellow-600"])},r($.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Ym={class:"flex items-center justify-between"},Xm={class:"font-semibold"},ec={class:"flex items-center justify-between"},tc={class:"font-semibold"},sc={class:"flex items-center justify-between"},ac={class:"flex items-center justify-between"},lc={class:"font-semibold text-blue-600 dark:text-blue-400"},nc={class:"flex items-center justify-between"},rc={class:"font-semibold text-green-600 dark:text-green-400"},oc={class:"flex items-center justify-between"},ic={class:"font-semibold text-blue-600 dark:text-blue-400"},dc={class:"flex items-center justify-between"},uc={class:"font-semibold text-green-600 dark:text-green-400"},mc={class:"flex items-center justify-between"},cc={class:"font-semibold text-green-600 dark:text-green-400"},pc=Y({__name:"NetworkStatsCard",props:{customer:{}},setup(l){const d=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(u);return(u,c)=>(o(),R(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Kt),{class:"w-5 h-5"}),c[0]||(c[0]=i(" Statistik Jaringan ",-1))]),_:1})]),_:1}),s(e(O),{class:"space-y-3"},{default:a(()=>[t("div",Ym,[c[1]||(c[1]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kiri",-1)),t("span",Xm,r(l.customer.network_stats.left_count),1)]),s(e(le)),t("div",ec,[c[2]||(c[2]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kanan",-1)),t("span",tc,r(l.customer.network_stats.right_count),1)]),s(e(le)),t("div",sc,[c[3]||(c[3]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Downline",-1)),s(e(K),{variant:"secondary"},{default:a(()=>[i(r(l.customer.network_stats.total_downlines),1)]),_:1})]),s(e(le)),t("div",ac,[c[4]||(c[4]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Network Builder Kiri",-1)),t("span",lc,r(d(l.customer.network_stats.omzet_group_left_plana)),1)]),s(e(le)),t("div",nc,[c[5]||(c[5]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Network Builder Kanan",-1)),t("span",rc,r(d(l.customer.network_stats.omzet_group_right_plana)),1)]),s(e(le)),t("div",oc,[c[6]||(c[6]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Retail Kiri",-1)),t("span",ic,r(d(l.customer.network_stats.omzet_group_left_planb)),1)]),s(e(le)),t("div",dc,[c[7]||(c[7]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Retail Kanan",-1)),t("span",uc,r(d(l.customer.network_stats.omzet_group_right_planb)),1)]),s(e(le)),t("div",mc,[c[8]||(c[8]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Group",-1)),t("span",cc,r(d(l.customer.network_stats.omzet_group)),1)])]),_:1})]),_:1}))}}),fc={class:"space-y-6"},xc={class:"flex items-center gap-3"},gc={class:"p-2 rounded-lg bg-amber-500/10"},vc={key:0,class:"text-center py-8"},bc={key:1,class:"overflow-x-auto"},yc={class:"flex items-center gap-2"},_c={class:"flex items-center gap-3"},kc={class:"p-2 rounded-lg bg-green-500/10"},hc={key:0,class:"text-center py-8"},wc={key:1,class:"overflow-x-auto"},$c={class:"flex items-center gap-2"},Pc=Y({__name:"PromotionsRewardsTab",props:{promotionRewards:{},claimedPromotionRewards:{}},setup(l){const d=v=>new Intl.NumberFormat("id-ID").format(v),u=v=>new Date(v).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),c=v=>v===null||v===0?"Belum Tercapai":"Diproses",P=v=>v===null||v===0?"secondary":"default";return(v,n)=>(o(),m("div",fc,[s(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",xc,[t("div",gc,[s(e(Oe),{class:"h-5 w-5 text-amber-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...n[0]||(n[0]=[i("Promotion Rewards",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...n[1]||(n[1]=[i(" Daftar reward promosi yang sedang berlangsung ",-1)])]),_:1})])])]),_:1}),s(e(O),null,{default:a(()=>[l.promotionRewards.length===0?(o(),m("div",vc,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n[2]||(n[2]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Promosi",-1)),n[3]||(n[3]=t("p",{class:"text-muted-foreground text-sm"}," Tidak ada program reward promosi yang sedang aktif saat ini. ",-1))])):(o(),m("div",bc,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...n[4]||(n[4]=[i("Nama",-1)])]),_:1}),s(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...n[5]||(n[5]=[i("Reward",-1)])]),_:1}),s(e(ne),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[6]||(n[6]=[i("Syarat Omset Grup Kiri & Kanan (BV)",-1)])]),_:1}),s(e(ne),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[7]||(n[7]=[i("Akumulasi Omset Grup Kiri (BV)",-1)])]),_:1}),s(e(ne),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[8]||(n[8]=[i("Akumulasi Omset Grup Kanan (BV)",-1)])]),_:1}),s(e(ne),{class:"min-w-[120px]"},{default:a(()=>[...n[9]||(n[9]=[i("Periode Awal",-1)])]),_:1}),s(e(ne),{class:"min-w-[120px]"},{default:a(()=>[...n[10]||(n[10]=[i("Periode Akhir",-1)])]),_:1}),s(e(ne),{class:"text-center min-w-[120px]"},{default:a(()=>[...n[11]||(n[11]=[i("Status",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(o(!0),m(W,null,te(l.promotionRewards,f=>(o(),R(e(Re),{key:f.id},{default:a(()=>[s(e(re),{class:"font-medium"},{default:a(()=>[t("div",yc,[s(e(Nt),{class:"h-4 w-4 text-amber-500"}),i(" "+r(f.name),1)])]),_:2},1024),s(e(re),null,{default:a(()=>[i(r(f.reward),1)]),_:2},1024),s(e(re),{class:"text-right font-mono"},{default:a(()=>[i(r(d(f.bv)),1)]),_:2},1024),s(e(re),{class:"text-right font-mono"},{default:a(()=>[i(r(d(f.accumulated_left)),1)]),_:2},1024),s(e(re),{class:"text-right font-mono"},{default:a(()=>[i(r(d(f.accumulated_right)),1)]),_:2},1024),s(e(re),null,{default:a(()=>[i(r(u(f.start)),1)]),_:2},1024),s(e(re),null,{default:a(()=>[i(r(u(f.end)),1)]),_:2},1024),s(e(re),{class:"text-center"},{default:a(()=>[s(e(K),{variant:P(f.claim_status)},{default:a(()=>[f.claim_status===1?(o(),R(e(He),{key:0,class:"h-3 w-3 mr-1"})):w("",!0),i(" "+r(c(f.claim_status)),1)]),_:2},1032,["variant"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",_c,[t("div",kc,[s(e(ge),{class:"h-5 w-5 text-green-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...n[12]||(n[12]=[i("Reward yang Sudah Diklaim",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...n[13]||(n[13]=[i(" Daftar reward promosi yang sudah berhasil Anda klaim ",-1)])]),_:1})])])]),_:1}),s(e(O),null,{default:a(()=>[l.claimedPromotionRewards.length===0?(o(),m("div",hc,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n[14]||(n[14]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Diklaim",-1)),n[15]||(n[15]=t("p",{class:"text-muted-foreground text-sm"}," Anda belum memiliki reward promosi yang telah diklaim. ",-1))])):(o(),m("div",wc,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(ne),{class:"min-w-[200px]"},{default:a(()=>[...n[16]||(n[16]=[i("Reward",-1)])]),_:1}),s(e(ne),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[17]||(n[17]=[i("Syarat Omset Group (BV)",-1)])]),_:1}),s(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...n[18]||(n[18]=[i("Tanggal Klaim",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(o(!0),m(W,null,te(l.claimedPromotionRewards,f=>(o(),R(e(Re),{key:f.id},{default:a(()=>[s(e(re),{class:"font-medium"},{default:a(()=>[t("div",$c,[s(e(ye),{class:"h-4 w-4 text-green-500"}),i(" "+r(f.reward),1)])]),_:2},1024),s(e(re),{class:"text-right font-mono"},{default:a(()=>[i(r(d(f.bv)),1)]),_:2},1024),s(e(re),null,{default:a(()=>[i(r(u(f.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})]))}}),Sc={class:"space-y-6"},Cc={class:"flex items-center gap-3"},Rc={class:"p-2 rounded-lg bg-purple-500/10"},Tc={key:0,class:"text-center py-8"},Ac={key:1,class:"overflow-x-auto"},jc={class:"flex items-center gap-2"},Dc={class:"flex items-center gap-3"},Mc={class:"p-2 rounded-lg bg-green-500/10"},Bc={key:0,class:"text-center py-8"},Lc={key:1,class:"overflow-x-auto"},Ic={class:"flex items-center gap-2"},Vc=Y({__name:"LifetimeCashRewardsTab",props:{lifetimeRewards:{},claimedLifetimeRewards:{}},setup(l){const d=v=>new Intl.NumberFormat("id-ID").format(v),u=v=>new Date(v).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),c=Ce({reward_id:0}),P=v=>{c.reward_id=v,c.post(be.url(),{preserveScroll:!0,onSuccess:()=>{c.reset()}})};return(v,n)=>(o(),m("div",Sc,[s(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",Cc,[t("div",Rc,[s(e(Oe),{class:"h-5 w-5 text-purple-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...n[0]||(n[0]=[i("Lifetime Cash Rewards",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...n[1]||(n[1]=[i(" Daftar reward lifetime berdasarkan pencapaian omset grup Anda ",-1)])]),_:1})])])]),_:1}),s(e(O),null,{default:a(()=>[l.lifetimeRewards.length===0?(o(),m("div",Tc,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n[2]||(n[2]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Lifetime",-1)),n[3]||(n[3]=t("p",{class:"text-muted-foreground text-sm"}," Tidak ada program reward lifetime yang tersedia saat ini. ",-1))])):(o(),m("div",Ac,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...n[4]||(n[4]=[i("Nama",-1)])]),_:1}),s(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...n[5]||(n[5]=[i("Reward",-1)])]),_:1}),s(e(ne),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[6]||(n[6]=[i("Syarat Omset Grup Kiri & Kanan (BV)",-1)])]),_:1}),s(e(ne),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[7]||(n[7]=[i("Akumulasi Omset Grup Kiri (BV)",-1)])]),_:1}),s(e(ne),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[8]||(n[8]=[i("Akumulasi Omset Grup Kanan (BV)",-1)])]),_:1}),s(e(ne),{class:"text-center min-w-[120px]"},{default:a(()=>[...n[9]||(n[9]=[i("Klaim",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(o(!0),m(W,null,te(l.lifetimeRewards,f=>(o(),R(e(Re),{key:f.id},{default:a(()=>[s(e(re),{class:"font-medium"},{default:a(()=>[t("div",jc,[s(e(Nt),{class:"h-4 w-4 text-purple-500"}),i(" "+r(f.name),1)])]),_:2},1024),s(e(re),null,{default:a(()=>[i(r(f.reward),1)]),_:2},1024),s(e(re),{class:"text-right font-mono"},{default:a(()=>[i(r(d(f.bv)),1)]),_:2},1024),s(e(re),{class:"text-right font-mono"},{default:a(()=>[i(r(d(f.accumulated_left)),1)]),_:2},1024),s(e(re),{class:"text-right font-mono"},{default:a(()=>[i(r(d(f.accumulated_right)),1)]),_:2},1024),s(e(re),{class:"text-center"},{default:a(()=>[f.is_claimed?(o(),R(e(K),{key:0,variant:"secondary"},{default:a(()=>[s(e(ge),{class:"h-3 w-3 mr-1"}),n[10]||(n[10]=i(" Sudah Diklaim ",-1))]),_:1})):f.can_claim?(o(),R(e(F),{key:1,size:"sm",disabled:e(c).processing&&e(c).reward_id===f.id,onClick:j=>P(f.id)},{default:a(()=>[e(c).processing&&e(c).reward_id===f.id?(o(),R(e(Ae),{key:0,class:"h-4 w-4 mr-1 animate-spin"})):(o(),R(e(ye),{key:1,class:"h-4 w-4 mr-1"})),n[11]||(n[11]=i(" Klaim ",-1))]),_:2},1032,["disabled","onClick"])):(o(),R(e(K),{key:2,variant:"outline"},{default:a(()=>[...n[12]||(n[12]=[i(" Belum Memenuhi Syarat ",-1)])]),_:1}))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",Dc,[t("div",Mc,[s(e(ge),{class:"h-5 w-5 text-green-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...n[13]||(n[13]=[i("Reward yang Sudah Diklaim",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...n[14]||(n[14]=[i(" Daftar reward lifetime yang sudah berhasil Anda klaim ",-1)])]),_:1})])])]),_:1}),s(e(O),null,{default:a(()=>[l.claimedLifetimeRewards.length===0?(o(),m("div",Bc,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n[15]||(n[15]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Diklaim",-1)),n[16]||(n[16]=t("p",{class:"text-muted-foreground text-sm"}," Anda belum memiliki reward lifetime yang telah diklaim. ",-1))])):(o(),m("div",Lc,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(ne),{class:"min-w-[200px]"},{default:a(()=>[...n[17]||(n[17]=[i("Reward",-1)])]),_:1}),s(e(ne),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[18]||(n[18]=[i("Syarat Omset Group (BV)",-1)])]),_:1}),s(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...n[19]||(n[19]=[i("Tanggal Klaim",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(o(!0),m(W,null,te(l.claimedLifetimeRewards,f=>(o(),R(e(Re),{key:f.id},{default:a(()=>[s(e(re),{class:"font-medium"},{default:a(()=>[t("div",Ic,[s(e(ye),{class:"h-4 w-4 text-green-500"}),i(" "+r(f.reward),1)])]),_:2},1024),s(e(re),{class:"text-right font-mono"},{default:a(()=>[i(r(d(f.bv)),1)]),_:2},1024),s(e(re),null,{default:a(()=>[i(r(u(f.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})]))}}),Uc={class:"bg-gradient-to-br from-primary/10 via-primary/5 to-background border-b"},Ec={class:"container mx-auto px-3 py-6 sm:px-4 sm:py-12 max-w-7xl"},Kc={class:"flex items-center justify-between"},Nc={class:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-background/80 backdrop-blur-sm border shadow-sm"},Fc={class:"font-semibold"},zc={class:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-7xl"},Oc={key:0,class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},Wc={class:"flex items-start gap-3"},qc={class:"grid gap-4 sm:gap-6 lg:grid-cols-3"},Gc={class:"lg:col-span-1 space-y-4 sm:space-y-6"},Qc={class:"lg:col-span-2"},Jc={class:"rounded-xl border bg-card overflow-hidden"},Hc={class:"border-b bg-muted/30"},Zc={class:"overflow-x-auto text-center overflow-y-hidden px-1.5 py-1.5 sm:px-2 sm:py-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},Yc={class:"p-3 sm:p-4 md:p-6"},Xc={key:1,class:"text-center py-12"},Rp=Y({__name:"Index",props:{customer:{},orders:{},walletTransactions:{},hasPendingWithdrawal:{type:Boolean},isProfileIncomplete:{type:Boolean},activeMembers:{},passiveMembers:{},prospectMembers:{},binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{},addresses:{},promotionRewards:{},claimedPromotionRewards:{},lifetimeRewards:{},claimedLifetimeRewards:{}},setup(l){const d=l,u=wt(),c=N(()=>Number(d.customer.status)===3),P=N(()=>{if(typeof window>"u")return"profile";const v=u.url;try{return new URL(v,window.location.origin).searchParams.get("tab")||"profile"}catch{return"profile"}});return(v,n)=>(o(),R(rs,null,{default:a(()=>[s(e(Ds),{title:"Profile Saya"}),t("div",Uc,[t("div",Ec,[t("div",Kc,[n[0]||(n[0]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-2"},"Profile Saya"),t("p",{class:"text-sm sm:text-base md:text-lg text-muted-foreground"}," Kelola informasi profil dan keamanan akun Anda ")],-1)),t("div",Nc,[s(e(ft),{class:"w-5 h-5 text-primary"}),t("span",Fc,r(l.customer.name),1)])])])]),t("div",zc,[l.isProfileIncomplete&&c.value?(o(),m("div",Oc,[t("div",Wc,[s(e(je),{class:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),n[1]||(n[1]=t("div",{class:"flex-1"},[t("p",{class:"font-medium text-amber-700 dark:text-amber-300"},"Lengkapi Data Profil Anda"),t("p",{class:"text-sm text-amber-600 dark:text-amber-400 mt-1"}," Untuk dapat melakukan penarikan bonus, Anda harus melengkapi NIK dan informasi rekening bank di tab Profil. ")],-1))])])):w("",!0),t("div",qc,[t("div",Gc,[s(ca,{customer:l.customer},null,8,["customer"]),c.value?(o(),R(pc,{key:0,customer:l.customer},null,8,["customer"])):w("",!0),s(qa,{addresses:l.addresses},null,8,["addresses"]),c.value?(o(),R(Za,{key:1,customer:l.customer},null,8,["customer"])):w("",!0),s(tl,{"created-at":l.customer.created_at},null,8,["created-at"])]),t("div",Qc,[t("div",Jc,[s(e(kt),{"default-value":P.value,class:"w-full"},{default:a(()=>[t("div",Hc,[t("div",Zc,[s(e(ht),{class:"inline-flex h-auto w-max bg-transparent gap-1 sm:gap-1.5 p-0"},{default:a(()=>[s(e(oe),{value:"profile",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ft),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[2]||(n[2]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Info",-1))]),_:1}),s(e(oe),{value:"orders",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Fe),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[3]||(n[3]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Order",-1))]),_:1}),c.value?(o(),R(e(oe),{key:0,value:"network",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Kt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[4]||(n[4]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Mitra",-1))]),_:1})):w("",!0),c.value?(o(),R(e(oe),{key:1,value:"binary",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ne),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[5]||(n[5]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Network",-1))]),_:1})):w("",!0),c.value?(o(),R(e(oe),{key:2,value:"bonus",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ye),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[6]||(n[6]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Bonus",-1))]),_:1})):w("",!0),c.value?(o(),R(e(oe),{key:3,value:"promotions",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ms),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[7]||(n[7]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Promo",-1))]),_:1})):w("",!0),c.value?(o(),R(e(oe),{key:4,value:"lifetime",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Oe),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[8]||(n[8]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lifetime",-1))]),_:1})):w("",!0),s(e(oe),{value:"wallet",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(De),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[9]||(n[9]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Wallet",-1))]),_:1}),s(e(oe),{value:"security",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ye),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[10]||(n[10]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lock",-1))]),_:1}),s(e(oe),{value:"danger",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(je),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[11]||(n[11]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Del",-1))]),_:1})]),_:1})])]),t("div",Yc,[s(e(ie),{value:"profile",class:"mt-0"},{default:a(()=>[s(El,{customer:l.customer},null,8,["customer"])]),_:1}),s(e(ie),{value:"orders",class:"mt-0"},{default:a(()=>[s(Pr,{orders:l.orders},null,8,["orders"])]),_:1}),c.value?(o(),R(e(ie),{key:0,value:"network",class:"mt-0"},{default:a(()=>[s(Cd,{"active-members":l.activeMembers,"passive-members":l.passiveMembers,"prospect-members":l.prospectMembers,"has-left":!!l.binaryTree?.left,"has-right":!!l.binaryTree?.right},null,8,["active-members","passive-members","prospect-members","has-left","has-right"])]),_:1})):w("",!0),c.value?(o(),R(e(ie),{key:1,value:"binary",class:"mt-0"},{default:a(()=>[l.binaryTree?(o(),R(pu,{key:0,"binary-tree":l.binaryTree,"total-downlines":l.totalDownlines,"total-left":l.totalLeft,"total-right":l.totalRight,"passive-members":l.passiveMembers},null,8,["binary-tree","total-downlines","total-left","total-right","passive-members"])):(o(),m("div",Xc,[s(e(Ne),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n[12]||(n[12]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Jaringan Binary",-1)),n[13]||(n[13]=t("p",{class:"text-muted-foreground"}," Anda belum memiliki posisi dalam jaringan binary tree MLM. ",-1))]))]),_:1})):w("",!0),c.value?(o(),R(e(ie),{key:2,value:"bonus",class:"mt-0"},{default:a(()=>[s(Zm,{"bonus-sponsors":l.bonusSponsors,"bonus-matchings":l.bonusMatchings,"bonus-pairings":l.bonusPairings,"bonus-cashbacks":l.bonusCashbacks,"bonus-rewards":l.bonusRewards,"bonus-retails":l.bonusRetails,"bonus-lifetime-cash-rewards":l.bonusLifetimeCashRewards},null,8,["bonus-sponsors","bonus-matchings","bonus-pairings","bonus-cashbacks","bonus-rewards","bonus-retails","bonus-lifetime-cash-rewards"])]),_:1})):w("",!0),c.value?(o(),R(e(ie),{key:3,value:"promotions",class:"mt-0"},{default:a(()=>[s(Pc,{"promotion-rewards":l.promotionRewards,"claimed-promotion-rewards":l.claimedPromotionRewards},null,8,["promotion-rewards","claimed-promotion-rewards"])]),_:1})):w("",!0),c.value?(o(),R(e(ie),{key:4,value:"lifetime",class:"mt-0"},{default:a(()=>[s(Vc,{"lifetime-rewards":l.lifetimeRewards,"claimed-lifetime-rewards":l.claimedLifetimeRewards},null,8,["lifetime-rewards","claimed-lifetime-rewards"])]),_:1})):w("",!0),s(e(ie),{value:"wallet",class:"mt-0"},{default:a(()=>[s(xi,{customer:l.customer,transactions:l.walletTransactions,"has-pending-withdrawal":l.hasPendingWithdrawal},null,8,["customer","transactions","has-pending-withdrawal"])]),_:1}),s(e(ie),{value:"security",class:"mt-0"},{default:a(()=>[s(Pi)]),_:1}),s(e(ie),{value:"danger",class:"mt-0"},{default:a(()=>[s(Ti)]),_:1})])]),_:1},8,["default-value"])])])])])]),_:1}))}});export{Rp as default};
