import{d as Z,r as U,p as T,D as Q,v as f,g as n,b as l,u as a,Z as W,w as s,e as o,j as P,E as Y,b6 as N,c as y,t as _,H as c,C as ee,b7 as j,b8 as ae,I as le,s as u,J as g,F as C,x as A,ab as se}from"./vendor-CraqpIJ-.js";import{_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-BWDCecJb.js";import{_ as B}from"./index-DPd1r_cX.js";import{_ as p}from"./Input.vue_vue_type_script_setup_true_lang-CqlAd_sW.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-DvVX6MKG.js";import{_ as G}from"./Textarea.vue_vue_type_script_setup_true_lang-0xlPODzz.js";import{_ as I}from"./Checkbox.vue_vue_type_script_setup_true_lang-ChiKY_-L.js";import{_ as V,a as x}from"./CardContent.vue_vue_type_script_setup_true_lang-DM70BYA8.js";import{_ as w}from"./CardDescription.vue_vue_type_script_setup_true_lang-D7Z_V3uH.js";import{_ as h}from"./CardHeader.vue_vue_type_script_setup_true_lang-D25MJpMC.js";import{_ as S}from"./CardTitle.vue_vue_type_script_setup_true_lang-l0wDcl-m.js";import{_ as K,a as L,b as E}from"./index-Bra0xi-4.js";import{_ as re}from"./ImageUploadZone.vue_vue_type_script_setup_true_lang-B7ojPzwp.js";import"./index-B7Ms5jW_.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BmdNsnpq.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-4BlfWucD.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DA-zofsy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BZHhRcHM.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-CQgGBfly.js";const oe={class:"rounded-xl p-4 space-y-6 py-6"},ue={class:"flex items-center gap-4"},ie={class:"mt-2 list-disc list-inside space-y-1"},de={class:"grid grid-cols-2 gap-4"},ne={class:"space-y-2"},me={key:0,class:"text-sm text-destructive"},pe={class:"space-y-2"},ge={class:"flex gap-2"},ve={key:0,class:"text-sm text-destructive"},fe={class:"space-y-2"},be={key:0,class:"text-sm text-destructive"},_e={class:"space-y-2"},ce={class:"space-y-2"},ke={class:"space-y-2"},ye={class:"grid grid-cols-3 gap-4"},Ve={class:"space-y-2"},xe={key:0,class:"text-sm text-destructive"},we={class:"space-y-2"},he={key:0,class:"text-sm text-destructive"},Se={class:"space-y-2"},Ue={class:"grid grid-cols-2 gap-4"},Be={class:"space-y-2"},$e={class:"space-y-2"},Me={class:"space-y-2"},Pe={class:"space-y-2"},Ce={class:"space-y-2"},De={class:"grid grid-cols-4 gap-4"},Te={class:"space-y-2"},Ne={key:0,class:"text-sm text-destructive"},je={class:"space-y-2"},Ae={class:"space-y-2"},Ge={class:"space-y-2"},Ie={key:0,class:"mt-2 text-sm text-destructive"},Ke={class:"space-y-2"},Le={class:"grid grid-cols-3 gap-2"},Ee={class:"text-sm"},qe={class:"flex items-center gap-2"},Fe={class:"flex justify-end gap-4"},da=Z({__name:"Create",props:{categories:{}},setup(q){const F=[{title:"Produk",href:"/admin/products"},{title:"Tambah Produk",href:"/admin/products/create"}],r=U({sku:"",slug:"",name:"",short_desc:"",long_desc:"",brand:"",warranty_months:0,base_price:0,currency:"IDR",stock:0,weight_gram:0,length_mm:0,width_mm:0,height_mm:0,bv:0,b_sponsor:0,b_matching:0,b_pairing:0,b_cashback:0,is_active:!0,categories:[],images:[]}),k=U(!1),i=U({}),m=U(null),O=U(!1),z=T(()=>Object.keys(i.value).length>0),$=T(()=>Object.entries(i.value).map(([v,e])=>({field:D(v),message:e}))),D=v=>({sku:"SKU",slug:"Slug",name:"Nama Produk",short_desc:"Deskripsi Singkat",long_desc:"Deskripsi Lengkap",brand:"Brand",warranty_months:"Garansi",base_price:"Harga",stock:"Stok",weight_gram:"Berat",length_mm:"Panjang",width_mm:"Lebar",height_mm:"Tinggi",bv:"Business Value",b_sponsor:"Bonus Sponsor",b_matching:"Bonus Matching",b_pairing:"Bonus Pairing",b_cashback:"Bonus Cashback",is_active:"Status Aktif",categories:"Kategori",images:"Gambar Produk"})[v]||v;Q(m,v=>{v&&setTimeout(()=>{m.value=null},8e3)});const H=()=>{if(!r.value.name.trim()){m.value={type:"warning",title:"Nama Produk Kosong",message:"Silakan masukkan nama produk terlebih dahulu sebelum generate slug."};return}r.value.slug=r.value.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),O.value=!0,m.value={type:"success",title:"Slug Berhasil Dibuat",message:`Slug "${r.value.slug}" telah dibuat dari nama produk.`}},R=()=>{m.value=null},J=()=>{k.value=!0,i.value={};const v=new FormData;Object.entries(r.value).forEach(([e,t])=>{e==="categories"&&Array.isArray(t)?t.forEach(b=>v.append("categories[]",b.toString())):e==="images"&&Array.isArray(t)?t.forEach(b=>v.append("images[]",b)):e==="is_active"?v.append(e,t?"1":"0"):t!=null&&v.append(e,t.toString())}),P.post("/admin/products",v,{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{k.value=!1,m.value={type:"success",title:"Produk Berhasil Ditambahkan",message:"Produk baru telah berhasil disimpan ke dalam katalog."}},onError:e=>{i.value=e,k.value=!1;const t=Object.keys(e).length;let b="";if(t===1){const[M,X]=Object.entries(e)[0];b=`${D(M)}: ${X}`}else b=`Terdapat ${t} kesalahan yang perlu diperbaiki. Silakan periksa field yang ditandai merah di bawah ini.`;m.value={type:"error",title:"Gagal Menyimpan Produk",message:b},window.scrollTo({top:0,behavior:"smooth"})}})};return(v,e)=>(n(),f(C,null,[l(a(W),{title:"Tambah Produk"}),l(te,{breadcrumbs:F},{default:s(()=>[o("div",oe,[o("div",ue,[l(a(B),{variant:"outline",size:"icon",onClick:e[0]||(e[0]=t=>a(P).visit("/admin/products"))},{default:s(()=>[l(a(Y),{class:"h-4 w-4"})]),_:1}),e[22]||(e[22]=o("div",null,[o("h1",{class:"text-3xl font-bold tracking-tight"},"Tambah Produk"),o("p",{class:"text-muted-foreground"},"Tambahkan produk baru ke katalog")],-1))]),l(N,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 transform -translate-y-2","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-2"},{default:s(()=>[m.value?(n(),y(a(K),{key:0,variant:m.value.type==="error"?"destructive":"default",class:c({"border-green-500 bg-green-50 text-green-800 dark:bg-green-950 dark:text-green-200":m.value.type==="success","border-yellow-500 bg-yellow-50 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-200":m.value.type==="warning","border-blue-500 bg-blue-50 text-blue-800 dark:bg-blue-950 dark:text-blue-200":m.value.type==="info"})},{default:s(()=>[m.value.type==="success"?(n(),y(a(ee),{key:0,class:"h-4 w-4 text-green-600 dark:text-green-400"})):m.value.type==="error"?(n(),y(a(j),{key:1,class:"h-4 w-4"})):m.value.type==="warning"?(n(),y(a(ae),{key:2,class:"h-4 w-4 text-yellow-600 dark:text-yellow-400"})):(n(),y(a(le),{key:3,class:"h-4 w-4 text-blue-600 dark:text-blue-400"})),l(a(L),{class:"flex items-center justify-between"},{default:s(()=>[u(g(m.value.title)+" ",1),l(a(B),{variant:"ghost",size:"sm",class:"h-6 w-6 p-0 hover:bg-transparent",onClick:R},{default:s(()=>[...e[23]||(e[23]=[o("span",{class:"sr-only"},"Tutup",-1),u(" Ã— ",-1)])]),_:1})]),_:1}),l(a(E),null,{default:s(()=>[u(g(m.value.message),1)]),_:1})]),_:1},8,["variant","class"])):_("",!0)]),_:1}),l(N,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:s(()=>[z.value&&$.value.length>1?(n(),y(a(K),{key:0,variant:"destructive",class:"mb-4"},{default:s(()=>[l(a(j),{class:"h-4 w-4"}),l(a(L),null,{default:s(()=>[u("Terdapat "+g($.value.length)+" Kesalahan",1)]),_:1}),l(a(E),null,{default:s(()=>[o("ul",ie,[(n(!0),f(C,null,A($.value,(t,b)=>(n(),f("li",{key:b,class:"text-sm"},[o("strong",null,g(t.field)+":",1),u(" "+g(t.message),1)]))),128))])]),_:1})]),_:1})):_("",!0)]),_:1}),o("form",{onSubmit:se(J,["prevent"]),class:"space-y-6 w-full grid grid-cols-2 gap-4"},[l(a(V),null,{default:s(()=>[l(a(h),null,{default:s(()=>[l(a(S),null,{default:s(()=>[...e[24]||(e[24]=[u("Informasi Dasar",-1)])]),_:1}),l(a(w),null,{default:s(()=>[...e[25]||(e[25]=[u("Informasi utama produk",-1)])]),_:1})]),_:1}),l(a(x),{class:"space-y-4"},{default:s(()=>[o("div",de,[o("div",ne,[l(a(d),{for:"sku"},{default:s(()=>[...e[26]||(e[26]=[u("SKU ",-1),o("span",{class:"text-destructive"},"*",-1)])]),_:1}),l(a(p),{id:"sku",modelValue:r.value.sku,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value.sku=t),placeholder:"SKU-001",class:c({"border-destructive":i.value.sku}),required:""},null,8,["modelValue","class"]),i.value.sku?(n(),f("p",me,g(i.value.sku),1)):_("",!0)]),o("div",pe,[l(a(d),{for:"slug"},{default:s(()=>[...e[27]||(e[27]=[u("Slug ",-1),o("span",{class:"text-destructive"},"*",-1)])]),_:1}),o("div",ge,[l(a(p),{id:"slug",modelValue:r.value.slug,"onUpdate:modelValue":e[2]||(e[2]=t=>r.value.slug=t),placeholder:"product-slug",class:c({"border-destructive":i.value.slug}),required:""},null,8,["modelValue","class"]),l(a(B),{type:"button",variant:"outline",onClick:H,disabled:!r.value.name.trim(),title:r.value.name.trim()?"Generate slug dari nama produk":"Masukkan nama produk terlebih dahulu"},{default:s(()=>[...e[28]||(e[28]=[u(" Generate ",-1)])]),_:1},8,["disabled","title"])]),i.value.slug?(n(),f("p",ve,g(i.value.slug),1)):_("",!0)])]),o("div",fe,[l(a(d),{for:"name"},{default:s(()=>[...e[29]||(e[29]=[u("Nama Produk ",-1),o("span",{class:"text-destructive"},"*",-1)])]),_:1}),l(a(p),{id:"name",modelValue:r.value.name,"onUpdate:modelValue":e[3]||(e[3]=t=>r.value.name=t),placeholder:"Nama produk",class:c({"border-destructive":i.value.name}),required:""},null,8,["modelValue","class"]),e[30]||(e[30]=o("p",{class:"text-xs text-muted-foreground"},' Slug akan otomatis dibuat saat Anda klik tombol "Generate" pada field Slug ',-1)),i.value.name?(n(),f("p",be,g(i.value.name),1)):_("",!0)]),o("div",_e,[l(a(d),{for:"brand"},{default:s(()=>[...e[31]||(e[31]=[u("Brand",-1)])]),_:1}),l(a(p),{id:"brand",modelValue:r.value.brand,"onUpdate:modelValue":e[4]||(e[4]=t=>r.value.brand=t),placeholder:"Nama brand"},null,8,["modelValue"])]),o("div",ce,[l(a(d),{for:"short_desc"},{default:s(()=>[...e[32]||(e[32]=[u("Deskripsi Singkat",-1)])]),_:1}),l(a(G),{id:"short_desc",modelValue:r.value.short_desc,"onUpdate:modelValue":e[5]||(e[5]=t=>r.value.short_desc=t),placeholder:"Deskripsi singkat produk",rows:"2"},null,8,["modelValue"])]),o("div",ke,[l(a(d),{for:"long_desc"},{default:s(()=>[...e[33]||(e[33]=[u("Deskripsi Lengkap",-1)])]),_:1}),l(a(G),{id:"long_desc",modelValue:r.value.long_desc,"onUpdate:modelValue":e[6]||(e[6]=t=>r.value.long_desc=t),placeholder:"Deskripsi lengkap produk",rows:"4"},null,8,["modelValue"])])]),_:1})]),_:1}),l(a(V),null,{default:s(()=>[l(a(h),null,{default:s(()=>[l(a(S),null,{default:s(()=>[...e[34]||(e[34]=[u("Harga & Stok",-1)])]),_:1}),l(a(w),null,{default:s(()=>[...e[35]||(e[35]=[u("Informasi harga dan ketersediaan",-1)])]),_:1})]),_:1}),l(a(x),{class:"space-y-4"},{default:s(()=>[o("div",ye,[o("div",Ve,[l(a(d),{for:"base_price"},{default:s(()=>[...e[36]||(e[36]=[u("Harga (IDR) ",-1),o("span",{class:"text-destructive"},"*",-1)])]),_:1}),l(a(p),{id:"base_price",modelValue:r.value.base_price,"onUpdate:modelValue":e[7]||(e[7]=t=>r.value.base_price=t),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"0",class:c({"border-destructive":i.value.base_price}),required:""},null,8,["modelValue","class"]),i.value.base_price?(n(),f("p",xe,g(i.value.base_price),1)):_("",!0)]),o("div",we,[l(a(d),{for:"stock"},{default:s(()=>[...e[37]||(e[37]=[u("Stok ",-1),o("span",{class:"text-destructive"},"*",-1)])]),_:1}),l(a(p),{id:"stock",modelValue:r.value.stock,"onUpdate:modelValue":e[8]||(e[8]=t=>r.value.stock=t),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0",class:c({"border-destructive":i.value.stock}),required:""},null,8,["modelValue","class"]),i.value.stock?(n(),f("p",he,g(i.value.stock),1)):_("",!0)]),o("div",Se,[l(a(d),{for:"warranty_months"},{default:s(()=>[...e[38]||(e[38]=[u("Garansi (Bulan)",-1)])]),_:1}),l(a(p),{id:"warranty_months",modelValue:r.value.warranty_months,"onUpdate:modelValue":e[9]||(e[9]=t=>r.value.warranty_months=t),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0"},null,8,["modelValue"])])])]),_:1})]),_:1}),l(a(V),null,{default:s(()=>[l(a(h),null,{default:s(()=>[l(a(S),null,{default:s(()=>[...e[39]||(e[39]=[u("Bonus & Komisi",-1)])]),_:1}),l(a(w),null,{default:s(()=>[...e[40]||(e[40]=[u("Pengaturan bonus untuk sistem MLM",-1)])]),_:1})]),_:1}),l(a(x),{class:"space-y-4"},{default:s(()=>[o("div",Ue,[o("div",Be,[l(a(d),{for:"bv"},{default:s(()=>[...e[41]||(e[41]=[u("Business Value (BV)",-1)])]),_:1}),l(a(p),{id:"bv",modelValue:r.value.bv,"onUpdate:modelValue":e[10]||(e[10]=t=>r.value.bv=t),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"0"},null,8,["modelValue"])]),o("div",$e,[l(a(d),{for:"b_sponsor"},{default:s(()=>[...e[42]||(e[42]=[u("Bonus Sponsor",-1)])]),_:1}),l(a(p),{id:"b_sponsor",modelValue:r.value.b_sponsor,"onUpdate:modelValue":e[11]||(e[11]=t=>r.value.b_sponsor=t),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"0"},null,8,["modelValue"])]),o("div",Me,[l(a(d),{for:"b_matching"},{default:s(()=>[...e[43]||(e[43]=[u("Bonus Matching",-1)])]),_:1}),l(a(p),{id:"b_matching",modelValue:r.value.b_matching,"onUpdate:modelValue":e[12]||(e[12]=t=>r.value.b_matching=t),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"0"},null,8,["modelValue"])]),o("div",Pe,[l(a(d),{for:"b_pairing"},{default:s(()=>[...e[44]||(e[44]=[u("Bonus Pairing",-1)])]),_:1}),l(a(p),{id:"b_pairing",modelValue:r.value.b_pairing,"onUpdate:modelValue":e[13]||(e[13]=t=>r.value.b_pairing=t),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"0"},null,8,["modelValue"])]),o("div",Ce,[l(a(d),{for:"b_cashback"},{default:s(()=>[...e[45]||(e[45]=[u("Bonus Cashback",-1)])]),_:1}),l(a(p),{id:"b_cashback",modelValue:r.value.b_cashback,"onUpdate:modelValue":e[14]||(e[14]=t=>r.value.b_cashback=t),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"0"},null,8,["modelValue"])])])]),_:1})]),_:1}),l(a(V),null,{default:s(()=>[l(a(h),null,{default:s(()=>[l(a(S),null,{default:s(()=>[...e[46]||(e[46]=[u("Informasi Pengiriman",-1)])]),_:1}),l(a(w),null,{default:s(()=>[...e[47]||(e[47]=[u("Berat dan dimensi untuk pengiriman",-1)])]),_:1})]),_:1}),l(a(x),{class:"space-y-4"},{default:s(()=>[o("div",De,[o("div",Te,[l(a(d),{for:"weight_gram"},{default:s(()=>[...e[48]||(e[48]=[u("Berat (gram) ",-1),o("span",{class:"text-destructive"},"*",-1)])]),_:1}),l(a(p),{id:"weight_gram",modelValue:r.value.weight_gram,"onUpdate:modelValue":e[15]||(e[15]=t=>r.value.weight_gram=t),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0",class:c({"border-destructive":i.value.weight_gram}),required:""},null,8,["modelValue","class"]),i.value.weight_gram?(n(),f("p",Ne,g(i.value.weight_gram),1)):_("",!0)]),o("div",je,[l(a(d),{for:"length_mm"},{default:s(()=>[...e[49]||(e[49]=[u("Panjang (mm)",-1)])]),_:1}),l(a(p),{id:"length_mm",modelValue:r.value.length_mm,"onUpdate:modelValue":e[16]||(e[16]=t=>r.value.length_mm=t),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0"},null,8,["modelValue"])]),o("div",Ae,[l(a(d),{for:"width_mm"},{default:s(()=>[...e[50]||(e[50]=[u("Lebar (mm)",-1)])]),_:1}),l(a(p),{id:"width_mm",modelValue:r.value.width_mm,"onUpdate:modelValue":e[17]||(e[17]=t=>r.value.width_mm=t),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0"},null,8,["modelValue"])]),o("div",Ge,[l(a(d),{for:"height_mm"},{default:s(()=>[...e[51]||(e[51]=[u("Tinggi (mm)",-1)])]),_:1}),l(a(p),{id:"height_mm",modelValue:r.value.height_mm,"onUpdate:modelValue":e[18]||(e[18]=t=>r.value.height_mm=t),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0"},null,8,["modelValue"])])])]),_:1})]),_:1}),l(a(V),null,{default:s(()=>[l(a(h),null,{default:s(()=>[l(a(S),null,{default:s(()=>[...e[52]||(e[52]=[u("Gambar Produk",-1)])]),_:1}),l(a(w),null,{default:s(()=>[...e[53]||(e[53]=[u("Upload gambar produk (maksimal 10 gambar)",-1)])]),_:1})]),_:1}),l(a(x),null,{default:s(()=>[l(re,{modelValue:r.value.images,"onUpdate:modelValue":e[19]||(e[19]=t=>r.value.images=t),"max-images":10},null,8,["modelValue"]),i.value.images?(n(),f("p",Ie,g(i.value.images),1)):_("",!0)]),_:1})]),_:1}),l(a(V),null,{default:s(()=>[l(a(h),null,{default:s(()=>[l(a(S),null,{default:s(()=>[...e[54]||(e[54]=[u("Kategori & Status",-1)])]),_:1}),l(a(w),null,{default:s(()=>[...e[55]||(e[55]=[u("Pilih kategori produk dan status aktif",-1)])]),_:1})]),_:1}),l(a(x),{class:"space-y-4"},{default:s(()=>[o("div",Ke,[l(a(d),null,{default:s(()=>[...e[56]||(e[56]=[u("Kategori",-1)])]),_:1}),o("div",Le,[(n(!0),f(C,null,A(q.categories,t=>(n(),f("label",{key:t.id,class:c(["flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-accent transition-colors",{"bg-accent":r.value.categories.includes(t.id)}])},[l(a(I),{"model-value":r.value.categories.includes(t.id),"onUpdate:modelValue":b=>{b?r.value.categories.push(t.id):r.value.categories=r.value.categories.filter(M=>M!==t.id)}},null,8,["model-value","onUpdate:modelValue"]),o("span",Ee,g(t.name),1)],2))),128))])]),o("div",qe,[l(a(I),{id:"is_active","model-value":r.value.is_active,"onUpdate:modelValue":e[20]||(e[20]=t=>r.value.is_active=!!t)},null,8,["model-value"]),l(a(d),{for:"is_active",class:"cursor-pointer"},{default:s(()=>[...e[57]||(e[57]=[u("Produk Aktif",-1)])]),_:1})])]),_:1})]),_:1}),o("div",Fe,[l(a(B),{type:"button",variant:"outline",onClick:e[21]||(e[21]=t=>a(P).visit("/admin/products")),disabled:k.value},{default:s(()=>[...e[58]||(e[58]=[u(" Batal ",-1)])]),_:1},8,["disabled"]),l(a(B),{type:"submit",disabled:k.value},{default:s(()=>[u(g(k.value?"Menyimpan...":"Tambah Produk"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{da as default};
