import{d as E,r as f,c as g,g as r,w as l,e as n,b as a,u as t,s,Y as H,Z as I,P as L,v as S,t as M,F as q,x as G,K as d,$ as J,z as O,j as V,Q as j}from"./vendor-0sCoMzHy.js";import{_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-GwD9QHRJ.js";import{_ as Y,a as Z}from"./CardContent.vue_vue_type_script_setup_true_lang-DUWiWpeg.js";import{_ as R}from"./CardHeader.vue_vue_type_script_setup_true_lang-Bo9DeG24.js";import{_ as c}from"./index-DJk7aHkf.js";import{_ as W}from"./Input.vue_vue_type_script_setup_true_lang-nikPKNAJ.js";import{_ as B}from"./index-D12gyL4d.js";import{_ as X,a as ee,b as P,c as k,d as te,e as $}from"./TableHeader.vue_vue_type_script_setup_true_lang-Bg-l8dVV.js";import{_ as z,a as h,b as F,c as K,d as m}from"./SelectValue.vue_vue_type_script_setup_true_lang-Dc4bXstG.js";import{_ as ae,a as le,b as se,c as ne,d as ie,e as ue,f as re,g as de}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-DMm3rbrx.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BhL6n9ND.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-CAfd5pFE.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-KgsqrYLn.js";import"./index-DqFeuJ-n.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DEiiatvc.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-CbD5L1KI.js";const oe={class:"container mx-auto py-6 space-y-6"},fe={class:"flex items-center justify-between"},me={href:"/admin/articles/create"},_e={class:"flex flex-col md:flex-row gap-4"},ve={class:"flex-1"},pe={class:"relative"},ge={class:"flex gap-2"},ce={class:"font-medium"},ke={class:"text-sm text-muted-foreground"},$e={class:"flex justify-end gap-2"},xe=["href"],be={key:1,class:"py-12 text-center"},ye={key:2,class:"mt-6 flex items-center justify-between"},we={class:"text-sm text-muted-foreground"},Se={class:"flex gap-2"},Me=E({__name:"Index",props:{articles:{},filters:{}},setup(u){const p=u,x=f(p.filters.search||""),_=f(p.filters.status||"all"),D=f(p.filters.sort_by),T=f(p.filters.sort_order),b=f(p.filters.per_page),v=f(null),y=f(!1),w=()=>{V.get("/admin/articles",{search:x.value||void 0,status:_.value!=="all"?_.value:void 0,sort_by:D.value,sort_order:T.value,per_page:b.value},{preserveState:!0,preserveScroll:!0})},N=o=>{v.value=o},U=()=>{v.value&&(y.value=!0,V.delete(`/admin/articles/${v.value}`,{onSuccess:()=>{j.success("Artikel berhasil dihapus"),v.value=null},onError:()=>{j.error("Gagal menghapus artikel")},onFinish:()=>{y.value=!1}}))},A=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",C=o=>{V.get("/admin/articles",{page:o,search:x.value||void 0,status:_.value!=="all"?_.value:void 0,sort_by:D.value,sort_order:T.value,per_page:b.value},{preserveState:!0,preserveScroll:!0})};return(o,e)=>(r(),g(Q,null,{default:l(()=>[n("div",oe,[n("div",fe,[e[7]||(e[7]=n("div",null,[n("h1",{class:"text-3xl font-bold tracking-tight"},"Artikel"),n("p",{class:"text-muted-foreground"}," Kelola semua artikel dan konten blog ")],-1)),a(t(c),{"as-child":""},{default:l(()=>[n("a",me,[a(t(H),{class:"mr-2 h-4 w-4"}),e[6]||(e[6]=s(" Tambah Artikel ",-1))])]),_:1})]),a(t(Y),null,{default:l(()=>[a(t(R),null,{default:l(()=>[n("div",_e,[n("div",ve,[n("div",pe,[a(t(I),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(t(W),{modelValue:x.value,"onUpdate:modelValue":e[0]||(e[0]=i=>x.value=i),placeholder:"Cari artikel...",class:"pl-10",onKeyup:L(w,["enter"])},null,8,["modelValue"])])]),n("div",ge,[a(t(z),{modelValue:_.value,"onUpdate:modelValue":[e[1]||(e[1]=i=>_.value=i),w]},{default:l(()=>[a(t(h),{class:"w-[140px]"},{default:l(()=>[a(t(F),{placeholder:"Status"})]),_:1}),a(t(K),null,{default:l(()=>[a(t(m),{value:"all"},{default:l(()=>[...e[8]||(e[8]=[s("Semua",-1)])]),_:1}),a(t(m),{value:"published"},{default:l(()=>[...e[9]||(e[9]=[s("Terbit",-1)])]),_:1}),a(t(m),{value:"draft"},{default:l(()=>[...e[10]||(e[10]=[s("Draft",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(t(z),{modelValue:b.value,"onUpdate:modelValue":[e[2]||(e[2]=i=>b.value=i),w]},{default:l(()=>[a(t(h),{class:"w-[100px]"},{default:l(()=>[a(t(F),{placeholder:"Per halaman"})]),_:1}),a(t(K),null,{default:l(()=>[a(t(m),{value:"10"},{default:l(()=>[...e[11]||(e[11]=[s("10",-1)])]),_:1}),a(t(m),{value:"25"},{default:l(()=>[...e[12]||(e[12]=[s("25",-1)])]),_:1}),a(t(m),{value:"50"},{default:l(()=>[...e[13]||(e[13]=[s("50",-1)])]),_:1}),a(t(m),{value:"100"},{default:l(()=>[...e[14]||(e[14]=[s("100",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),a(t(Z),null,{default:l(()=>[u.articles.data.length>0?(r(),g(t(X),{key:0},{default:l(()=>[a(t(ee),null,{default:l(()=>[a(t(P),null,{default:l(()=>[a(t(k),null,{default:l(()=>[...e[15]||(e[15]=[s("Judul",-1)])]),_:1}),a(t(k),null,{default:l(()=>[...e[16]||(e[16]=[s("Status",-1)])]),_:1}),a(t(k),null,{default:l(()=>[...e[17]||(e[17]=[s("Tanggal Terbit",-1)])]),_:1}),a(t(k),null,{default:l(()=>[...e[18]||(e[18]=[s("Dibuat",-1)])]),_:1}),a(t(k),{class:"text-right"},{default:l(()=>[...e[19]||(e[19]=[s("Aksi",-1)])]),_:1})]),_:1})]),_:1}),a(t(te),null,{default:l(()=>[(r(!0),S(q,null,G(u.articles.data,i=>(r(),g(t(P),{key:i.id},{default:l(()=>[a(t($),null,{default:l(()=>[n("div",null,[n("p",ce,d(i.title),1),n("p",ke,d(i.slug),1)])]),_:2},1024),a(t($),null,{default:l(()=>[i.is_published?(r(),g(t(B),{key:0,variant:"default"},{default:l(()=>[...e[20]||(e[20]=[s(" Terbit ",-1)])]),_:1})):(r(),g(t(B),{key:1,variant:"secondary"},{default:l(()=>[...e[21]||(e[21]=[s(" Draft ",-1)])]),_:1}))]),_:2},1024),a(t($),null,{default:l(()=>[s(d(A(i.published_at)),1)]),_:2},1024),a(t($),null,{default:l(()=>[s(d(A(i.created_at)),1)]),_:2},1024),a(t($),{class:"text-right"},{default:l(()=>[n("div",$e,[a(t(c),{"as-child":"",variant:"ghost",size:"icon"},{default:l(()=>[n("a",{href:`/admin/articles/${i.id}/edit`},[a(t(J),{class:"h-4 w-4"})],8,xe)]),_:2},1024),a(t(c),{variant:"ghost",size:"icon",onClick:Ve=>N(i.id)},{default:l(()=>[a(t(O),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(r(),S("div",be,[...e[22]||(e[22]=[n("p",{class:"text-muted-foreground"},"Tidak ada artikel ditemukan",-1)])])),u.articles.last_page>1?(r(),S("div",ye,[n("p",we," Menampilkan "+d(u.articles.from)+" - "+d(u.articles.to)+" dari "+d(u.articles.total)+" artikel ",1),n("div",Se,[a(t(c),{variant:"outline",size:"sm",disabled:u.articles.current_page===1,onClick:e[3]||(e[3]=i=>C(u.articles.current_page-1))},{default:l(()=>[...e[23]||(e[23]=[s(" Sebelumnya ",-1)])]),_:1},8,["disabled"]),a(t(c),{variant:"outline",size:"sm",disabled:u.articles.current_page===u.articles.last_page,onClick:e[4]||(e[4]=i=>C(u.articles.current_page+1))},{default:l(()=>[...e[24]||(e[24]=[s(" Selanjutnya ",-1)])]),_:1},8,["disabled"])])])):M("",!0)]),_:1})]),_:1})]),a(t(ae),{open:v.value!==null,"onUpdate:open":e[5]||(e[5]=i=>v.value=null)},{default:l(()=>[a(t(le),null,{default:l(()=>[a(t(se),null,{default:l(()=>[a(t(ne),null,{default:l(()=>[...e[25]||(e[25]=[s("Hapus Artikel?",-1)])]),_:1}),a(t(ie),null,{default:l(()=>[...e[26]||(e[26]=[s(" Artikel akan dipindahkan ke sampah dan dapat dipulihkan nanti. Apakah Anda yakin ingin melanjutkan? ",-1)])]),_:1})]),_:1}),a(t(ue),null,{default:l(()=>[a(t(re),null,{default:l(()=>[...e[27]||(e[27]=[s("Batal",-1)])]),_:1}),a(t(de),{disabled:y.value,onClick:U},{default:l(()=>[s(d(y.value?"Menghapus...":"Hapus"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{Me as default};
