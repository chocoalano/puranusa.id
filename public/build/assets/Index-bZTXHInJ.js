import{_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-YhCYOJnL.js";import{d as k,v as _,g as d,e as p,c,t as x,J as m,w as a,b as t,u as e,s as r,W as B,a2 as V,Y as A,N,F as C,x as T,ad as j,ah as U,r as E,$ as I,j as b}from"./vendor-DTOvI-mL.js";import{_ as S}from"./index-D22QrCMB.js";import{_ as P}from"./Input.vue_vue_type_script_setup_true_lang-sYWCYV49.js";import{_ as v}from"./index-CQcVzSmJ.js";import{_ as W,a as D,b as h,c as f,d as F,e as o}from"./TableHeader.vue_vue_type_script_setup_true_lang-C4NscKfn.js";import{_ as H,a as J,b as z,c as y}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DuRk8pxL.js";import{_ as G}from"./Pagination.vue_vue_type_script_setup_true_lang-nWoduDQM.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BMNk4ekC.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dl-lb8Nw.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DLa7QEbp.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DpA8K8_j.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CBkKfeqw.js";const L={class:"flex items-center justify-between"},Q={class:"text-3xl font-bold tracking-tight"},Y={class:"text-muted-foreground"},q=k({__name:"CategoryHeader",props:{title:{},description:{},showAddButton:{type:Boolean,default:!0}},setup(n){return(g,u)=>(d(),_("div",L,[p("div",null,[p("h2",Q,m(n.title),1),p("p",Y,m(n.description),1)]),n.showAddButton?(d(),c(e(V),{key:0,href:"/admin/categories/create"},{default:a(()=>[t(e(S),null,{default:a(()=>[t(e(B),{class:"mr-2 h-4 w-4"}),u[0]||(u[0]=r(" Tambah Kategori ",-1))]),_:1})]),_:1})):x("",!0)]))}}),M={class:"flex items-center gap-4"},O={class:"relative flex-1"},R=k({__name:"CategorySearch",props:{modelValue:{}},emits:["update:modelValue","search"],setup(n,{emit:g}){const u=g;return($,i)=>(d(),_("div",M,[p("div",O,[t(e(A),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(P),{"model-value":n.modelValue,"onUpdate:modelValue":i[0]||(i[0]=l=>u("update:modelValue",l)),placeholder:"Cari kategori...",class:"pl-10",onKeydown:i[1]||(i[1]=N(l=>u("search"),["enter"]))},null,8,["model-value"])])]))}}),X={class:"rounded-md border"},Z={class:"w-10 h-10 rounded-md border overflow-hidden bg-muted flex items-center justify-center"},ee=["src","alt"],te={key:1,class:"text-muted-foreground"},ae=k({__name:"CategoryTable",props:{categories:{}},emits:["delete"],setup(n,{emit:g}){const u=g,$=i=>i?i.startsWith("http://")||i.startsWith("https://")?i:`/storage/${i}`:null;return(i,l)=>(d(),_("div",X,[t(e(W),null,{default:a(()=>[t(e(D),null,{default:a(()=>[t(e(h),null,{default:a(()=>[t(e(f),{class:"w-[60px]"},{default:a(()=>[...l[0]||(l[0]=[r("Gambar",-1)])]),_:1}),t(e(f),null,{default:a(()=>[...l[1]||(l[1]=[r("Nama Kategori",-1)])]),_:1}),t(e(f),null,{default:a(()=>[...l[2]||(l[2]=[r("Slug",-1)])]),_:1}),t(e(f),null,{default:a(()=>[...l[3]||(l[3]=[r("Parent",-1)])]),_:1}),t(e(f),null,{default:a(()=>[...l[4]||(l[4]=[r("Urutan",-1)])]),_:1}),t(e(f),null,{default:a(()=>[...l[5]||(l[5]=[r("Jumlah Produk",-1)])]),_:1}),t(e(f),null,{default:a(()=>[...l[6]||(l[6]=[r("Status",-1)])]),_:1}),t(e(f),{class:"w-[80px]"})]),_:1})]),_:1}),t(e(F),null,{default:a(()=>[n.categories.length===0?(d(),c(e(h),{key:0},{default:a(()=>[t(e(o),{colspan:"8",class:"text-center text-muted-foreground"},{default:a(()=>[...l[7]||(l[7]=[r(" Tidak ada kategori ditemukan ",-1)])]),_:1})]),_:1})):x("",!0),(d(!0),_(C,null,T(n.categories,s=>(d(),c(e(h),{key:s.id},{default:a(()=>[t(e(o),null,{default:a(()=>[p("div",Z,[s.image?(d(),_("img",{key:0,src:$(s.image),alt:s.name,class:"w-full h-full object-cover"},null,8,ee)):(d(),c(e(j),{key:1,class:"w-5 h-5 text-muted-foreground"}))])]),_:2},1024),t(e(o),{class:"font-medium"},{default:a(()=>[r(m(s.name),1)]),_:2},1024),t(e(o),{class:"text-muted-foreground"},{default:a(()=>[r(m(s.slug),1)]),_:2},1024),t(e(o),null,{default:a(()=>[s.parent?(d(),c(e(v),{key:0,variant:"secondary"},{default:a(()=>[r(m(s.parent.name),1)]),_:2},1024)):(d(),_("span",te,"-"))]),_:2},1024),t(e(o),null,{default:a(()=>[r(m(s.sort_order),1)]),_:2},1024),t(e(o),null,{default:a(()=>[t(e(v),null,{default:a(()=>[r(m(s.products_count),1)]),_:2},1024)]),_:2},1024),t(e(o),null,{default:a(()=>[t(e(v),{variant:s.is_active?"default":"secondary"},{default:a(()=>[r(m(s.is_active?"Aktif":"Tidak Aktif"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(o),null,{default:a(()=>[t(e(H),null,{default:a(()=>[t(e(J),{"as-child":""},{default:a(()=>[t(e(S),{variant:"ghost",size:"icon"},{default:a(()=>[t(e(U),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(z),{align:"end"},{default:a(()=>[t(e(V),{href:`/admin/categories/${s.id}/edit`},{default:a(()=>[t(e(y),null,{default:a(()=>[...l[8]||(l[8]=[r("Edit",-1)])]),_:1})]),_:1},8,["href"]),t(e(y),{onClick:w=>u("delete",s.id),class:"text-destructive"},{default:a(()=>[...l[9]||(l[9]=[r(" Hapus ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))}}),le={class:"rounded-xl p-4 space-y-6 py-6"},ke=k({__name:"Index",props:{categories:{},filters:{}},setup(n){const u=E(n.filters.search||""),$=()=>{b.get("/admin/categories",{search:u.value},{preserveState:!0,preserveScroll:!0})},i=l=>{confirm("Apakah Anda yakin ingin menghapus kategori ini?")&&b.delete(`/admin/categories/${l}`,{preserveScroll:!0})};return(l,s)=>(d(),_(C,null,[t(e(I),{title:"Kelola Kategori"}),t(K,null,{default:a(()=>[p("div",le,[t(q,{title:"Kelola Kategori",description:"Kelola kategori produk"}),t(R,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=w=>u.value=w),onSearch:$},null,8,["modelValue"]),t(ae,{categories:n.categories.data,onDelete:i},null,8,["categories"]),n.categories.last_page>1?(d(),c(G,{key:0,data:n.categories,url:"/admin/categories",filters:n.filters},null,8,["data","filters"])):x("",!0)])]),_:1})],64))}});export{ke as default};
