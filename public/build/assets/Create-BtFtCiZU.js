import{d as B,D as V,c as $,g as d,w as a,b as o,e as r,u as e,a0 as C,j as v,G as S,ad as T,s as n,cW as M,ag as b,v as u,t as m,J as p,cQ as _,K as l,F as N,x as U,ak as P}from"./vendor-CZXNXaHB.js";import{a0 as c,a1 as D,_ as j,a2 as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-C9ON-RNz.js";import{_ as g}from"./index-DQccm4Bv.js";import{_ as R,a as z}from"./CardContent.vue_vue_type_script_setup_true_lang-tg0tM1mE.js";import{_ as I}from"./CardDescription.vue_vue_type_script_setup_true_lang-BUya40Xk.js";import{_ as K}from"./CardHeader.vue_vue_type_script_setup_true_lang-DNr1O3j0.js";import{_ as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-DiexmtNY.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-CQ6gFgAL.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-BTaAbAG1.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-TpB8oA6T.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Bh3WDF-P.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-gjluvqqt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B95dSWYf.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-BDsQhCvz.js";const A={class:"rounded-xl p-4 space-y-6 py-6"},E={class:"flex items-center gap-4"},G={class:"space-y-2"},J={key:0,class:"text-sm text-destructive"},Q={class:"space-y-2"},W=["value"],q={key:0,class:"text-sm text-destructive"},H={class:"space-y-2"},O={key:0,class:"text-sm text-destructive"},X={class:"space-y-2"},Y={key:0,class:"text-sm text-destructive"},Z={class:"space-y-2"},h={key:0,class:"text-sm text-destructive"},ee={class:"flex justify-end gap-4"},ve=B({__name:"Create",props:{members:{}},setup(y){const k=[{title:"Bonus Sponsor",href:c.url()},{title:"Tambah Bonus",href:D.url()}],t=V({type:"registration",from_member_id:"",amount:"",percentage:"",description:""}),w=()=>{t.post(F.url(),{preserveScroll:!0})};return(se,s)=>(d(),$(j,{breadcrumbs:k},{default:a(()=>[o(e(C),{title:"Tambah Bonus Sponsor"}),r("div",A,[r("div",E,[o(e(g),{variant:"outline",size:"icon",onClick:s[0]||(s[0]=i=>e(v).visit(e(c).url()))},{default:a(()=>[o(e(S),{class:"h-4 w-4"})]),_:1}),s[7]||(s[7]=r("div",null,[r("h1",{class:"text-3xl font-bold tracking-tight"},"Tambah Bonus Sponsor"),r("p",{class:"text-muted-foreground"},"Buat bonus sponsor baru dari aktivitas downline")],-1))]),r("form",{onSubmit:T(w,["prevent"]),class:"space-y-6"},[o(e(R),null,{default:a(()=>[o(e(K),null,{default:a(()=>[o(e(L),{class:"flex items-center gap-2"},{default:a(()=>[o(e(M),{class:"h-5 w-5"}),s[8]||(s[8]=n(" Informasi Bonus ",-1))]),_:1}),o(e(I),null,{default:a(()=>[...s[9]||(s[9]=[n(" Masukkan detail bonus sponsor yang akan diberikan ",-1)])]),_:1})]),_:1}),o(e(z),{class:"space-y-4"},{default:a(()=>[r("div",G,[o(e(f),{for:"type"},{default:a(()=>[...s[10]||(s[10]=[n("Tipe Bonus *",-1)])]),_:1}),b(r("select",{id:"type","onUpdate:modelValue":s[1]||(s[1]=i=>e(t).type=i),class:p(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",{"border-destructive":e(t).errors.type}])},[...s[11]||(s[11]=[r("option",{value:"registration"},"Registrasi",-1),r("option",{value:"transaction"},"Transaksi",-1)])],2),[[_,e(t).type]]),e(t).errors.type?(d(),u("p",J,l(e(t).errors.type),1)):m("",!0),s[12]||(s[12]=r("p",{class:"text-sm text-muted-foreground"}," Pilih tipe bonus: dari registrasi member baru atau dari transaksi ",-1))]),r("div",Q,[o(e(f),{for:"from_member_id"},{default:a(()=>[...s[13]||(s[13]=[n("Member (Downline) *",-1)])]),_:1}),b(r("select",{id:"from_member_id","onUpdate:modelValue":s[2]||(s[2]=i=>e(t).from_member_id=i),class:p(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",{"border-destructive":e(t).errors.from_member_id}])},[s[14]||(s[14]=r("option",{value:""},"Pilih member...",-1)),(d(!0),u(N,null,U(y.members,i=>(d(),u("option",{key:i.id,value:i.id},l(i.name)+" ("+l(i.ewallet_id)+") ",9,W))),128))],2),[[_,e(t).from_member_id]]),e(t).errors.from_member_id?(d(),u("p",q,l(e(t).errors.from_member_id),1)):m("",!0),s[15]||(s[15]=r("p",{class:"text-sm text-muted-foreground"}," Sistem akan otomatis memberikan bonus kepada sponsor member ini ",-1))]),r("div",H,[o(e(f),{for:"amount"},{default:a(()=>[...s[16]||(s[16]=[n("Nilai Transaksi/Registrasi (Rp) *",-1)])]),_:1}),o(e(x),{id:"amount",modelValue:e(t).amount,"onUpdate:modelValue":s[3]||(s[3]=i=>e(t).amount=i),type:"number",step:"0.01",placeholder:"Contoh: 100000",class:p({"border-destructive":e(t).errors.amount})},null,8,["modelValue","class"]),e(t).errors.amount?(d(),u("p",O,l(e(t).errors.amount),1)):m("",!0),s[17]||(s[17]=r("p",{class:"text-sm text-muted-foreground"}," Nilai transaksi atau registrasi yang menjadi dasar perhitungan bonus ",-1))]),r("div",X,[o(e(f),{for:"percentage"},{default:a(()=>[...s[18]||(s[18]=[n("Persentase Bonus (%) *",-1)])]),_:1}),o(e(x),{id:"percentage",modelValue:e(t).percentage,"onUpdate:modelValue":s[4]||(s[4]=i=>e(t).percentage=i),type:"number",step:"0.01",placeholder:"Contoh: 5",class:p({"border-destructive":e(t).errors.percentage})},null,8,["modelValue","class"]),e(t).errors.percentage?(d(),u("p",Y,l(e(t).errors.percentage),1)):m("",!0),s[19]||(s[19]=r("p",{class:"text-sm text-muted-foreground"}," Persentase bonus yang akan diberikan kepada sponsor ",-1))]),r("div",Z,[o(e(f),{for:"description"},{default:a(()=>[...s[20]||(s[20]=[n("Keterangan",-1)])]),_:1}),b(r("textarea",{id:"description","onUpdate:modelValue":s[5]||(s[5]=i=>e(t).description=i),rows:"3",class:p(["flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",{"border-destructive":e(t).errors.description}]),placeholder:"Catatan tambahan tentang bonus ini..."},null,2),[[P,e(t).description]]),e(t).errors.description?(d(),u("p",h,l(e(t).errors.description),1)):m("",!0)])]),_:1})]),_:1}),r("div",ee,[o(e(g),{type:"button",variant:"outline",onClick:s[6]||(s[6]=i=>e(v).visit(e(c).url())),disabled:e(t).processing},{default:a(()=>[...s[21]||(s[21]=[n(" Batal ",-1)])]),_:1},8,["disabled"]),o(e(g),{type:"submit",disabled:e(t).processing},{default:a(()=>[n(l(e(t).processing?"Menyimpan...":"Simpan Bonus"),1)]),_:1},8,["disabled"])])],32)])]),_:1}))}});export{ve as default};
