import{d as L,D as U,r as k,c as B,g as P,w as t,b as s,e as l,u as a,a0 as C,s as n,aq as F,a3 as $,G as T,ad as q,S as E,K as A,Q as K}from"./vendor-BcJu9AAH.js";import{_ as u}from"./InputError.vue_vue_type_script_setup_true_lang-CGLB3v1i.js";import{_ as b}from"./index-B-HLTJ14.js";import{_ as j,a as G}from"./CardContent.vue_vue_type_script_setup_true_lang-D_ByHwkr.js";import{_ as Q}from"./CardDescription.vue_vue_type_script_setup_true_lang-DKKy7ZmY.js";import{_ as z}from"./CardHeader.vue_vue_type_script_setup_true_lang-CnGfQ4dp.js";import{_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-g8lPgvYF.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-CtLoVYP_.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-BKM3eCTG.js";import{_ as J,a as O,b as W,c as X,d as h}from"./SelectValue.vue_vue_type_script_setup_true_lang-DOFahpuV.js";import{_ as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-DcdoyRoT.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-DREEJQRG.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DzjjQG7k.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BccCC61Q.js";import"./index-DqFeuJ-n.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-6ChEtU6y.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DduvX08w.js";const Z={class:"flex h-full flex-1 flex-col gap-6 p-6"},ee={class:"flex items-center justify-between"},ae={class:"text-3xl font-bold tracking-tight flex items-center gap-2"},se={class:"grid gap-6 md:grid-cols-2"},te={class:"space-y-2"},le={class:"space-y-2"},re={class:"space-y-2 md:col-span-2"},oe={class:"space-y-2"},ne={class:"relative"},ie={class:"space-y-2"},de={class:"space-y-2"},ue={class:"flex justify-end gap-4 pt-4"},Se=L({__name:"Edit",props:{reward:{}},setup(R){const d=R,D=[{title:"Pengaturan",href:"#"},{title:"Lifetime Cash Rewards",href:"/admin/settings/lifetime-cash-rewards"},{title:"Edit",href:"#"}],r=U({code:d.reward.code||"",name:d.reward.name,reward:d.reward.reward||"",value:d.reward.value,bv:d.reward.bv,status:String(d.reward.status)}),g=i=>i===0||isNaN(i)?"":new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(i),y=i=>{if(!i)return 0;const e=i.replace(/\./g,"").replace(",","."),o=parseFloat(e);return isNaN(o)?0:o},_=k(g(d.reward.value)),v=k(g(d.reward.bv)),I=i=>{const e=i.target,o=e.selectionStart||0,w=e.value.length,x=y(e.value),f=Math.min(x,999999999999999e-2);r.value=f,_.value=g(f);const V=_.value.length,p=Math.max(0,o+(V-w));setTimeout(()=>e.setSelectionRange(p,p),0)},S=i=>{const e=i.target,o=e.selectionStart||0,w=e.value.length,x=y(e.value),f=Math.min(x,999999999999999e-2);r.bv=f,v.value=g(f);const V=v.value.length,p=Math.max(0,o+(V-w));setTimeout(()=>e.setSelectionRange(p,p),0)},M=()=>{r.put(`/admin/settings/lifetime-cash-rewards/${d.reward.id}`,{onSuccess:()=>{K.success("Lifetime Cash Reward berhasil diperbarui")}})};return(i,e)=>(P(),B(Y,{breadcrumbs:D},{default:t(()=>[s(a(C),{title:"Edit Lifetime Cash Reward"}),l("div",Z,[l("div",ee,[l("div",null,[l("h1",ae,[s(a(F),{class:"h-8 w-8"}),e[6]||(e[6]=n(" Edit Lifetime Cash Reward ",-1))]),e[7]||(e[7]=l("p",{class:"text-muted-foreground mt-1"}," Ubah detail lifetime cash reward ",-1))]),s(a($),{href:"/admin/settings/lifetime-cash-rewards"},{default:t(()=>[s(a(b),{variant:"outline"},{default:t(()=>[s(a(T),{class:"h-4 w-4 mr-2"}),e[8]||(e[8]=n(" Kembali ",-1))]),_:1})]),_:1})]),l("form",{onSubmit:q(M,["prevent"])},[s(a(j),null,{default:t(()=>[s(a(z),null,{default:t(()=>[s(a(H),null,{default:t(()=>[...e[9]||(e[9]=[n("Informasi Reward",-1)])]),_:1}),s(a(Q),null,{default:t(()=>[...e[10]||(e[10]=[n("Ubah detail lifetime cash reward",-1)])]),_:1})]),_:1}),s(a(G),{class:"space-y-6"},{default:t(()=>[l("div",se,[l("div",te,[s(a(m),{for:"code"},{default:t(()=>[...e[11]||(e[11]=[n("Kode",-1)])]),_:1}),s(a(c),{id:"code",modelValue:a(r).code,"onUpdate:modelValue":e[0]||(e[0]=o=>a(r).code=o),placeholder:"Masukkan kode (opsional)",maxlength:"10"},null,8,["modelValue"]),s(u,{message:a(r).errors.code},null,8,["message"])]),l("div",le,[s(a(m),{for:"name"},{default:t(()=>[...e[12]||(e[12]=[n("Nama Reward ",-1),l("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(a(c),{id:"name",modelValue:a(r).name,"onUpdate:modelValue":e[1]||(e[1]=o=>a(r).name=o),placeholder:"Masukkan nama reward",required:""},null,8,["modelValue"]),s(u,{message:a(r).errors.name},null,8,["message"])]),l("div",re,[s(a(m),{for:"reward"},{default:t(()=>[...e[13]||(e[13]=[n("Deskripsi Reward",-1)])]),_:1}),s(a(c),{id:"reward",modelValue:a(r).reward,"onUpdate:modelValue":e[2]||(e[2]=o=>a(r).reward=o),placeholder:"Deskripsi atau detail reward"},null,8,["modelValue"]),s(u,{message:a(r).errors.reward},null,8,["message"])]),l("div",oe,[s(a(m),{for:"value"},{default:t(()=>[...e[14]||(e[14]=[n("Nilai (IDR) ",-1),l("span",{class:"text-red-500"},"*",-1)])]),_:1}),l("div",ne,[e[15]||(e[15]=l("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm"},"Rp",-1)),s(a(c),{id:"value",modelValue:_.value,"onUpdate:modelValue":e[3]||(e[3]=o=>_.value=o),type:"text",inputmode:"decimal",class:"pl-10",placeholder:"0",required:"",onInput:I},null,8,["modelValue"])]),e[16]||(e[16]=l("p",{class:"text-xs text-muted-foreground"},"Maks: Rp 9.999.999.999.999,99",-1)),s(u,{message:a(r).errors.value},null,8,["message"])]),l("div",ie,[s(a(m),{for:"bv"},{default:t(()=>[...e[17]||(e[17]=[n("BV (Business Value) ",-1),l("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(a(c),{id:"bv",modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=o=>v.value=o),type:"text",inputmode:"decimal",placeholder:"0",required:"",onInput:S},null,8,["modelValue"]),e[18]||(e[18]=l("p",{class:"text-xs text-muted-foreground"},"Maks: 9.999.999.999.999,99",-1)),s(u,{message:a(r).errors.bv},null,8,["message"])]),l("div",de,[s(a(m),{for:"status"},{default:t(()=>[...e[19]||(e[19]=[n("Status ",-1),l("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(a(J),{modelValue:a(r).status,"onUpdate:modelValue":e[5]||(e[5]=o=>a(r).status=o)},{default:t(()=>[s(a(O),null,{default:t(()=>[s(a(W),{placeholder:"Pilih status"})]),_:1}),s(a(X),null,{default:t(()=>[s(a(h),{value:"1"},{default:t(()=>[...e[20]||(e[20]=[n("Aktif",-1)])]),_:1}),s(a(h),{value:"0"},{default:t(()=>[...e[21]||(e[21]=[n("Tidak Aktif",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(u,{message:a(r).errors.status},null,8,["message"])])]),l("div",ue,[s(a($),{href:"/admin/settings/lifetime-cash-rewards"},{default:t(()=>[s(a(b),{type:"button",variant:"outline"},{default:t(()=>[...e[22]||(e[22]=[n("Batal",-1)])]),_:1})]),_:1}),s(a(b),{type:"submit",disabled:a(r).processing},{default:t(()=>[s(a(E),{class:"h-4 w-4 mr-2"}),n(" "+A(a(r).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})],32)])]),_:1}))}});export{Se as default};
