import{d as v,r as p,v as b,g as x,b as t,u as o,$ as h,w as s,e as i,a2 as d,E as k,s as c,J as S,F as w,j as y,P as f}from"./vendor-DTOvI-mL.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-YhCYOJnL.js";import{_ as m}from"./index-D22QrCMB.js";import{_ as B}from"./CategoryForm.vue_vue_type_script_setup_true_lang-KU3w8iuf.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BMNk4ekC.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dl-lb8Nw.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DuRk8pxL.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DLa7QEbp.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DpA8K8_j.js";import"./Input.vue_vue_type_script_setup_true_lang-sYWCYV49.js";import"./Label.vue_vue_type_script_setup_true_lang-Bkvht4jR.js";import"./Textarea.vue_vue_type_script_setup_true_lang-Dt0uRcWG.js";import"./CardContent.vue_vue_type_script_setup_true_lang-Bj2sOBs1.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-Dh4Au0Nv.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-Dnz_aDai.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-DNuWsNXR.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CBkKfeqw.js";const C={class:"rounded-xl p-4 space-y-6 py-6"},D={class:"flex items-center gap-4"},K={class:"max-w-4xl"},Q=v({__name:"Create",props:{parentCategories:{}},setup(_){const e=p({parent_id:null,slug:"",name:"",description:"",sort_order:0,is_active:!0,image:null}),u=p({}),l=p(!1),g=()=>{l.value=!0;const a=new FormData;a.append("name",e.value.name),a.append("slug",e.value.slug),a.append("description",e.value.description||""),a.append("sort_order",String(e.value.sort_order)),a.append("is_active",e.value.is_active?"1":"0"),e.value.parent_id&&a.append("parent_id",String(e.value.parent_id)),e.value.image instanceof File&&a.append("image",e.value.image),y.post("/admin/categories",a,{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{f.success("Kategori berhasil ditambahkan")},onError:r=>{u.value=r,f.error("Gagal menambahkan kategori")},onFinish:()=>{l.value=!1}})};return(a,r)=>(x(),b(w,null,[t(o(h),{title:"Tambah Kategori"}),t(F,null,{default:s(()=>[i("div",C,[i("div",D,[t(o(d),{href:"/admin/categories"},{default:s(()=>[t(o(m),{variant:"outline",size:"icon"},{default:s(()=>[t(o(k),{class:"h-4 w-4"})]),_:1})]),_:1}),r[1]||(r[1]=i("div",null,[i("h1",{class:"text-3xl font-bold"},"Tambah Kategori"),i("p",{class:"text-muted-foreground"},"Buat kategori produk baru")],-1))]),i("div",K,[t(B,{"form-data":e.value,"onUpdate:formData":r[0]||(r[0]=n=>e.value=n),"parent-categories":_.parentCategories,errors:u.value,processing:l.value,onSubmit:g},{actions:s(({processing:n})=>[t(o(d),{href:"/admin/categories"},{default:s(()=>[t(o(m),{type:"button",variant:"outline"},{default:s(()=>[...r[2]||(r[2]=[c("Batal",-1)])]),_:1})]),_:1}),t(o(m),{type:"submit",disabled:n},{default:s(()=>[c(S(n?"Menyimpan...":"Simpan Kategori"),1)]),_:2},1032,["disabled"])]),_:1},8,["form-data","parent-categories","errors","processing"])])])]),_:1})],64))}});export{Q as default};
