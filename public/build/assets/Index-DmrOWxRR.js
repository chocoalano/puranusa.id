import{d as M,r as d,p as O,v as N,g as u,b as a,u as e,a1 as Q,w as t,e as r,c as f,t as x,a4 as D,s,Y as R,Z as Y,P as J,F as P,x as W,K as m,ar as X,$ as ee,z as ae,j as B,Q as F}from"./vendor-DfMbnFaR.js";import{_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-3Xwj2Srj.js";import{_ as A,a as U}from"./CardContent.vue_vue_type_script_setup_true_lang-NxxB_dAy.js";import{_ as le}from"./CardDescription.vue_vue_type_script_setup_true_lang-DW_PX5BW.js";import{_ as se}from"./CardHeader.vue_vue_type_script_setup_true_lang-Kdg7L6IL.js";import{_ as ne}from"./CardTitle.vue_vue_type_script_setup_true_lang-Cj4ck2dV.js";import{_}from"./index-BhPH699V.js";import{_ as Z}from"./Input.vue_vue_type_script_setup_true_lang-Bi8Aupzl.js";import{_ as re}from"./index-Qe8U7avD.js";import{_ as ue,a as oe,b as S,c as y,d as ie,e as p}from"./TableHeader.vue_vue_type_script_setup_true_lang-PuAkTm4y.js";import{_ as T,a as h,b as j,c as I,d as w}from"./SelectValue.vue_vue_type_script_setup_true_lang-VBwlv4qP.js";import{_ as de,a as fe,b as me,c as _e,d as pe,e as ve,f as ce,g as ge}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-DZdfZa6K.js";import{_ as $e}from"./Pagination.vue_vue_type_script_setup_true_lang-C64O0K5A.js";import{u as ke}from"./usePermissions-Bdkvyget.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-Bqij1zEj.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-BOYUcfDs.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-NxThyEhC.js";import"./index-DnSHhU6t.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DrG-1awo.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-CpOM3BUc.js";const be={class:"container mx-auto py-6 space-y-6"},xe={class:"flex items-center justify-between"},ye={class:"flex flex-col gap-4 lg:flex-row"},Ve={class:"flex-1 relative"},Ce={class:"grid grid-cols-1 gap-3 sm:grid-cols-3 lg:grid-cols-3"},we={class:"flex gap-2"},Ke={class:"font-medium"},ze={class:"text-sm text-muted-foreground"},De={class:"flex items-center justify-end gap-2"},Je=M({__name:"Index",props:{items:{},filters:{}},setup(v){const c=v,{isSuperAdmin:K,isAdmin:z}=ke(),g=d(c.filters.search||""),o=d(c.filters.parent_id?String(c.filters.parent_id):""),$=d(c.filters.sort_by||"name"),k=d(c.filters.sort_order||"asc"),b=()=>{B.get("/admin/zenner-club/categories",{search:g.value||void 0,parent_id:o.value?Number(o.value):void 0,sort_by:$.value,sort_order:k.value},{preserveScroll:!0,preserveState:!0})},E=()=>{g.value="",o.value="",$.value="name",k.value="asc",b()},i=d(null),V=d(!1),H=C=>{i.value=C},L=()=>{i.value&&(V.value=!0,B.delete(`/admin/zenner-club/categories/${i.value}`,{preserveScroll:!0,onSuccess:()=>{F.success("Kategori berhasil dihapus"),i.value=null},onError:()=>{F.error("Gagal menghapus kategori")},onFinish:()=>{V.value=!1}}))},q=C=>new Date(C).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),G=O(()=>({search:g.value||void 0,parent_id:o.value?Number(o.value):void 0,sort_by:$.value,sort_order:k.value}));return(C,l)=>(u(),N(P,null,[a(e(Q),{title:"Kategori Zenner Club"}),a(te,null,{default:t(()=>[r("div",be,[r("div",xe,[l[6]||(l[6]=r("div",null,[r("h1",{class:"text-3xl font-bold tracking-tight"},"Kategori Zenner Club"),r("p",{class:"text-muted-foreground"},"Kelola kategori konten Zenner Club")],-1)),e(K)||e(z)?(u(),f(e(D),{key:0,href:"/admin/zenner-club/categories/create"},{default:t(()=>[a(e(_),null,{default:t(()=>[a(e(R),{class:"mr-2 h-4 w-4"}),l[5]||(l[5]=s(" Tambah Kategori ",-1))]),_:1})]),_:1})):x("",!0)]),a(e(A),null,{default:t(()=>[a(e(se),null,{default:t(()=>[a(e(ne),null,{default:t(()=>[...l[7]||(l[7]=[s("Filter & Pencarian",-1)])]),_:1}),a(e(le),null,{default:t(()=>[...l[8]||(l[8]=[s("Cari dan filter kategori",-1)])]),_:1})]),_:1}),a(e(U),null,{default:t(()=>[r("div",ye,[r("div",Ve,[a(e(Y),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(e(Z),{modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=n=>g.value=n),placeholder:"Cari nama atau slug...",class:"pl-10",onKeyup:J(b,["enter"])},null,8,["modelValue"])]),r("div",Ce,[a(e(Z),{modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=n=>o.value=n),type:"number",placeholder:"Parent ID"},null,8,["modelValue"]),a(e(T),{modelValue:$.value,"onUpdate:modelValue":[l[2]||(l[2]=n=>$.value=n),b]},{default:t(()=>[a(e(h),null,{default:t(()=>[a(e(j),{placeholder:"Urutkan"})]),_:1}),a(e(I),null,{default:t(()=>[a(e(w),{value:"name"},{default:t(()=>[...l[9]||(l[9]=[s("Nama",-1)])]),_:1}),a(e(w),{value:"created_at"},{default:t(()=>[...l[10]||(l[10]=[s("Tanggal",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(e(T),{modelValue:k.value,"onUpdate:modelValue":[l[3]||(l[3]=n=>k.value=n),b]},{default:t(()=>[a(e(h),null,{default:t(()=>[a(e(j),{placeholder:"Arah"})]),_:1}),a(e(I),null,{default:t(()=>[a(e(w),{value:"asc"},{default:t(()=>[...l[11]||(l[11]=[s("A-Z",-1)])]),_:1}),a(e(w),{value:"desc"},{default:t(()=>[...l[12]||(l[12]=[s("Z-A",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),r("div",we,[a(e(_),{onClick:b},{default:t(()=>[...l[13]||(l[13]=[s("Cari",-1)])]),_:1}),a(e(_),{variant:"outline",onClick:E},{default:t(()=>[...l[14]||(l[14]=[s("Reset",-1)])]),_:1})])])]),_:1})]),_:1}),a(e(A),null,{default:t(()=>[a(e(U),{class:"p-0"},{default:t(()=>[a(e(ue),null,{default:t(()=>[a(e(oe),null,{default:t(()=>[a(e(S),null,{default:t(()=>[a(e(y),null,{default:t(()=>[...l[15]||(l[15]=[s("Nama",-1)])]),_:1}),a(e(y),null,{default:t(()=>[...l[16]||(l[16]=[s("Parent",-1)])]),_:1}),a(e(y),null,{default:t(()=>[...l[17]||(l[17]=[s("Konten",-1)])]),_:1}),a(e(y),null,{default:t(()=>[...l[18]||(l[18]=[s("Dibuat",-1)])]),_:1}),a(e(y),{class:"text-right"},{default:t(()=>[...l[19]||(l[19]=[s("Aksi",-1)])]),_:1})]),_:1})]),_:1}),a(e(ie),null,{default:t(()=>[v.items.data.length===0?(u(),f(e(S),{key:0},{default:t(()=>[a(e(p),{colspan:"5",class:"text-center text-muted-foreground py-8"},{default:t(()=>[...l[20]||(l[20]=[s(" Belum ada kategori. ",-1)])]),_:1})]),_:1})):x("",!0),(u(!0),N(P,null,W(v.items.data,n=>(u(),f(e(S),{key:n.id},{default:t(()=>[a(e(p),null,{default:t(()=>[r("div",null,[r("p",Ke,m(n.name),1),r("p",ze,m(n.slug),1)])]),_:2},1024),a(e(p),null,{default:t(()=>[s(m(n.parent?.name||"-"),1)]),_:2},1024),a(e(p),null,{default:t(()=>[a(e(re),{variant:"outline"},{default:t(()=>[s(m(n.contents_count||0)+" konten",1)]),_:2},1024)]),_:2},1024),a(e(p),{class:"text-sm text-muted-foreground"},{default:t(()=>[s(m(q(n.created_at)),1)]),_:2},1024),a(e(p),{class:"text-right"},{default:t(()=>[r("div",De,[a(e(D),{href:`/admin/zenner-club/categories/${n.id}`},{default:t(()=>[a(e(_),{variant:"ghost",size:"icon"},{default:t(()=>[a(e(X),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),e(K)||e(z)?(u(),f(e(D),{key:0,href:`/admin/zenner-club/categories/${n.id}/edit`},{default:t(()=>[a(e(_),{variant:"ghost",size:"icon"},{default:t(()=>[a(e(ee),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"])):x("",!0),e(K)||e(z)?(u(),f(e(_),{key:1,variant:"ghost",size:"icon",onClick:Se=>H(n.id)},{default:t(()=>[a(e(ae),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])):x("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),v.items.last_page>1?(u(),f($e,{key:0,data:v.items,url:"/admin/zenner-club/categories",filters:G.value},null,8,["data","filters"])):x("",!0)]),a(e(de),{open:i.value!==null,"onUpdate:open":l[4]||(l[4]=n=>i.value=null)},{default:t(()=>[a(e(fe),null,{default:t(()=>[a(e(me),null,{default:t(()=>[a(e(_e),null,{default:t(()=>[...l[21]||(l[21]=[s("Hapus Kategori?",-1)])]),_:1}),a(e(pe),null,{default:t(()=>[...l[22]||(l[22]=[s(" Kategori akan dihapus permanen. Pastikan tidak ada sub-kategori atau konten terkait. ",-1)])]),_:1})]),_:1}),a(e(ve),null,{default:t(()=>[a(e(ce),null,{default:t(()=>[...l[23]||(l[23]=[s("Batal",-1)])]),_:1}),a(e(ge),{disabled:V.value,onClick:L},{default:t(()=>[s(m(V.value?"Menghapus...":"Hapus"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Je as default};
