import{d as V,r as v,v as x,g as f,b as a,u as e,a1 as M,w as l,e as i,a4 as C,s,Y as B,Z as b,P as N,c as y,t as w,F as D,x as j,K as m,$ as A,z as K,j as F,D as I,Q as S}from"./vendor-FclwbLvj.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-BpcLPOXg.js";import{_ as E,a as H}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as L}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as p}from"./index-B4cH97KR.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as U}from"./index-CRPqrtU2.js";import{_ as Z,a as G,b as $,c as o,d as Y,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import{_ as q,a as J,b as O,c as R,d as W,e as X,f as ee,g as ae}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D_xJ4jwR.js";import{_ as le}from"./Pagination.vue_vue_type_script_setup_true_lang-CQM_G0lK.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-B_n2dl-_.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";const te={class:"rounded-xl p-4 space-y-6 py-6"},se={class:"flex items-center justify-between"},ne={class:"flex flex-col sm:flex-row gap-4"},ie={class:"relative flex-1"},ue={class:"flex items-center justify-end gap-2"},re={class:"mt-4"},Te=V({__name:"Index",props:{challenges:{},filters:{}},setup(r){const c=v(r.filters.search||""),g=v(null),_=v(!1),h=d=>d?new Date(d).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",k=()=>{F.get("/admin/zenner/monthly-challenges",{search:c.value},{preserveState:!0,preserveScroll:!0})},z=d=>{g.value=d,_.value=!0},T=()=>{g.value&&I({}).delete(`/admin/zenner/monthly-challenges/${g.value}`,{preserveScroll:!0,onSuccess:()=>{S.success("Monthly Challenge berhasil dihapus"),_.value=!1},onError:()=>{S.error("Gagal menghapus Monthly Challenge")}})};return(d,t)=>(f(),x(D,null,[a(e(M),{title:"Monthly Challenges"}),a(P,null,{default:l(()=>[i("div",te,[i("div",se,[t[3]||(t[3]=i("div",null,[i("h1",{class:"text-3xl font-bold"},"Monthly Challenges"),i("p",{class:"text-muted-foreground"},"Kelola tantangan bulanan Zenner Club")],-1)),a(e(C),{href:"/admin/zenner/monthly-challenges/create"},{default:l(()=>[a(e(p),null,{default:l(()=>[a(e(B),{class:"h-4 w-4 mr-2"}),t[2]||(t[2]=s(" Tambah Challenge ",-1))]),_:1})]),_:1})]),a(e(E),null,{default:l(()=>[a(e(L),null,{default:l(()=>[i("div",ne,[i("div",ie,[a(e(b),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a(e(Q),{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=n=>c.value=n),placeholder:"Cari challenge...",class:"pl-9",onKeyup:N(k,["enter"])},null,8,["modelValue"])]),a(e(p),{onClick:k},{default:l(()=>[a(e(b),{class:"h-4 w-4 mr-2"}),t[4]||(t[4]=s(" Cari ",-1))]),_:1})])]),_:1}),a(e(H),null,{default:l(()=>[a(e(Z),null,{default:l(()=>[a(e(G),null,{default:l(()=>[a(e($),null,{default:l(()=>[a(e(o),null,{default:l(()=>[...t[5]||(t[5]=[s("Title",-1)])]),_:1}),a(e(o),null,{default:l(()=>[...t[6]||(t[6]=[s("Tanggal Mulai",-1)])]),_:1}),a(e(o),null,{default:l(()=>[...t[7]||(t[7]=[s("Tanggal Selesai",-1)])]),_:1}),a(e(o),null,{default:l(()=>[...t[8]||(t[8]=[s("Status",-1)])]),_:1}),a(e(o),null,{default:l(()=>[...t[9]||(t[9]=[s("Dibuat",-1)])]),_:1}),a(e(o),{class:"text-right"},{default:l(()=>[...t[10]||(t[10]=[s("Aksi",-1)])]),_:1})]),_:1})]),_:1}),a(e(Y),null,{default:l(()=>[(f(!0),x(D,null,j(r.challenges.data,n=>(f(),y(e($),{key:n.id},{default:l(()=>[a(e(u),{class:"font-medium"},{default:l(()=>[s(m(n.title),1)]),_:2},1024),a(e(u),null,{default:l(()=>[s(m(h(n.start_date)),1)]),_:2},1024),a(e(u),null,{default:l(()=>[s(m(h(n.end_date)),1)]),_:2},1024),a(e(u),null,{default:l(()=>[a(e(U),{variant:n.is_active?"default":"secondary"},{default:l(()=>[s(m(n.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["variant"])]),_:2},1024),a(e(u),null,{default:l(()=>[s(m(h(n.created_at)),1)]),_:2},1024),a(e(u),{class:"text-right"},{default:l(()=>[i("div",ue,[a(e(C),{href:`/admin/zenner/monthly-challenges/${n.id}/edit`},{default:l(()=>[a(e(p),{variant:"outline",size:"icon"},{default:l(()=>[a(e(A),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),a(e(p),{variant:"outline",size:"icon",onClick:de=>z(n.id)},{default:l(()=>[a(e(K),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),r.challenges.data.length===0?(f(),y(e($),{key:0},{default:l(()=>[a(e(u),{colspan:"6",class:"text-center text-muted-foreground py-8"},{default:l(()=>[...t[11]||(t[11]=[s(" Tidak ada data ditemukan ",-1)])]),_:1})]),_:1})):w("",!0)]),_:1})]),_:1}),i("div",re,[r.challenges.last_page>1?(f(),y(le,{key:0,data:r.challenges,url:"/admin/zenner/monthly-challenges",filters:r.filters},null,8,["data","filters"])):w("",!0)])]),_:1})]),_:1})]),a(e(q),{open:_.value,"onUpdate:open":t[1]||(t[1]=n=>_.value=n)},{default:l(()=>[a(e(J),null,{default:l(()=>[a(e(O),null,{default:l(()=>[a(e(R),null,{default:l(()=>[...t[12]||(t[12]=[s("Hapus Monthly Challenge",-1)])]),_:1}),a(e(W),null,{default:l(()=>[...t[13]||(t[13]=[s(" Apakah Anda yakin ingin menghapus challenge ini? Tindakan ini tidak dapat dibatalkan. ",-1)])]),_:1})]),_:1}),a(e(X),null,{default:l(()=>[a(e(ee),null,{default:l(()=>[...t[14]||(t[14]=[s("Batal",-1)])]),_:1}),a(e(ae),{onClick:T},{default:l(()=>[...t[15]||(t[15]=[s("Hapus",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Te as default};
