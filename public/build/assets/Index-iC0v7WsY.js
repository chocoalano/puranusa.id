const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-flWeloHs.js","assets/vendor-UvtswsZk.css"])))=>i.map(i=>d[i]);
import{_ as _t,a as kt,b as re,c as oe}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-Bq8aViQ2.js";import{b as ls,c as Dt,_ as ns}from"./Ecommerce.vue_vue_type_script_setup_true_lang-Ba2CWHWF.js";import{d as Y,r as j,p as K,c as P,g as o,u as e,w as a,b as s,e as t,t as k,s as i,K as r,as as ge,aS as De,bz as rs,d4 as os,dA as is,Q as M,E as ut,v as c,M as Le,Y as ds,F as z,x as te,J as Z,av as us,$ as ms,z as mt,h as de,j as xe,D as Ce,dq as cs,dK as Bt,at as ze,cA as ps,T as ct,dy as fs,aN as pt,aK as Te,aJ as xs,dL as gs,am as Me,ad as qe,aM as ht,dn as vs,cT as wt,L as Ae,a2 as Fe,aj as bs,C as ys,aT as $t,dM as It,dN as _s,a3 as ft,dO as Vt,dP as Et,o as at,I as ks,du as Ye,P as hs,ap as We,dJ as Je,cC as Mt,aw as He,dg as Ze,dQ as Ne,_ as ws,ay as xt,az as jt,G as Lt,Z as Qe,dR as $s,dD as Ps,dS as Ss,dT as Cs,aA as Rs,dU as Ts,a1 as As,ar as ye,dV as Ut,aC as Kt,a0 as Ds,dW as Ms}from"./vendor-flWeloHs.js";import{_ as js,a as Ls}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-D5yDigSh.js";import{_ as Bs}from"./AvatarImage.vue_vue_type_script_setup_true_lang-Dv6VzhWI.js";import{_ as V}from"./index-BonpZqDt.js";import{_ as F,a as O}from"./CardContent.vue_vue_type_script_setup_true_lang-DFr8PgO7.js";import{_ as U}from"./index-D9Hie8NE.js";import{f as q,s as ae}from"./currency-DfrMaoZy.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cgov_qDz.js";import{_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-BdUxjhrU.js";import{a as Be,b as Ie,c as Ve,d as Ee,_ as Ue}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CRYqRfAl.js";import{_ as Ke}from"./DialogFooter.vue_vue_type_script_setup_true_lang-kAimjFcc.js";import{_ as se}from"./Input.vue_vue_type_script_setup_true_lang-BI8FpPnw.js";import{_ as G}from"./Label.vue_vue_type_script_setup_true_lang-BiIJwSLe.js";import{_ as Oe}from"./Textarea.vue_vue_type_script_setup_true_lang-Dqlf4BQQ.js";import{_ as Is}from"./Switch.vue_vue_type_script_setup_true_lang-DUFjsCZu.js";import{_ as ie}from"./Separator.vue_vue_type_script_setup_true_lang-CB9heydX.js";import{_ as gt,a as vt,b as bt,c as yt,d as Xe}from"./SelectValue.vue_vue_type_script_setup_true_lang-CnNjP2es.js";import{_ as ue}from"./CardDescription.vue_vue_type_script_setup_true_lang-DE7w0u2_.js";import{f as Vs,g as Es,h as Us,i as Ks,j as Ns}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BLeUwnH4.js";import{_ as ot,a as it,b as dt}from"./index-DxtLRcAL.js";import{a as Fs,b as Os,c as zs,d as qs,e as Gs,f as Qs,g as Ws,_ as Js}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CL8LVL2o.js";import{q as fe,a as lt}from"./index-CMWG4mbA.js";import{_ as et,a as tt,b as Re,c as le,d as st,e as ne}from"./TableHeader.vue_vue_type_script_setup_true_lang-Dhjk0EnN.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-C7XCvPtL.js";import"./app-D4VGOP0w.js";function je(){return{formatCurrency:g=>q(g),formatDate:g=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(g)),getStatusLabel:g=>({pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",delivered:"Selesai",cancelled:"Dibatalkan"})[g]||g,getTransactionTypeLabel:g=>({topup:"Top Up",top_up:"Top Up",withdrawal:"Penarikan",bonus:"Bonus",purchase:"Pembelian",refund:"Refund",deduct:"Potongan Admin"})[g]||g,getTransactionStatusLabel:g=>({pending:"Menunggu",completed:"Selesai",failed:"Gagal",cancelled:"Dibatalkan"})[g]||g}}const Hs={class:"flex flex-col items-center text-center"},Zs={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Ys={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Xs={class:"mt-4 w-full space-y-2 text-sm"},ea={class:"space-y-1.5"},ta={class:"flex items-center justify-between"},sa={class:"flex gap-1"},aa={class:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},la={class:"flex items-center justify-between"},na={class:"font-mono font-semibold"},ra={class:"text-[10px] text-gray-500 dark:text-gray-400 mt-1 break-all"},oa={class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},ia={class:"font-mono font-semibold"},da={class:"flex items-center justify-between p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},ua={class:"font-semibold text-emerald-700 dark:text-emerald-400"},ma=Y({__name:"ProfileCard",props:{customer:{}},setup(l){const d=l,{formatCurrency:m}=je(),f=j(!1),w=K(()=>d.customer.name.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2)),g=K(()=>typeof window>"u"?"":`${window.location.origin}/client/register?ref=${d.customer.ref_code}`),n=async()=>{if(typeof window>"u"||!navigator.clipboard){M.error("Tidak dapat menyalin link ke clipboard");return}try{await navigator.clipboard.writeText(g.value),f.value=!0,M.success("Link referral telah disalin ke clipboard"),setTimeout(()=>{f.value=!1},2e3)}catch{M.error("Tidak dapat menyalin link ke clipboard")}},x=async()=>{if(typeof window>"u")return;const D={title:"Bergabung dengan Referral Saya",text:`Gunakan kode referral saya: ${d.customer.ref_code}`,url:g.value};if(navigator.share)try{await navigator.share(D),M.success("Link referral berhasil dibagikan")}catch(v){v.name!=="AbortError"&&console.error("Error sharing:",v)}else await n()};return(D,v)=>(o(),P(e(F),null,{default:a(()=>[s(e(O),{class:"pt-6"},{default:a(()=>[t("div",Hs,[s(e(js),{class:"h-24 w-24 mb-4"},{default:a(()=>[s(e(Bs),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${l.customer.name}`},null,8,["src"]),s(e(Ls),null,{default:a(()=>[i(r(w.value),1)]),_:1})]),_:1}),t("h2",Zs,r(l.customer.name),1),t("p",Ys,r(l.customer.username),1),l.customer.level?(o(),P(e(V),{key:0,variant:"outline",class:"mt-2 bg-amber-50 text-amber-700 border-amber-300 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-700"},{default:a(()=>[i(r(l.customer.level),1)]),_:1})):k("",!0),l.customer.email_verified_at?(o(),P(e(V),{key:1,class:"mt-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 mr-1"}),v[0]||(v[0]=i(" Email Terverifikasi ",-1))]),_:1})):(o(),P(e(V),{key:2,variant:"secondary",class:"mt-3"},{default:a(()=>[s(e(De),{class:"w-3 h-3 mr-1"}),v[1]||(v[1]=i(" Email Belum Terverifikasi ",-1))]),_:1})),t("div",Xs,[t("div",ea,[t("div",ta,[v[3]||(v[3]=t("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Referral Link",-1)),t("div",sa,[s(e(U),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:n},{default:a(()=>[f.value?(o(),P(e(rs),{key:0,class:"w-3 h-3 mr-1"})):(o(),P(e(os),{key:1,class:"w-3 h-3 mr-1"})),i(" "+r(f.value?"Tersalin":"Salin"),1)]),_:1}),s(e(U),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:x},{default:a(()=>[s(e(is),{class:"w-3 h-3 mr-1"}),v[2]||(v[2]=i(" Bagikan ",-1))]),_:1})])]),t("div",aa,[t("div",la,[v[4]||(v[4]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Kode Referral",-1)),t("span",na,r(l.customer.ref_code),1)]),t("p",ra,r(g.value),1)])]),t("div",oa,[v[5]||(v[5]=t("span",{class:"text-gray-600 dark:text-gray-400"},"E-Wallet ID",-1)),t("span",ia,r(l.customer.ewallet_id),1)]),t("div",da,[v[6]||(v[6]=t("span",{class:"text-emerald-700 dark:text-emerald-400"},"Saldo",-1)),t("span",ua,r(e(m)(l.customer.ewallet_saldo)),1)])])])]),_:1})]),_:1}))}}),ca={class:"flex items-center justify-between"},pa={key:0,class:"text-center py-12 text-muted-foreground"},fa={key:1,class:"space-y-4"},xa={class:"flex items-start gap-3 mb-3"},ga={class:"flex-1 min-w-0"},va={class:"flex items-center gap-2 mb-1"},ba={class:"font-semibold text-sm"},ya={class:"text-sm font-medium"},_a={class:"text-xs text-muted-foreground"},ka={class:"space-y-1 mb-3"},ha={class:"text-sm"},wa={key:0,class:"text-sm text-muted-foreground"},$a={class:"text-sm text-muted-foreground"},Pa={key:0},Sa={class:"text-xs text-muted-foreground"},Ca={key:1,class:"text-xs text-muted-foreground italic mt-2"},Ra={class:"flex items-center gap-2"},Ta={class:"space-y-4 py-4"},Aa={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Da={class:"space-y-2"},Ma={class:"flex items-center space-x-2 pt-8"},ja={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},La={class:"space-y-2"},Ba={class:"space-y-2"},Ia={class:"space-y-2"},Va={class:"space-y-2"},Ea={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ua={class:"space-y-2"},Ka={class:"space-y-2"},Na={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Fa={class:"space-y-2"},Oa={class:"space-y-2"},za={class:"space-y-2"},qa=Y({__name:"AddressManagement",props:{addresses:{}},setup(l){const d=j(!1),m=j(!1),f=j(!1),w=j(!1),g=j([]),n=j([]),x=j(!1),D=j(!1),v=j(""),C=j(""),b=j({label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""}),h=j(null),u=async()=>{x.value=!0;try{const B=await de.get("/api/shipping/provinces");g.value=B.data.data}catch(B){M.error("Gagal memuat data provinsi"),console.error("Error loading provinces:",B)}finally{x.value=!1}},R=async B=>{if(B){D.value=!0,n.value=[],C.value="";try{const S=await de.get("/api/shipping/cities",{params:{province_id:B}});n.value=S.data.data}catch(S){M.error("Gagal memuat data kota"),console.error("Error loading cities:",S)}finally{D.value=!1}}};ut(v,B=>{if(!B)return;const S=g.value.find($=>$.id.toString()===B);S&&(b.value.province_id=parseInt(B),b.value.province_label=S.name,R(B))}),ut(C,B=>{if(!B)return;const S=n.value.find($=>$.id.toString()===B);S&&(b.value.city_id=parseInt(B),b.value.city_label=S.name)});const T=()=>{m.value=!1,b.value={label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""},v.value="",C.value="",n.value=[],u(),d.value=!0},y=B=>{m.value=!0,h.value=B.id,b.value={...B},u().then(()=>{B.province_id&&(v.value=B.province_id.toString(),R(B.province_id.toString()).then(()=>{B.city_id&&(C.value=B.city_id.toString())}))}),d.value=!0},I=()=>{d.value=!1,h.value=null},N=()=>{if(!b.value.recipient_name||!b.value.recipient_phone||!b.value.address_line1){M.error("Mohon lengkapi nama penerima, telepon, dan alamat");return}if(!b.value.province_id||!b.value.city_id){M.error("Mohon pilih provinsi dan kota/kabupaten");return}w.value=!0;const B=m.value&&h.value?`/client/profile/addresses/${h.value}`:"/client/profile/addresses",S=m.value?"put":"post";xe[S](B,b.value,{preserveScroll:!0,onSuccess:()=>{M.success(`Alamat berhasil ${m.value?"diperbarui":"ditambahkan"}`),I()},onError:$=>{if(console.error("Address save error:",$),typeof $=="object"&&$!==null){const p=Object.values($)[0],_=Array.isArray(p)?p[0]:p;M.error(_||"Gagal menyimpan alamat")}else M.error("Gagal menyimpan alamat. Silakan coba lagi.")},onFinish:()=>{w.value=!1}})},Q=B=>{confirm("Apakah Anda yakin ingin menghapus alamat ini?")&&(f.value=!0,xe.delete(`/client/profile/addresses/${B}`,{preserveScroll:!0,onSuccess:()=>{M.success("Alamat berhasil dihapus")},onError:S=>{if(console.error("Address delete error:",S),typeof S=="object"&&S!==null){const $=Object.values(S)[0],p=Array.isArray($)?$[0]:$;M.error(p||"Gagal menghapus alamat")}else M.error("Gagal menghapus alamat. Silakan coba lagi.")},onFinish:()=>{f.value=!1}}))},E=B=>{Ce({}).post(`/client/profile/addresses/${B}/set-default`,{preserveScroll:!0,onSuccess:()=>{M.success("Alamat utama berhasil diubah")},onError:$=>{if(console.error("Set default address error:",$),typeof $=="object"&&$!==null){const p=Object.values($)[0],_=Array.isArray(p)?p[0]:p;M.error(_||"Gagal mengubah alamat utama")}else M.error("Gagal mengubah alamat utama. Silakan coba lagi.")}})},W=B=>B?B.toLowerCase().includes("rumah")||B.toLowerCase().includes("home")?cs:B.toLowerCase().includes("kantor")||B.toLowerCase().includes("office")?Bt:Le:Le;return(B,S)=>(o(),c(z,null,[s(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",ca,[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Le),{class:"w-5 h-5"}),S[11]||(S[11]=i(" Kelola Alamat ",-1))]),_:1}),s(e(U),{size:"sm",onClick:T},{default:a(()=>[s(e(ds),{class:"w-4 h-4 mr-2"}),S[12]||(S[12]=i(" Tambah Alamat ",-1))]),_:1})])]),_:1}),s(e(O),null,{default:a(()=>[l.addresses.length===0?(o(),c("div",pa,[s(e(Le),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),S[13]||(S[13]=t("p",{class:"mb-2"},"Belum ada alamat tersimpan",-1)),S[14]||(S[14]=t("p",{class:"text-sm"},"Tambahkan alamat untuk mempermudah proses pengiriman",-1))])):(o(),c("div",fa,[(o(!0),c(z,null,te(l.addresses,$=>(o(),c("div",{key:$.id,class:Z(["relative p-4 rounded-lg border transition-all",$.is_default?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[$.is_default?(o(),P(e(V),{key:0,variant:"default",class:"absolute top-2 right-2 text-xs"},{default:a(()=>[...S[15]||(S[15]=[i(" Utama ",-1)])]),_:1})):k("",!0),t("div",xa,[(o(),P(us(W($.label)),{class:Z(["w-5 h-5 mt-1 flex-shrink-0",$.is_default?"text-primary":"text-muted-foreground"])},null,8,["class"])),t("div",ga,[t("div",va,[t("h4",ba,r($.label||"Alamat"),1)]),t("p",ya,r($.recipient_name),1),t("p",_a,r($.recipient_phone),1)])]),t("div",ka,[t("p",ha,r($.address_line1),1),$.address_line2?(o(),c("p",wa,r($.address_line2),1)):k("",!0),t("p",$a,[i(r($.city_label)+", "+r($.province_label)+" ",1),$.postal_code?(o(),c("span",Pa,r($.postal_code),1)):k("",!0)]),t("p",Sa,r($.country),1),$.description?(o(),c("p",Ca,r($.description),1)):k("",!0)]),s(e(ie),{class:"my-3"}),t("div",Ra,[$.is_default?k("",!0):(o(),P(e(U),{key:0,variant:"outline",size:"sm",onClick:p=>E($.id)},{default:a(()=>[...S[16]||(S[16]=[i(" Jadikan Utama ",-1)])]),_:1},8,["onClick"])),s(e(U),{variant:"outline",size:"sm",onClick:p=>y($)},{default:a(()=>[s(e(ms),{class:"w-3 h-3 mr-1"}),S[17]||(S[17]=i(" Edit ",-1))]),_:1},8,["onClick"]),s(e(U),{variant:"destructive",size:"sm",disabled:f.value,onClick:p=>Q($.id)},{default:a(()=>[s(e(mt),{class:"w-3 h-3 mr-1"}),S[18]||(S[18]=i(" Hapus ",-1))]),_:1},8,["disabled","onClick"])])],2))),128))]))]),_:1})]),_:1}),s(e(Ue),{open:d.value,"onUpdate:open":I},{default:a(()=>[s(e(Be),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[s(e(Ie),null,{default:a(()=>[s(e(Ve),null,{default:a(()=>[i(r(m.value?"Edit Alamat":"Tambah Alamat Baru"),1)]),_:1}),s(e(Ee),null,{default:a(()=>[i(r(m.value?"Perbarui informasi alamat Anda":"Tambahkan alamat pengiriman baru"),1)]),_:1})]),_:1}),t("div",Ta,[t("div",Aa,[t("div",Da,[s(e(G),{for:"label"},{default:a(()=>[...S[19]||(S[19]=[i("Label Alamat",-1)])]),_:1}),s(e(se),{id:"label",modelValue:b.value.label,"onUpdate:modelValue":S[0]||(S[0]=$=>b.value.label=$),placeholder:"Rumah, Kantor, dll"},null,8,["modelValue"])]),t("div",Ma,[s(e(Is),{id:"is_default",checked:b.value.is_default,"onUpdate:checked":S[1]||(S[1]=$=>b.value.is_default=$)},null,8,["checked"]),s(e(G),{for:"is_default",class:"cursor-pointer"},{default:a(()=>[...S[20]||(S[20]=[i("Jadikan alamat utama",-1)])]),_:1})])]),t("div",ja,[t("div",La,[s(e(G),{for:"recipient_name"},{default:a(()=>[...S[21]||(S[21]=[i("Nama Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(se),{id:"recipient_name",modelValue:b.value.recipient_name,"onUpdate:modelValue":S[2]||(S[2]=$=>b.value.recipient_name=$),placeholder:"Nama lengkap penerima",required:""},null,8,["modelValue"])]),t("div",Ba,[s(e(G),{for:"recipient_phone"},{default:a(()=>[...S[22]||(S[22]=[i("No. Telepon Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(se),{id:"recipient_phone",modelValue:b.value.recipient_phone,"onUpdate:modelValue":S[3]||(S[3]=$=>b.value.recipient_phone=$),placeholder:"08xxxxxxxxxx",required:""},null,8,["modelValue"])])]),t("div",Ia,[s(e(G),{for:"address_line1"},{default:a(()=>[...S[23]||(S[23]=[i("Alamat Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Oe),{id:"address_line1",modelValue:b.value.address_line1,"onUpdate:modelValue":S[4]||(S[4]=$=>b.value.address_line1=$),placeholder:"Jalan, nomor rumah, RT/RW, blok",rows:"3",required:""},null,8,["modelValue"])]),t("div",Va,[s(e(G),{for:"address_line2"},{default:a(()=>[...S[24]||(S[24]=[i("Detail Tambahan (Opsional)",-1)])]),_:1}),s(e(se),{id:"address_line2",modelValue:b.value.address_line2,"onUpdate:modelValue":S[5]||(S[5]=$=>b.value.address_line2=$),placeholder:"Patokan, gedung, unit, warna rumah, dll"},null,8,["modelValue"])]),t("div",Ea,[t("div",Ua,[s(e(G),{for:"province"},{default:a(()=>[...S[25]||(S[25]=[i("Provinsi ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(gt),{modelValue:v.value,"onUpdate:modelValue":S[6]||(S[6]=$=>v.value=$),disabled:x.value},{default:a(()=>[s(e(vt),{id:"province"},{default:a(()=>[s(e(bt),{placeholder:x.value?"Memuat provinsi...":"Pilih provinsi"},null,8,["placeholder"])]),_:1}),s(e(yt),null,{default:a(()=>[(o(!0),c(z,null,te(g.value,$=>(o(),P(e(Xe),{key:$.id,value:$.id.toString()},{default:a(()=>[i(r($.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",Ka,[s(e(G),{for:"city"},{default:a(()=>[...S[26]||(S[26]=[i("Kota/Kabupaten ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(gt),{modelValue:C.value,"onUpdate:modelValue":S[7]||(S[7]=$=>C.value=$),disabled:!v.value||D.value},{default:a(()=>[s(e(vt),{id:"city"},{default:a(()=>[s(e(bt),{placeholder:D.value?"Memuat kota...":v.value?"Pilih kota/kabupaten":"Pilih provinsi terlebih dahulu"},null,8,["placeholder"])]),_:1}),s(e(yt),null,{default:a(()=>[(o(!0),c(z,null,te(n.value,$=>(o(),P(e(Xe),{key:$.id,value:$.id.toString()},{default:a(()=>[i(r($.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),t("div",Na,[t("div",Fa,[s(e(G),{for:"postal_code"},{default:a(()=>[...S[27]||(S[27]=[i("Kode Pos",-1)])]),_:1}),s(e(se),{id:"postal_code",modelValue:b.value.postal_code,"onUpdate:modelValue":S[8]||(S[8]=$=>b.value.postal_code=$),placeholder:"12345"},null,8,["modelValue"])]),t("div",Oa,[s(e(G),{for:"country"},{default:a(()=>[...S[28]||(S[28]=[i("Negara",-1)])]),_:1}),s(e(se),{id:"country",modelValue:b.value.country,"onUpdate:modelValue":S[9]||(S[9]=$=>b.value.country=$),placeholder:"Indonesia"},null,8,["modelValue"])])]),t("div",za,[s(e(G),{for:"description"},{default:a(()=>[...S[29]||(S[29]=[i("Catatan (Opsional)",-1)])]),_:1}),s(e(Oe),{id:"description",modelValue:b.value.description,"onUpdate:modelValue":S[10]||(S[10]=$=>b.value.description=$),placeholder:"Catatan khusus untuk alamat ini",rows:"2"},null,8,["modelValue"])])]),s(e(Ke),null,{default:a(()=>[s(e(U),{variant:"outline",onClick:I,disabled:w.value},{default:a(()=>[...S[30]||(S[30]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{onClick:N,disabled:w.value},{default:a(()=>[i(r(w.value?"Menyimpan...":m.value?"Perbarui":"Simpan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Ga={class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},Qa={class:"text-xl font-bold text-emerald-700 dark:text-emerald-400"},Wa={class:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},Ja={class:"text-xl font-bold text-amber-700 dark:text-amber-400"},Ha=Y({__name:"BonusStatsCard",props:{customer:{}},setup(l){const{formatCurrency:d}=je();return(m,f)=>(o(),P(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(ze),{class:"w-5 h-5"}),f[0]||(f[0]=i(" Statistik Bonus ",-1))]),_:1})]),_:1}),s(e(O),{class:"space-y-3"},{default:a(()=>[t("div",Ga,[f[1]||(f[1]=t("p",{class:"text-xs text-emerald-700 dark:text-emerald-400 mb-1"},"Total Dirilis",-1)),t("p",Qa,r(e(d)(l.customer.bonus_stats.total_released)),1)]),t("div",Wa,[f[2]||(f[2]=t("p",{class:"text-xs text-amber-700 dark:text-amber-400 mb-1"},"Total Pending",-1)),t("p",Ja,r(e(d)(l.customer.bonus_stats.total_pending)),1)])]),_:1})]),_:1}))}}),Za={class:"flex items-center gap-3"},Ya={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},Xa={class:"font-semibold"},el=Y({__name:"MemberSinceCard",props:{createdAt:{}},setup(l){const{formatDate:d}=je();return(m,f)=>(o(),P(e(F),null,{default:a(()=>[s(e(O),{class:"pt-6"},{default:a(()=>[t("div",Za,[t("div",Ya,[s(e(ps),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[f[0]||(f[0]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Member Sejak",-1)),t("p",Xa,r(e(d)(l.createdAt)),1)])])]),_:1})]),_:1}))}}),tl={key:0,class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},sl={class:"flex items-start gap-3"},al={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ll={class:"space-y-2"},nl={class:"relative"},rl={key:0,class:"text-sm text-red-500"},ol={class:"space-y-2"},il={class:"relative"},dl={key:0,class:"text-sm text-red-500"},ul={class:"space-y-2"},ml={class:"relative"},cl={key:0,class:"text-sm text-red-500"},pl={class:"space-y-2"},fl={key:0,class:"text-sm text-red-500"},xl={class:"space-y-2"},gl={class:"relative"},vl={key:0,class:"text-sm text-red-500"},bl={class:"space-y-2"},yl={class:"relative"},_l={key:0,class:"text-sm text-red-500"},kl={class:"space-y-2"},hl={class:"relative"},wl={key:0,class:"text-sm text-red-500"},$l={class:"space-y-4"},Pl={class:"flex items-center gap-2"},Sl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Cl={class:"space-y-2"},Rl={class:"relative"},Tl={key:0,class:"text-sm text-red-500"},Al={class:"space-y-2"},Dl={class:"relative"},Ml={key:0,class:"text-sm text-red-500"},jl={class:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},Ll={class:"text-sm text-blue-700 dark:text-blue-300"},Bl={class:"space-y-2"},Il={key:0,class:"text-sm text-red-500"},Vl={class:"flex items-center justify-end gap-3"},El=Y({__name:"ProfileInformationTab",props:{customer:{}},setup(l){const d=l,m=Ce({name:d.customer.name,username:d.customer.username||"",nik:d.customer.nik||"",gender:d.customer.gender||"",alamat:d.customer.alamat||"",email:d.customer.email,phone:d.customer.phone,bank_name:d.customer.bank_name||"",bank_account:d.customer.bank_account||"",description:d.customer.description||""}),f=K(()=>!d.customer.nik||!d.customer.bank_name||!d.customer.bank_account),w=()=>{m.patch("/client/profile",{preserveScroll:!0,onSuccess:()=>{M.success("Informasi profil berhasil diperbarui")}})};return(g,n)=>(o(),P(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...n[11]||(n[11]=[i("Informasi Profile",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...n[12]||(n[12]=[i(" Update informasi profil Anda di sini ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[f.value?(o(),c("div",tl,[t("div",sl,[s(e(ct),{class:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),n[13]||(n[13]=t("div",null,[t("p",{class:"font-medium text-amber-700 dark:text-amber-300"},"Profil Belum Lengkap"),t("p",{class:"text-sm text-amber-600 dark:text-amber-400 mt-1"}," Mohon lengkapi NIK dan informasi rekening bank Anda untuk dapat melakukan penarikan dana. ")],-1))])])):k("",!0),t("form",{onSubmit:qe(w,["prevent"]),class:"space-y-6"},[t("div",al,[t("div",ll,[s(e(G),{for:"username"},{default:a(()=>[...n[14]||(n[14]=[i(" Username ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",nl,[s(e(fs),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"username",modelValue:e(m).username,"onUpdate:modelValue":n[0]||(n[0]=x=>e(m).username=x),type:"text",placeholder:"username",class:"pl-10",required:""},null,8,["modelValue"])]),e(m).errors.username?(o(),c("p",rl,r(e(m).errors.username),1)):k("",!0)]),t("div",ol,[s(e(G),{for:"name"},{default:a(()=>[...n[15]||(n[15]=[i(" Nama Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",il,[s(e(pt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"name",modelValue:e(m).name,"onUpdate:modelValue":n[1]||(n[1]=x=>e(m).name=x),type:"text",placeholder:"Masukkan nama lengkap",class:"pl-10",required:""},null,8,["modelValue"])]),e(m).errors.name?(o(),c("p",dl,r(e(m).errors.name),1)):k("",!0)]),t("div",ul,[s(e(G),{for:"nik"},{default:a(()=>[...n[16]||(n[16]=[i("NIK (Nomor Induk Kependudukan)",-1)])]),_:1}),t("div",ml,[s(e(Te),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"nik",modelValue:e(m).nik,"onUpdate:modelValue":n[2]||(n[2]=x=>e(m).nik=x),type:"text",placeholder:"16 digit NIK",class:"pl-10",maxlength:"16"},null,8,["modelValue"])]),e(m).errors.nik?(o(),c("p",cl,r(e(m).errors.nik),1)):k("",!0)]),t("div",pl,[s(e(G),{for:"gender"},{default:a(()=>[...n[17]||(n[17]=[i("Jenis Kelamin",-1)])]),_:1}),s(e(gt),{modelValue:e(m).gender,"onUpdate:modelValue":n[3]||(n[3]=x=>e(m).gender=x)},{default:a(()=>[s(e(vt),null,{default:a(()=>[s(e(bt),{placeholder:"Pilih jenis kelamin"})]),_:1}),s(e(yt),null,{default:a(()=>[s(e(Xe),{value:"laki-laki"},{default:a(()=>[...n[18]||(n[18]=[i("Laki-laki",-1)])]),_:1}),s(e(Xe),{value:"perempuan"},{default:a(()=>[...n[19]||(n[19]=[i("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(m).errors.gender?(o(),c("p",fl,r(e(m).errors.gender),1)):k("",!0)]),t("div",xl,[s(e(G),{for:"email"},{default:a(()=>[...n[20]||(n[20]=[i(" Email ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",gl,[s(e(xs),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"email",modelValue:e(m).email,"onUpdate:modelValue":n[4]||(n[4]=x=>e(m).email=x),type:"email",placeholder:"email@example.com",class:"pl-10",required:""},null,8,["modelValue"])]),e(m).errors.email?(o(),c("p",vl,r(e(m).errors.email),1)):k("",!0)]),t("div",bl,[s(e(G),{for:"phone"},{default:a(()=>[...n[21]||(n[21]=[i(" Nomor Telepon ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",yl,[s(e(gs),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"phone",modelValue:e(m).phone,"onUpdate:modelValue":n[5]||(n[5]=x=>e(m).phone=x),type:"tel",placeholder:"08123456789",class:"pl-10",required:""},null,8,["modelValue"])]),e(m).errors.phone?(o(),c("p",_l,r(e(m).errors.phone),1)):k("",!0)])]),t("div",kl,[s(e(G),{for:"alamat"},{default:a(()=>[...n[22]||(n[22]=[i("Alamat",-1)])]),_:1}),t("div",hl,[s(e(Le),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Oe),{id:"alamat",modelValue:e(m).alamat,"onUpdate:modelValue":n[6]||(n[6]=x=>e(m).alamat=x),placeholder:"Masukkan alamat lengkap...",rows:"3",class:"pl-10"},null,8,["modelValue"])]),e(m).errors.alamat?(o(),c("p",wl,r(e(m).errors.alamat),1)):k("",!0)]),s(e(ie)),t("div",$l,[t("div",Pl,[s(e(Me),{class:"h-5 w-5 text-primary"}),n[23]||(n[23]=t("h4",{class:"font-semibold"},"Informasi Rekening Bank",-1))]),n[29]||(n[29]=t("p",{class:"text-sm text-muted-foreground"}," Informasi rekening ini akan digunakan untuk penarikan dana dari e-wallet Anda. Pastikan nama pemilik rekening sama dengan nama yang terdaftar. ",-1)),t("div",Sl,[t("div",Cl,[s(e(G),{for:"bank_name"},{default:a(()=>[...n[24]||(n[24]=[i(" Nama Bank ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Rl,[s(e(Bt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"bank_name",modelValue:e(m).bank_name,"onUpdate:modelValue":n[7]||(n[7]=x=>e(m).bank_name=x),type:"text",placeholder:"e.g., BCA, Mandiri, BNI",class:"pl-10"},null,8,["modelValue"])]),e(m).errors.bank_name?(o(),c("p",Tl,r(e(m).errors.bank_name),1)):k("",!0)]),t("div",Al,[s(e(G),{for:"bank_account"},{default:a(()=>[...n[25]||(n[25]=[i(" Nomor Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Dl,[s(e(Me),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"bank_account",modelValue:e(m).bank_account,"onUpdate:modelValue":n[8]||(n[8]=x=>e(m).bank_account=x),type:"text",placeholder:"Nomor rekening bank",class:"pl-10"},null,8,["modelValue"])]),e(m).errors.bank_account?(o(),c("p",Ml,r(e(m).errors.bank_account),1)):k("",!0)])]),t("div",jl,[t("p",Ll,[n[26]||(n[26]=t("strong",null,"Penting:",-1)),n[27]||(n[27]=i(" Nama pemilik rekening harus sama dengan nama Anda yang terdaftar (",-1)),t("strong",null,r(l.customer.name),1),n[28]||(n[28]=i("). Dana akan ditransfer ke rekening atas nama tersebut. ",-1))])])]),s(e(ie)),t("div",Bl,[s(e(G),{for:"description"},{default:a(()=>[...n[30]||(n[30]=[i("Deskripsi",-1)])]),_:1}),s(e(Oe),{id:"description",modelValue:e(m).description,"onUpdate:modelValue":n[9]||(n[9]=x=>e(m).description=x),placeholder:"Ceritakan tentang diri Anda...",rows:"4"},null,8,["modelValue"]),n[31]||(n[31]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Maksimal 1000 karakter ",-1)),e(m).errors.description?(o(),c("p",Il,r(e(m).errors.description),1)):k("",!0)]),t("div",Vl,[s(e(U),{type:"button",variant:"outline",onClick:n[10]||(n[10]=x=>e(m).reset()),disabled:e(m).processing},{default:a(()=>[...n[32]||(n[32]=[i(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(m).processing},{default:a(()=>[e(m).processing?k("",!0):(o(),P(e(ge),{key:0,class:"w-4 h-4 mr-2"})),i(" "+r(e(m).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Ul={key:0,class:"flex items-center justify-center py-12"},Kl={key:1,class:"space-y-6 py-6"},Nl={class:"space-y-3"},Fl={class:"flex items-center gap-2 text-sm font-medium"},Ol={class:"space-y-2"},zl={class:"flex justify-between"},ql={class:"text-sm font-medium"},Gl={class:"flex justify-between items-center"},Ql={key:0,class:"flex justify-between"},Wl={class:"text-sm font-medium"},Jl={key:1,class:"flex justify-between items-center"},Hl={class:"space-y-3"},Zl={class:"flex items-center gap-2 text-sm font-medium"},Yl={class:"space-y-3"},Xl=["src","alt"],en={class:"flex-1"},tn={class:"font-medium text-sm"},sn={class:"text-xs text-muted-foreground"},an={class:"text-xs text-muted-foreground"},ln={class:"text-right"},nn={class:"font-semibold text-sm"},rn={key:0,class:"space-y-3"},on={class:"flex items-center gap-2 text-sm font-medium"},dn={class:"p-3 bg-muted/30 rounded-lg space-y-1"},un={class:"font-medium text-sm"},mn={class:"text-sm text-muted-foreground"},cn={class:"text-sm text-muted-foreground"},pn={class:"text-sm text-muted-foreground"},fn={key:1,class:"space-y-3"},xn={class:"flex items-center gap-2 text-sm font-medium"},gn={class:"p-3 bg-muted/30 rounded-lg space-y-2"},vn={class:"flex justify-between"},bn={class:"text-sm font-medium"},yn={class:"flex justify-between"},_n={class:"text-sm font-medium"},kn={class:"flex justify-between"},hn={class:"text-sm font-medium"},wn={class:"space-y-3"},$n={class:"flex items-center gap-2 text-sm font-medium"},Pn={class:"space-y-2 text-sm"},Sn={class:"flex justify-between"},Cn={key:0,class:"flex justify-between"},Rn={class:"text-red-600"},Tn={class:"flex justify-between"},An={key:1,class:"flex justify-between"},Dn={class:"flex justify-between font-semibold text-base"},Mn={class:"text-primary"},jn={key:2,class:"space-y-2"},Ln={class:"space-y-1"},Bn={class:"text-sm text-muted-foreground"},In={key:3,class:"space-y-4 pt-4"},Vn={class:"space-y-3"},En={class:"flex items-center gap-2 text-sm font-medium"},Un={class:"flex items-start justify-between"},Kn={class:"flex items-center gap-2 font-medium text-sm"},Nn={class:"text-xs text-muted-foreground"},Fn={key:0,class:"mt-1 text-xs text-destructive"},On={class:"flex items-start justify-between"},zn={class:"flex items-center gap-2 font-medium text-sm"},qn={key:3},Gn={key:4},Qn={key:4,class:"pt-4"},Wn={key:2,class:"flex items-center justify-center py-12 text-muted-foreground"},Jn=Y({__name:"OrderDetailSheet",props:{open:{type:Boolean},orderId:{}},emits:["update:open"],setup(l,{emit:d}){const m=l,f=d,{formatCurrency:w,formatDate:g,getStatusLabel:n}=je(),x=ht(),D=K(()=>x.props.auth?.user?.ewallet_saldo??0),v=j(!1),C=j(!1),b=j(!1),h=j(!1),u=j(null),R=j("midtrans"),T=K(()=>u.value?.status?.toUpperCase()==="SHIPPED"),y=K(()=>u.value?.status?.toUpperCase()==="PENDING"&&!u.value?.paid_at),I=K(()=>u.value?D.value>=u.value.grand_total:!1);vs(()=>{typeof document<"u"&&(h.value?document.body.classList.add("midtrans-popup-active"):document.body.classList.remove("midtrans-popup-active"))}),wt(()=>{typeof document<"u"&&document.body.classList.remove("midtrans-popup-active")});const N=K(()=>{const $=u.value?.status?.toLowerCase();return{"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":$==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":$==="processing"||$==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":$==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":$==="delivered"||$==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":$==="cancelled"}}),Q=async()=>{if(m.orderId){v.value=!0;try{const $=await de.get(`/api/client/orders/${m.orderId}`);u.value=$.data.data}catch($){console.error("Failed to load order:",$),M.error("Gagal memuat detail pesanan")}finally{v.value=!1}}},E=async()=>{if(!(!u.value||!T.value||C.value)){C.value=!0;try{await de.post(`/api/client/orders/${u.value.id}/complete`),await Q(),xe.reload({only:["orders"]}),M.success('Status pesanan berhasil diperbarui menjadi "Selesai".')}catch($){console.error("Failed to update order status:",$),M.error($.response?.data?.message||"Gagal memperbarui status pesanan")}finally{C.value=!1}}},W=async()=>{if(!u.value||!y.value||b.value)return;const $=window.snap;if(!$){M.error("Sistem pembayaran belum siap. Mohon refresh halaman.");return}b.value=!0;try{const _=(await de.post(`/api/client/orders/${u.value.id}/pay`)).data;_.success&&_.snap_token?(h.value=!0,$.pay(_.snap_token,{onSuccess:function(){h.value=!1,b.value=!1,M.success("Pembayaran berhasil!"),Q(),xe.reload({only:["orders"]})},onPending:function(){h.value=!1,b.value=!1,M.info("Pembayaran tertunda. Silakan selesaikan pembayaran."),Q(),xe.reload({only:["orders"]})},onError:function(){h.value=!1,b.value=!1,M.error("Pembayaran gagal. Silakan coba lagi."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)},onClose:function(){h.value=!1,b.value=!1,M.info("Pembayaran dibatalkan."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)}})):M.error(_.message||"Gagal memproses pembayaran")}catch(p){console.error("Failed to initiate payment:",p),M.error(p.response?.data?.message||"Gagal memproses pembayaran")}finally{h.value||(b.value=!1)}},B=async()=>{if(!(!u.value||!y.value||b.value)){if(!I.value){M.error("Saldo e-wallet Anda tidak mencukupi");return}b.value=!0;try{const p=(await de.post(`/api/client/orders/${u.value.id}/pay-wallet`)).data;p.success?(M.success(p.message||"Pembayaran berhasil!"),await Q(),xe.reload({only:["orders","auth"]})):M.error(p.message||"Gagal memproses pembayaran")}catch($){console.error("Failed to pay with wallet:",$),M.error($.response?.data?.message||"Gagal memproses pembayaran")}finally{b.value=!1}}},S=()=>{R.value==="wallet"?B():W()};return ut(()=>[m.open,m.orderId],([$,p])=>{$&&p&&Q()}),($,p)=>(o(),P(e(Vs),{open:l.open,"onUpdate:open":p[3]||(p[3]=_=>f("update:open",_))},{default:a(()=>[s(e(Es),{side:"right",class:"sm:max-w-2xl w-full overflow-y-auto"},{default:a(()=>[s(e(Us),null,{default:a(()=>[s(e(Ks),null,{default:a(()=>[...p[4]||(p[4]=[i("Detail Pesanan",-1)])]),_:1}),s(e(Ns),null,{default:a(()=>[...p[5]||(p[5]=[i(" Informasi lengkap pesanan Anda ",-1)])]),_:1})]),_:1}),v.value?(o(),c("div",Ul,[s(e(Ae),{class:"h-8 w-8 animate-spin text-muted-foreground"})])):u.value?(o(),c("div",Kl,[t("div",Nl,[t("div",Fl,[s(e(Fe),{class:"h-4 w-4"}),p[6]||(p[6]=t("span",null,"Ringkasan Pesanan",-1))]),t("div",Ol,[t("div",zl,[p[7]||(p[7]=t("span",{class:"text-sm text-muted-foreground"},"Nomor Pesanan",-1)),t("span",ql,r(u.value.order_no),1)]),t("div",Gl,[p[8]||(p[8]=t("span",{class:"text-sm text-muted-foreground"},"Status",-1)),s(e(V),{class:Z(N.value)},{default:a(()=>[i(r(e(n)(u.value.status)),1)]),_:1},8,["class"])]),u.value.placed_at?(o(),c("div",Ql,[p[9]||(p[9]=t("span",{class:"text-sm text-muted-foreground"},"Tanggal Pesan",-1)),t("span",Wl,r(e(g)(u.value.placed_at)),1)])):k("",!0),u.value.paid_at?(o(),c("div",Jl,[p[10]||(p[10]=t("span",{class:"text-sm text-muted-foreground"},"Status Pembayaran",-1)),s(e(V),{variant:"secondary"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 mr-1"}),i(" Dibayar "+r(e(g)(u.value.paid_at)),1)]),_:1})])):k("",!0)])]),s(e(ie)),t("div",Hl,[t("div",Zl,[s(e(Fe),{class:"h-4 w-4"}),p[11]||(p[11]=t("span",null,"Produk Pesanan",-1))]),t("div",Yl,[(o(!0),c(z,null,te(u.value.items,_=>(o(),c("div",{key:_.id,class:"flex gap-4 p-3 bg-muted/30 rounded-lg"},[_.meta_json?.image?(o(),c("img",{key:0,src:_.meta_json.image,alt:_.name,class:"w-16 h-16 object-cover rounded-md"},null,8,Xl)):k("",!0),t("div",en,[t("h4",tn,r(_.name),1),t("p",sn,"SKU: "+r(_.sku),1),t("p",an,r(_.qty)+"x "+r(e(w)(_.unit_price)),1)]),t("div",ln,[t("p",nn,r(e(w)(_.row_total)),1)])]))),128))])]),s(e(ie)),u.value.shipping_address?(o(),c("div",rn,[t("div",on,[s(e(Le),{class:"h-4 w-4"}),p[12]||(p[12]=t("span",null,"Alamat Pengiriman",-1))]),t("div",dn,[t("p",un,r(u.value.shipping_address.recipient_name),1),t("p",mn,r(u.value.shipping_address.recipient_phone),1),t("p",cn,r(u.value.shipping_address.address_line1),1),t("p",pn,r(u.value.shipping_address.city_label)+", "+r(u.value.shipping_address.province_label)+" "+r(u.value.shipping_address.postal_code),1)])])):k("",!0),s(e(ie)),u.value.applied_promos?.shipping?(o(),c("div",fn,[t("div",xn,[s(e(bs),{class:"h-4 w-4"}),p[13]||(p[13]=t("span",null,"Informasi Pengiriman",-1))]),t("div",gn,[t("div",vn,[p[14]||(p[14]=t("span",{class:"text-sm text-muted-foreground"},"Kurir",-1)),t("span",bn,r(u.value.applied_promos.shipping.courier),1)]),t("div",yn,[p[15]||(p[15]=t("span",{class:"text-sm text-muted-foreground"},"Layanan",-1)),t("span",_n,r(u.value.applied_promos.shipping.service),1)]),t("div",kn,[p[16]||(p[16]=t("span",{class:"text-sm text-muted-foreground"},"Estimasi",-1)),t("span",hn,r(u.value.applied_promos.shipping.etd)+" hari",1)])])])):k("",!0),s(e(ie)),t("div",wn,[t("div",$n,[s(e(Te),{class:"h-4 w-4"}),p[17]||(p[17]=t("span",null,"Ringkasan Pembayaran",-1))]),t("div",Pn,[t("div",Sn,[p[18]||(p[18]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),t("span",null,r(e(w)(u.value.subtotal_amount)),1)]),u.value.discount_amount>0?(o(),c("div",Cn,[p[19]||(p[19]=t("span",{class:"text-muted-foreground"},"Diskon",-1)),t("span",Rn,"-"+r(e(w)(u.value.discount_amount)),1)])):k("",!0),t("div",Tn,[p[20]||(p[20]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),t("span",null,r(e(w)(u.value.shipping_amount)),1)]),u.value.tax_amount>0?(o(),c("div",An,[p[21]||(p[21]=t("span",{class:"text-muted-foreground"},"Pajak",-1)),t("span",null,r(e(w)(u.value.tax_amount)),1)])):k("",!0),s(e(ie)),t("div",Dn,[p[22]||(p[22]=t("span",null,"Total",-1)),t("span",Mn,r(e(w)(u.value.grand_total)),1)])])]),u.value.notes?(o(),c("div",jn,[s(e(ie)),t("div",Ln,[p[23]||(p[23]=t("p",{class:"text-sm font-medium"},"Catatan",-1)),t("p",Bn,r(u.value.notes),1)])])):k("",!0),y.value?(o(),c("div",In,[s(e(ie)),t("div",Vn,[t("div",En,[s(e(Me),{class:"h-4 w-4"}),p[24]||(p[24]=t("span",null,"Metode Pembayaran",-1))]),s(e(ls),{modelValue:R.value,"onUpdate:modelValue":p[2]||(p[2]=_=>R.value=_),class:"space-y-3"},{default:a(()=>[t("div",{class:Z(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":R.value==="wallet","hover:bg-muted":R.value!=="wallet","cursor-not-allowed opacity-50":!I.value}]),onClick:p[0]||(p[0]=_=>I.value&&(R.value="wallet"))},[s(e(Dt),{value:"wallet",id:"payment-wallet-detail",disabled:!I.value},null,8,["disabled"]),s(e(G),{for:"payment-wallet-detail",class:Z(["flex-1 cursor-pointer",{"cursor-not-allowed":!I.value}])},{default:a(()=>[t("div",Un,[t("div",null,[t("div",Kn,[s(e(Me),{class:"h-4 w-4"}),p[25]||(p[25]=i(" E-Wallet ",-1))]),t("div",Nn," Saldo: "+r(e(w)(D.value)),1),I.value?k("",!0):(o(),c("div",Fn," Saldo tidak mencukupi (kurang "+r(e(w)(u.value.grand_total-D.value))+") ",1))])])]),_:1},8,["class"])],2),t("div",{class:Z(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":R.value==="midtrans","hover:bg-muted":R.value!=="midtrans"}]),onClick:p[1]||(p[1]=_=>R.value="midtrans")},[s(e(Dt),{value:"midtrans",id:"payment-midtrans-detail"}),s(e(G),{for:"payment-midtrans-detail",class:"flex-1 cursor-pointer"},{default:a(()=>[t("div",On,[t("div",null,[t("div",zn,[s(e(Te),{class:"h-4 w-4"}),p[26]||(p[26]=i(" Payment Gateway ",-1))]),p[27]||(p[27]=t("div",{class:"text-xs text-muted-foreground"}," Transfer Bank, E-wallet, Kartu Kredit ",-1))])])]),_:1})],2)]),_:1},8,["modelValue"])]),s(e(U),{onClick:S,disabled:b.value||h.value||R.value==="wallet"&&!I.value,class:"w-full",size:"lg"},{default:a(()=>[b.value?(o(),P(e(Ae),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):R.value==="wallet"?(o(),P(e(Me),{key:1,class:"h-4 w-4 mr-2"})):(o(),P(e(Te),{key:2,class:"h-4 w-4 mr-2"})),R.value==="wallet"?(o(),c("span",qn," Bayar dengan E-Wallet "+r(e(w)(u.value.grand_total)),1)):(o(),c("span",Gn," Bayar "+r(e(w)(u.value.grand_total)),1))]),_:1},8,["disabled"])])):k("",!0),T.value?(o(),c("div",Qn,[s(e(U),{onClick:E,disabled:C.value,class:"w-full",size:"lg"},{default:a(()=>[C.value?(o(),P(e(Ae),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(o(),P(e(ge),{key:1,class:"h-4 w-4 mr-2"})),p[28]||(p[28]=i(" Tandai Pesanan Selesai ",-1))]),_:1},8,["disabled"])])):k("",!0)])):(o(),c("div",Wn," Tidak ada data pesanan "))]),_:1})]),_:1},8,["open"]))}}),Hn={class:"space-y-6 py-4"},Zn={key:2,class:"flex gap-4 rounded-lg bg-muted p-4"},Yn=["src","alt"],Xn={class:"flex-1"},er={class:"font-medium"},tr={class:"space-y-2"},sr={class:"flex items-center gap-2"},ar=["onClick","onMouseenter"],lr={class:"ml-2 text-sm text-muted-foreground"},nr={class:"space-y-2"},rr={key:0,class:"text-sm text-destructive"},or={class:"space-y-2"},ir={class:"text-right text-xs text-muted-foreground"},dr={key:0,class:"text-sm text-destructive"},ur=Y({__name:"ProductReviewDialog",props:{open:{type:Boolean},orderId:{},orderItems:{}},emits:["update:open","review-submitted"],setup(l,{emit:d}){const m=l,f=d,w=j(0),g=j(null),n=j(!1),x=j({}),D=K(()=>m.orderItems[w.value]),v=K(()=>w.value<m.orderItems.length-1),C=K(()=>w.value===m.orderItems.length-1),b=j({order_item_id:0,product_id:0,rating:5,title:"",comment:""}),h=j(0),u=Q=>{b.value.rating=Q},R=async()=>{if(D.value){b.value.order_item_id=D.value.id,b.value.product_id=D.value.product_id,g.value=null,x.value={},n.value=!0;try{const Q=await de.post(`/api/client/orders/${m.orderId}/reviews`,b.value);if(Q.data.success){const E=Q.data.message||"Review berhasil dikirim dan menunggu persetujuan!";g.value={type:"success",message:E},M.success(E),v.value?setTimeout(()=>{w.value++,y(),g.value=null},1500):setTimeout(()=>{f("update:open",!1),f("review-submitted"),I()},2e3)}}catch(Q){console.error("Submit review error:",Q);let E="Gagal mengirim review. Silakan coba lagi.";if(Q.response?.data){const W=Q.response.data;if(W.message&&(E=W.message),W.errors){x.value=W.errors;const B=Object.values(W.errors)[0];Array.isArray(B)&&B.length>0?E=B[0]:typeof B=="string"&&(E=B)}}g.value={type:"error",message:E},M.error(E)}finally{n.value=!1}}},T=()=>{v.value?(w.value++,y(),g.value=null):(f("update:open",!1),f("review-submitted"),I())},y=()=>{b.value={order_item_id:0,product_id:0,rating:5,title:"",comment:""},x.value={}},I=()=>{w.value=0,y(),g.value=null},N=Q=>{f("update:open",Q),Q||I()};return(Q,E)=>(o(),P(e(Ue),{open:l.open,"onUpdate:open":N},{default:a(()=>[s(e(Be),{class:"sm:max-w-[500px]"},{default:a(()=>[s(e(Ie),null,{default:a(()=>[s(e(Ve),null,{default:a(()=>[...E[4]||(E[4]=[i("Beri Rating & Review",-1)])]),_:1}),s(e(Ee),null,{default:a(()=>[i(" Bagikan pengalaman Anda dengan produk ini ("+r(w.value+1)+" dari "+r(l.orderItems.length)+") ",1)]),_:1})]),_:1}),t("div",Hn,[!D.value||l.orderItems.length===0?(o(),P(e(ot),{key:0,variant:"default"},{default:a(()=>[s(e(De),{class:"h-4 w-4"}),s(e(it),null,{default:a(()=>[...E[5]||(E[5]=[i("Tidak Ada Item",-1)])]),_:1}),s(e(dt),null,{default:a(()=>[...E[6]||(E[6]=[i(" Tidak ada produk yang dapat direview dari pesanan ini. ",-1)])]),_:1})]),_:1})):(o(),c(z,{key:1},[g.value?.type==="success"?(o(),P(e(ot),{key:0,variant:"default"},{default:a(()=>[s(e(ys),{class:"h-4 w-4"}),s(e(it),null,{default:a(()=>[...E[7]||(E[7]=[i("Berhasil!",-1)])]),_:1}),s(e(dt),null,{default:a(()=>[i(r(g.value.message),1)]),_:1})]),_:1})):k("",!0),g.value?.type==="error"?(o(),P(e(ot),{key:1,variant:"destructive"},{default:a(()=>[s(e(De),{class:"h-4 w-4"}),s(e(it),null,{default:a(()=>[...E[8]||(E[8]=[i("Terjadi Kesalahan",-1)])]),_:1}),s(e(dt),null,{default:a(()=>[i(r(g.value.message),1)]),_:1})]),_:1})):k("",!0),D.value?(o(),c("div",Zn,[D.value.product_image?(o(),c("img",{key:0,src:D.value.product_image,alt:D.value.product_name,class:"h-20 w-20 rounded-md object-cover"},null,8,Yn)):k("",!0),t("div",Xn,[t("h4",er,r(D.value.product_name),1)])])):k("",!0),t("div",tr,[s(e(G),null,{default:a(()=>[...E[9]||(E[9]=[i("Rating Produk",-1)])]),_:1}),t("div",sr,[(o(),c(z,null,te(5,W=>t("button",{key:W,type:"button",onClick:B=>u(W),onMouseenter:B=>h.value=W,onMouseleave:E[0]||(E[0]=B=>h.value=0),class:"transition-transform hover:scale-110 focus:outline-none"},[s(e($t),{class:Z(["h-8 w-8 transition-colors",(h.value||b.value.rating)>=W?"fill-yellow-400 text-yellow-400":"text-gray-300"])},null,8,["class"])],40,ar)),64)),t("span",lr,r(b.value.rating)+" / 5 ",1)])]),t("div",nr,[s(e(G),{for:"title"},{default:a(()=>[...E[10]||(E[10]=[i("Judul Review (Opsional)",-1)])]),_:1}),s(e(se),{id:"title",modelValue:b.value.title,"onUpdate:modelValue":E[1]||(E[1]=W=>b.value.title=W),placeholder:"Ringkasan singkat pengalaman Anda",maxlength:"100"},null,8,["modelValue"]),x.value.title?(o(),c("p",rr,r(x.value.title),1)):k("",!0)]),t("div",or,[s(e(G),{for:"comment"},{default:a(()=>[...E[11]||(E[11]=[i("Komentar (Opsional)",-1)])]),_:1}),s(e(Oe),{id:"comment",modelValue:b.value.comment,"onUpdate:modelValue":E[2]||(E[2]=W=>b.value.comment=W),placeholder:"Ceritakan pengalaman Anda dengan produk ini...",rows:"4",maxlength:"500"},null,8,["modelValue"]),t("p",ir,r(b.value.comment?.length||0)+" / 500 karakter ",1),x.value.comment?(o(),c("p",dr,r(x.value.comment),1)):k("",!0)])],64))]),s(e(Ke),{class:"flex-col gap-2 sm:flex-row"},{default:a(()=>[D.value&&l.orderItems.length>0?(o(),c(z,{key:0},[v.value||C.value?(o(),P(e(U),{key:0,type:"button",variant:"outline",onClick:T,disabled:n.value},{default:a(()=>[i(r(v.value?"Lewati":"Tutup"),1)]),_:1},8,["disabled"])):k("",!0),s(e(U),{type:"button",onClick:R,disabled:n.value||b.value.rating===0,class:"w-full sm:w-auto"},{default:a(()=>[n.value?(o(),P(e(Ae),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):k("",!0),i(" "+r(v.value?"Kirim & Lanjut":"Kirim Review"),1)]),_:1},8,["disabled"])],64)):(o(),P(e(U),{key:1,type:"button",variant:"outline",onClick:E[3]||(E[3]=W=>N(!1))},{default:a(()=>[...E[12]||(E[12]=[i(" Tutup ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"]))}}),mr={class:"rounded-lg border p-4 transition-colors hover:border-primary"},cr={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},pr={class:"flex-1"},fr={class:"mb-2 flex items-center gap-3"},xr={class:"text-sm font-semibold"},gr={class:"text-xs text-muted-foreground"},vr={class:"mt-2 flex items-center gap-2"},br={class:"flex flex-col gap-2 md:items-end"},yr={class:"text-lg font-bold text-primary"},_r={class:"flex flex-wrap gap-2"},kr=Y({__name:"OrderCard",props:{order:{}},setup(l){const d=l,{formatCurrency:m,formatDate:f,getStatusLabel:w}=je(),g=j(!1),n=j(!1),x=j(!1),D=j(!1),v=j(d.order.status),C=j(d.order.paid_at),b=async()=>{if(!x.value){x.value=!0;try{const T=await de.post(`/api/client/orders/${d.order.id}/check-payment-status`);T.data.success?(v.value=T.data.status,T.data.paid_at&&(C.value=T.data.paid_at),M.success(T.data.message),setTimeout(()=>{xe.reload({only:["orders"]})},500)):M.error(T.data.message)}catch(T){console.error("Check payment status error:",T),M.error(T.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{x.value=!1}}},h=async()=>{if(!D.value){D.value=!0;try{const T=await de.post(`/api/client/orders/${d.order.id}/complete`);T.data.success&&(v.value="COMPLETED",M.success(T.data.message||"Pesanan berhasil diselesaikan"),T.data.items&&T.data.items.length>0?(d.order.items=T.data.items,n.value=!0):setTimeout(()=>{xe.reload({only:["orders"]})},500))}catch(T){console.error("Complete order error:",T),M.error(T.response?.data?.message||"Gagal menandai pesanan sebagai diterima")}finally{D.value=!1}}},u=()=>{xe.reload({only:["orders"]})},R=()=>{const T=(d.order.items||[]).filter(y=>!y.has_review);T.length>0?(d.order.items=T,n.value=!0):M.info("Semua produk sudah direview")};return(T,y)=>(o(),c("div",mr,[t("div",cr,[t("div",pr,[t("div",fr,[s(e(Fe),{class:"h-5 w-5 text-muted-foreground"}),t("div",null,[t("p",xr,r(l.order.order_no),1),t("p",gr,r(l.order.placed_at?e(f)(l.order.placed_at):"Belum ditempatkan"),1),l.order.type?(o(),c("p",{key:0,class:Z(["text-xs font-medium",{"text-blue-600 dark:text-blue-400":l.order.type==="planA","text-amber-600 dark:text-amber-400":l.order.type==="planB"}])},r(l.order.type==="planA"?"Network Builder":"Retail"),3)):k("",!0)])]),t("div",vr,[s(e(V),{class:Z({"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":v.value.toUpperCase()==="PENDING","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":v.value.toUpperCase()==="PROCESSING"||v.value.toUpperCase()==="PAID","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":v.value.toUpperCase()==="SHIPPED","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":v.value.toUpperCase()==="DELIVERED"||v.value.toUpperCase()==="COMPLETED","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":v.value.toUpperCase()==="CANCELLED"})},{default:a(()=>[i(r(e(w)(v.value)),1)]),_:1},8,["class"]),C.value?(o(),P(e(V),{key:0,variant:"secondary"},{default:a(()=>[s(e(ge),{class:"mr-1 h-3 w-3"}),y[3]||(y[3]=i(" Dibayar ",-1))]),_:1})):k("",!0)])]),t("div",br,[t("p",yr,r(e(m)(l.order.grand_total)),1),t("div",_r,[v.value.toUpperCase()==="PENDING"&&!C.value?(o(),P(e(U),{key:0,variant:"outline",size:"sm",disabled:x.value,onClick:b},{default:a(()=>[s(e(It),{class:Z(["mr-1 h-3 w-3",{"animate-spin":x.value}])},null,8,["class"]),y[4]||(y[4]=i(" Cek Status ",-1))]),_:1},8,["disabled"])):k("",!0),v.value.toUpperCase()==="SHIPPED"?(o(),P(e(U),{key:1,variant:"default",size:"sm",disabled:D.value,onClick:h},{default:a(()=>[s(e(_s),{class:"mr-1 h-3 w-3"}),y[5]||(y[5]=i(" Pesanan Diterima ",-1))]),_:1},8,["disabled"])):k("",!0),v.value.toUpperCase()==="COMPLETED"&&l.order.has_unreviewed_items?(o(),P(e(U),{key:2,variant:"outline",size:"sm",onClick:R},{default:a(()=>[s(e($t),{class:"mr-1 h-3 w-3"}),y[6]||(y[6]=i(" Tambah Review ",-1))]),_:1})):k("",!0),s(e(U),{variant:"outline",size:"sm",onClick:y[0]||(y[0]=I=>g.value=!0)},{default:a(()=>[...y[7]||(y[7]=[i(" Lihat Detail ",-1)])]),_:1})])])]),s(Jn,{open:g.value,"onUpdate:open":y[1]||(y[1]=I=>g.value=I),"order-id":l.order.id},null,8,["open","order-id"]),s(ur,{open:n.value,"onUpdate:open":y[2]||(y[2]=I=>n.value=I),"order-id":l.order.id,"order-items":l.order.items||[],onReviewSubmitted:u},null,8,["open","order-id","order-items"])]))}}),hr={key:0,class:"space-y-4"},wr={key:1,class:"py-12 text-center"},$r=Y({__name:"OrdersTab",props:{orders:{}},setup(l){return(d,m)=>(o(),P(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...m[0]||(m[0]=[i("Pesanan Saya",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...m[1]||(m[1]=[i(" Riwayat pesanan dan status pengiriman ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[l.orders.length>0?(o(),c("div",hr,[(o(!0),c(z,null,te(l.orders,f=>(o(),P(kr,{key:f.id,order:f},null,8,["order"]))),128))])):(o(),c("div",wr,[s(e(Fe),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),m[3]||(m[3]=t("p",{class:"text-muted-foreground mb-4"},"Belum ada pesanan",-1)),s(e(ft),{href:"/beranda"},{default:a(()=>[s(e(U),null,{default:a(()=>[...m[2]||(m[2]=[i(" Mulai Belanja ",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),Pr={class:"text-center"},Sr={class:"text-4xl font-bold text-primary mb-4"},Cr={class:"flex gap-3 justify-center"},Rr=Y({__name:"WalletBalance",props:{balance:{}},emits:["topup","withdrawal"],setup(l,{emit:d}){const m=d,{formatCurrency:f}=je();return(w,g)=>(o(),P(e(F),null,{default:a(()=>[s(e(O),{class:"pt-6"},{default:a(()=>[t("div",Pr,[g[4]||(g[4]=t("p",{class:"text-sm text-muted-foreground mb-2"},"Saldo E-Wallet",-1)),t("p",Sr,r(e(f)(l.balance)),1),t("div",Cr,[s(e(U),{onClick:g[0]||(g[0]=n=>m("topup")),size:"sm"},{default:a(()=>[s(e(Vt),{class:"w-4 h-4 mr-2"}),g[2]||(g[2]=i(" Top Up ",-1))]),_:1}),s(e(U),{onClick:g[1]||(g[1]=n=>m("withdrawal")),variant:"outline",size:"sm"},{default:a(()=>[s(e(Et),{class:"w-4 h-4 mr-2"}),g[3]||(g[3]=i(" Tarik Dana ",-1))]),_:1})])])]),_:1})]),_:1}))}}),Tr={class:"space-y-2"},Ar={class:"relative"},Dr={key:0,class:"text-sm text-red-500"},Mr={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},jr={class:"flex items-start gap-3"},Lr={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Br={class:"flex items-start gap-3"},Ir={class:"flex items-center justify-end gap-3"},Vr={key:0},Er={key:1},Ur={key:2},Kr={key:3},Nr=Y({__name:"WalletTopupForm",emits:["cancel"],setup(l,{emit:d}){const m=d,f=Ce({amount:"",payment_method:"midtrans"}),w=j(!1),g=j(!1);at(()=>{if(window.snap){w.value=!0;return}if(typeof window>"u")return;const v=()=>{window.snap&&(w.value=!0,g.value=!1,console.log("Midtrans Snap loaded (event)."))};window.addEventListener("midtrans:snap:loaded",v,{once:!0}),setTimeout(()=>{w.value||(window.snap?(w.value=!0,console.log("Midtrans Snap loaded (fallback).")):(g.value=!0,console.error("Failed to load Midtrans Snap (timeout).")))},5e3)});const n=v=>{if(!window.snap){console.error("Snap not available"),alert("Pembayaran tidak dapat diproses. Silakan refresh halaman dan coba lagi."),m("cancel");return}try{window.snap.pay(v,{onSuccess:function(C){console.log("Payment success:",C),M.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(C){console.log("Payment pending:",C),M.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(C){console.error("Payment error (Midtrans):",C),M.error("Pembayaran gagal.");try{console.log("Midtrans raw error JSON:",JSON.stringify(C,null,2))}catch{}const b=C?.status_message||C?.status_code||"Terjadi kesalahan pembayaran.",h=C?.status_code==="505"?`
Catatan: Sandbox sering menolak VA dengan nominal rendah (coba >= 15000 atau metode lain).`:"";if(C?.status_code==="505"){alert("Midtrans Error: "+b+h+`
Sandbox akan otomatis mencoba QRIS.`),D("qris");return}alert("Midtrans Error: "+b+`
Silakan coba metode lain atau refresh.`),m("cancel")},onClose:function(){console.log("Payment modal closed"),M("Pembayaran ditutup sebelum selesai."),m("cancel")}})}catch(C){console.error("Error opening Snap modal:",C),alert("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),M.error("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),m("cancel")}},x=async()=>{if(!f.processing){if(!w.value||!window.snap){M.error("Sistem pembayaran belum siap. Silakan tunggu beberapa saat atau refresh halaman.");return}try{f.processing=!0;const C=(await de.post("/client/wallet/topup",{amount:f.amount,payment_method:f.payment_method})).data,b=C.snap_token;if(C.success===!1&&C.message){M.error(C.message),f.processing=!1;return}b&&typeof b=="string"&&b.trim()!==""?(f.reset(),f.processing=!1,setTimeout(()=>{n(b)},100)):(f.processing=!1,console.error("Invalid snap token:",b),console.error("Full response:",C),M.error("Gagal mendapatkan token pembayaran. Silakan coba lagi."),f.reset(),m("cancel"))}catch(v){if(f.processing=!1,console.error("Form submission error:",v),M.error("Terjadi kesalahan saat mengirim formulir."),v.response?.status===422&&v.response?.data?.errors){const C=v.response.data.errors,b=Object.values(C)[0],h=Array.isArray(b)?b[0]:b;M.error(h)}else{const C=v.response?.data?.message||v.message||"Terjadi kesalahan. Silakan coba lagi.";M.error(C)}f.reset()}}},D=async v=>{if(!f.processing){if(!w.value||!window.snap){alert("Sistem pembayaran belum siap untuk retry.");return}try{f.processing=!0;const b=(await de.post("/client/wallet/topup",{amount:f.amount||"20000",payment_method:f.payment_method,force_payment:v})).data,h=b.snap_token;if(!b.success||!h){M.error(b.message||"Retry gagal mendapatkan token."),f.processing=!1;return}f.processing=!1,M.success("Metode dialihkan ke "+v.toUpperCase()+". Silakan lanjutkan pembayaran."),n(h)}catch(C){f.processing=!1,M.error(C?.response?.data?.message||C.message||"Retry gagal.")}}};return(v,C)=>(o(),P(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...C[2]||(C[2]=[i("Top Up E-Wallet",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...C[3]||(C[3]=[i(" Isi saldo e-wallet Anda melalui Midtrans ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("form",{onSubmit:qe(x,["prevent"]),class:"space-y-6"},[t("div",Tr,[s(e(G),{for:"topup_amount"},{default:a(()=>[...C[4]||(C[4]=[i(" Jumlah Top Up ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Ar,[s(e(Te),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"topup_amount",modelValue:e(f).amount,"onUpdate:modelValue":C[0]||(C[0]=b=>e(f).amount=b),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:"10000000",required:""},null,8,["modelValue"])]),C[5]||(C[5]=t("p",{class:"text-xs text-muted-foreground"}," Minimum Rp 10.000 - Maximum Rp 10.000.000. Disarankan >= Rp 15.000 untuk Virtual Account agar tidak ditolak (505). ",-1)),e(f).errors.amount?(o(),c("p",Dr,r(e(f).errors.amount),1)):k("",!0)]),t("div",Mr,[t("div",jr,[s(e(Te),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),C[6]||(C[6]=t("div",null,[t("p",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"}," Pembayaran via Midtrans "),t("p",{class:"text-xs text-blue-700 dark:text-blue-300 mt-1"}," Anda akan diarahkan ke halaman pembayaran Midtrans untuk menyelesaikan transaksi ")],-1))])]),g.value?(o(),c("div",Lr,[t("div",Br,[s(e(De),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),C[7]||(C[7]=t("div",null,[t("p",{class:"text-sm font-semibold text-red-900 dark:text-red-100"}," Sistem Pembayaran Belum Siap "),t("p",{class:"text-xs text-red-700 dark:text-red-300 mt-1"}," Silakan refresh halaman untuk memuat ulang sistem pembayaran. ")],-1))])])):k("",!0),t("div",Ir,[s(e(U),{type:"button",variant:"outline",onClick:C[1]||(C[1]=b=>{e(f).reset(),m("cancel")}),disabled:e(f).processing},{default:a(()=>[...C[8]||(C[8]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(f).processing||g.value||!w.value},{default:a(()=>[e(f).processing?(o(),c("span",Vr,"Memproses...")):!w.value&&!g.value?(o(),c("span",Er,"Memuat sistem pembayaran...")):g.value?(o(),c("span",Ur,"Sistem pembayaran error")):(o(),c("span",Kr,"Lanjut ke Pembayaran"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Fr={key:0,class:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Or={class:"flex items-start gap-3"},zr={key:1,class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},qr={class:"flex items-start gap-3"},Gr={class:"space-y-2"},Qr={class:"relative"},Wr={class:"text-xs text-muted-foreground"},Jr={key:0,class:"text-sm text-red-500"},Hr={class:"space-y-4"},Zr={class:"flex items-center justify-between"},Yr={key:0,class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-3"},Xr={class:"flex justify-between text-sm"},eo={class:"font-medium"},to={class:"flex justify-between text-sm"},so={class:"font-medium"},ao={class:"flex justify-between text-sm"},lo={class:"font-medium"},no={key:1,class:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg text-center text-sm text-muted-foreground"},ro={class:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},oo={class:"flex items-center justify-end gap-3"},io={class:"space-y-3 py-4"},uo={class:"flex justify-between text-sm"},mo={class:"font-semibold"},co={class:"flex justify-between text-sm"},po={class:"font-medium"},fo={class:"flex justify-between text-sm"},xo={class:"font-medium"},go={class:"flex justify-between text-sm"},vo={class:"font-medium"},bo={class:"space-y-4 py-4"},yo={class:"space-y-2"},_o={class:"relative"},ko={key:0,class:"text-sm text-red-500"},ho=Y({__name:"WalletWithdrawalForm",props:{customer:{},maxAmount:{},hasPendingWithdrawal:{type:Boolean}},emits:["cancel"],setup(l,{emit:d}){const m=l,f=d,w=K(()=>!!m.customer.nik&&!!m.customer.bank_name&&!!m.customer.bank_account),g=j(!1),n=j(!1),x=j(!1),D=j(""),v=Ce({amount:"",password:""}),C=K(()=>{const T=parseFloat(v.amount)||0;return{amount:T,formattedAmount:T.toLocaleString("id-ID")}}),b=()=>{if(!w.value){M.error("Lengkapi NIK dan informasi bank di profil Anda terlebih dahulu");return}if(!v.amount||parseFloat(v.amount)<5e4){M.error("Jumlah penarikan minimal Rp 50.000");return}if(parseFloat(v.amount)>m.maxAmount){M.error("Jumlah penarikan melebihi saldo yang tersedia");return}g.value=!0},h=()=>{g.value=!1,n.value=!0,v.password="",D.value=""},u=()=>{if(!v.password){D.value="Password wajib diisi";return}D.value="",v.post("/client/wallet/withdrawal",{preserveScroll:!0,onSuccess:()=>{n.value=!1,v.reset(),f("cancel"),M.success("Permintaan penarikan berhasil diajukan.")},onError:T=>{T.password?D.value=T.password:T.pending?(n.value=!1,M.error(T.pending)):T.profile&&(n.value=!1,M.error(T.profile))}})},R=()=>{n.value=!1,v.password="",D.value=""};return(T,y)=>(o(),c(z,null,[s(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...y[6]||(y[6]=[i("Tarik Dana E-Wallet",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...y[7]||(y[7]=[i(" Tarik saldo ke rekening bank Anda ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[w.value?k("",!0):(o(),c("div",Fr,[t("div",Or,[s(e(ct),{class:"h-5 w-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5"}),t("div",null,[y[9]||(y[9]=t("p",{class:"font-medium text-red-700 dark:text-red-300"},"Profil Belum Lengkap",-1)),y[10]||(y[10]=t("p",{class:"text-sm text-red-600 dark:text-red-400 mt-1"}," Untuk melakukan penarikan, Anda harus melengkapi NIK dan informasi rekening bank di profil Anda. ",-1)),s(e(ft),{href:"/client/profile",class:"inline-flex items-center gap-1 text-sm font-medium text-red-700 dark:text-red-300 hover:underline mt-2"},{default:a(()=>[...y[8]||(y[8]=[i(" Lengkapi Profil Sekarang  ",-1)])]),_:1})])])])),l.hasPendingWithdrawal?(o(),c("div",zr,[t("div",qr,[s(e(ct),{class:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),y[11]||(y[11]=t("div",null,[t("p",{class:"font-medium text-amber-700 dark:text-amber-300"},"Permintaan Pending"),t("p",{class:"text-sm text-amber-600 dark:text-amber-400 mt-1"}," Anda masih memiliki permintaan penarikan yang belum diproses. Silakan tunggu hingga permintaan sebelumnya selesai diproses. ")],-1))])])):k("",!0),t("form",{onSubmit:qe(b,["prevent"]),class:"space-y-6"},[t("div",Gr,[s(e(G),{for:"withdrawal_amount"},{default:a(()=>[...y[12]||(y[12]=[i(" Jumlah Penarikan ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Qr,[s(e(Te),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"withdrawal_amount",modelValue:e(v).amount,"onUpdate:modelValue":y[0]||(y[0]=I=>e(v).amount=I),type:"number",placeholder:"Minimal Rp 50.000",class:"pl-10",min:"50000",max:l.maxAmount,disabled:l.hasPendingWithdrawal||!w.value,required:""},null,8,["modelValue","max","disabled"])]),t("p",Wr," Minimum Rp 50.000 - Maksimal Rp "+r(l.maxAmount.toLocaleString("id-ID")),1),e(v).errors.amount?(o(),c("p",Jr,r(e(v).errors.amount),1)):k("",!0)]),s(e(ie)),t("div",Hr,[t("div",Zr,[y[14]||(y[14]=t("h4",{class:"font-semibold"},"Informasi Rekening",-1)),s(e(ft),{href:"/client/profile",class:"text-sm text-primary hover:underline"},{default:a(()=>[...y[13]||(y[13]=[i(" Ubah di Profil ",-1)])]),_:1})]),w.value?(o(),c("div",Yr,[t("div",Xr,[y[15]||(y[15]=t("span",{class:"text-muted-foreground"},"Nama Bank:",-1)),t("span",eo,r(l.customer.bank_name),1)]),t("div",to,[y[16]||(y[16]=t("span",{class:"text-muted-foreground"},"No. Rekening:",-1)),t("span",so,r(l.customer.bank_account),1)]),t("div",ao,[y[17]||(y[17]=t("span",{class:"text-muted-foreground"},"Atas Nama:",-1)),t("span",lo,r(l.customer.name),1)])])):(o(),c("div",no," Informasi rekening belum diisi ")),t("div",ro,[s(e(ks),{class:"h-4 w-4 text-blue-600 dark:text-blue-400 shrink-0 mt-0.5"}),y[18]||(y[18]=t("p",{class:"text-xs text-blue-700 dark:text-blue-300"}," Nama pemilik rekening harus sama dengan nama yang terdaftar sebagai member. ",-1))])]),y[20]||(y[20]=t("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},[t("p",{class:"text-sm text-amber-700 dark:text-amber-300"},[t("strong",null,"Catatan:"),i(" Penarikan akan diproses dalam 1-3 hari kerja. Pastikan data rekening sudah benar. ")])],-1)),t("div",oo,[s(e(U),{type:"button",variant:"outline",onClick:y[1]||(y[1]=I=>{e(v).reset(),f("cancel")}),disabled:e(v).processing},{default:a(()=>[...y[19]||(y[19]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(v).processing||l.hasPendingWithdrawal||!w.value},{default:a(()=>[i(r(e(v).processing?"Memproses...":"Ajukan Penarikan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}),s(e(Js),{open:g.value,"onUpdate:open":y[2]||(y[2]=I=>g.value=I)},{default:a(()=>[s(e(Fs),null,{default:a(()=>[s(e(Os),null,{default:a(()=>[s(e(zs),null,{default:a(()=>[...y[21]||(y[21]=[i("Konfirmasi Penarikan",-1)])]),_:1}),s(e(qs),null,{default:a(()=>[...y[22]||(y[22]=[i(" Apakah Anda yakin ingin menarik dana dengan detail berikut? ",-1)])]),_:1})]),_:1}),t("div",io,[t("div",uo,[y[23]||(y[23]=t("span",{class:"text-muted-foreground"},"Jumlah Penarikan:",-1)),t("span",mo,"Rp "+r(C.value.formattedAmount),1)]),s(e(ie)),t("div",co,[y[24]||(y[24]=t("span",{class:"text-muted-foreground"},"Bank:",-1)),t("span",po,r(l.customer.bank_name),1)]),t("div",fo,[y[25]||(y[25]=t("span",{class:"text-muted-foreground"},"No. Rekening:",-1)),t("span",xo,r(l.customer.bank_account),1)]),t("div",go,[y[26]||(y[26]=t("span",{class:"text-muted-foreground"},"Atas Nama:",-1)),t("span",vo,r(l.customer.name),1)])]),s(e(Gs),null,{default:a(()=>[s(e(Qs),null,{default:a(()=>[...y[27]||(y[27]=[i("Batal",-1)])]),_:1}),s(e(Ws),{onClick:h},{default:a(()=>[...y[28]||(y[28]=[i(" Lanjutkan ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(e(Ue),{open:n.value,"onUpdate:open":y[5]||(y[5]=I=>n.value=I)},{default:a(()=>[s(e(Be),{class:"sm:max-w-md"},{default:a(()=>[s(e(Ie),null,{default:a(()=>[s(e(Ve),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Ye),{class:"h-5 w-5"}),y[29]||(y[29]=i(" Konfirmasi Password ",-1))]),_:1}),s(e(Ee),null,{default:a(()=>[...y[30]||(y[30]=[i(" Masukkan password akun Anda untuk melanjutkan penarikan dana. ",-1)])]),_:1})]),_:1}),t("div",bo,[t("div",yo,[s(e(G),{for:"confirm_password"},{default:a(()=>[...y[31]||(y[31]=[i("Password",-1)])]),_:1}),t("div",_o,[s(e(se),{id:"confirm_password",modelValue:e(v).password,"onUpdate:modelValue":y[3]||(y[3]=I=>e(v).password=I),type:x.value?"text":"password",placeholder:"Masukkan password Anda",class:"pr-10",onKeyup:hs(u,["enter"])},null,8,["modelValue","type"]),t("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:y[4]||(y[4]=I=>x.value=!x.value)},[x.value?(o(),P(e(Je),{key:1,class:"h-4 w-4"})):(o(),P(e(We),{key:0,class:"h-4 w-4"}))])]),D.value?(o(),c("p",ko,r(D.value),1)):k("",!0)])]),s(e(Ke),null,{default:a(()=>[s(e(U),{type:"button",variant:"outline",onClick:R,disabled:e(v).processing},{default:a(()=>[...y[32]||(y[32]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"button",onClick:u,disabled:e(v).processing||!e(v).password},{default:a(()=>[e(v).processing?(o(),P(e(Ae),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):k("",!0),i(" "+r(e(v).processing?"Memproses...":"Konfirmasi Penarikan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),wo={class:"p-3 border rounded-lg"},$o={class:"flex items-start justify-between gap-2 mb-2"},Po={class:"flex items-center gap-2"},So={class:"font-semibold text-sm"},Co={class:"text-xs text-muted-foreground"},Ro={class:"mb-2 text-xs text-muted-foreground"},To={key:0,class:"line-clamp-2"},Ao={class:"grid grid-cols-3 gap-2 text-xs border-t pt-2"},Do={class:"text-center"},Mo={class:"font-semibold text-red-600 dark:text-red-400"},jo={class:"text-center border-x"},Lo={class:"font-semibold text-emerald-600 dark:text-emerald-400"},Bo={class:"text-center"},Io={class:"font-semibold"},Vo={key:0,class:"mt-3 pt-3 border-t"},Eo={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},Uo={class:"flex gap-2"},Ko=Y({__name:"WalletTransactionCard",props:{transaction:{}},emits:["continue-payment","status-updated"],setup(l,{emit:d}){const m=l,f=d,{formatDate:w,getTransactionTypeLabel:g,getTransactionStatusLabel:n}=je(),x=j(!1),D=j(m.transaction.status),v=["topup","top_up","bonus","refund"],C=K(()=>v.includes(m.transaction.type)),b=u=>q(u,"-"),h=async u=>{if(!x.value){x.value=!0;try{const R=await de.post("/client/wallet/check-status",{transaction_ref:u});R.data.success?(D.value=R.data.status,f("status-updated",{transactionRef:u,status:R.data.status,newBalance:R.data.new_balance}),M.success(R.data.message),setTimeout(()=>{xe.reload({only:["customer","transactions"]})},500)):M.error(R.data.message)}catch(R){console.error("Check status error:",R),M.error(R.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{x.value=!1}}};return(u,R)=>(o(),c("div",wo,[t("div",$o,[t("div",Po,[t("div",{class:Z(["p-1.5 rounded-full shrink-0",{"bg-emerald-100 dark:bg-emerald-900/20":C.value,"bg-red-100 dark:bg-red-900/20":!C.value}])},[C.value?(o(),P(e(Vt),{key:0,class:"w-3.5 h-3.5 text-emerald-600 dark:text-emerald-400"})):(o(),P(e(Et),{key:1,class:"w-3.5 h-3.5 text-red-600 dark:text-red-400"}))],2),t("div",null,[t("p",So,r(e(g)(l.transaction.type)),1),t("p",Co,r(e(w)(l.transaction.created_at)),1)])]),s(e(V),{variant:"secondary",class:Z(["shrink-0",{"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100":D.value==="pending","bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-100":D.value==="completed","bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-100":D.value==="failed"||D.value==="cancelled"}])},{default:a(()=>[i(r(e(n)(D.value)),1)]),_:1},8,["class"])]),t("div",Ro,[l.transaction.notes?(o(),c("p",To,r(l.transaction.notes),1)):k("",!0),t("p",null,"Ref: "+r(l.transaction.transaction_ref),1)]),t("div",Ao,[t("div",Do,[R[2]||(R[2]=t("p",{class:"text-muted-foreground mb-0.5"},"Debit",-1)),t("p",Mo,r(!C.value&&D.value==="completed"?b(l.transaction.amount):"-"),1)]),t("div",jo,[R[3]||(R[3]=t("p",{class:"text-muted-foreground mb-0.5"},"Kredit",-1)),t("p",Lo,r(C.value&&D.value==="completed"?b(l.transaction.amount):"-"),1)]),t("div",Bo,[R[4]||(R[4]=t("p",{class:"text-muted-foreground mb-0.5"},"Saldo",-1)),t("p",Io,r(b(l.transaction.balance_after)),1)])]),l.transaction.type==="topup"&&D.value==="pending"&&l.transaction.midtrans_transaction_id?(o(),c("div",Vo,[t("div",Eo,[R[7]||(R[7]=t("p",{class:"text-xs text-muted-foreground"}," Pembayaran menunggu konfirmasi ",-1)),t("div",Uo,[s(e(U),{size:"sm",variant:"outline",disabled:x.value,onClick:R[0]||(R[0]=T=>h(l.transaction.transaction_ref)),class:"shrink-0"},{default:a(()=>[s(e(It),{class:Z(["w-3 h-3 mr-1",{"animate-spin":x.value}])},null,8,["class"]),R[5]||(R[5]=i(" Cek Status ",-1))]),_:1},8,["disabled"]),s(e(U),{size:"sm",onClick:R[1]||(R[1]=T=>f("continue-payment",l.transaction.midtrans_transaction_id)),class:"shrink-0"},{default:a(()=>[s(e(Te),{class:"w-3 h-3 mr-1"}),R[6]||(R[6]=i(" Lanjutkan Pembayaran ",-1))]),_:1})])])])):k("",!0)]))}}),No={key:0,class:"space-y-3"},Fo={key:1,class:"py-12 text-center"},Oo=Y({__name:"WalletTransactionList",props:{transactions:{}},setup(l){const d=ht(),m=K(()=>d.props.customer),f=g=>{typeof window>"u"||(window.snap?window.snap.pay(g,{onSuccess:function(n){console.log("Payment success:",n),M.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(n){console.log("Payment pending:",n),M.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(n){M.error("Pembayaran gagal."),console.error("Payment error:",n)},onClose:function(){M("Pembayaran ditutup sebelum selesai."),console.log("Payment modal closed")}}):alert("Midtrans Snap belum siap. Silakan refresh halaman."))},w=g=>{g.newBalance!==void 0&&m.value&&(m.value.ewallet_saldo=g.newBalance)};return(g,n)=>(o(),P(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...n[0]||(n[0]=[i("Riwayat Transaksi",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[i(r(l.transactions.length)+" transaksi e-wallet terbaru ",1)]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[l.transactions.length>0?(o(),c("div",No,[(o(!0),c(z,null,te(l.transactions,x=>(o(),P(Ko,{key:x.id,transaction:x,onContinuePayment:f,onStatusUpdated:w},null,8,["transaction"]))),128))])):(o(),c("div",Fo,[s(e(Me),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),n[1]||(n[1]=t("p",{class:"text-muted-foreground"},"Belum ada transaksi",-1))]))]),_:1})]),_:1}))}}),zo={class:"flex-1"},qo={key:0,class:"text-xs mt-1 text-gray-700 dark:text-gray-300"},Go={class:"font-mono"},Qo={class:"uppercase"},Wo=["disabled"],Jo={key:1,class:"border border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 text-xs text-amber-800 dark:text-amber-200"},Ho=Y({__name:"WalletStatusBanner",props:{initialTransactions:{}},setup(l){const d=l,m=j(!1),f=j(null),w=j(null),g=K(()=>{const v=w.value?.status||"";return v==="completed"||v==="success"?{tone:"success",title:"Top up berhasil",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900",text:"text-green-800 dark:text-green-200"}:v==="pending"?{tone:"pending",title:"Menunggu pembayaran",bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-900",text:"text-yellow-800 dark:text-yellow-200"}:v==="cancelled"||v==="failed"||v==="expire"||v==="denied"||v==="deny"?{tone:"failed",title:"Pembayaran gagal / dibatalkan",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-900",text:"text-red-800 dark:text-red-200"}:{tone:"info",title:"Status transaksi",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900",text:"text-blue-800 dark:text-blue-200"}});function n(v,C=2){const b=new Date(v).getTime();return(Date.now()-b)/36e5<=C}const x=K(()=>{if(!w.value)return!1;const v=w.value.status;return v==="pending"?!0:v==="completed"||v==="success"?n(w.value.created_at,2):n(w.value.created_at,6)});async function D(){try{m.value=!0,f.value=null;const{data:v}=await de.get("/client/wallet/history",{params:{type:"topup"}}),C=Array.isArray(v?.data)?v.data:Array.isArray(v)?v:[];C.length>0&&(w.value=C[0])}catch(v){f.value=v?.response?.data?.message||v?.message||"Gagal memuat status transaksi."}finally{m.value=!1}}return at(()=>{d.initialTransactions&&d.initialTransactions.length>0&&(w.value=d.initialTransactions[0]),D()}),(v,C)=>x.value?(o(),c("div",{key:0,class:Z(["border rounded-lg p-4 flex items-start gap-3",g.value.border,g.value.bg])},[t("div",zo,[t("p",{class:Z(["text-sm font-semibold",g.value.text])},r(g.value.title),3),w.value?(o(),c("p",qo,[C[0]||(C[0]=i(" Ref: ",-1)),t("span",Go,r(w.value.transaction_ref),1),i("  Jumlah: Rp "+r(new Intl.NumberFormat("id-ID").format(w.value.amount))+"  Status: ",1),t("span",Qo,r(w.value.status),1)])):k("",!0)]),t("button",{type:"button",class:"text-xs underline text-gray-700 dark:text-gray-300",onClick:D,disabled:m.value},r(m.value?"Menyegarkan...":"Segarkan"),9,Wo)],2)):f.value?(o(),c("div",Jo,r(f.value),1)):k("",!0)}}),Zo={class:"space-y-6"},Yo=Y({__name:"WalletTab",props:{customer:{},transactions:{},hasPendingWithdrawal:{type:Boolean}},setup(l){const d=j("wallet");return(m,f)=>(o(),c("div",Zo,[s(Rr,{balance:Number(l.customer.ewallet_saldo)||0,onTopup:f[0]||(f[0]=w=>d.value="wallet-topup"),onWithdrawal:f[1]||(f[1]=w=>d.value="wallet-withdrawal")},null,8,["balance"]),d.value==="wallet"?(o(),P(Ho,{key:0,"initial-transactions":l.transactions},null,8,["initial-transactions"])):k("",!0),d.value==="wallet-topup"?(o(),P(Nr,{key:1,onCancel:f[2]||(f[2]=w=>d.value="wallet")})):k("",!0),d.value==="wallet-withdrawal"?(o(),P(ho,{key:2,customer:l.customer,"max-amount":Number(l.customer.ewallet_saldo)||0,"has-pending-withdrawal":l.hasPendingWithdrawal,onCancel:f[3]||(f[3]=w=>d.value="wallet")},null,8,["customer","max-amount","has-pending-withdrawal"])):k("",!0),d.value==="wallet"?(o(),P(Oo,{key:3,transactions:l.transactions},null,8,["transactions"])):k("",!0)]))}}),Xo={class:"space-y-2"},ei={class:"relative"},ti={key:0,class:"text-sm text-red-500"},si={class:"space-y-2"},ai={class:"relative"},li={key:0,class:"text-sm text-red-500"},ni={class:"space-y-2"},ri={class:"relative"},oi={class:"flex items-center justify-end gap-3"},ii=Y({__name:"SecurityTab",setup(l){const d=Ce({current_password:"",password:"",password_confirmation:""}),m=j(!1),f=j(!1),w=j(!1),g=()=>{d.patch("/client/profile/password",{preserveScroll:!0,onSuccess:()=>{d.reset(),m.value=!1,f.value=!1,w.value=!1,M.success("Password berhasil diubah")}})};return(n,x)=>(o(),P(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...x[7]||(x[7]=[i("Ubah Password",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...x[8]||(x[8]=[i(" Pastikan akun Anda menggunakan password yang kuat ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("form",{onSubmit:qe(g,["prevent"]),class:"space-y-6"},[t("div",Xo,[s(e(G),{for:"current_password"},{default:a(()=>[...x[9]||(x[9]=[i(" Password Saat Ini ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ei,[s(e(Ye),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"current_password",modelValue:e(d).current_password,"onUpdate:modelValue":x[0]||(x[0]=D=>e(d).current_password=D),type:m.value?"text":"password",placeholder:"Masukkan password saat ini",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:x[1]||(x[1]=D=>m.value=!m.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[m.value?(o(),P(e(Je),{key:1,class:"h-4 w-4"})):(o(),P(e(We),{key:0,class:"h-4 w-4"}))])]),e(d).errors.current_password?(o(),c("p",ti,r(e(d).errors.current_password),1)):k("",!0)]),s(e(ie)),t("div",si,[s(e(G),{for:"password"},{default:a(()=>[...x[10]||(x[10]=[i(" Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ai,[s(e(Mt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"password",modelValue:e(d).password,"onUpdate:modelValue":x[2]||(x[2]=D=>e(d).password=D),type:f.value?"text":"password",placeholder:"Masukkan password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:x[3]||(x[3]=D=>f.value=!f.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[f.value?(o(),P(e(Je),{key:1,class:"h-4 w-4"})):(o(),P(e(We),{key:0,class:"h-4 w-4"}))])]),x[11]||(x[11]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimal 8 karakter ",-1)),e(d).errors.password?(o(),c("p",li,r(e(d).errors.password),1)):k("",!0)]),t("div",ni,[s(e(G),{for:"password_confirmation"},{default:a(()=>[...x[12]||(x[12]=[i(" Konfirmasi Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ri,[s(e(Mt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(se),{id:"password_confirmation",modelValue:e(d).password_confirmation,"onUpdate:modelValue":x[4]||(x[4]=D=>e(d).password_confirmation=D),type:w.value?"text":"password",placeholder:"Konfirmasi password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:x[5]||(x[5]=D=>w.value=!w.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[w.value?(o(),P(e(Je),{key:1,class:"h-4 w-4"})):(o(),P(e(We),{key:0,class:"h-4 w-4"}))])])]),t("div",oi,[s(e(U),{type:"button",variant:"outline",onClick:x[6]||(x[6]=D=>e(d).reset()),disabled:e(d).processing},{default:a(()=>[...x[13]||(x[13]=[i(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(d).processing},{default:a(()=>[e(d).processing?k("",!0):(o(),P(e(Ye),{key:0,class:"w-4 h-4 mr-2"})),i(" "+r(e(d).processing?"Mengupdate...":"Update Password"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),di={class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},ui={class:"flex items-start gap-3"},mi={class:"flex-1"},ci=Y({__name:"DangerZoneTab",setup(l){const d=j(!1),m=Ce({}),f=()=>{m.delete("/client/profile",{onFinish:()=>{d.value=!1}})};return(w,g)=>(o(),c(z,null,[s(e(F),{class:"border-red-200 dark:border-red-900"},{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"text-red-600 dark:text-red-400"},{default:a(()=>[...g[3]||(g[3]=[i("Zona Bahaya",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...g[4]||(g[4]=[i(" Tindakan di bawah ini bersifat permanen dan tidak dapat dibatalkan ",-1)])]),_:1})]),_:1}),s(e(O),{class:"space-y-6"},{default:a(()=>[t("div",di,[t("div",ui,[s(e(De),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),t("div",mi,[g[6]||(g[6]=t("h3",{class:"font-semibold text-red-900 dark:text-red-100"}," Hapus Akun ",-1)),g[7]||(g[7]=t("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Setelah akun Anda dihapus, semua data akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1)),s(e(U),{type:"button",variant:"destructive",class:"mt-4",onClick:g[0]||(g[0]=n=>d.value=!0)},{default:a(()=>[s(e(mt),{class:"w-4 h-4 mr-2"}),g[5]||(g[5]=i(" Hapus Akun Saya ",-1))]),_:1})])])])]),_:1})]),_:1}),s(e(Ue),{open:d.value,"onUpdate:open":g[2]||(g[2]=n=>d.value=n)},{default:a(()=>[s(e(Be),null,{default:a(()=>[s(e(Ie),null,{default:a(()=>[s(e(Ve),{class:"flex items-center gap-2 text-red-600"},{default:a(()=>[s(e(De),{class:"w-5 h-5"}),g[8]||(g[8]=i(" Konfirmasi Hapus Akun ",-1))]),_:1}),s(e(Ee),null,{default:a(()=>[...g[9]||(g[9]=[i(" Apakah Anda yakin ingin menghapus akun Anda? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan dihapus secara permanen. ",-1)])]),_:1})]),_:1}),g[11]||(g[11]=t("div",{class:"py-4"},[t("div",{class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},[t("p",{class:"text-sm text-red-700 dark:text-red-300"},[t("strong",null,"Data yang akan dihapus:")]),t("ul",{class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside space-y-1"},[t("li",null,"Informasi profil dan akun"),t("li",null,"Riwayat transaksi"),t("li",null,"E-wallet dan saldo"),t("li",null,"Jaringan dan bonus")])])],-1)),s(e(Ke),null,{default:a(()=>[s(e(U),{type:"button",variant:"outline",onClick:g[1]||(g[1]=n=>d.value=!1),disabled:e(m).processing},{default:a(()=>[...g[10]||(g[10]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"button",variant:"destructive",onClick:f,disabled:e(m).processing},{default:a(()=>[s(e(mt),{class:"w-4 h-4 mr-2"}),i(" "+r(e(m).processing?"Menghapus...":"Ya, Hapus Akun"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),pi={key:0,class:"text-center py-12 text-muted-foreground"},fi={class:"flex items-start justify-between"},xi={class:"flex-1"},gi={class:"flex items-center gap-2 mb-2"},vi={class:"font-semibold text-lg"},bi={class:"text-sm font-normal text-muted-foreground"},yi={class:"space-y-1 text-sm text-muted-foreground"},_i={key:0},ki={key:1,class:"text-xs font-medium text-primary"},hi={key:2,class:"text-xs"},wi={class:"text-blue-600 dark:text-blue-400"},$i={class:"text-green-600 dark:text-green-400"},Pi={class:"text-xs"},Si={class:"text-xs font-medium text-green-600 dark:text-green-400"},Ci={class:"flex flex-col items-end gap-2"},Ri={key:0,class:"text-center py-12 text-muted-foreground"},Ti={class:"flex items-start justify-between"},Ai={class:"flex-1"},Di={class:"flex items-center gap-2 mb-2"},Mi={class:"font-semibold text-lg"},ji={class:"text-sm font-normal text-muted-foreground"},Li={class:"space-y-1 text-sm text-muted-foreground"},Bi={key:0},Ii={key:1,class:"text-xs font-medium text-primary"},Vi={key:2,class:"text-xs"},Ei={class:"text-blue-600 dark:text-blue-400"},Ui={class:"text-green-600 dark:text-green-400"},Ki={class:"text-xs"},Ni={class:"text-xs font-medium text-orange-600 dark:text-orange-400"},Fi={class:"flex flex-col items-end gap-2"},Oi={key:0,class:"text-center py-12 text-muted-foreground"},zi={class:"flex items-start justify-between"},qi={class:"flex-1"},Gi={class:"flex items-center gap-2 mb-2"},Qi={class:"font-semibold text-lg"},Wi={class:"text-sm font-normal text-muted-foreground"},Ji={class:"space-y-1 text-sm text-muted-foreground"},Hi={key:0},Zi={key:1,class:"text-xs font-medium text-primary"},Yi={key:2,class:"text-xs"},Xi={class:"text-blue-600 dark:text-blue-400"},ed={class:"text-green-600 dark:text-green-400"},td={class:"text-xs"},sd={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},ad={class:"flex flex-col items-end gap-2"},ld={class:"font-semibold"},nd={class:"grid grid-cols-2 gap-4 py-4"},rd=["disabled"],od={class:"text-xs text-muted-foreground mt-1"},id=["disabled"],dd={class:"text-xs text-muted-foreground mt-1"},ud=Y({__name:"NetworkMembersTab",props:{activeMembers:{},passiveMembers:{},prospectMembers:{},hasLeft:{type:Boolean},hasRight:{type:Boolean}},setup(l){const d=j(!1),m=j(null),f=j(null),w=Ce({member_id:0,position:""}),g=b=>{m.value=b,f.value=null,w.member_id=b.id,w.position="",d.value=!0},n=()=>{d.value=!1,m.value=null,f.value=null,w.reset()},x=()=>{if(!m.value||!f.value){M.error("Pilih posisi terlebih dahulu");return}w.position=f.value,w.post("/client/profile/place-member",{onSuccess:()=>{M.success(`${m.value?.name} berhasil ditempatkan di posisi ${f.value}`),n()},onError:b=>{const h=b.error||"Gagal menempatkan member ke binary tree";M.error(h)}})},D=b=>new Date(b).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),v=b=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(b),C=b=>b?{variant:b==="left"?"default":"secondary",text:b==="left"?"Kiri":"Kanan"}:{variant:"outline",text:"Belum Ditempatkan"};return(b,h)=>(o(),c(z,null,[s(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),null,{default:a(()=>[...h[2]||(h[2]=[i("Jaringan Member",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...h[3]||(h[3]=[i("Kelola dan lihat member dalam jaringan Anda",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(_t),{"default-value":"active",class:"w-full"},{default:a(()=>[s(e(kt),{class:"grid w-full grid-cols-3"},{default:a(()=>[s(e(re),{value:"active"},{default:a(()=>[s(e(ge),{class:"w-4 h-4 mr-2"}),i(" Aktif ("+r(l.activeMembers.length)+") ",1)]),_:1}),s(e(re),{value:"passive"},{default:a(()=>[s(e(He),{class:"w-4 h-4 mr-2"}),i(" Pasif ("+r(l.passiveMembers.length)+") ",1)]),_:1}),s(e(re),{value:"prospect"},{default:a(()=>[s(e(Ze),{class:"w-4 h-4 mr-2"}),i(" Prospek ("+r(l.prospectMembers.length)+") ",1)]),_:1})]),_:1}),s(e(oe),{value:"active",class:"space-y-4"},{default:a(()=>[l.activeMembers.length===0?(o(),c("div",pi,[s(e(ge),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),h[4]||(h[4]=t("p",null,"Belum ada member aktif",-1)),h[5]||(h[5]=t("p",{class:"text-sm mt-2"},"Member aktif adalah member yang sudah ditempatkan di binary tree",-1))])):k("",!0),(o(!0),c(z,null,te(l.activeMembers,u=>(o(),P(e(F),{key:u.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(O),{class:"p-4"},{default:a(()=>[t("div",fi,[t("div",xi,[t("div",gi,[t("h4",vi,[i(r(u.name)+" ",1),t("span",bi,"(@"+r(u.username)+")",1)]),s(e(V),{variant:C(u.position).variant},{default:a(()=>[i(r(C(u.position).text),1)]),_:2},1032,["variant"]),u.level?(o(),P(e(V),{key:0,variant:"outline"},{default:a(()=>[i(" Level "+r(u.level),1)]),_:2},1024)):k("",!0)]),t("div",yi,[t("p",null,r(u.email),1),u.phone?(o(),c("p",_i,r(u.phone),1)):k("",!0),u.package_name?(o(),c("p",ki," Paket: "+r(u.package_name),1)):k("",!0),(u.total_left??0)>0||(u.total_right??0)>0?(o(),c("p",hi,[t("span",wi,"Kiri: "+r(u.total_left??0),1),h[6]||(h[6]=t("span",{class:"mx-1"},"|",-1)),t("span",$i,"Kanan: "+r(u.total_right??0),1)])):k("",!0),t("p",Pi,"Bergabung: "+r(D(u.joined_at)),1),t("p",Si," Omzet: "+r(v(u.omzet)),1)])]),t("div",Ci,[s(e(V),{variant:"default"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 mr-1"}),h[7]||(h[7]=i(" Aktif ",-1))]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(oe),{value:"passive",class:"space-y-4"},{default:a(()=>[l.passiveMembers.length===0?(o(),c("div",Ri,[s(e(He),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),h[8]||(h[8]=t("p",null,"Belum ada member pasif",-1)),h[9]||(h[9]=t("p",{class:"text-sm mt-2"},"Member pasif adalah member yang belum ditempatkan di binary tree tapi sudah memiliki pembelian/order",-1))])):k("",!0),(o(!0),c(z,null,te(l.passiveMembers,u=>(o(),P(e(F),{key:u.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(O),{class:"p-4"},{default:a(()=>[t("div",Ti,[t("div",Ai,[t("div",Di,[t("h4",Mi,[i(r(u.name)+" ",1),t("span",ji,"(@"+r(u.username)+")",1)]),s(e(V),{variant:"secondary"},{default:a(()=>[...h[10]||(h[10]=[i("Belum Ditempatkan",-1)])]),_:1})]),t("div",Li,[t("p",null,r(u.email),1),u.phone?(o(),c("p",Bi,r(u.phone),1)):k("",!0),u.package_name?(o(),c("p",Ii," Paket: "+r(u.package_name),1)):k("",!0),(u.total_left??0)>0||(u.total_right??0)>0?(o(),c("p",Vi,[t("span",Ei,"Kiri: "+r(u.total_left??0),1),h[11]||(h[11]=t("span",{class:"mx-1"},"|",-1)),t("span",Ui,"Kanan: "+r(u.total_right??0),1)])):k("",!0),t("p",Ki,"Bergabung: "+r(D(u.joined_at)),1),t("p",Ni," Omzet: "+r(v(u.omzet)),1)])]),t("div",Fi,[s(e(V),{variant:"outline"},{default:a(()=>[s(e(He),{class:"w-3 h-3 mr-1"}),h[12]||(h[12]=i(" Pasif ",-1))]),_:1}),s(e(V),{variant:"default"},{default:a(()=>[...h[13]||(h[13]=[i(" Sudah Belanja ",-1)])]),_:1}),!l.hasLeft||!l.hasRight?(o(),P(e(U),{key:0,size:"sm",variant:"default",class:"mt-2",onClick:R=>g(u)},{default:a(()=>[s(e(Ne),{class:"w-3 h-3 mr-1"}),h[14]||(h[14]=i(" Tempatkan ke Binary ",-1))]),_:1},8,["onClick"])):k("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(oe),{value:"prospect",class:"space-y-4"},{default:a(()=>[l.prospectMembers.length===0?(o(),c("div",Oi,[s(e(Ze),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),h[15]||(h[15]=t("p",null,"Belum ada member prospek",-1)),h[16]||(h[16]=t("p",{class:"text-sm mt-2"},"Member prospek adalah member yang baru mendaftar, belum ditempatkan di binary tree dan belum memiliki pembelian/order",-1))])):k("",!0),(o(!0),c(z,null,te(l.prospectMembers,u=>(o(),P(e(F),{key:u.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(O),{class:"p-4"},{default:a(()=>[t("div",zi,[t("div",qi,[t("div",Gi,[t("h4",Qi,[i(r(u.name)+" ",1),t("span",Wi,"(@"+r(u.username)+")",1)]),s(e(V),{variant:"outline"},{default:a(()=>[...h[17]||(h[17]=[i("Baru Bergabung",-1)])]),_:1})]),t("div",Ji,[t("p",null,r(u.email),1),u.phone?(o(),c("p",Hi,r(u.phone),1)):k("",!0),u.package_name?(o(),c("p",Zi," Paket: "+r(u.package_name),1)):k("",!0),(u.total_left??0)>0||(u.total_right??0)>0?(o(),c("p",Yi,[t("span",Xi,"Kiri: "+r(u.total_left??0),1),h[18]||(h[18]=t("span",{class:"mx-1"},"|",-1)),t("span",ed,"Kanan: "+r(u.total_right??0),1)])):k("",!0),t("p",td,"Bergabung: "+r(D(u.joined_at)),1),t("p",sd," Omzet: "+r(v(u.omzet)),1)])]),t("div",ad,[s(e(V),{variant:"secondary"},{default:a(()=>[s(e(Ze),{class:"w-3 h-3 mr-1"}),h[19]||(h[19]=i(" Prospek ",-1))]),_:1}),s(e(V),{variant:"secondary"},{default:a(()=>[...h[20]||(h[20]=[i(" Belum Belanja ",-1)])]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),s(e(Ue),{open:d.value,"onUpdate:open":n},{default:a(()=>[s(e(Be),{class:"sm:max-w-md"},{default:a(()=>[s(e(Ie),null,{default:a(()=>[s(e(Ve),null,{default:a(()=>[...h[21]||(h[21]=[i("Tempatkan Member ke Binary Tree",-1)])]),_:1}),s(e(Ee),null,{default:a(()=>[h[22]||(h[22]=i(" Pilih posisi untuk menempatkan ",-1)),t("span",ld,r(m.value?.name),1),h[23]||(h[23]=i(" di jaringan binary tree Anda. ",-1))]),_:1})]),_:1}),t("div",nd,[t("button",{type:"button",disabled:l.hasLeft,class:Z(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",l.hasLeft?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":f.value==="left"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:h[0]||(h[0]=u=>!l.hasLeft&&(f.value="left"))},[s(e(Ne),{class:"w-8 h-8 mb-2 rotate-90"}),h[24]||(h[24]=t("span",{class:"font-semibold"},"Posisi Kiri",-1)),t("span",od,r(l.hasLeft?"Sudah Terisi":"Left Position"),1)],10,rd),t("button",{type:"button",disabled:l.hasRight,class:Z(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",l.hasRight?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":f.value==="right"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:h[1]||(h[1]=u=>!l.hasRight&&(f.value="right"))},[s(e(Ne),{class:"w-8 h-8 mb-2 -rotate-90"}),h[25]||(h[25]=t("span",{class:"font-semibold"},"Posisi Kanan",-1)),t("span",dd,r(l.hasRight?"Sudah Terisi":"Right Position"),1)],10,id)]),s(e(Ke),null,{default:a(()=>[s(e(U),{variant:"outline",onClick:n,disabled:e(w).processing},{default:a(()=>[...h[26]||(h[26]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{onClick:x,disabled:!f.value||e(w).processing},{default:a(()=>[i(r(e(w).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),md=Y({__name:"GoJSBinaryTree",props:{binaryTree:{},isDialog:{type:Boolean,default:!1}},setup(l,{expose:d}){let m=null;const f=l,w=j(null),g=j(!1);let n=null;const x=(u,R=null)=>{if(!u)return{nodes:[],links:[]};const T=[],y=[],I=(N,Q,E)=>{const W=N.level<5,B={key:N.id,name:N.name,username:N.username,package:N.package_name||"Tidak ada paket",totalLeft:N.total_left||0,totalRight:N.total_right||0,position:E,isActive:N.status,hasLeft:!!N.left,hasRight:!!N.right,level:N.level,order:E==="left"?0:E==="right"?1:0};if(T.push(B),Q!==null&&y.push({from:Q,to:N.id,order:E==="left"?0:1}),!N.left&&N.status&&W){const S=-N.id*2;T.push({key:S,name:"+ Kiri",username:"",package:"",isPlaceholder:!0,parentId:N.id,placeholderPosition:"left",order:0}),y.push({from:N.id,to:S,order:0})}if(!N.right&&N.status&&W){const S=-N.id*2-1;T.push({key:S,name:"+ Kanan",username:"",package:"",isPlaceholder:!0,parentId:N.id,placeholderPosition:"right",order:1}),y.push({from:N.id,to:S,order:1})}N.left&&I(N.left,N.id,"left"),N.right&&I(N.right,N.id,"right")};return I(u,R,null),{nodes:T,links:y}},D=()=>{if(!w.value||!m)return;const u=m,R=u.GraphObject.make;n=R(u.Diagram,w.value,{"undoManager.isEnabled":!1,"animationManager.isEnabled":!0,initialAutoScale:u.AutoScale.Uniform,contentAlignment:u.Spot.Top,layout:R(u.TreeLayout,{angle:90,layerSpacing:50,nodeSpacing:20,arrangement:u.TreeArrangement.Horizontal,sorting:u.TreeSorting.Ascending,comparer:(T,y)=>{const I=T.node?.data?.order??0,N=y.node?.data?.order??0;return I-N}}),maxSelectionCount:1}),n.addDiagramListener("ObjectSingleClicked",T=>{const y=T.subject.part;if(y instanceof u.Node){const I=y.data;I?.isPlaceholder&&I?.parentId&&I?.placeholderPosition?window.dispatchEvent(new CustomEvent("gojs-open-placement",{detail:{uplineId:I.parentId,position:I.placeholderPosition}})):!I?.isPlaceholder&&I?.key&&window.dispatchEvent(new CustomEvent("gojs-member-click",{detail:{memberId:I.key}}))}}),n.nodeTemplate=R(u.Node,"Auto",{cursor:"pointer",selectionAdorned:!1},R(u.Shape,"RoundedRectangle",{fill:"white",stroke:"#e2e8f0",strokeWidth:2,parameter1:8},new u.Binding("fill","",T=>T.isPlaceholder?"#f8fafc":T.isActive?"#ffffff":"#fef3c7"),new u.Binding("stroke","",T=>T.isPlaceholder?"#cbd5e1":T.position==="left"?"#3b82f6":T.position==="right"?"#22c55e":"#6366f1"),new u.Binding("strokeWidth","",T=>T.isPlaceholder?1:2),new u.Binding("strokeDashArray","isPlaceholder",T=>T?[4,4]:null)),R(u.Panel,"Vertical",{margin:8,defaultAlignment:u.Spot.Left},R(u.TextBlock,{font:"bold 13px Inter, sans-serif",stroke:"#1e293b",maxSize:new u.Size(140,NaN),wrap:u.Wrap.Fit,textAlign:"center",alignment:u.Spot.Center},new u.Binding("text","name"),new u.Binding("stroke","isPlaceholder",T=>T?"#64748b":"#1e293b"),new u.Binding("font","isPlaceholder",T=>T?"12px Inter, sans-serif":"bold 13px Inter, sans-serif")),R(u.TextBlock,{font:"11px Inter, sans-serif",stroke:"#64748b",maxSize:new u.Size(140,NaN),wrap:u.Wrap.Fit,margin:new u.Margin(2,0,0,0),alignment:u.Spot.Center},new u.Binding("text","username"),new u.Binding("visible","isPlaceholder",T=>!T)),R(u.Panel,"Auto",{margin:new u.Margin(4,0,0,0),alignment:u.Spot.Center},new u.Binding("visible","isPlaceholder",T=>!T),R(u.Shape,"RoundedRectangle",{fill:"#eff6ff",stroke:"#bfdbfe",strokeWidth:1,parameter1:4}),R(u.TextBlock,{font:"10px Inter, sans-serif",stroke:"#1d4ed8",margin:new u.Margin(2,6,2,6)},new u.Binding("text","package"))),R(u.Panel,"Horizontal",{margin:new u.Margin(6,0,0,0),alignment:u.Spot.Center},new u.Binding("visible","isPlaceholder",T=>!T),R(u.Panel,"Horizontal",R(u.Shape,"Circle",{width:8,height:8,fill:"#3b82f6",stroke:null,margin:new u.Margin(0,4,0,0)}),R(u.TextBlock,{font:"10px Inter, sans-serif",stroke:"#64748b"},new u.Binding("text","totalLeft",T=>`L: ${T}`))),R(u.TextBlock," | ",{font:"10px Inter, sans-serif",stroke:"#cbd5e1"}),R(u.Panel,"Horizontal",R(u.Shape,"Circle",{width:8,height:8,fill:"#22c55e",stroke:null,margin:new u.Margin(0,4,0,0)}),R(u.TextBlock,{font:"10px Inter, sans-serif",stroke:"#64748b"},new u.Binding("text","totalRight",T=>`R: ${T}`)))))),n.linkTemplate=R(u.Link,{routing:u.Routing.Orthogonal,corner:10,selectable:!1},R(u.Shape,{strokeWidth:2,stroke:"#cbd5e1"})),v()},v=()=>{if(!n||!f.binaryTree||!m)return;const u=m,{nodes:R,links:T}=x(f.binaryTree);n.model=new u.GraphLinksModel(R,T),requestAnimationFrame(()=>{n&&n.zoomToFit()})},C=()=>{n&&n.commandHandler.increaseZoom()},b=()=>{n&&n.commandHandler.decreaseZoom()},h=()=>{n&&n.zoomToFit()};return at(async()=>{typeof window<"u"&&(m=await ws(()=>import("./vendor-flWeloHs.js").then(u=>u.e9),__vite__mapDeps([0,1])),g.value=!0,setTimeout(()=>{D()},0))}),wt(()=>{n&&(n.removeDiagramListener("ObjectSingleClicked",()=>{}),n.clear(),n.div=null,n=null)}),d({zoomIn:C,zoomOut:b,resetZoom:h}),(u,R)=>g.value?(o(),c("div",{key:1,ref_key:"diagramDiv",ref:w,class:Z(["w-full border rounded-lg bg-slate-50",l.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},null,2)):(o(),c("div",{key:0,class:Z(["w-full border rounded-lg bg-slate-50 flex items-center justify-center",l.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},[...R[0]||(R[0]=[t("div",{class:"text-center text-muted-foreground"},[t("div",{class:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-2"}),t("p",{class:"text-sm"},"Memuat diagram...")],-1)])],2))}}),pe=l=>({url:pe.url(l),method:"get"});pe.definition={methods:["get","head"],url:"/client/profile"};pe.url=l=>pe.definition.url+fe(l);pe.get=l=>({url:pe.url(l),method:"get"});pe.head=l=>({url:pe.url(l),method:"head"});const Pt=l=>({action:pe.url(l),method:"get"});Pt.get=l=>({action:pe.url(l),method:"get"});Pt.head=l=>({action:pe.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...l?.query??l?.mergeQuery??{}}}),method:"get"});pe.form=Pt;const _e=l=>({url:_e.url(l),method:"patch"});_e.definition={methods:["patch"],url:"/client/profile"};_e.url=l=>_e.definition.url+fe(l);_e.patch=l=>({url:_e.url(l),method:"patch"});const Nt=l=>({action:_e.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});Nt.patch=l=>({action:_e.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});_e.form=Nt;const ke=l=>({url:ke.url(l),method:"patch"});ke.definition={methods:["patch"],url:"/client/profile/password"};ke.url=l=>ke.definition.url+fe(l);ke.patch=l=>({url:ke.url(l),method:"patch"});const Ft=l=>({action:ke.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});Ft.patch=l=>({action:ke.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});ke.form=Ft;const he=l=>({url:he.url(l),method:"delete"});he.definition={methods:["delete"],url:"/client/profile"};he.url=l=>he.definition.url+fe(l);he.delete=l=>({url:he.url(l),method:"delete"});const Ot=l=>({action:he.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...l?.query??l?.mergeQuery??{}}}),method:"post"});Ot.delete=l=>({action:he.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...l?.query??l?.mergeQuery??{}}}),method:"post"});he.form=Ot;const ve=l=>({url:ve.url(l),method:"post"});ve.definition={methods:["post"],url:"/client/profile/place-member"};ve.url=l=>ve.definition.url+fe(l);ve.post=l=>({url:ve.url(l),method:"post"});const zt=l=>({action:ve.url(l),method:"post"});zt.post=l=>({action:ve.url(l),method:"post"});ve.form=zt;const me=(l,d)=>({url:me.url(l,d),method:"get"});me.definition={methods:["get","head"],url:"/client/profile/member-tree/{memberId}"};me.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={memberId:l}),Array.isArray(l)&&(l={memberId:l[0]}),l=lt(l);const m={memberId:l.memberId};return me.definition.url.replace("{memberId}",m.memberId.toString()).replace(/\/+$/,"")+fe(d)};me.get=(l,d)=>({url:me.url(l,d),method:"get"});me.head=(l,d)=>({url:me.url(l,d),method:"head"});const St=(l,d)=>({action:me.url(l,d),method:"get"});St.get=(l,d)=>({action:me.url(l,d),method:"get"});St.head=(l,d)=>({action:me.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...d?.query??d?.mergeQuery??{}}}),method:"get"});me.form=St;const ce=l=>({url:ce.url(l),method:"get"});ce.definition={methods:["get","head"],url:"/client/profile/search-member"};ce.url=l=>ce.definition.url+fe(l);ce.get=l=>({url:ce.url(l),method:"get"});ce.head=l=>({url:ce.url(l),method:"head"});const Ct=l=>({action:ce.url(l),method:"get"});Ct.get=l=>({action:ce.url(l),method:"get"});Ct.head=l=>({action:ce.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...l?.query??l?.mergeQuery??{}}}),method:"get"});ce.form=Ct;const be=l=>({url:be.url(l),method:"post"});be.definition={methods:["post"],url:"/client/profile/claim-lifetime-reward"};be.url=l=>be.definition.url+fe(l);be.post=l=>({url:be.url(l),method:"post"});const qt=l=>({action:be.url(l),method:"post"});qt.post=l=>({action:be.url(l),method:"post"});be.form=qt;const we=l=>({url:we.url(l),method:"post"});we.definition={methods:["post"],url:"/client/profile/addresses"};we.url=l=>we.definition.url+fe(l);we.post=l=>({url:we.url(l),method:"post"});const Gt=l=>({action:we.url(l),method:"post"});Gt.post=l=>({action:we.url(l),method:"post"});we.form=Gt;const $e=(l,d)=>({url:$e.url(l,d),method:"put"});$e.definition={methods:["put"],url:"/client/profile/addresses/{address}"};$e.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=lt(l);const m={address:l.address};return $e.definition.url.replace("{address}",m.address.toString()).replace(/\/+$/,"")+fe(d)};$e.put=(l,d)=>({url:$e.url(l,d),method:"put"});const Qt=(l,d)=>({action:$e.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...d?.query??d?.mergeQuery??{}}}),method:"post"});Qt.put=(l,d)=>({action:$e.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...d?.query??d?.mergeQuery??{}}}),method:"post"});$e.form=Qt;const Pe=(l,d)=>({url:Pe.url(l,d),method:"delete"});Pe.definition={methods:["delete"],url:"/client/profile/addresses/{address}"};Pe.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=lt(l);const m={address:l.address};return Pe.definition.url.replace("{address}",m.address.toString()).replace(/\/+$/,"")+fe(d)};Pe.delete=(l,d)=>({url:Pe.url(l,d),method:"delete"});const Wt=(l,d)=>({action:Pe.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...d?.query??d?.mergeQuery??{}}}),method:"post"});Wt.delete=(l,d)=>({action:Pe.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...d?.query??d?.mergeQuery??{}}}),method:"post"});Pe.form=Wt;const Se=(l,d)=>({url:Se.url(l,d),method:"post"});Se.definition={methods:["post"],url:"/client/profile/addresses/{address}/set-default"};Se.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=lt(l);const m={address:l.address};return Se.definition.url.replace("{address}",m.address.toString()).replace(/\/+$/,"")+fe(d)};Se.post=(l,d)=>({url:Se.url(l,d),method:"post"});const Jt=(l,d)=>({action:Se.url(l,d),method:"post"});Jt.post=(l,d)=>({action:Se.url(l,d),method:"post"});Se.form=Jt;const cd={class:"space-y-4 sm:space-y-6"},pd={class:"grid grid-cols-3 gap-2 sm:gap-4"},fd={class:"text-lg sm:text-2xl font-bold"},xd={class:"text-lg sm:text-2xl font-bold text-blue-600"},gd={class:"text-lg sm:text-2xl font-bold text-green-600"},vd={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},bd={class:"flex items-center gap-2"},yd={class:"flex items-center gap-1 sm:gap-2"},_d={class:"relative"},kd={class:"relative"},hd={key:0,class:"absolute top-full right-0 mt-1 w-64 sm:w-72 bg-background border rounded-lg shadow-lg z-20 max-h-64 overflow-y-auto"},wd={key:0,class:"p-3 text-center text-sm text-muted-foreground"},$d=["onMousedown"],Pd={class:"text-sm font-medium truncate"},Sd={class:"text-xs text-muted-foreground truncate"},Cd={key:0,class:"text-xs text-primary"},Rd={class:"relative"},Td={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg"},Ad={class:"text-center"},Dd={key:2,class:"h-[400px] flex items-center justify-center text-muted-foreground"},Md={class:"text-center"},jd={class:"font-semibold"},Ld={class:"flex-1 overflow-y-auto py-2 sm:py-4"},Bd={class:"relative mb-3 sm:mb-4"},Id={key:0,class:"text-center py-8 sm:py-12 text-muted-foreground"},Vd={class:"text-sm sm:text-base"},Ed={key:1,class:"text-center py-8 sm:py-12 text-muted-foreground"},Ud={key:2,class:"space-y-2"},Kd=["onClick"],Nd={class:"flex items-start justify-between gap-2"},Fd={class:"flex-1 min-w-0"},Od={class:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1"},zd={class:"font-semibold text-sm sm:text-base truncate"},qd={class:"space-y-0.5 text-xs sm:text-sm text-muted-foreground"},Gd={class:"truncate"},Qd={key:0,class:"truncate"},Wd={class:"text-[10px] sm:text-xs"},Jd={key:0,class:"flex-shrink-0"},Hd=Y({__name:"BinaryTreeTab",props:{binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},passiveMembers:{}},setup(l){const d=l,m=j(null),f=j(!1),w=j(null),g=j(null),n=j(null),x=j(""),D=j(""),v=j([]),C=j(!1),b=j(!1),h=j(!1),u=j(!1),R=j(null),T=j(null),y=j({totalDownlines:0,totalLeft:0,totalRight:0}),I=K(()=>h.value?T.value:d.binaryTree),N=K(()=>h.value?y.value:{totalDownlines:d.totalDownlines,totalLeft:d.totalLeft,totalRight:d.totalRight}),Q=j(0),E=K(()=>`tree-${Q.value}`),W=K(()=>{if(!x.value.trim())return d.passiveMembers;const X=x.value.toLowerCase().trim();return d.passiveMembers.filter(L=>{const ee=L.name?.toLowerCase().includes(X),rt=L.email?.toLowerCase().includes(X),as=L.phone?.toLowerCase().includes(X);return ee||rt||as})}),B=Ce({member_id:0,upline_id:null,position:""}),S=(X,L)=>{w.value=X,g.value=L,n.value=null,x.value="",f.value=!0},$=()=>{f.value=!1,w.value=null,g.value=null,n.value=null,x.value=""},p=X=>{n.value=X},_=()=>{if(!n.value||!g.value){M.error("Pilih member terlebih dahulu");return}B.member_id=n.value.id,B.upline_id=w.value,B.position=g.value,xe.post(ve().url,{member_id:B.member_id,upline_id:B.upline_id,position:B.position},{preserveScroll:!0,onStart:()=>{B.processing=!0},onFinish:()=>{B.processing=!1},onSuccess:()=>{M.success(`${n.value?.name} berhasil ditempatkan di posisi ${g.value}`),$()},onError:X=>{const L=X.error||"Gagal menempatkan member ke binary tree";M.error(L)}})},A=X=>new Date(X).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),Rt=async X=>{u.value=!0,h.value=!0;try{const L=await de.get(me(X).url);L.data.success?(R.value=L.data.data.member,T.value=L.data.data.tree,y.value={totalDownlines:L.data.data.totalDownlines,totalLeft:L.data.data.totalLeft,totalRight:L.data.data.totalRight},Q.value++):(M.error("Gagal memuat data jaringan member"),Ge())}catch(L){M.error(L.response?.data?.message||"Gagal memuat data jaringan member"),Ge()}finally{u.value=!1}},Ge=()=>{h.value=!1,R.value=null,T.value=null,y.value={totalDownlines:0,totalLeft:0,totalRight:0},D.value="",v.value=[],b.value=!1};let nt=null;const Ht=async()=>{const X=D.value.trim();if(X.length<2){v.value=[],b.value=!1;return}nt&&clearTimeout(nt),nt=setTimeout(async()=>{C.value=!0,b.value=!0;try{const L=await de.get(ce({query:{query:X}}).url);L.data.success?v.value=L.data.data:v.value=[]}catch{v.value=[]}finally{C.value=!1}},300)},Zt=X=>{D.value="",v.value=[],b.value=!1,Rt(X.id)},Yt=()=>{setTimeout(()=>{Xt()},200)},Xt=()=>{b.value=!1},es=()=>{m.value?.zoomIn()},ts=()=>{m.value?.zoomOut()},ss=()=>{m.value?.resetZoom()},Tt=X=>{Rt(X.detail.memberId)},At=X=>{S(X.detail.uplineId,X.detail.position)};return at(()=>{window.addEventListener("gojs-member-click",Tt),window.addEventListener("gojs-open-placement",At)}),wt(()=>{window.removeEventListener("gojs-member-click",Tt),window.removeEventListener("gojs-open-placement",At)}),(X,L)=>(o(),c(z,null,[t("div",cd,[t("div",pd,[s(e(F),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...L[2]||(L[2]=[i("Total Jaringan",-1)])]),_:1}),s(e(xt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"})]),_:1}),s(e(O),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",fd,r(N.value.totalDownlines),1),L[3]||(L[3]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member aktif di jaringan Anda",-1))]),_:1})]),_:1}),s(e(F),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...L[4]||(L[4]=[i("Kaki Kiri",-1)])]),_:1}),s(e(jt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"})]),_:1}),s(e(O),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",xd,r(N.value.totalLeft),1),L[5]||(L[5]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kiri",-1))]),_:1})]),_:1}),s(e(F),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...L[6]||(L[6]=[i("Kaki Kanan",-1)])]),_:1}),s(e(jt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"})]),_:1}),s(e(O),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",gd,r(N.value.totalRight),1),L[7]||(L[7]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kanan",-1))]),_:1})]),_:1})]),s(e(F),null,{default:a(()=>[s(e(J),{class:"p-3 sm:p-6"},{default:a(()=>[t("div",vd,[t("div",bd,[h.value?(o(),P(e(U),{key:0,variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:Ge},{default:a(()=>[s(e(Lt),{class:"h-4 w-4"})]),_:1})):k("",!0),t("div",null,[s(e(H),{class:"text-sm sm:text-base flex items-center gap-2"},{default:a(()=>[h.value&&R.value?(o(),c(z,{key:0},[i(" Jaringan "+r(R.value.name),1)],64)):(o(),c(z,{key:1},[i(" Struktur Binary Tree ")],64))]),_:1}),s(e(ue),{class:"text-xs sm:text-sm"},{default:a(()=>[h.value&&R.value?(o(),c(z,{key:0},[i(r(R.value.username),1)],64)):(o(),c(z,{key:1},[i(" Visualisasi jaringan MLM binary tree Anda ")],64))]),_:1})])]),t("div",yd,[t("div",_d,[t("div",kd,[s(e(Qe),{class:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s(e(se),{modelValue:D.value,"onUpdate:modelValue":L[0]||(L[0]=ee=>D.value=ee),type:"text",placeholder:"Cari member...",class:"h-7 sm:h-8 w-28 sm:w-40 pl-8 text-xs sm:text-sm",onInput:Ht,onBlur:Yt},null,8,["modelValue"]),C.value?(o(),P(e(Ae),{key:0,class:"absolute right-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 animate-spin text-muted-foreground"})):k("",!0)]),b.value&&(v.value.length>0||D.value.length>=2)?(o(),c("div",hd,[v.value.length===0?(o(),c("div",wd,[s(e(Qe),{class:"w-5 h-5 mx-auto mb-2 opacity-20"}),L[8]||(L[8]=t("p",null,"Tidak ditemukan",-1))])):k("",!0),(o(!0),c(z,null,te(v.value,ee=>(o(),c("button",{key:ee.id,type:"button",class:"w-full p-2.5 text-left hover:bg-muted/50 border-b last:border-b-0 transition-colors",onMousedown:qe(rt=>Zt(ee),["prevent"])},[t("p",Pd,r(ee.name),1),t("p",Sd,r(ee.email),1),ee.package_name?(o(),c("p",Cd,r(ee.package_name),1)):k("",!0)],40,$d))),128))])):k("",!0)]),h.value?(o(),P(e(U),{key:0,variant:"outline",size:"sm",class:"h-7 sm:h-8 text-xs",onClick:Ge},{default:a(()=>[s(e(Lt),{class:"h-3.5 w-3.5 mr-1"}),L[9]||(L[9]=t("span",{class:"hidden sm:inline"},"Kembali",-1))]),_:1})):k("",!0),s(e(U),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:ts},{default:a(()=>[s(e($s),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(U),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:es},{default:a(()=>[s(e(Ps),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(U),{variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:ss,title:"Fit to Screen"},{default:a(()=>[s(e(Ss),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1})])])]),_:1}),s(e(O),{class:"p-2 sm:p-6 pt-0"},{default:a(()=>[t("div",Rd,[u.value?(o(),c("div",Td,[t("div",Ad,[s(e(Ae),{class:"w-8 h-8 mx-auto mb-4 animate-spin text-primary"}),L[10]||(L[10]=t("p",{class:"text-sm text-muted-foreground"},"Memuat data jaringan...",-1))])])):k("",!0),I.value?(o(),P(md,{key:E.value,ref_key:"goJSTreeRef",ref:m,"binary-tree":I.value,"is-dialog":h.value},null,8,["binary-tree","is-dialog"])):(o(),c("div",Dd,[t("div",Md,[s(e(xt),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),L[11]||(L[11]=t("p",null,"Belum ada jaringan binary tree",-1))])]))]),L[12]||(L[12]=t("div",{class:"mt-4 sm:mt-6 p-2 sm:p-4 rounded-lg bg-muted/50"},[t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-center sm:text-left"},[t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[i("  "),t("span",{class:"hidden sm:inline"},'Klik member untuk melihat jaringannya  Klik "+" untuk menambah member'),t("span",{class:"sm:hidden"},"Klik member untuk lihat jaringan")]),t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[t("span",{class:"hidden sm:inline"},"Scroll/drag untuk navigasi  Mouse wheel untuk zoom"),t("span",{class:"sm:hidden"},"Drag & Pinch untuk navigasi")])])],-1))]),_:1})]),_:1})]),s(e(Ue),{open:f.value,"onUpdate:open":$},{default:a(()=>[s(e(Be),{class:"w-[95vw] max-w-2xl max-h-[85vh] overflow-hidden flex flex-col p-4 sm:p-6"},{default:a(()=>[s(e(Ie),{class:"space-y-1 sm:space-y-2"},{default:a(()=>[s(e(Ve),{class:"text-base sm:text-lg"},{default:a(()=>[...L[13]||(L[13]=[i("Pilih Member untuk Ditempatkan",-1)])]),_:1}),s(e(Ee),{class:"text-xs sm:text-sm"},{default:a(()=>[L[14]||(L[14]=i(" Pilih member pasif untuk ditempatkan di posisi ",-1)),t("span",jd,r(g.value==="left"?"Kiri":"Kanan"),1)]),_:1})]),_:1}),t("div",Ld,[t("div",Bd,[s(e(Qe),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s(e(se),{modelValue:x.value,"onUpdate:modelValue":L[1]||(L[1]=ee=>x.value=ee),type:"text",placeholder:"Cari nama, email, atau telepon...",class:"pl-9 text-sm"},null,8,["modelValue"])]),W.value.length===0&&x.value?(o(),c("div",Id,[s(e(Qe),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),t("p",Vd,'Tidak ditemukan member dengan "'+r(x.value)+'"',1),L[15]||(L[15]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Coba kata kunci lain",-1))])):l.passiveMembers.length===0?(o(),c("div",Ed,[s(e(Ze),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),L[16]||(L[16]=t("p",{class:"text-sm sm:text-base"},"Tidak ada member pasif",-1)),L[17]||(L[17]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Semua member sudah ditempatkan",-1))])):(o(),c("div",Ud,[(o(!0),c(z,null,te(W.value,ee=>(o(),c("button",{key:ee.id,type:"button",class:Z(["w-full p-3 sm:p-4 rounded-lg border-2 text-left transition-all",n.value?.id===ee.id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"]),onClick:rt=>p(ee)},[t("div",Nd,[t("div",Fd,[t("div",Od,[t("h4",zd,r(ee.name),1),ee.has_purchase?(o(),P(e(V),{key:0,variant:"default",class:"text-[10px] sm:text-xs"},{default:a(()=>[...L[18]||(L[18]=[t("span",{class:"hidden sm:inline"},"Ada Pembelian",-1),t("span",{class:"sm:hidden"},"Beli",-1)])]),_:1})):(o(),P(e(V),{key:1,variant:"secondary",class:"text-[10px] sm:text-xs"},{default:a(()=>[...L[19]||(L[19]=[t("span",{class:"hidden sm:inline"},"Belum Belanja",-1),t("span",{class:"sm:hidden"},"Belum",-1)])]),_:1}))]),t("div",qd,[t("p",Gd,r(ee.email),1),ee.phone?(o(),c("p",Qd,r(ee.phone),1)):k("",!0),t("p",Wd,"Bergabung: "+r(A(ee.joined_at)),1)])]),n.value?.id===ee.id?(o(),c("div",Jd,[...L[20]||(L[20]=[t("div",{class:"flex h-5 w-5 sm:h-6 sm:w-6 items-center justify-center rounded-full bg-primary text-primary-foreground"},[t("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):k("",!0)])],10,Kd))),128))]))]),s(e(Ke),{class:"flex-col-reverse sm:flex-row gap-2 sm:gap-0"},{default:a(()=>[s(e(U),{variant:"outline",onClick:$,disabled:e(B).processing,class:"w-full sm:w-auto"},{default:a(()=>[...L[21]||(L[21]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{onClick:_,disabled:!n.value||e(B).processing,class:"w-full sm:w-auto"},{default:a(()=>[i(r(e(B).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Zd={class:"space-y-4 sm:space-y-6"},Yd={class:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},Xd={class:"text-xl sm:text-2xl font-bold truncate"},eu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},tu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},su={class:"text-xl sm:text-2xl font-bold truncate"},au={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},lu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},nu={class:"text-xl sm:text-2xl font-bold truncate"},ru={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ou={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},iu={class:"text-xl sm:text-2xl font-bold truncate"},du={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},uu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},mu={class:"text-xl sm:text-2xl font-bold truncate"},cu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},pu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},fu={class:"text-xl sm:text-2xl font-bold truncate"},xu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},gu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},vu={class:"text-xl sm:text-2xl font-bold truncate"},bu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},yu={class:"grid grid-cols-2 gap-1 sm:flex sm:flex-row sm:gap-2 mt-2"},_u={class:"text-xl sm:text-2xl font-bold text-primary truncate"},ku={class:"w-full text-center overflow-x-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] -mx-2 px-2 sm:mx-0 sm:px-0",style:{"-webkit-overflow-scrolling":"touch"}},hu={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},wu={key:1,class:"space-y-1.5 sm:space-y-3"},$u={class:"flex-1 min-w-0"},Pu={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Su={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Cu={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Ru={key:0,class:"block sm:inline"},Tu={class:"block sm:inline sm:ml-1"},Au={class:"text-left sm:text-right flex-shrink-0"},Du={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Mu={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},ju={key:1,class:"space-y-1.5 sm:space-y-3"},Lu={class:"flex-1 min-w-0"},Bu={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Iu={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Vu={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Eu={key:0,class:"block sm:inline"},Uu={class:"block sm:inline sm:ml-2"},Ku={class:"text-left sm:text-right flex-shrink-0"},Nu={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Fu={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Ou={key:1,class:"space-y-3"},zu={class:"flex-1 min-w-0"},qu={class:"flex flex-wrap items-center gap-2"},Gu={class:"text-xs sm:text-sm font-medium break-words"},Qu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Wu={class:"text-left sm:text-right flex-shrink-0"},Ju={class:"text-base sm:text-lg font-bold text-green-600"},Hu={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Zu={key:1,class:"space-y-1.5 sm:space-y-3"},Yu={class:"flex-1 min-w-0"},Xu={class:"flex flex-wrap items-center gap-1 sm:gap-2"},em={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},tm={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},sm={key:0,class:"block sm:inline"},am={class:"block sm:inline sm:ml-1"},lm={class:"text-left sm:text-right flex-shrink-0"},nm={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},rm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},om={key:1,class:"space-y-1.5 sm:space-y-3"},im={class:"flex-1 min-w-0"},dm={class:"flex flex-wrap items-center gap-1 sm:gap-2"},um={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},mm={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},cm={class:"text-left sm:text-right flex-shrink-0"},pm={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},fm={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},xm={key:1,class:"space-y-1.5 sm:space-y-3"},gm={class:"flex-1 min-w-0"},vm={class:"flex flex-wrap items-center gap-1 sm:gap-2"},bm={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},ym={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},_m={key:0,class:"block sm:inline"},km={class:"block sm:inline sm:ml-1"},hm={class:"text-left sm:text-right flex-shrink-0"},wm={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},$m={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Pm={key:1,class:"space-y-1.5 sm:space-y-3"},Sm={class:"flex-1 min-w-0"},Cm={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Rm={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Tm={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Am={class:"block sm:inline"},Dm={class:"block sm:inline sm:ml-1"},Mm={class:"text-left sm:text-right flex-shrink-0"},jm={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Lm=Y({__name:"BonusTab",props:{bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{}},setup(l){const d=l,m=p=>new Date(p).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),f=K(()=>d.bonusSponsors.reduce((p,_)=>p+ae(_.amount),0)),w=K(()=>d.bonusMatchings.reduce((p,_)=>p+ae(_.amount),0)),g=K(()=>d.bonusPairings.reduce((p,_)=>p+ae(_.amount),0)),n=K(()=>d.bonusCashbacks.reduce((p,_)=>p+ae(_.amount),0)),x=K(()=>d.bonusRewards.reduce((p,_)=>p+ae(_.amount),0)),D=K(()=>d.bonusSponsors.filter(p=>p.status===0).reduce((p,_)=>p+ae(_.amount),0)),v=K(()=>d.bonusSponsors.filter(p=>p.status===1).reduce((p,_)=>p+ae(_.amount),0)),C=K(()=>d.bonusMatchings.filter(p=>p.status===0).reduce((p,_)=>p+ae(_.amount),0)),b=K(()=>d.bonusMatchings.filter(p=>p.status===1).reduce((p,_)=>p+ae(_.amount),0)),h=K(()=>d.bonusPairings.filter(p=>p.status===0).reduce((p,_)=>p+ae(_.amount),0)),u=K(()=>d.bonusPairings.filter(p=>p.status===1).reduce((p,_)=>p+ae(_.amount),0)),R=K(()=>d.bonusCashbacks.filter(p=>p.status===0).reduce((p,_)=>p+ae(_.amount),0)),T=K(()=>d.bonusCashbacks.filter(p=>p.status===1).reduce((p,_)=>p+ae(_.amount),0)),y=K(()=>d.bonusRewards.filter(p=>p.status===0).reduce((p,_)=>p+ae(_.amount),0)),I=K(()=>d.bonusRewards.filter(p=>p.status===1).reduce((p,_)=>p+ae(_.amount),0)),N=K(()=>d.bonusRetails.reduce((p,_)=>p+ae(_.amount),0)),Q=K(()=>d.bonusRetails.filter(p=>p.status===0).reduce((p,_)=>p+ae(_.amount),0)),E=K(()=>d.bonusRetails.filter(p=>p.status===1).reduce((p,_)=>p+ae(_.amount),0)),W=K(()=>d.bonusLifetimeCashRewards.reduce((p,_)=>p+ae(_.amount),0)),B=K(()=>d.bonusLifetimeCashRewards.filter(p=>p.status===0).reduce((p,_)=>p+ae(_.amount),0)),S=K(()=>d.bonusLifetimeCashRewards.filter(p=>p.status===1).reduce((p,_)=>p+ae(_.amount),0)),$=K(()=>f.value+w.value+g.value+n.value+x.value+N.value+W.value);return(p,_)=>(o(),c("div",Zd,[t("div",Yd,[s(e(F),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(xt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),_[0]||(_[0]=t("span",{class:"truncate"},"Referral Incentive",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",Xd,r(e(q)(f.value)),1),t("p",eu,r(l.bonusSponsors.length)+" transaksi ",1),t("div",tu,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(D.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(v.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Cs),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"}),_[1]||(_[1]=t("span",{class:"truncate"},"Team Affiliate Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",su,r(e(q)(w.value)),1),t("p",au,r(l.bonusMatchings.length)+" transaksi ",1),t("div",lu,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(C.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(b.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Rs),{class:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),_[2]||(_[2]=t("span",{class:"truncate"},"Partner Team Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",nu,r(e(q)(g.value)),1),t("p",ru,r(l.bonusPairings.length)+" transaksi ",1),t("div",ou,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(h.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(u.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ts),{class:"h-3 w-3 sm:h-4 sm:w-4 text-orange-500 flex-shrink-0"}),_[3]||(_[3]=t("span",{class:"truncate"},"Cashback Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",iu,r(e(q)(n.value)),1),t("p",du,r(l.bonusCashbacks.length)+" transaksi ",1),t("div",uu,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(R.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(T.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ze),{class:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 flex-shrink-0"}),_[4]||(_[4]=t("span",{class:"truncate"},"Promotions Rewards",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",mu,r(e(q)(x.value)),1),t("p",cu,r(l.bonusRewards.length)+" transaksi ",1),t("div",pu,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(y.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(I.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(As),{class:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-500 flex-shrink-0"}),_[5]||(_[5]=t("span",{class:"truncate"},"Retail Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",fu,r(e(q)(N.value)),1),t("p",xu,r(l.bonusRetails.length)+" transaksi ",1),t("div",gu,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(Q.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(E.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e($t),{class:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"}),_[6]||(_[6]=t("span",{class:"truncate"},"Lifetime Cash Rewards",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",vu,r(e(q)(W.value)),1),t("p",bu,r(l.bonusLifetimeCashRewards.length)+" transaksi ",1),t("div",yu,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" P: "+r(e(q)(B.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center truncate"},{default:a(()=>[i(" R: "+r(e(q)(S.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ye),{class:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"}),_[7]||(_[7]=t("span",{class:"truncate"},"Total Bonus",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",_u,r(e(q)($.value)),1),_[8]||(_[8]=t("p",{class:"text-[10px] sm:text-xs text-muted-foreground mt-1"}," Semua jenis bonus ",-1))]),_:1})]),_:1})]),s(e(F),null,{default:a(()=>[s(e(J),{class:"p-2 sm:p-4 md:p-6 pb-2"},{default:a(()=>[s(e(H),{class:"text-xs sm:text-base md:text-lg"},{default:a(()=>[..._[9]||(_[9]=[i("Riwayat Bonus",-1)])]),_:1}),s(e(ue),{class:"text-[9px] sm:text-xs md:text-sm"},{default:a(()=>[..._[10]||(_[10]=[i(" Detail transaksi bonus ",-1)])]),_:1})]),_:1}),s(e(O),{class:"p-2 sm:p-4 md:p-6 pt-0"},{default:a(()=>[s(e(_t),{"default-value":"sponsor",class:"w-full"},{default:a(()=>[t("div",ku,[s(e(kt),{class:"flex w-max sm:grid sm:w-full sm:grid-cols-7 gap-0.5 sm:gap-1 h-7 sm:h-auto bg-muted/30"},{default:a(()=>[s(e(re),{value:"sponsor",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[..._[11]||(_[11]=[i(" Referral ",-1)])]),_:1}),s(e(re),{value:"matching",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[..._[12]||(_[12]=[i(" Team Aff. ",-1)])]),_:1}),s(e(re),{value:"pairing",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[..._[13]||(_[13]=[i(" Partner ",-1)])]),_:1}),s(e(re),{value:"cashback",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[..._[14]||(_[14]=[i(" Cashback ",-1)])]),_:1}),s(e(re),{value:"reward",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[..._[15]||(_[15]=[i(" Rewards ",-1)])]),_:1}),s(e(re),{value:"retail",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[..._[16]||(_[16]=[i(" Retail ",-1)])]),_:1}),s(e(re),{value:"lifetime",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[..._[17]||(_[17]=[i(" Lifetime ",-1)])]),_:1})]),_:1})]),s(e(oe),{value:"sponsor",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusSponsors.length===0?(o(),c("div",hu," Belum ada bonus referral incentive ")):(o(),c("div",wu,[(o(!0),c(z,null,te(l.bonusSponsors,A=>(o(),c("div",{key:A.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",$u,[t("div",Pu,[s(e(V),{variant:A.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r(A.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",Su,r(A.description||"Bonus Sponsor"),1)]),t("p",Cu,[A.from_member?(o(),c("span",Ru," Dari: "+r(A.from_member.name),1)):k("",!0),t("span",Tu,r(m(A.created_at)),1)])]),t("div",Au,[t("div",Du,r(e(q)(A.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",A.status===1?"text-green-600":"text-yellow-600"])},r(A.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(oe),{value:"matching",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusMatchings.length===0?(o(),c("div",Mu," Belum ada bonus team affiliate commission ")):(o(),c("div",ju,[(o(!0),c(z,null,te(l.bonusMatchings,A=>(o(),c("div",{key:A.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Lu,[t("div",Bu,[s(e(V),{variant:A.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r(A.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(V),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(" L"+r(A.level),1)]),_:2},1024),t("span",Iu,r(A.description||"Bonus Matching"),1)]),t("p",Vu,[A.from_member?(o(),c("span",Eu," Dari: "+r(A.from_member.name),1)):k("",!0),t("span",Uu,r(m(A.created_at)),1)])]),t("div",Ku,[t("div",Nu,r(e(q)(A.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",A.status===1?"text-green-600":"text-yellow-600"])},r(A.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(oe),{value:"pairing",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusPairings.length===0?(o(),c("div",Fu," Belum ada bonus partner team commission ")):(o(),c("div",Ou,[(o(!0),c(z,null,te(l.bonusPairings,A=>(o(),c("div",{key:A.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",zu,[t("div",qu,[s(e(V),{variant:A.status===1?"secondary":"outline",class:"text-xs"},{default:a(()=>[i(r(A.status===1?"Released":"Pending"),1)]),_:2},1032,["variant"]),s(e(V),{variant:"outline",class:"text-xs"},{default:a(()=>[i(r(A.pair)+" Pairs ",1)]),_:2},1024),t("span",Gu,r(A.description||"Bonus Pairing"),1)]),t("p",Qu,r(m(A.created_at)),1)]),t("div",Wu,[t("div",Ju,r(e(q)(A.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",A.status===1?"text-green-600":"text-yellow-600"])},r(A.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(oe),{value:"cashback",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusCashbacks.length===0?(o(),c("div",Hu," Belum ada bonus cashback commission ")):(o(),c("div",Zu,[(o(!0),c(z,null,te(l.bonusCashbacks,A=>(o(),c("div",{key:A.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Yu,[t("div",Xu,[s(e(V),{variant:A.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r(A.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",em,r(A.description||"Bonus Cashback"),1)]),t("p",tm,[_[18]||(_[18]=i('eground mt-0.5"> ',-1)),A.order_id?(o(),c("span",sm," #"+r(A.order_id),1)):k("",!0),t("span",am,r(m(A.created_at)),1)])]),t("div",lm,[t("div",nm,r(e(q)(A.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",A.status===1?"text-green-600":"text-yellow-600"])},r(A.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(oe),{value:"reward",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRewards.length===0?(o(),c("div",rm," Belum ada promotions rewards ")):(o(),c("div",om,[(o(!0),c(z,null,te(l.bonusRewards,A=>(o(),c("div",{key:A.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",im,[t("div",dm,[s(e(V),{variant:A.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r(A.status===1?"R":"P"),1)]),_:2},1032,["variant"]),A.reward_type?(o(),P(e(V),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r(A.reward_type),1)]),_:2},1024)):k("",!0),t("span",um,r(A.description||"Promotions Reward"),1)]),t("p",mm,r(m(A.created_at)),1)]),t("div",cm,[t("div",pm,r(e(q)(A.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",A.status===1?"text-green-600":"text-yellow-600"])},r(A.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(oe),{value:"retail",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRetails.length===0?(o(),c("div",fm," Belum ada bonus retail commission ")):(o(),c("div",xm,[(o(!0),c(z,null,te(l.bonusRetails,A=>(o(),c("div",{key:A.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",gm,[t("div",vm,[s(e(V),{variant:A.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r(A.status===1?"R":"P"),1)]),_:2},1032,["variant"]),A.index_value?(o(),P(e(V),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(" IDX: "+r(A.index_value),1)]),_:2},1024)):k("",!0),t("span",bm,r(A.description||"Retail Commission"),1)]),t("p",ym,[A.from_member?(o(),c("span",_m," Dari: "+r(A.from_member.name),1)):k("",!0),t("span",km,r(m(A.created_at)),1)])]),t("div",hm,[t("div",wm,r(e(q)(A.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",A.status===1?"text-green-600":"text-yellow-600"])},r(A.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(oe),{value:"lifetime",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusLifetimeCashRewards.length===0?(o(),c("div",$m," Belum ada lifetime cash rewards ")):(o(),c("div",Pm,[(o(!0),c(z,null,te(l.bonusLifetimeCashRewards,A=>(o(),c("div",{key:A.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Sm,[t("div",Cm,[s(e(V),{variant:A.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r(A.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(V),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(r(A.reward_name),1)]),_:2},1024),t("span",Rm,r(A.description||"Lifetime Cash Reward"),1)]),t("p",Tm,[t("span",Am," Reward: "+r(e(q)(A.reward))+" | BV: "+r(A.bv),1),t("span",Dm,r(m(A.created_at)),1)])]),t("div",Mm,[t("div",jm,r(e(q)(A.amount)),1),t("div",{class:Z(["text-[8px] sm:text-xs",A.status===1?"text-green-600":"text-yellow-600"])},r(A.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Bm={class:"flex items-center justify-between"},Im={class:"font-semibold"},Vm={class:"flex items-center justify-between"},Em={class:"font-semibold"},Um={class:"flex items-center justify-between"},Km={class:"flex items-center justify-between"},Nm={class:"font-semibold text-blue-600 dark:text-blue-400"},Fm={class:"flex items-center justify-between"},Om={class:"font-semibold text-green-600 dark:text-green-400"},zm={class:"flex items-center justify-between"},qm={class:"font-semibold text-blue-600 dark:text-blue-400"},Gm={class:"flex items-center justify-between"},Qm={class:"font-semibold text-green-600 dark:text-green-400"},Wm=Y({__name:"NetworkStatsCard",props:{customer:{}},setup(l){const d=m=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(m);return(m,f)=>(o(),P(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(H),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Ut),{class:"w-5 h-5"}),f[0]||(f[0]=i(" Statistik Jaringan ",-1))]),_:1})]),_:1}),s(e(O),{class:"space-y-3"},{default:a(()=>[t("div",Bm,[f[1]||(f[1]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kiri",-1)),t("span",Im,r(l.customer.network_stats.left_count),1)]),s(e(ie)),t("div",Vm,[f[2]||(f[2]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kanan",-1)),t("span",Em,r(l.customer.network_stats.right_count),1)]),s(e(ie)),t("div",Um,[f[3]||(f[3]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Downline",-1)),s(e(V),{variant:"secondary"},{default:a(()=>[i(r(l.customer.network_stats.total_downlines),1)]),_:1})]),s(e(ie)),t("div",Km,[f[4]||(f[4]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Network Builder Kiri",-1)),t("span",Nm,r(d(l.customer.network_stats.omzet_group_left_plana)),1)]),s(e(ie)),t("div",Fm,[f[5]||(f[5]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Network Builder Kanan",-1)),t("span",Om,r(d(l.customer.network_stats.omzet_group_right_plana)),1)]),s(e(ie)),t("div",zm,[f[6]||(f[6]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Retail Kiri",-1)),t("span",qm,r(d(l.customer.network_stats.omzet_group_left_planb)),1)]),s(e(ie)),t("div",Gm,[f[7]||(f[7]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Retail Kanan",-1)),t("span",Qm,r(d(l.customer.network_stats.omzet_group_right_planb)),1)])]),_:1})]),_:1}))}}),Jm={class:"space-y-6"},Hm={class:"flex items-center gap-3"},Zm={class:"p-2 rounded-lg bg-amber-500/10"},Ym={key:0,class:"text-center py-8"},Xm={key:1,class:"overflow-x-auto"},ec={class:"flex items-center gap-2"},tc={class:"flex items-center gap-3"},sc={class:"p-2 rounded-lg bg-green-500/10"},ac={key:0,class:"text-center py-8"},lc={key:1,class:"overflow-x-auto"},nc={class:"flex items-center gap-2"},rc=Y({__name:"PromotionsRewardsTab",props:{promotionRewards:{},claimedPromotionRewards:{}},setup(l){const d=g=>new Intl.NumberFormat("id-ID").format(g),m=g=>new Date(g).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),f=g=>g===null||g===0?"Belum Tercapai":"Diproses",w=g=>g===null||g===0?"secondary":"default";return(g,n)=>(o(),c("div",Jm,[s(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",Hm,[t("div",Zm,[s(e(ze),{class:"h-5 w-5 text-amber-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...n[0]||(n[0]=[i("Promotion Rewards",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...n[1]||(n[1]=[i(" Daftar reward promosi yang sedang berlangsung ",-1)])]),_:1})])])]),_:1}),s(e(O),null,{default:a(()=>[l.promotionRewards.length===0?(o(),c("div",Ym,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n[2]||(n[2]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Promosi",-1)),n[3]||(n[3]=t("p",{class:"text-muted-foreground text-sm"}," Tidak ada program reward promosi yang sedang aktif saat ini. ",-1))])):(o(),c("div",Xm,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(le),{class:"min-w-[150px]"},{default:a(()=>[...n[4]||(n[4]=[i("Nama",-1)])]),_:1}),s(e(le),{class:"min-w-[150px]"},{default:a(()=>[...n[5]||(n[5]=[i("Reward",-1)])]),_:1}),s(e(le),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[6]||(n[6]=[i("Syarat Omset Grup Kiri & Kanan (BV)",-1)])]),_:1}),s(e(le),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[7]||(n[7]=[i("Akumulasi Omset Grup Kiri (BV)",-1)])]),_:1}),s(e(le),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[8]||(n[8]=[i("Akumulasi Omset Grup Kanan (BV)",-1)])]),_:1}),s(e(le),{class:"min-w-[120px]"},{default:a(()=>[...n[9]||(n[9]=[i("Periode Awal",-1)])]),_:1}),s(e(le),{class:"min-w-[120px]"},{default:a(()=>[...n[10]||(n[10]=[i("Periode Akhir",-1)])]),_:1}),s(e(le),{class:"text-center min-w-[120px]"},{default:a(()=>[...n[11]||(n[11]=[i("Status",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(o(!0),c(z,null,te(l.promotionRewards,x=>(o(),P(e(Re),{key:x.id},{default:a(()=>[s(e(ne),{class:"font-medium"},{default:a(()=>[t("div",ec,[s(e(Kt),{class:"h-4 w-4 text-amber-500"}),i(" "+r(x.name),1)])]),_:2},1024),s(e(ne),null,{default:a(()=>[i(r(x.reward),1)]),_:2},1024),s(e(ne),{class:"text-right font-mono"},{default:a(()=>[i(r(d(x.bv)),1)]),_:2},1024),s(e(ne),{class:"text-right font-mono"},{default:a(()=>[i(r(d(x.accumulated_left)),1)]),_:2},1024),s(e(ne),{class:"text-right font-mono"},{default:a(()=>[i(r(d(x.accumulated_right)),1)]),_:2},1024),s(e(ne),null,{default:a(()=>[i(r(m(x.start)),1)]),_:2},1024),s(e(ne),null,{default:a(()=>[i(r(m(x.end)),1)]),_:2},1024),s(e(ne),{class:"text-center"},{default:a(()=>[s(e(V),{variant:w(x.claim_status)},{default:a(()=>[x.claim_status===1?(o(),P(e(He),{key:0,class:"h-3 w-3 mr-1"})):k("",!0),i(" "+r(f(x.claim_status)),1)]),_:2},1032,["variant"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",tc,[t("div",sc,[s(e(ge),{class:"h-5 w-5 text-green-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...n[12]||(n[12]=[i("Reward yang Sudah Diklaim",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...n[13]||(n[13]=[i(" Daftar reward promosi yang sudah berhasil Anda klaim ",-1)])]),_:1})])])]),_:1}),s(e(O),null,{default:a(()=>[l.claimedPromotionRewards.length===0?(o(),c("div",ac,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n[14]||(n[14]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Diklaim",-1)),n[15]||(n[15]=t("p",{class:"text-muted-foreground text-sm"}," Anda belum memiliki reward promosi yang telah diklaim. ",-1))])):(o(),c("div",lc,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(le),{class:"min-w-[200px]"},{default:a(()=>[...n[16]||(n[16]=[i("Reward",-1)])]),_:1}),s(e(le),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[17]||(n[17]=[i("Syarat Omset Group (BV)",-1)])]),_:1}),s(e(le),{class:"min-w-[150px]"},{default:a(()=>[...n[18]||(n[18]=[i("Tanggal Klaim",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(o(!0),c(z,null,te(l.claimedPromotionRewards,x=>(o(),P(e(Re),{key:x.id},{default:a(()=>[s(e(ne),{class:"font-medium"},{default:a(()=>[t("div",nc,[s(e(ye),{class:"h-4 w-4 text-green-500"}),i(" "+r(x.reward),1)])]),_:2},1024),s(e(ne),{class:"text-right font-mono"},{default:a(()=>[i(r(d(x.bv)),1)]),_:2},1024),s(e(ne),null,{default:a(()=>[i(r(m(x.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})]))}}),oc={class:"space-y-6"},ic={class:"flex items-center gap-3"},dc={class:"p-2 rounded-lg bg-purple-500/10"},uc={key:0,class:"text-center py-8"},mc={key:1,class:"overflow-x-auto"},cc={class:"flex items-center gap-2"},pc={class:"flex items-center gap-3"},fc={class:"p-2 rounded-lg bg-green-500/10"},xc={key:0,class:"text-center py-8"},gc={key:1,class:"overflow-x-auto"},vc={class:"flex items-center gap-2"},bc=Y({__name:"LifetimeCashRewardsTab",props:{lifetimeRewards:{},claimedLifetimeRewards:{}},setup(l){const d=g=>new Intl.NumberFormat("id-ID").format(g),m=g=>new Date(g).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),f=Ce({reward_id:0}),w=g=>{f.reward_id=g,f.post(be.url(),{preserveScroll:!0,onSuccess:()=>{f.reset()}})};return(g,n)=>(o(),c("div",oc,[s(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",ic,[t("div",dc,[s(e(ze),{class:"h-5 w-5 text-purple-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...n[0]||(n[0]=[i("Lifetime Cash Rewards",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...n[1]||(n[1]=[i(" Daftar reward lifetime berdasarkan pencapaian omset grup Anda ",-1)])]),_:1})])])]),_:1}),s(e(O),null,{default:a(()=>[l.lifetimeRewards.length===0?(o(),c("div",uc,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n[2]||(n[2]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Lifetime",-1)),n[3]||(n[3]=t("p",{class:"text-muted-foreground text-sm"}," Tidak ada program reward lifetime yang tersedia saat ini. ",-1))])):(o(),c("div",mc,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(le),{class:"min-w-[150px]"},{default:a(()=>[...n[4]||(n[4]=[i("Nama",-1)])]),_:1}),s(e(le),{class:"min-w-[150px]"},{default:a(()=>[...n[5]||(n[5]=[i("Reward",-1)])]),_:1}),s(e(le),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[6]||(n[6]=[i("Syarat Omset Grup Kiri & Kanan (BV)",-1)])]),_:1}),s(e(le),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[7]||(n[7]=[i("Akumulasi Omset Grup Kiri (BV)",-1)])]),_:1}),s(e(le),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[8]||(n[8]=[i("Akumulasi Omset Grup Kanan (BV)",-1)])]),_:1}),s(e(le),{class:"text-center min-w-[120px]"},{default:a(()=>[...n[9]||(n[9]=[i("Klaim",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(o(!0),c(z,null,te(l.lifetimeRewards,x=>(o(),P(e(Re),{key:x.id},{default:a(()=>[s(e(ne),{class:"font-medium"},{default:a(()=>[t("div",cc,[s(e(Kt),{class:"h-4 w-4 text-purple-500"}),i(" "+r(x.name),1)])]),_:2},1024),s(e(ne),null,{default:a(()=>[i(r(x.reward),1)]),_:2},1024),s(e(ne),{class:"text-right font-mono"},{default:a(()=>[i(r(d(x.bv)),1)]),_:2},1024),s(e(ne),{class:"text-right font-mono"},{default:a(()=>[i(r(d(x.accumulated_left)),1)]),_:2},1024),s(e(ne),{class:"text-right font-mono"},{default:a(()=>[i(r(d(x.accumulated_right)),1)]),_:2},1024),s(e(ne),{class:"text-center"},{default:a(()=>[x.is_claimed?(o(),P(e(V),{key:0,variant:"secondary"},{default:a(()=>[s(e(ge),{class:"h-3 w-3 mr-1"}),n[10]||(n[10]=i(" Sudah Diklaim ",-1))]),_:1})):x.can_claim?(o(),P(e(U),{key:1,size:"sm",disabled:e(f).processing&&e(f).reward_id===x.id,onClick:D=>w(x.id)},{default:a(()=>[e(f).processing&&e(f).reward_id===x.id?(o(),P(e(Ae),{key:0,class:"h-4 w-4 mr-1 animate-spin"})):(o(),P(e(ye),{key:1,class:"h-4 w-4 mr-1"})),n[11]||(n[11]=i(" Klaim ",-1))]),_:2},1032,["disabled","onClick"])):(o(),P(e(V),{key:2,variant:"outline"},{default:a(()=>[...n[12]||(n[12]=[i(" Belum Memenuhi Syarat ",-1)])]),_:1}))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",pc,[t("div",fc,[s(e(ge),{class:"h-5 w-5 text-green-500"})]),t("div",null,[s(e(H),{class:"text-lg"},{default:a(()=>[...n[13]||(n[13]=[i("Reward yang Sudah Diklaim",-1)])]),_:1}),s(e(ue),null,{default:a(()=>[...n[14]||(n[14]=[i(" Daftar reward lifetime yang sudah berhasil Anda klaim ",-1)])]),_:1})])])]),_:1}),s(e(O),null,{default:a(()=>[l.claimedLifetimeRewards.length===0?(o(),c("div",xc,[s(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n[15]||(n[15]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Diklaim",-1)),n[16]||(n[16]=t("p",{class:"text-muted-foreground text-sm"}," Anda belum memiliki reward lifetime yang telah diklaim. ",-1))])):(o(),c("div",gc,[s(e(et),null,{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(le),{class:"min-w-[200px]"},{default:a(()=>[...n[17]||(n[17]=[i("Reward",-1)])]),_:1}),s(e(le),{class:"text-right min-w-[180px]"},{default:a(()=>[...n[18]||(n[18]=[i("Syarat Omset Group (BV)",-1)])]),_:1}),s(e(le),{class:"min-w-[150px]"},{default:a(()=>[...n[19]||(n[19]=[i("Tanggal Klaim",-1)])]),_:1})]),_:1})]),_:1}),s(e(st),null,{default:a(()=>[(o(!0),c(z,null,te(l.claimedLifetimeRewards,x=>(o(),P(e(Re),{key:x.id},{default:a(()=>[s(e(ne),{class:"font-medium"},{default:a(()=>[t("div",vc,[s(e(ye),{class:"h-4 w-4 text-green-500"}),i(" "+r(x.reward),1)])]),_:2},1024),s(e(ne),{class:"text-right font-mono"},{default:a(()=>[i(r(d(x.bv)),1)]),_:2},1024),s(e(ne),null,{default:a(()=>[i(r(m(x.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})]))}}),yc={class:"bg-gradient-to-br from-primary/10 via-primary/5 to-background border-b"},_c={class:"container mx-auto px-3 py-6 sm:px-4 sm:py-12 max-w-7xl"},kc={class:"flex items-center justify-between"},hc={class:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-background/80 backdrop-blur-sm border shadow-sm"},wc={class:"font-semibold"},$c={class:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-7xl"},Pc={key:0,class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},Sc={class:"flex items-start gap-3"},Cc={class:"grid gap-4 sm:gap-6 lg:grid-cols-3"},Rc={class:"lg:col-span-1 space-y-4 sm:space-y-6"},Tc={class:"lg:col-span-2"},Ac={class:"rounded-xl border bg-card overflow-hidden"},Dc={class:"border-b bg-muted/30"},Mc={class:"overflow-x-auto text-center overflow-y-hidden px-1.5 py-1.5 sm:px-2 sm:py-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},jc={class:"p-3 sm:p-4 md:p-6"},Lc={key:1,class:"text-center py-12"},ip=Y({__name:"Index",props:{customer:{},orders:{},walletTransactions:{},hasPendingWithdrawal:{type:Boolean},isProfileIncomplete:{type:Boolean},activeMembers:{},passiveMembers:{},prospectMembers:{},binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{},addresses:{},promotionRewards:{},claimedPromotionRewards:{},lifetimeRewards:{},claimedLifetimeRewards:{}},setup(l){const d=l,m=ht(),f=K(()=>Number(d.customer.status)===3),w=K(()=>{if(typeof window>"u")return"profile";const g=m.url;try{return new URL(g,window.location.origin).searchParams.get("tab")||"profile"}catch{return"profile"}});return(g,n)=>(o(),P(ns,null,{default:a(()=>[s(e(Ds),{title:"Profile Saya"}),t("div",yc,[t("div",_c,[t("div",kc,[n[0]||(n[0]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-2"},"Profile Saya"),t("p",{class:"text-sm sm:text-base md:text-lg text-muted-foreground"}," Kelola informasi profil dan keamanan akun Anda ")],-1)),t("div",hc,[s(e(pt),{class:"w-5 h-5 text-primary"}),t("span",wc,r(l.customer.name),1)])])])]),t("div",$c,[l.isProfileIncomplete&&f.value?(o(),c("div",Pc,[t("div",Sc,[s(e(De),{class:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),n[1]||(n[1]=t("div",{class:"flex-1"},[t("p",{class:"font-medium text-amber-700 dark:text-amber-300"},"Lengkapi Data Profil Anda"),t("p",{class:"text-sm text-amber-600 dark:text-amber-400 mt-1"}," Untuk dapat melakukan penarikan bonus, Anda harus melengkapi NIK dan informasi rekening bank di tab Profil. ")],-1))])])):k("",!0),t("div",Cc,[t("div",Rc,[s(ma,{customer:l.customer},null,8,["customer"]),f.value?(o(),P(Wm,{key:0,customer:l.customer},null,8,["customer"])):k("",!0),s(qa,{addresses:l.addresses},null,8,["addresses"]),f.value?(o(),P(Ha,{key:1,customer:l.customer},null,8,["customer"])):k("",!0),s(el,{"created-at":l.customer.created_at},null,8,["created-at"])]),t("div",Tc,[t("div",Ac,[s(e(_t),{"default-value":w.value,class:"w-full"},{default:a(()=>[t("div",Dc,[t("div",Mc,[s(e(kt),{class:"inline-flex h-auto w-max bg-transparent gap-1 sm:gap-1.5 p-0"},{default:a(()=>[s(e(re),{value:"profile",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(pt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[2]||(n[2]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Info",-1))]),_:1}),s(e(re),{value:"orders",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Fe),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[3]||(n[3]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Order",-1))]),_:1}),f.value?(o(),P(e(re),{key:0,value:"network",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ut),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[4]||(n[4]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Mitra",-1))]),_:1})):k("",!0),f.value?(o(),P(e(re),{key:1,value:"binary",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ne),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[5]||(n[5]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Network",-1))]),_:1})):k("",!0),f.value?(o(),P(e(re),{key:2,value:"bonus",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ye),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[6]||(n[6]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Bonus",-1))]),_:1})):k("",!0),f.value?(o(),P(e(re),{key:3,value:"promotions",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ms),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[7]||(n[7]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Promo",-1))]),_:1})):k("",!0),f.value?(o(),P(e(re),{key:4,value:"lifetime",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ze),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[8]||(n[8]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lifetime",-1))]),_:1})):k("",!0),s(e(re),{value:"wallet",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Me),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[9]||(n[9]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Wallet",-1))]),_:1}),s(e(re),{value:"security",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ye),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[10]||(n[10]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lock",-1))]),_:1}),s(e(re),{value:"danger",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(De),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n[11]||(n[11]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Del",-1))]),_:1})]),_:1})])]),t("div",jc,[s(e(oe),{value:"profile",class:"mt-0"},{default:a(()=>[s(El,{customer:l.customer},null,8,["customer"])]),_:1}),s(e(oe),{value:"orders",class:"mt-0"},{default:a(()=>[s($r,{orders:l.orders},null,8,["orders"])]),_:1}),f.value?(o(),P(e(oe),{key:0,value:"network",class:"mt-0"},{default:a(()=>[s(ud,{"active-members":l.activeMembers,"passive-members":l.passiveMembers,"prospect-members":l.prospectMembers,"has-left":!!l.binaryTree?.left,"has-right":!!l.binaryTree?.right},null,8,["active-members","passive-members","prospect-members","has-left","has-right"])]),_:1})):k("",!0),f.value?(o(),P(e(oe),{key:1,value:"binary",class:"mt-0"},{default:a(()=>[l.binaryTree?(o(),P(Hd,{key:0,"binary-tree":l.binaryTree,"total-downlines":l.totalDownlines,"total-left":l.totalLeft,"total-right":l.totalRight,"passive-members":l.passiveMembers},null,8,["binary-tree","total-downlines","total-left","total-right","passive-members"])):(o(),c("div",Lc,[s(e(Ne),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n[12]||(n[12]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Jaringan Binary",-1)),n[13]||(n[13]=t("p",{class:"text-muted-foreground"}," Anda belum memiliki posisi dalam jaringan binary tree MLM. ",-1))]))]),_:1})):k("",!0),f.value?(o(),P(e(oe),{key:2,value:"bonus",class:"mt-0"},{default:a(()=>[s(Lm,{"bonus-sponsors":l.bonusSponsors,"bonus-matchings":l.bonusMatchings,"bonus-pairings":l.bonusPairings,"bonus-cashbacks":l.bonusCashbacks,"bonus-rewards":l.bonusRewards,"bonus-retails":l.bonusRetails,"bonus-lifetime-cash-rewards":l.bonusLifetimeCashRewards},null,8,["bonus-sponsors","bonus-matchings","bonus-pairings","bonus-cashbacks","bonus-rewards","bonus-retails","bonus-lifetime-cash-rewards"])]),_:1})):k("",!0),f.value?(o(),P(e(oe),{key:3,value:"promotions",class:"mt-0"},{default:a(()=>[s(rc,{"promotion-rewards":l.promotionRewards,"claimed-promotion-rewards":l.claimedPromotionRewards},null,8,["promotion-rewards","claimed-promotion-rewards"])]),_:1})):k("",!0),f.value?(o(),P(e(oe),{key:4,value:"lifetime",class:"mt-0"},{default:a(()=>[s(bc,{"lifetime-rewards":l.lifetimeRewards,"claimed-lifetime-rewards":l.claimedLifetimeRewards},null,8,["lifetime-rewards","claimed-lifetime-rewards"])]),_:1})):k("",!0),s(e(oe),{value:"wallet",class:"mt-0"},{default:a(()=>[s(Yo,{customer:l.customer,transactions:l.walletTransactions,"has-pending-withdrawal":l.hasPendingWithdrawal},null,8,["customer","transactions","has-pending-withdrawal"])]),_:1}),s(e(oe),{value:"security",class:"mt-0"},{default:a(()=>[s(ii)]),_:1}),s(e(oe),{value:"danger",class:"mt-0"},{default:a(()=>[s(ci)]),_:1})])]),_:1},8,["default-value"])])])])])]),_:1}))}});export{ip as default};
