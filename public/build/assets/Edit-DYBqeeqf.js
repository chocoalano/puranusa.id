import{d as V,D as g,c as S,g as m,w as l,e as o,b as i,u as e,ae as $,v as p,t as f,K as b,ah as u,al as x,s as a,ai as N,a4 as U,Q as _}from"./vendor-FclwbLvj.js";import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-ySs7Rre_.js";import{_ as B,a as O}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as c}from"./index-B4cH97KR.js";import{_ as w}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as C,a as D,b as E,c as M,d as v}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const K={class:"container mx-auto py-6 space-y-6"},R={key:0,class:"text-sm text-destructive mt-1"},T={key:0,class:"text-sm text-destructive mt-1"},z={key:0,class:"text-sm text-destructive mt-1"},A={class:"flex items-center gap-2"},F={class:"flex gap-2"},tt=V({__name:"Edit",props:{item:{}},setup(k){const n=k,s=g({title:n.item.title,description:n.item.description||"",type:n.item.type,conditions:n.item.conditions?JSON.stringify(n.item.conditions,null,2):"",rewards:n.item.rewards?JSON.stringify(n.item.rewards,null,2):"",is_active:n.item.is_active,sort_order:n.item.sort_order}),y=()=>{s.transform(d=>({...d,conditions:d.conditions?JSON.parse(d.conditions):null,rewards:d.rewards?JSON.parse(d.rewards):null})).put(`/admin/zenner/incentive-rules/${n.item.id}`,{onSuccess:()=>_.success("Rule berhasil diperbarui"),onError:()=>_.error("Gagal memperbarui data")})};return(d,t)=>(m(),S(J,null,{default:l(()=>[o("div",K,[t[19]||(t[19]=o("h1",{class:"text-3xl font-bold tracking-tight"},"Edit Skema Insentif",-1)),i(e(B),null,{default:l(()=>[i(e(O),{class:"pt-6"},{default:l(()=>[o("form",{onSubmit:$(y,["prevent"]),class:"space-y-4"},[o("div",null,[t[7]||(t[7]=o("label",{class:"block text-sm font-medium mb-1"},"Judul",-1)),i(e(w),{modelValue:e(s).title,"onUpdate:modelValue":t[0]||(t[0]=r=>e(s).title=r)},null,8,["modelValue"]),e(s).errors.title?(m(),p("p",R,b(e(s).errors.title),1)):f("",!0)]),o("div",null,[t[8]||(t[8]=o("label",{class:"block text-sm font-medium mb-1"},"Deskripsi",-1)),u(o("textarea",{"onUpdate:modelValue":t[1]||(t[1]=r=>e(s).description=r),rows:"4",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},null,512),[[x,e(s).description]])]),o("div",null,[t[12]||(t[12]=o("label",{class:"block text-sm font-medium mb-1"},"Tipe",-1)),i(e(C),{modelValue:e(s).type,"onUpdate:modelValue":t[2]||(t[2]=r=>e(s).type=r)},{default:l(()=>[i(e(D),null,{default:l(()=>[i(e(E))]),_:1}),i(e(M),null,{default:l(()=>[i(e(v),{value:"bonus"},{default:l(()=>[...t[9]||(t[9]=[a("Bonus",-1)])]),_:1}),i(e(v),{value:"reward"},{default:l(()=>[...t[10]||(t[10]=[a("Reward",-1)])]),_:1}),i(e(v),{value:"commission"},{default:l(()=>[...t[11]||(t[11]=[a("Komisi",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",null,[t[13]||(t[13]=o("label",{class:"block text-sm font-medium mb-1"},"Kondisi (JSON)",-1)),u(o("textarea",{"onUpdate:modelValue":t[3]||(t[3]=r=>e(s).conditions=r),rows:"3",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono text-xs"},null,512),[[x,e(s).conditions]]),e(s).errors.conditions?(m(),p("p",T,b(e(s).errors.conditions),1)):f("",!0)]),o("div",null,[t[14]||(t[14]=o("label",{class:"block text-sm font-medium mb-1"},"Rewards (JSON)",-1)),u(o("textarea",{"onUpdate:modelValue":t[4]||(t[4]=r=>e(s).rewards=r),rows:"3",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono text-xs"},null,512),[[x,e(s).rewards]]),e(s).errors.rewards?(m(),p("p",z,b(e(s).errors.rewards),1)):f("",!0)]),o("div",null,[t[15]||(t[15]=o("label",{class:"block text-sm font-medium mb-1"},"Urutan",-1)),i(e(w),{modelValue:e(s).sort_order,"onUpdate:modelValue":t[5]||(t[5]=r=>e(s).sort_order=r),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),o("div",A,[u(o("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":t[6]||(t[6]=r=>e(s).is_active=r),class:"rounded"},null,512),[[N,e(s).is_active]]),t[16]||(t[16]=o("label",{for:"is_active",class:"text-sm"},"Aktif",-1))]),o("div",F,[i(e(c),{type:"submit",disabled:e(s).processing},{default:l(()=>[...t[17]||(t[17]=[a("Simpan",-1)])]),_:1},8,["disabled"]),i(e(c),{variant:"outline","as-child":""},{default:l(()=>[i(e(U),{href:"/admin/zenner/incentive-rules"},{default:l(()=>[...t[18]||(t[18]=[a("Batal",-1)])]),_:1})]),_:1})])],32)]),_:1})]),_:1})])]),_:1}))}});export{tt as default};
