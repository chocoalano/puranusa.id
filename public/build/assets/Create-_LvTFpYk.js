const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PageBuilder-CcE1m3oA.js","assets/PageBuilder.vue_vue_type_script_setup_true_lang-DyYNdZDQ.js","assets/CardContent.vue_vue_type_script_setup_true_lang-Bn_j05SD.js","assets/index-p1XqrTaB.js","assets/vendor-DGO3ezSh.js","assets/vendor-UvtswsZk.css","assets/CardDescription.vue_vue_type_script_setup_true_lang-DX-GJzuo.js","assets/CardHeader.vue_vue_type_script_setup_true_lang-CXiZUsYP.js","assets/CardTitle.vue_vue_type_script_setup_true_lang-C8sdAIK-.js","assets/Input.vue_vue_type_script_setup_true_lang-BOQ98pUO.js","assets/Label.vue_vue_type_script_setup_true_lang-DhaSprrA.js","assets/Textarea.vue_vue_type_script_setup_true_lang-z-HimzkJ.js","assets/SelectValue.vue_vue_type_script_setup_true_lang-Dp0JlaKf.js","assets/DialogTitle.vue_vue_type_script_setup_true_lang-C_P63gaN.js","assets/DialogFooter.vue_vue_type_script_setup_true_lang-CPRgfznK.js","assets/index-Dh_LIAYg.js","assets/PageBuilder-B_VyrZVp.css"])))=>i.map(i=>d[i]);
import{d as L,r as U,D as F,p as A,E as I,c as D,g as n,w as a,e as i,b as s,u as t,G as P,s as u,S as j,H as z,v as p,t as _,J as c,K as m,N as K,P as R,F as H,x as G,X as M,Q as B,_ as Q}from"./vendor-DGO3ezSh.js";import{_ as X}from"./AppLayout.vue_vue_type_script_setup_true_lang-C887HeWN.js";import{_ as k,a as b}from"./CardContent.vue_vue_type_script_setup_true_lang-Bn_j05SD.js";import{_ as x}from"./CardDescription.vue_vue_type_script_setup_true_lang-DX-GJzuo.js";import{_ as y}from"./CardHeader.vue_vue_type_script_setup_true_lang-CXiZUsYP.js";import{_ as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-C8sdAIK-.js";import{_ as q}from"./Skeleton.vue_vue_type_script_setup_true_lang-4YxbfQgr.js";import{_ as h}from"./index-p1XqrTaB.js";import{_ as v}from"./Input.vue_vue_type_script_setup_true_lang-BOQ98pUO.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-DhaSprrA.js";import{_ as W}from"./Textarea.vue_vue_type_script_setup_true_lang-z-HimzkJ.js";import{_ as Y}from"./Checkbox.vue_vue_type_script_setup_true_lang-BBoe3Ojv.js";import{_ as Z}from"./index-Dh_LIAYg.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BCTRkhoz.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-IyrdkPzY.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CBMnmEAQ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-aUuRqzXG.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-B0H8bar2.js";const ee={class:"container mx-auto py-6 space-y-6"},te={class:"flex items-center justify-between"},se={class:"flex items-center gap-4"},le={href:"/admin/articles"},ae={class:"flex gap-2"},oe={class:"grid gap-6 lg:grid-cols-3"},ie={class:"lg:col-span-2 space-y-6"},ue={class:"space-y-2"},re={key:0,class:"text-sm text-destructive"},de={class:"space-y-2"},ne={key:0,class:"text-sm text-destructive"},pe={class:"text-sm text-muted-foreground"},me={class:"space-y-2"},_e={key:0,class:"text-sm text-destructive"},fe={class:"text-sm text-muted-foreground"},ce={class:"space-y-2"},ve={key:0,class:"text-sm text-destructive"},ge={class:"text-sm text-muted-foreground"},ke={class:"space-y-6"},be={class:"flex items-center space-x-2"},xe={key:0,class:"space-y-2"},ye={key:0,class:"text-sm text-destructive"},Ve={class:"flex gap-2"},he={key:0,class:"flex flex-wrap gap-2"},Se={key:1,class:"text-sm text-muted-foreground"},Ge=L({__name:"Create",setup(we){const E=K({loader:()=>Q(()=>import("./PageBuilder-CcE1m3oA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])),loadingComponent:{template:'<div class="space-y-4"><Skeleton class="h-12 w-full" /><Skeleton class="h-64 w-full" /><Skeleton class="h-12 w-full" /></div>',components:{Skeleton:q}}}),l=U({title:"",slug:"",seo_title:"",seo_description:"",content:"",blocks:[],tags:[],is_published:!1,published_at:""}),S=F({}),r=A(()=>S.errors),w=A(()=>S.processing),g=U(""),O=d=>d.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-"),N=()=>{l.value.slug=O(l.value.title)};I(()=>l.value.blocks,d=>{l.value.content=JSON.stringify(d)},{deep:!0});const $=()=>{const d=g.value.trim();d&&!l.value.tags.includes(d)&&(l.value.tags.push(d),g.value="")},J=d=>{l.value.tags.splice(d,1)},T=(d=!1)=>{const e=JSON.stringify(l.value.blocks),o={title:l.value.title,slug:l.value.slug,seo_title:l.value.seo_title,seo_description:l.value.seo_description,content:e,tags:l.value.tags,is_published:d,published_at:d&&!l.value.published_at?new Date().toISOString():l.value.published_at};S.transform(()=>o).post("/admin/articles",{onSuccess:()=>{B.success(d?"Artikel berhasil diterbitkan":"Artikel berhasil disimpan sebagai draft")},onError:()=>{B.error("Terjadi kesalahan, periksa form Anda")}})};return(d,e)=>(n(),D(X,null,{default:a(()=>[i("div",ee,[i("div",te,[i("div",se,[s(t(h),{variant:"ghost",size:"icon","as-child":""},{default:a(()=>[i("a",le,[s(t(P),{class:"h-4 w-4"})])]),_:1}),e[10]||(e[10]=i("div",null,[i("h1",{class:"text-3xl font-bold tracking-tight"},"Buat Artikel Baru"),i("p",{class:"text-muted-foreground"}," Tambahkan konten artikel baru ke blog ")],-1))]),i("div",ae,[s(t(h),{variant:"outline",disabled:w.value,onClick:e[0]||(e[0]=o=>T(!1))},{default:a(()=>[s(t(j),{class:"mr-2 h-4 w-4"}),e[11]||(e[11]=u(" Simpan Draft ",-1))]),_:1},8,["disabled"]),s(t(h),{disabled:w.value,onClick:e[1]||(e[1]=o=>T(!0))},{default:a(()=>[s(t(z),{class:"mr-2 h-4 w-4"}),e[12]||(e[12]=u(" Terbitkan ",-1))]),_:1},8,["disabled"])])]),i("div",oe,[i("div",ie,[s(t(k),null,{default:a(()=>[s(t(y),null,{default:a(()=>[s(t(V),null,{default:a(()=>[...e[13]||(e[13]=[u("Informasi Dasar",-1)])]),_:1}),s(t(x),null,{default:a(()=>[...e[14]||(e[14]=[u("Detail utama artikel",-1)])]),_:1})]),_:1}),s(t(b),{class:"space-y-4"},{default:a(()=>[i("div",ue,[s(t(f),{for:"title"},{default:a(()=>[...e[15]||(e[15]=[u("Judul Artikel",-1)])]),_:1}),s(t(v),{id:"title",modelValue:l.value.title,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.title=o),placeholder:"Masukkan judul artikel",class:c({"border-destructive":r.value.title}),onInput:N},null,8,["modelValue","class"]),r.value.title?(n(),p("p",re,m(r.value.title),1)):_("",!0)]),i("div",de,[s(t(f),{for:"slug"},{default:a(()=>[...e[16]||(e[16]=[u("Slug (URL)",-1)])]),_:1}),s(t(v),{id:"slug",modelValue:l.value.slug,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.slug=o),placeholder:"slug-artikel",class:c({"border-destructive":r.value.slug})},null,8,["modelValue","class"]),r.value.slug?(n(),p("p",ne,m(r.value.slug),1)):_("",!0),i("p",pe," URL: /articles/"+m(l.value.slug||"slug-artikel"),1)])]),_:1})]),_:1}),s(t(E),{modelValue:l.value.blocks,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.blocks=o)},null,8,["modelValue"]),s(t(k),null,{default:a(()=>[s(t(y),null,{default:a(()=>[s(t(V),null,{default:a(()=>[...e[17]||(e[17]=[u("SEO",-1)])]),_:1}),s(t(x),null,{default:a(()=>[...e[18]||(e[18]=[u("Optimasi mesin pencari",-1)])]),_:1})]),_:1}),s(t(b),{class:"space-y-4"},{default:a(()=>[i("div",me,[s(t(f),{for:"seo_title"},{default:a(()=>[...e[19]||(e[19]=[u("Judul SEO",-1)])]),_:1}),s(t(v),{id:"seo_title",modelValue:l.value.seo_title,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.seo_title=o),placeholder:"Judul untuk mesin pencari",class:c({"border-destructive":r.value.seo_title})},null,8,["modelValue","class"]),r.value.seo_title?(n(),p("p",_e,m(r.value.seo_title),1)):_("",!0),i("p",fe,m(l.value.seo_title.length)+"/255 karakter ",1)]),i("div",ce,[s(t(f),{for:"seo_description"},{default:a(()=>[...e[20]||(e[20]=[u("Deskripsi SEO",-1)])]),_:1}),s(t(W),{id:"seo_description",modelValue:l.value.seo_description,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.seo_description=o),placeholder:"Deskripsi singkat untuk mesin pencari",rows:"3",class:c({"border-destructive":r.value.seo_description})},null,8,["modelValue","class"]),r.value.seo_description?(n(),p("p",ve,m(r.value.seo_description),1)):_("",!0),i("p",ge,m(l.value.seo_description.length)+"/500 karakter ",1)])]),_:1})]),_:1})]),i("div",ke,[s(t(k),null,{default:a(()=>[s(t(y),null,{default:a(()=>[s(t(V),null,{default:a(()=>[...e[21]||(e[21]=[u("Publikasi",-1)])]),_:1}),s(t(x),null,{default:a(()=>[...e[22]||(e[22]=[u("Atur tanggal publikasi",-1)])]),_:1})]),_:1}),s(t(b),{class:"space-y-4"},{default:a(()=>[i("div",be,[s(t(Y),{id:"is_published",checked:l.value.is_published,"onUpdate:checked":e[7]||(e[7]=o=>l.value.is_published=o)},null,8,["checked"]),s(t(f),{for:"is_published",class:"cursor-pointer"},{default:a(()=>[...e[23]||(e[23]=[u(" Terbitkan artikel ",-1)])]),_:1})]),l.value.is_published?(n(),p("div",xe,[s(t(f),{for:"published_at"},{default:a(()=>[...e[24]||(e[24]=[u("Tanggal Terbit",-1)])]),_:1}),s(t(v),{id:"published_at",modelValue:l.value.published_at,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.published_at=o),type:"datetime-local",class:c({"border-destructive":r.value.published_at})},null,8,["modelValue","class"]),r.value.published_at?(n(),p("p",ye,m(r.value.published_at),1)):_("",!0)])):_("",!0)]),_:1})]),_:1}),s(t(k),null,{default:a(()=>[s(t(y),null,{default:a(()=>[s(t(V),null,{default:a(()=>[...e[25]||(e[25]=[u("Tag",-1)])]),_:1}),s(t(x),null,{default:a(()=>[...e[26]||(e[26]=[u("Tambahkan tag untuk artikel",-1)])]),_:1})]),_:1}),s(t(b),{class:"space-y-4"},{default:a(()=>[i("div",Ve,[s(t(v),{modelValue:g.value,"onUpdate:modelValue":e[9]||(e[9]=o=>g.value=o),placeholder:"Tambah tag",onKeyup:R($,["enter"])},null,8,["modelValue"]),s(t(h),{type:"button",size:"sm",onClick:$},{default:a(()=>[...e[27]||(e[27]=[u(" Tambah ",-1)])]),_:1})]),l.value.tags.length>0?(n(),p("div",he,[(n(!0),p(H,null,G(l.value.tags,(o,C)=>(n(),D(t(Z),{key:C,variant:"secondary",class:"cursor-pointer hover:bg-destructive hover:text-destructive-foreground",onClick:$e=>J(C)},{default:a(()=>[u(m(o)+" ",1),s(t(M),{class:"ml-1 h-3 w-3"})]),_:2},1032,["onClick"]))),128))])):(n(),p("p",Se," Belum ada tag "))]),_:1})]),_:1})])])])]),_:1}))}});export{Ge as default};
