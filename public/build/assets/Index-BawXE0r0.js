import{d as E,r as $,c as o,g as i,w as t,b as l,u as e,e as p,j as g,s as n,Y as H,Z as K,P as U,v as y,t as D,F as V,x as z,K as d,$ as I,z as q,D as G,Q as N}from"./vendor-FclwbLvj.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-ySs7Rre_.js";import{_ as O,a as Q}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as R}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as k}from"./index-B4cH97KR.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as j}from"./index-CRPqrtU2.js";import{_ as Z,a as J,b,c as f,d as W,e as r}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import{_ as X,a as h,b as ee,c as ae,d as w}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import{_ as te,a as le,b as se,c as ne,d as ue,e as ie,f as re,g as oe}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D_xJ4jwR.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const de={class:"flex items-center justify-between"},fe={class:"mt-4 flex items-center gap-4"},me={class:"relative flex-1"},_e={class:"flex justify-end gap-2"},pe={key:0,class:"mt-4 flex justify-center gap-2"},Ae=E({__name:"Index",props:{items:{},filters:{}},setup(m){const C=m,x=$(C.filters.search||""),v=$(C.filters.status||"all"),c=$(!1),_=$(null),A=u=>u?new Date(u).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",B=u=>"★".repeat(u)+"☆".repeat(5-u),S=()=>{g.get("/admin/zenner/testimonials",{search:x.value||void 0,status:v.value!=="all"?v.value:void 0},{preserveState:!0,replace:!0})},P=u=>{_.value=u,c.value=!0},F=()=>{_.value&&G({}).delete(`/admin/zenner/testimonials/${_.value.id}`,{preserveScroll:!0,onSuccess:()=>{N.success("Testimonial berhasil dihapus"),c.value=!1,_.value=null},onError:()=>N.error("Gagal menghapus testimonial")})},L=u=>{if(!u)return"";const a=u.replace(/<[^>]*>/g,"");if(typeof window>"u")return a;const s=document.createElement("textarea");return s.innerHTML=a,s.value};return(u,a)=>(i(),o(M,{title:"Testimonials"},{default:t(()=>[l(e(O),null,{default:t(()=>[l(e(R),null,{default:t(()=>[p("div",de,[a[5]||(a[5]=p("h2",{class:"text-xl font-semibold"},"Testimonials",-1)),l(e(k),{onClick:a[0]||(a[0]=s=>e(g).get("/admin/zenner/testimonials/create"))},{default:t(()=>[l(e(H),{class:"mr-2 h-4 w-4"}),a[4]||(a[4]=n(" Tambah ",-1))]),_:1})]),p("div",fe,[p("div",me,[l(e(K),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l(e(Y),{modelValue:x.value,"onUpdate:modelValue":a[1]||(a[1]=s=>x.value=s),placeholder:"Cari...",class:"pl-10",onKeyup:U(S,["enter"])},null,8,["modelValue"])]),l(e(X),{modelValue:v.value,"onUpdate:modelValue":[a[2]||(a[2]=s=>v.value=s),S]},{default:t(()=>[l(e(h),{class:"w-[180px]"},{default:t(()=>[l(e(ee),{placeholder:"Semua Status"})]),_:1}),l(e(ae),null,{default:t(()=>[l(e(w),{value:"all"},{default:t(()=>[...a[6]||(a[6]=[n("Semua Status",-1)])]),_:1}),l(e(w),{value:"active"},{default:t(()=>[...a[7]||(a[7]=[n("Aktif",-1)])]),_:1}),l(e(w),{value:"inactive"},{default:t(()=>[...a[8]||(a[8]=[n("Nonaktif",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),l(e(Q),null,{default:t(()=>[l(e(Z),null,{default:t(()=>[l(e(J),null,{default:t(()=>[l(e(b),null,{default:t(()=>[l(e(f),null,{default:t(()=>[...a[9]||(a[9]=[n("Nama Customer",-1)])]),_:1}),l(e(f),null,{default:t(()=>[...a[10]||(a[10]=[n("Produk",-1)])]),_:1}),l(e(f),null,{default:t(()=>[...a[11]||(a[11]=[n("Rating",-1)])]),_:1}),l(e(f),null,{default:t(()=>[...a[12]||(a[12]=[n("Status",-1)])]),_:1}),l(e(f),null,{default:t(()=>[...a[13]||(a[13]=[n("Dibuat",-1)])]),_:1}),l(e(f),{class:"text-right"},{default:t(()=>[...a[14]||(a[14]=[n("Aksi",-1)])]),_:1})]),_:1})]),_:1}),l(e(W),null,{default:t(()=>[(i(!0),y(V,null,z(m.items.data,s=>(i(),o(e(b),{key:s.id},{default:t(()=>[l(e(r),null,{default:t(()=>[n(d(s.customer_name),1)]),_:2},1024),l(e(r),null,{default:t(()=>[n(d(s.product_name),1)]),_:2},1024),l(e(r),{class:"text-yellow-500"},{default:t(()=>[n(d(B(s.rating)),1)]),_:2},1024),l(e(r),null,{default:t(()=>[s.is_active?(i(),o(e(j),{key:0,variant:"default"},{default:t(()=>[...a[15]||(a[15]=[n("Aktif",-1)])]),_:1})):(i(),o(e(j),{key:1,variant:"secondary"},{default:t(()=>[...a[16]||(a[16]=[n("Nonaktif",-1)])]),_:1}))]),_:2},1024),l(e(r),null,{default:t(()=>[n(d(A(s.created_at)),1)]),_:2},1024),l(e(r),{class:"text-right"},{default:t(()=>[p("div",_e,[l(e(k),{size:"sm",variant:"outline",onClick:T=>e(g).get(`/admin/zenner/testimonials/${s.id}/edit`)},{default:t(()=>[l(e(I),{class:"h-4 w-4"})]),_:1},8,["onClick"]),l(e(k),{size:"sm",variant:"destructive",onClick:T=>P(s)},{default:t(()=>[l(e(q),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),m.items.data.length===0?(i(),o(e(b),{key:0},{default:t(()=>[l(e(r),{colspan:6,class:"text-center text-muted-foreground"},{default:t(()=>[...a[17]||(a[17]=[n("Tidak ada data",-1)])]),_:1})]),_:1})):D("",!0)]),_:1})]),_:1}),m.items.last_page>1?(i(),y("div",pe,[(i(!0),y(V,null,z(m.items.links,s=>(i(),o(e(k),{key:s.label,size:"sm",variant:s.active?"default":"outline",disabled:!s.url,onClick:T=>s.url&&e(g).get(s.url)},{default:t(()=>[n(d(L(s.label)),1)]),_:2},1032,["variant","disabled","onClick"]))),128))])):D("",!0)]),_:1})]),_:1}),l(e(te),{open:c.value,"onUpdate:open":a[3]||(a[3]=s=>c.value=s)},{default:t(()=>[l(e(le),null,{default:t(()=>[l(e(se),null,{default:t(()=>[l(e(ne),null,{default:t(()=>[...a[18]||(a[18]=[n("Hapus Testimonial",-1)])]),_:1}),l(e(ue),null,{default:t(()=>[n(' Apakah Anda yakin ingin menghapus testimonial dari "'+d(_.value?.customer_name)+'"? Tindakan ini tidak dapat dibatalkan. ',1)]),_:1})]),_:1}),l(e(ie),null,{default:t(()=>[l(e(re),null,{default:t(()=>[...a[19]||(a[19]=[n("Batal",-1)])]),_:1}),l(e(oe),{onClick:F},{default:t(()=>[...a[20]||(a[20]=[n("Hapus",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{Ae as default};
