import{d as K,r as b,p as y,q as N,c,g as r,w as l,e as $,b as s,u as e,s as k,v as u,F as v,x as f,t as L,J,y as M,n as m,j as x,A as j,B as H}from"./vendor-0sCoMzHy.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-J4pIkQSF.js";import{_ as q}from"./StatisticsCards.vue_vue_type_script_setup_true_lang-B4ZJTRX0.js";import{_ as z,a as A}from"./TablePagination.vue_vue_type_script_setup_true_lang-Clf_fCAI.js";import{_ as E,a as Q}from"./CardContent.vue_vue_type_script_setup_true_lang-DUWiWpeg.js";import{_ as U}from"./CardDescription.vue_vue_type_script_setup_true_lang-CcT-2mF2.js";import{_ as G}from"./CardHeader.vue_vue_type_script_setup_true_lang-Bo9DeG24.js";import{_ as W}from"./CardTitle.vue_vue_type_script_setup_true_lang-SuNAGsFF.js";import{_ as X,a as Y,b as h,c as Z,d as O,e as T}from"./TableHeader.vue_vue_type_script_setup_true_lang-Bg-l8dVV.js";import"./index-DJk7aHkf.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BhL6n9ND.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-CAfd5pFE.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-KgsqrYLn.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DEiiatvc.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-CbD5L1KI.js";import"./Input.vue_vue_type_script_setup_true_lang-nikPKNAJ.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-Dc4bXstG.js";const ee={class:"space-y-6"},te={class:"rounded-md border"},ae=["onClick"],le={key:0},se={key:1},Se=K({__name:"Matrix",props:{networks:{},statistics:{},filters:{}},setup(S){const i=S,d=b(i.filters?.search||""),_=b(i.filters?.level||"all"),p=b([]);let w;const R=y(()=>[{label:"Total Member",value:i.statistics.total_members},{label:"Level 1",value:i.statistics.level_1},{label:"Level 2",value:i.statistics.level_2},{label:"Level 3+",value:i.statistics.level_3_plus}]),V=y(()=>[{type:"search",placeholder:"Cari member...",modelValue:d.value},{type:"select",placeholder:"Semua Level",modelValue:_.value,options:[{value:"all",label:"Semua Level"},{value:"1",label:"Level 1"},{value:"2",label:"Level 2"},{value:"3",label:"Level 3"},{value:"4",label:"Level 4"},{value:"5",label:"Level 5+"}]}]),C=[{accessorKey:"member",header:"Member",cell:({row:a})=>{const t=a.original.member;return m("div",{class:"space-y-1"},[m("div",{class:"font-medium"},t.name),m("div",{class:"text-xs text-muted-foreground"},t.email)])}},{accessorKey:"sponsor",header:"Sponsor",cell:({row:a})=>{const t=a.original.sponsor;return m("div",{class:"space-y-1"},[m("div",{class:"font-medium"},t.name),m("div",{class:"text-xs text-muted-foreground"},t.email)])}},{accessorKey:"level",header:"Level"},{accessorKey:"created_at",header:"Tanggal Bergabung",cell:({row:a})=>{const t=new Date(a.getValue("created_at"));return new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"short",year:"numeric"}).format(t)}}],g=N({data:y(()=>i.networks.data),columns:C,getCoreRowModel:H(),getSortedRowModel:j(),state:{get sorting(){return p.value}},onSortingChange:a=>{p.value=typeof a=="function"?a(p.value):a}}),B=()=>{clearTimeout(w),w=setTimeout(()=>{x.get("/admin/networks/matrix",{search:d.value,level:_.value},{preserveState:!0,preserveScroll:!0})},300)},D=(a,t)=>{const n=t?.toString()||"all";a===0?(d.value=n,B()):a===1&&(_.value=n,x.get("/admin/networks/matrix",{search:d.value,level:n==="all"?void 0:n},{preserveState:!0,preserveScroll:!0}))},F=a=>{x.get("/admin/networks/matrix",{page:a,search:d.value,level:_.value==="all"?void 0:_.value},{preserveState:!0,preserveScroll:!0})};return(a,t)=>(r(),c(P,{title:"Jaringan Matrix"},{default:l(()=>[$("div",ee,[s(q,{stats:R.value,columns:4},null,8,["stats"]),s(e(E),null,{default:l(()=>[s(e(G),null,{default:l(()=>[s(e(W),null,{default:l(()=>[...t[0]||(t[0]=[k("Jaringan Matrix",-1)])]),_:1}),s(e(U),null,{default:l(()=>[...t[1]||(t[1]=[k(" Monitoring member dalam struktur jaringan matrix (sponsor - downline) ",-1)])]),_:1})]),_:1}),s(e(Q),null,{default:l(()=>[s(z,{filters:V.value,"on-update":D},null,8,["filters"]),$("div",te,[s(e(X),null,{default:l(()=>[s(e(Y),null,{default:l(()=>[(r(!0),u(v,null,f(e(g).getHeaderGroups(),n=>(r(),c(e(h),{key:n.id},{default:l(()=>[(r(!0),u(v,null,f(n.headers,o=>(r(),c(e(Z),{key:o.id},{default:l(()=>[o.isPlaceholder?L("",!0):(r(),u("div",{key:0,class:J(o.column.getCanSort()?"cursor-pointer select-none":""),onClick:I=>o.column.getToggleSortingHandler()?.(I)},[s(e(M),{render:o.column.columnDef.header,props:o.getContext()},null,8,["render","props"]),o.column.getIsSorted()==="asc"?(r(),u("span",le," ↑")):o.column.getIsSorted()==="desc"?(r(),u("span",se," ↓")):L("",!0)],10,ae))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),s(e(O),null,{default:l(()=>[e(g).getRowModel().rows?.length?(r(!0),u(v,{key:0},f(e(g).getRowModel().rows,n=>(r(),c(e(h),{key:n.id,"data-state":n.getIsSelected()?"selected":void 0},{default:l(()=>[(r(!0),u(v,null,f(n.getVisibleCells(),o=>(r(),c(e(T),{key:o.id},{default:l(()=>[s(e(M),{render:o.column.columnDef.cell,props:o.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(r(),c(e(h),{key:1},{default:l(()=>[s(e(T),{colspan:C.length,class:"h-24 text-center"},{default:l(()=>[...t[2]||(t[2]=[k(" Tidak ada data. ",-1)])]),_:1},8,["colspan"])]),_:1}))]),_:1})]),_:1})]),s(A,{data:S.networks,"item-label":"member","on-page-change":F},null,8,["data"])]),_:1})]),_:1})])]),_:1}))}});export{Se as default};
