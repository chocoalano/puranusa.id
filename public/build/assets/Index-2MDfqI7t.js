import{d as M,r as k,v as x,g as r,b as t,u as e,a0 as O,w as l,e as d,t as z,j as y,s as u,Y as Q,Z as Y,P as Z,F as w,x as P,c as C,K as i,an as $,ai as q}from"./vendor-BcJu9AAH.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-DcdoyRoT.js";import{_ as S}from"./index-DdPgXMF5.js";import{_ as v}from"./index-B-HLTJ14.js";import{_ as J}from"./Input.vue_vue_type_script_setup_true_lang-CtLoVYP_.js";import{_ as W,a as X,b as D,c as f,d as h,e as o}from"./TableHeader.vue_vue_type_script_setup_true_lang-DwjJXyuR.js";import{_ as ee,a as te,b as ae,c as H}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BccCC61Q.js";import{_ as j,a as F,b as I,c as E,d as _}from"./SelectValue.vue_vue_type_script_setup_true_lang-DOFahpuV.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-DREEJQRG.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DzjjQG7k.js";import"./index-DqFeuJ-n.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-6ChEtU6y.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DduvX08w.js";const le={class:"space-y-6rounded-xl p-4 space-y-6 py-6"},se={class:"flex items-center justify-between"},ue={class:"flex items-center gap-4"},ne={class:"relative flex-1"},ie={class:"rounded-md border"},re={class:"flex flex-wrap gap-1"},de={key:0,class:"flex items-center justify-between"},oe={class:"text-sm text-muted-foreground"},fe={class:"flex gap-2"},Ve=M({__name:"Index",props:{products:{},categories:{},filters:{}},setup(m){const p=m,A=k(p.filters.search||""),V=k(p.filters.category?.toString()||"all"),K=k(p.filters.status?.toString()||"all"),N=k(p.filters.sort_by||"created_at"),B=k(p.filters.sort_order||"desc"),T=k(p.filters.per_page||15),U=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n),c=()=>{y.get("/admin/products",{search:A.value,category:V.value==="all"?void 0:V.value,status:K.value==="all"?void 0:K.value,sort_by:N.value,sort_order:B.value,per_page:T.value},{preserveState:!0,preserveScroll:!0})},g=n=>{N.value===n?B.value=B.value==="asc"?"desc":"asc":(N.value=n,B.value="asc"),c()},R=n=>{const a=(n.b_sponsor||0)+(n.b_matching||0)+(n.b_pairing||0)+(n.b_cashback||0)+(n.b_retail||0);return a>0?U(a):"-"},L=n=>{confirm("Apakah Anda yakin ingin menghapus produk ini?")&&y.delete(`/admin/products/${n}`,{preserveScroll:!0})};return(n,a)=>(r(),x(w,null,[t(e(O),{title:"Kelola Produk"}),t(G,null,{default:l(()=>[d("div",le,[d("div",se,[a[12]||(a[12]=d("div",null,[d("h2",{class:"text-3xl font-bold tracking-tight"},"Kelola Produk"),d("p",{class:"text-muted-foreground"},"Kelola semua produk yang tersedia di toko")],-1)),t(e(v),{onClick:a[0]||(a[0]=s=>e(y).visit("/admin/products/create"))},{default:l(()=>[t(e(Q),{class:"mr-2 h-4 w-4"}),a[11]||(a[11]=u(" Tambah Produk ",-1))]),_:1})]),d("div",ue,[d("div",ne,[t(e(Y),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(J),{modelValue:A.value,"onUpdate:modelValue":a[1]||(a[1]=s=>A.value=s),placeholder:"Cari produk...",class:"pl-10",onKeydown:Z(c,["enter"])},null,8,["modelValue"])]),t(e(j),{modelValue:V.value,"onUpdate:modelValue":[a[2]||(a[2]=s=>V.value=s),c]},{default:l(()=>[t(e(F),{class:"w-[200px]"},{default:l(()=>[t(e(I),{placeholder:"Semua Kategori"})]),_:1}),t(e(E),null,{default:l(()=>[t(e(_),{value:"all"},{default:l(()=>[...a[13]||(a[13]=[u("Semua Kategori",-1)])]),_:1}),(r(!0),x(w,null,P(m.categories,s=>(r(),C(e(_),{key:s.id,value:s.id.toString()},{default:l(()=>[u(i(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t(e(j),{modelValue:K.value,"onUpdate:modelValue":[a[3]||(a[3]=s=>K.value=s),c]},{default:l(()=>[t(e(F),{class:"w-[150px]"},{default:l(()=>[t(e(I),{placeholder:"Status"})]),_:1}),t(e(E),null,{default:l(()=>[t(e(_),{value:"all"},{default:l(()=>[...a[14]||(a[14]=[u("Semua Status",-1)])]),_:1}),t(e(_),{value:"1"},{default:l(()=>[...a[15]||(a[15]=[u("Aktif",-1)])]),_:1}),t(e(_),{value:"0"},{default:l(()=>[...a[16]||(a[16]=[u("Tidak Aktif",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(e(j),{modelValue:T.value,"onUpdate:modelValue":[a[4]||(a[4]=s=>T.value=s),c]},{default:l(()=>[t(e(F),{class:"w-[100px]"},{default:l(()=>[t(e(I))]),_:1}),t(e(E),null,{default:l(()=>[t(e(_),{value:10},{default:l(()=>[...a[17]||(a[17]=[u("10",-1)])]),_:1}),t(e(_),{value:25},{default:l(()=>[...a[18]||(a[18]=[u("25",-1)])]),_:1}),t(e(_),{value:50},{default:l(()=>[...a[19]||(a[19]=[u("50",-1)])]),_:1}),t(e(_),{value:100},{default:l(()=>[...a[20]||(a[20]=[u("100",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),d("div",ie,[t(e(W),null,{default:l(()=>[t(e(X),null,{default:l(()=>[t(e(D),null,{default:l(()=>[t(e(f),null,{default:l(()=>[t(e(v),{variant:"ghost",onClick:a[5]||(a[5]=s=>g("sku")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[21]||(a[21]=u(" SKU ",-1)),t(e($),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(f),null,{default:l(()=>[t(e(v),{variant:"ghost",onClick:a[6]||(a[6]=s=>g("name")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[22]||(a[22]=u(" Nama Produk ",-1)),t(e($),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(f),null,{default:l(()=>[...a[23]||(a[23]=[u("Kategori",-1)])]),_:1}),t(e(f),null,{default:l(()=>[t(e(v),{variant:"ghost",onClick:a[7]||(a[7]=s=>g("base_price")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[24]||(a[24]=u(" Harga ",-1)),t(e($),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(f),null,{default:l(()=>[t(e(v),{variant:"ghost",onClick:a[8]||(a[8]=s=>g("bv")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[25]||(a[25]=u(" BV ",-1)),t(e($),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(f),null,{default:l(()=>[...a[26]||(a[26]=[u("Total Bonus",-1)])]),_:1}),t(e(f),null,{default:l(()=>[t(e(v),{variant:"ghost",onClick:a[9]||(a[9]=s=>g("b_retail")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[27]||(a[27]=u(" B. Retail ",-1)),t(e($),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(f),null,{default:l(()=>[t(e(v),{variant:"ghost",onClick:a[10]||(a[10]=s=>g("stock")),class:"flex items-center gap-1 p-0 h-auto"},{default:l(()=>[a[28]||(a[28]=u(" Stok ",-1)),t(e($),{class:"h-3 w-3"})]),_:1})]),_:1}),t(e(f),null,{default:l(()=>[...a[29]||(a[29]=[u("Status",-1)])]),_:1}),t(e(f),{class:"w-[80px]"})]),_:1})]),_:1}),t(e(h),null,{default:l(()=>[m.products.data.length===0?(r(),C(e(D),{key:0},{default:l(()=>[t(e(o),{colspan:"10",class:"text-center text-muted-foreground"},{default:l(()=>[...a[30]||(a[30]=[u(" Tidak ada produk ditemukan ",-1)])]),_:1})]),_:1})):z("",!0),(r(!0),x(w,null,P(m.products.data,s=>(r(),C(e(D),{key:s.id},{default:l(()=>[t(e(o),{class:"font-medium"},{default:l(()=>[u(i(s.sku),1)]),_:2},1024),t(e(o),null,{default:l(()=>[u(i(s.name),1)]),_:2},1024),t(e(o),null,{default:l(()=>[d("div",re,[(r(!0),x(w,null,P(s.categories,b=>(r(),C(e(S),{key:b.id,variant:"secondary"},{default:l(()=>[u(i(b.name),1)]),_:2},1024))),128))])]),_:2},1024),t(e(o),null,{default:l(()=>[u(i(U(s.base_price)),1)]),_:2},1024),t(e(o),null,{default:l(()=>[t(e(S),{variant:"outline"},{default:l(()=>[u(i(s.bv||0),1)]),_:2},1024)]),_:2},1024),t(e(o),null,{default:l(()=>[u(i(R(s)),1)]),_:2},1024),t(e(o),null,{default:l(()=>[t(e(S),{variant:"outline"},{default:l(()=>[u(i(s.b_retail?U(s.b_retail):"-"),1)]),_:2},1024)]),_:2},1024),t(e(o),null,{default:l(()=>[t(e(S),{variant:s.stock>0?"default":"destructive"},{default:l(()=>[u(i(s.stock),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(o),null,{default:l(()=>[t(e(S),{variant:s.is_active?"default":"secondary"},{default:l(()=>[u(i(s.is_active?"Aktif":"Tidak Aktif"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(o),null,{default:l(()=>[t(e(ee),null,{default:l(()=>[t(e(te),{"as-child":""},{default:l(()=>[t(e(v),{variant:"ghost",size:"icon"},{default:l(()=>[t(e(q),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ae),{align:"end"},{default:l(()=>[t(e(H),{onClick:b=>e(y).visit(`/admin/products/${s.id}/edit`)},{default:l(()=>[...a[31]||(a[31]=[u(" Edit ",-1)])]),_:1},8,["onClick"]),t(e(H),{onClick:b=>L(s.id),class:"text-destructive"},{default:l(()=>[...a[32]||(a[32]=[u(" Hapus ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),m.products.last_page>1?(r(),x("div",de,[d("p",oe," Menampilkan "+i(m.products.data.length)+" dari "+i(m.products.total)+" produk ",1),d("div",fe,[(r(!0),x(w,null,P(m.products.last_page,s=>(r(),C(e(v),{key:s,variant:s===m.products.current_page?"default":"outline",size:"sm",onClick:b=>e(y).get(`/admin/products?page=${s}`)},{default:l(()=>[u(i(s),1)]),_:2},1032,["variant","onClick"]))),128))])])):z("",!0)])]),_:1})],64))}});export{Ve as default};
