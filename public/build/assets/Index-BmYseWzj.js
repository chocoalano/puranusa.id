import{_ as Xe,a as Ye,b as ee,c as te}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-DU3t3Ny8.js";import{b as ft,c as tt,_ as vt}from"./Ecommerce.vue_vue_type_script_setup_true_lang-DXzgVU4y.js";import{d as Z,r as T,p as I,c as R,g as r,u as e,w as a,b as s,e as t,s as o,K as l,cy as de,aM as xe,bv as gt,d1 as bt,dx as yt,Q as j,E as je,v as m,M as ve,Y as kt,F as J,x as se,J as V,t as w,aX as _t,$ as ht,z as Ke,h as ne,j as oe,D as me,dm as wt,dK as $t,dL as nt,cv as Pt,dv as Ct,aH as Me,aE as ue,aD as St,dI as Rt,ad as De,aG as Ze,dk as jt,cQ as rt,L as Re,a2 as ye,aj as Mt,am as ge,C as Tt,aN as Qe,dM as ot,dN as Dt,a3 as Vt,dO as it,dP as dt,o as et,dr as Oe,ap as Ve,dG as Be,cz as st,cx as Le,dd as pe,dQ as be,dR as Bt,aq as ze,as as at,dS as Lt,dA as At,dT as Ut,aC as It,dU as Et,dV as Nt,at as Kt,dW as Ot,a1 as zt,ar as ut,dX as mt,a0 as Ft}from"./vendor-CVW9Nval.js";import{_ as Fe,a as Gt}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-DenOdfSF.js";import{_ as Ge}from"./AvatarImage.vue_vue_type_script_setup_true_lang-BvNVfb1D.js";import{_ as B}from"./index-gctV3Ayh.js";import{_ as z,a as F}from"./CardContent.vue_vue_type_script_setup_true_lang-pGOtvMG5.js";import{_ as U}from"./index-B7p2qoN8.js";import{_ as X}from"./CardHeader.vue_vue_type_script_setup_true_lang-BW0MQQHd.js";import{_ as Y}from"./CardTitle.vue_vue_type_script_setup_true_lang-DQhrnhF9.js";import{a as _e,b as he,c as we,d as $e,_ as Pe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-6gwUdpM3.js";import{_ as Ce}from"./DialogFooter.vue_vue_type_script_setup_true_lang-Cn8gwyVG.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-Dtyom-PX.js";import{_ as K}from"./Label.vue_vue_type_script_setup_true_lang-1GqaQLHe.js";import{_ as ke}from"./Textarea.vue_vue_type_script_setup_true_lang-6Fw2YVaN.js";import{_ as Wt}from"./Switch.vue_vue_type_script_setup_true_lang-CKlblv1U.js";import{_ as le}from"./Separator.vue_vue_type_script_setup_true_lang-BnOzuHND.js";import{_ as We,a as qe,b as Je,c as He,d as Te}from"./SelectValue.vue_vue_type_script_setup_true_lang-Rp4It03a.js";import{_ as ie}from"./CardDescription.vue_vue_type_script_setup_true_lang-DismoEA2.js";import{f as qt,g as Jt,h as Ht,i as Xt,j as Yt}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DKSq9Cld.js";import{_ as Ae,a as Ue,b as Ie}from"./index-C3KV03-j.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-waq3CXyO.js";import"./app-DYlxMvfk.js";function fe(){return{formatCurrency:d=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d),formatDate:d=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(d)),getStatusLabel:d=>({pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",delivered:"Selesai",cancelled:"Dibatalkan"})[d]||d,getTransactionTypeLabel:d=>({topup:"Top Up",withdrawal:"Penarikan",bonus:"Bonus",purchase:"Pembelian",refund:"Refund"})[d]||d,getTransactionStatusLabel:d=>({pending:"Menunggu",completed:"Selesai",failed:"Gagal",cancelled:"Dibatalkan"})[d]||d}}const Zt={class:"flex flex-col items-center text-center"},Qt={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},es={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},ts={class:"mt-4 w-full space-y-2 text-sm"},ss={class:"space-y-1.5"},as={class:"flex items-center justify-between"},ls={class:"flex gap-1"},ns={class:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},rs={class:"flex items-center justify-between"},os={class:"font-mono font-semibold"},is={class:"text-[10px] text-gray-500 dark:text-gray-400 mt-1 break-all"},ds={class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},us={class:"font-mono font-semibold"},ms={class:"flex items-center justify-between p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},cs={class:"font-semibold text-emerald-700 dark:text-emerald-400"},ps=Z({__name:"ProfileCard",props:{customer:{}},setup(n){const f=n,{formatCurrency:i}=fe(),u=T(!1),_=I(()=>f.customer.name.split(" ").map(M=>M[0]).join("").toUpperCase().slice(0,2)),d=I(()=>typeof window>"u"?"":`${window.location.origin}/client/register?ref=${f.customer.ref_code}`),c=async()=>{if(typeof window>"u"||!navigator.clipboard){j.error("Tidak dapat menyalin link ke clipboard");return}try{await navigator.clipboard.writeText(d.value),u.value=!0,j.success("Link referral telah disalin ke clipboard"),setTimeout(()=>{u.value=!1},2e3)}catch{j.error("Tidak dapat menyalin link ke clipboard")}},S=async()=>{if(typeof window>"u")return;const M={title:"Bergabung dengan Referral Saya",text:`Gunakan kode referral saya: ${f.customer.ref_code}`,url:d.value};if(navigator.share)try{await navigator.share(M),j.success("Link referral berhasil dibagikan")}catch(p){p.name!=="AbortError"&&console.error("Error sharing:",p)}else await c()};return(M,p)=>(r(),R(e(z),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",Zt,[s(e(Fe),{class:"h-24 w-24 mb-4"},{default:a(()=>[s(e(Ge),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${n.customer.name}`},null,8,["src"]),s(e(Gt),null,{default:a(()=>[o(l(_.value),1)]),_:1})]),_:1}),t("h2",Qt,l(n.customer.name),1),t("p",es,l(n.customer.email),1),n.customer.email_verified_at?(r(),R(e(B),{key:0,class:"mt-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100"},{default:a(()=>[s(e(de),{class:"w-3 h-3 mr-1"}),p[0]||(p[0]=o(" Email Terverifikasi ",-1))]),_:1})):(r(),R(e(B),{key:1,variant:"secondary",class:"mt-3"},{default:a(()=>[s(e(xe),{class:"w-3 h-3 mr-1"}),p[1]||(p[1]=o(" Email Belum Terverifikasi ",-1))]),_:1})),t("div",ts,[t("div",ss,[t("div",as,[p[3]||(p[3]=t("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Referral Link",-1)),t("div",ls,[s(e(U),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:c},{default:a(()=>[u.value?(r(),R(e(gt),{key:0,class:"w-3 h-3 mr-1"})):(r(),R(e(bt),{key:1,class:"w-3 h-3 mr-1"})),o(" "+l(u.value?"Tersalin":"Salin"),1)]),_:1}),s(e(U),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:S},{default:a(()=>[s(e(yt),{class:"w-3 h-3 mr-1"}),p[2]||(p[2]=o(" Bagikan ",-1))]),_:1})])]),t("div",ns,[t("div",rs,[p[4]||(p[4]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Kode Referral",-1)),t("span",os,l(n.customer.ref_code),1)]),t("p",is,l(d.value),1)])]),t("div",ds,[p[5]||(p[5]=t("span",{class:"text-gray-600 dark:text-gray-400"},"E-Wallet ID",-1)),t("span",us,l(n.customer.ewallet_id),1)]),t("div",ms,[p[6]||(p[6]=t("span",{class:"text-emerald-700 dark:text-emerald-400"},"Saldo",-1)),t("span",cs,l(e(i)(n.customer.ewallet_saldo)),1)])])])]),_:1})]),_:1}))}}),xs={class:"flex items-center justify-between"},fs={key:0,class:"text-center py-12 text-muted-foreground"},vs={key:1,class:"space-y-4"},gs={class:"flex items-start gap-3 mb-3"},bs={class:"flex-1 min-w-0"},ys={class:"flex items-center gap-2 mb-1"},ks={class:"font-semibold text-sm"},_s={class:"text-sm font-medium"},hs={class:"text-xs text-muted-foreground"},ws={class:"space-y-1 mb-3"},$s={class:"text-sm"},Ps={key:0,class:"text-sm text-muted-foreground"},Cs={class:"text-sm text-muted-foreground"},Ss={key:0},Rs={class:"text-xs text-muted-foreground"},js={key:1,class:"text-xs text-muted-foreground italic mt-2"},Ms={class:"flex items-center gap-2"},Ts={class:"space-y-4 py-4"},Ds={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Vs={class:"space-y-2"},Bs={class:"flex items-center space-x-2 pt-8"},Ls={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},As={class:"space-y-2"},Us={class:"space-y-2"},Is={class:"space-y-2"},Es={class:"space-y-2"},Ns={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ks={class:"space-y-2"},Os={class:"space-y-2"},zs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Fs={class:"space-y-2"},Gs={class:"space-y-2"},Ws={class:"space-y-2"},qs=Z({__name:"AddressManagement",props:{addresses:{}},setup(n){const f=T(!1),i=T(!1),u=T(!1),_=T(!1),d=T([]),c=T([]),S=T(!1),M=T(!1),p=T(""),v=T(""),g=T({label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""}),x=T(null),b=async()=>{S.value=!0;try{const D=await ne.get("/api/shipping/provinces");d.value=D.data.data}catch(D){j.error("Gagal memuat data provinsi"),console.error("Error loading provinces:",D)}finally{S.value=!1}},W=async D=>{if(D){M.value=!0,c.value=[],v.value="";try{const h=await ne.get("/api/shipping/cities",{params:{province_id:D}});c.value=h.data.data}catch(h){j.error("Gagal memuat data kota"),console.error("Error loading cities:",h)}finally{M.value=!1}}};je(p,D=>{if(!D)return;const h=d.value.find(y=>y.id.toString()===D);h&&(g.value.province_id=parseInt(D),g.value.province_label=h.name,W(D))}),je(v,D=>{if(!D)return;const h=c.value.find(y=>y.id.toString()===D);h&&(g.value.city_id=parseInt(D),g.value.city_label=h.name)});const E=()=>{i.value=!1,g.value={label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""},p.value="",v.value="",c.value=[],b(),f.value=!0},N=D=>{i.value=!0,x.value=D.id,g.value={...D},b().then(()=>{D.province_id&&(p.value=D.province_id.toString(),W(D.province_id.toString()).then(()=>{D.city_id&&(v.value=D.city_id.toString())}))}),f.value=!0},q=()=>{f.value=!1,x.value=null},re=()=>{if(!g.value.recipient_name||!g.value.recipient_phone||!g.value.address_line1){j.error("Mohon lengkapi nama penerima, telepon, dan alamat");return}if(!g.value.province_id||!g.value.city_id){j.error("Mohon pilih provinsi dan kota/kabupaten");return}_.value=!0;const D=i.value&&x.value?`/client/profile/addresses/${x.value}`:"/client/profile/addresses",h=i.value?"put":"post";oe[h](D,g.value,{preserveScroll:!0,onSuccess:()=>{j.success(`Alamat berhasil ${i.value?"diperbarui":"ditambahkan"}`),q()},onError:y=>{if(console.error("Address save error:",y),typeof y=="object"&&y!==null){const $=Object.values(y)[0],k=Array.isArray($)?$[0]:$;j.error(k||"Gagal menyimpan alamat")}else j.error("Gagal menyimpan alamat. Silakan coba lagi.")},onFinish:()=>{_.value=!1}})},G=D=>{confirm("Apakah Anda yakin ingin menghapus alamat ini?")&&(u.value=!0,oe.delete(`/client/profile/addresses/${D}`,{preserveScroll:!0,onSuccess:()=>{j.success("Alamat berhasil dihapus")},onError:h=>{if(console.error("Address delete error:",h),typeof h=="object"&&h!==null){const y=Object.values(h)[0],$=Array.isArray(y)?y[0]:y;j.error($||"Gagal menghapus alamat")}else j.error("Gagal menghapus alamat. Silakan coba lagi.")},onFinish:()=>{u.value=!1}}))},A=D=>{me({}).post(`/client/profile/addresses/${D}/set-default`,{preserveScroll:!0,onSuccess:()=>{j.success("Alamat utama berhasil diubah")},onError:y=>{if(console.error("Set default address error:",y),typeof y=="object"&&y!==null){const $=Object.values(y)[0],k=Array.isArray($)?$[0]:$;j.error(k||"Gagal mengubah alamat utama")}else j.error("Gagal mengubah alamat utama. Silakan coba lagi.")}})},H=D=>D?D.toLowerCase().includes("rumah")||D.toLowerCase().includes("home")?wt:D.toLowerCase().includes("kantor")||D.toLowerCase().includes("office")?$t:ve:ve;return(D,h)=>(r(),m(J,null,[s(e(z),null,{default:a(()=>[s(e(X),null,{default:a(()=>[t("div",xs,[s(e(Y),{class:"flex items-center gap-2"},{default:a(()=>[s(e(ve),{class:"w-5 h-5"}),h[11]||(h[11]=o(" Kelola Alamat ",-1))]),_:1}),s(e(U),{size:"sm",onClick:E},{default:a(()=>[s(e(kt),{class:"w-4 h-4 mr-2"}),h[12]||(h[12]=o(" Tambah Alamat ",-1))]),_:1})])]),_:1}),s(e(F),null,{default:a(()=>[n.addresses.length===0?(r(),m("div",fs,[s(e(ve),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),h[13]||(h[13]=t("p",{class:"mb-2"},"Belum ada alamat tersimpan",-1)),h[14]||(h[14]=t("p",{class:"text-sm"},"Tambahkan alamat untuk mempermudah proses pengiriman",-1))])):(r(),m("div",vs,[(r(!0),m(J,null,se(n.addresses,y=>(r(),m("div",{key:y.id,class:V(["relative p-4 rounded-lg border transition-all",y.is_default?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[y.is_default?(r(),R(e(B),{key:0,variant:"default",class:"absolute top-2 right-2 text-xs"},{default:a(()=>[...h[15]||(h[15]=[o(" Utama ",-1)])]),_:1})):w("",!0),t("div",gs,[(r(),R(_t(H(y.label)),{class:V(["w-5 h-5 mt-1 flex-shrink-0",y.is_default?"text-primary":"text-muted-foreground"])},null,8,["class"])),t("div",bs,[t("div",ys,[t("h4",ks,l(y.label||"Alamat"),1)]),t("p",_s,l(y.recipient_name),1),t("p",hs,l(y.recipient_phone),1)])]),t("div",ws,[t("p",$s,l(y.address_line1),1),y.address_line2?(r(),m("p",Ps,l(y.address_line2),1)):w("",!0),t("p",Cs,[o(l(y.city_label)+", "+l(y.province_label)+" ",1),y.postal_code?(r(),m("span",Ss,l(y.postal_code),1)):w("",!0)]),t("p",Rs,l(y.country),1),y.description?(r(),m("p",js,l(y.description),1)):w("",!0)]),s(e(le),{class:"my-3"}),t("div",Ms,[y.is_default?w("",!0):(r(),R(e(U),{key:0,variant:"outline",size:"sm",onClick:$=>A(y.id)},{default:a(()=>[...h[16]||(h[16]=[o(" Jadikan Utama ",-1)])]),_:1},8,["onClick"])),s(e(U),{variant:"outline",size:"sm",onClick:$=>N(y)},{default:a(()=>[s(e(ht),{class:"w-3 h-3 mr-1"}),h[17]||(h[17]=o(" Edit ",-1))]),_:1},8,["onClick"]),s(e(U),{variant:"destructive",size:"sm",disabled:u.value,onClick:$=>G(y.id)},{default:a(()=>[s(e(Ke),{class:"w-3 h-3 mr-1"}),h[18]||(h[18]=o(" Hapus ",-1))]),_:1},8,["disabled","onClick"])])],2))),128))]))]),_:1})]),_:1}),s(e(Pe),{open:f.value,"onUpdate:open":q},{default:a(()=>[s(e(_e),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[s(e(he),null,{default:a(()=>[s(e(we),null,{default:a(()=>[o(l(i.value?"Edit Alamat":"Tambah Alamat Baru"),1)]),_:1}),s(e($e),null,{default:a(()=>[o(l(i.value?"Perbarui informasi alamat Anda":"Tambahkan alamat pengiriman baru"),1)]),_:1})]),_:1}),t("div",Ts,[t("div",Ds,[t("div",Vs,[s(e(K),{for:"label"},{default:a(()=>[...h[19]||(h[19]=[o("Label Alamat",-1)])]),_:1}),s(e(Q),{id:"label",modelValue:g.value.label,"onUpdate:modelValue":h[0]||(h[0]=y=>g.value.label=y),placeholder:"Rumah, Kantor, dll"},null,8,["modelValue"])]),t("div",Bs,[s(e(Wt),{id:"is_default",checked:g.value.is_default,"onUpdate:checked":h[1]||(h[1]=y=>g.value.is_default=y)},null,8,["checked"]),s(e(K),{for:"is_default",class:"cursor-pointer"},{default:a(()=>[...h[20]||(h[20]=[o("Jadikan alamat utama",-1)])]),_:1})])]),t("div",Ls,[t("div",As,[s(e(K),{for:"recipient_name"},{default:a(()=>[...h[21]||(h[21]=[o("Nama Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Q),{id:"recipient_name",modelValue:g.value.recipient_name,"onUpdate:modelValue":h[2]||(h[2]=y=>g.value.recipient_name=y),placeholder:"Nama lengkap penerima",required:""},null,8,["modelValue"])]),t("div",Us,[s(e(K),{for:"recipient_phone"},{default:a(()=>[...h[22]||(h[22]=[o("No. Telepon Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Q),{id:"recipient_phone",modelValue:g.value.recipient_phone,"onUpdate:modelValue":h[3]||(h[3]=y=>g.value.recipient_phone=y),placeholder:"08xxxxxxxxxx",required:""},null,8,["modelValue"])])]),t("div",Is,[s(e(K),{for:"address_line1"},{default:a(()=>[...h[23]||(h[23]=[o("Alamat Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(ke),{id:"address_line1",modelValue:g.value.address_line1,"onUpdate:modelValue":h[4]||(h[4]=y=>g.value.address_line1=y),placeholder:"Jalan, nomor rumah, RT/RW, blok",rows:"3",required:""},null,8,["modelValue"])]),t("div",Es,[s(e(K),{for:"address_line2"},{default:a(()=>[...h[24]||(h[24]=[o("Detail Tambahan (Opsional)",-1)])]),_:1}),s(e(Q),{id:"address_line2",modelValue:g.value.address_line2,"onUpdate:modelValue":h[5]||(h[5]=y=>g.value.address_line2=y),placeholder:"Patokan, gedung, unit, warna rumah, dll"},null,8,["modelValue"])]),t("div",Ns,[t("div",Ks,[s(e(K),{for:"province"},{default:a(()=>[...h[25]||(h[25]=[o("Provinsi ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(We),{modelValue:p.value,"onUpdate:modelValue":h[6]||(h[6]=y=>p.value=y),disabled:S.value},{default:a(()=>[s(e(qe),{id:"province"},{default:a(()=>[s(e(Je),{placeholder:S.value?"Memuat provinsi...":"Pilih provinsi"},null,8,["placeholder"])]),_:1}),s(e(He),null,{default:a(()=>[(r(!0),m(J,null,se(d.value,y=>(r(),R(e(Te),{key:y.id,value:y.id.toString()},{default:a(()=>[o(l(y.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",Os,[s(e(K),{for:"city"},{default:a(()=>[...h[26]||(h[26]=[o("Kota/Kabupaten ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(We),{modelValue:v.value,"onUpdate:modelValue":h[7]||(h[7]=y=>v.value=y),disabled:!p.value||M.value},{default:a(()=>[s(e(qe),{id:"city"},{default:a(()=>[s(e(Je),{placeholder:M.value?"Memuat kota...":p.value?"Pilih kota/kabupaten":"Pilih provinsi terlebih dahulu"},null,8,["placeholder"])]),_:1}),s(e(He),null,{default:a(()=>[(r(!0),m(J,null,se(c.value,y=>(r(),R(e(Te),{key:y.id,value:y.id.toString()},{default:a(()=>[o(l(y.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),t("div",zs,[t("div",Fs,[s(e(K),{for:"postal_code"},{default:a(()=>[...h[27]||(h[27]=[o("Kode Pos",-1)])]),_:1}),s(e(Q),{id:"postal_code",modelValue:g.value.postal_code,"onUpdate:modelValue":h[8]||(h[8]=y=>g.value.postal_code=y),placeholder:"12345"},null,8,["modelValue"])]),t("div",Gs,[s(e(K),{for:"country"},{default:a(()=>[...h[28]||(h[28]=[o("Negara",-1)])]),_:1}),s(e(Q),{id:"country",modelValue:g.value.country,"onUpdate:modelValue":h[9]||(h[9]=y=>g.value.country=y),placeholder:"Indonesia"},null,8,["modelValue"])])]),t("div",Ws,[s(e(K),{for:"description"},{default:a(()=>[...h[29]||(h[29]=[o("Catatan (Opsional)",-1)])]),_:1}),s(e(ke),{id:"description",modelValue:g.value.description,"onUpdate:modelValue":h[10]||(h[10]=y=>g.value.description=y),placeholder:"Catatan khusus untuk alamat ini",rows:"2"},null,8,["modelValue"])])]),s(e(Ce),null,{default:a(()=>[s(e(U),{variant:"outline",onClick:q,disabled:_.value},{default:a(()=>[...h[30]||(h[30]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{onClick:re,disabled:_.value},{default:a(()=>[o(l(_.value?"Menyimpan...":i.value?"Perbarui":"Simpan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Js={class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},Hs={class:"text-xl font-bold text-emerald-700 dark:text-emerald-400"},Xs={class:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},Ys={class:"text-xl font-bold text-amber-700 dark:text-amber-400"},Zs=Z({__name:"BonusStatsCard",props:{customer:{}},setup(n){const{formatCurrency:f}=fe();return(i,u)=>(r(),R(e(z),null,{default:a(()=>[s(e(X),null,{default:a(()=>[s(e(Y),{class:"flex items-center gap-2"},{default:a(()=>[s(e(nt),{class:"w-5 h-5"}),u[0]||(u[0]=o(" Statistik Bonus ",-1))]),_:1})]),_:1}),s(e(F),{class:"space-y-3"},{default:a(()=>[t("div",Js,[u[1]||(u[1]=t("p",{class:"text-xs text-emerald-700 dark:text-emerald-400 mb-1"},"Total Dirilis",-1)),t("p",Hs,l(e(f)(n.customer.bonus_stats.total_released)),1)]),t("div",Xs,[u[2]||(u[2]=t("p",{class:"text-xs text-amber-700 dark:text-amber-400 mb-1"},"Total Pending",-1)),t("p",Ys,l(e(f)(n.customer.bonus_stats.total_pending)),1)])]),_:1})]),_:1}))}}),Qs={class:"flex items-center gap-3"},ea={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},ta={class:"font-semibold"},sa=Z({__name:"MemberSinceCard",props:{createdAt:{}},setup(n){const{formatDate:f}=fe();return(i,u)=>(r(),R(e(z),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",Qs,[t("div",ea,[s(e(Pt),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[u[0]||(u[0]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Member Sejak",-1)),t("p",ta,l(e(f)(n.createdAt)),1)])])]),_:1})]),_:1}))}}),aa={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},la={class:"space-y-2"},na={class:"relative"},ra={key:0,class:"text-sm text-red-500"},oa={class:"space-y-2"},ia={class:"relative"},da={key:0,class:"text-sm text-red-500"},ua={class:"space-y-2"},ma={class:"relative"},ca={key:0,class:"text-sm text-red-500"},pa={class:"space-y-2"},xa={key:0,class:"text-sm text-red-500"},fa={class:"space-y-2"},va={class:"relative"},ga={key:0,class:"text-sm text-red-500"},ba={class:"space-y-2"},ya={class:"relative"},ka={key:0,class:"text-sm text-red-500"},_a={class:"space-y-2"},ha={class:"relative"},wa={key:0,class:"text-sm text-red-500"},$a={class:"space-y-2"},Pa={key:0,class:"text-sm text-red-500"},Ca={class:"flex items-center justify-end gap-3"},Sa=Z({__name:"ProfileInformationTab",props:{customer:{}},setup(n){const f=n,i=me({name:f.customer.name,username:f.customer.username||"",nik:f.customer.nik||"",gender:f.customer.gender||"",alamat:f.customer.alamat||"",email:f.customer.email,phone:f.customer.phone,description:f.customer.description||""}),u=()=>{i.patch("/client/profile",{preserveScroll:!0,onSuccess:()=>{j.success("Informasi profil berhasil diperbarui")}})};return(_,d)=>(r(),R(e(z),null,{default:a(()=>[s(e(X),null,{default:a(()=>[s(e(Y),null,{default:a(()=>[...d[9]||(d[9]=[o("Informasi Profile",-1)])]),_:1}),s(e(ie),null,{default:a(()=>[...d[10]||(d[10]=[o(" Update informasi profil Anda di sini ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:De(u,["prevent"]),class:"space-y-6"},[t("div",aa,[t("div",la,[s(e(K),{for:"username"},{default:a(()=>[...d[11]||(d[11]=[o(" Username ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",na,[s(e(Ct),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"username",modelValue:e(i).username,"onUpdate:modelValue":d[0]||(d[0]=c=>e(i).username=c),type:"text",placeholder:"username",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.username?(r(),m("p",ra,l(e(i).errors.username),1)):w("",!0)]),t("div",oa,[s(e(K),{for:"name"},{default:a(()=>[...d[12]||(d[12]=[o(" Nama Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ia,[s(e(Me),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"name",modelValue:e(i).name,"onUpdate:modelValue":d[1]||(d[1]=c=>e(i).name=c),type:"text",placeholder:"Masukkan nama lengkap",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.name?(r(),m("p",da,l(e(i).errors.name),1)):w("",!0)]),t("div",ua,[s(e(K),{for:"nik"},{default:a(()=>[...d[13]||(d[13]=[o("NIK (Nomor Induk Kependudukan)",-1)])]),_:1}),t("div",ma,[s(e(ue),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"nik",modelValue:e(i).nik,"onUpdate:modelValue":d[2]||(d[2]=c=>e(i).nik=c),type:"text",placeholder:"16 digit NIK",class:"pl-10",maxlength:"16"},null,8,["modelValue"])]),e(i).errors.nik?(r(),m("p",ca,l(e(i).errors.nik),1)):w("",!0)]),t("div",pa,[s(e(K),{for:"gender"},{default:a(()=>[...d[14]||(d[14]=[o("Jenis Kelamin",-1)])]),_:1}),s(e(We),{modelValue:e(i).gender,"onUpdate:modelValue":d[3]||(d[3]=c=>e(i).gender=c)},{default:a(()=>[s(e(qe),null,{default:a(()=>[s(e(Je),{placeholder:"Pilih jenis kelamin"})]),_:1}),s(e(He),null,{default:a(()=>[s(e(Te),{value:"male"},{default:a(()=>[...d[15]||(d[15]=[o("Laki-laki",-1)])]),_:1}),s(e(Te),{value:"female"},{default:a(()=>[...d[16]||(d[16]=[o("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(i).errors.gender?(r(),m("p",xa,l(e(i).errors.gender),1)):w("",!0)]),t("div",fa,[s(e(K),{for:"email"},{default:a(()=>[...d[17]||(d[17]=[o(" Email ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",va,[s(e(St),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"email",modelValue:e(i).email,"onUpdate:modelValue":d[4]||(d[4]=c=>e(i).email=c),type:"email",placeholder:"email@example.com",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.email?(r(),m("p",ga,l(e(i).errors.email),1)):w("",!0)]),t("div",ba,[s(e(K),{for:"phone"},{default:a(()=>[...d[18]||(d[18]=[o(" Nomor Telepon ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ya,[s(e(Rt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"phone",modelValue:e(i).phone,"onUpdate:modelValue":d[5]||(d[5]=c=>e(i).phone=c),type:"tel",placeholder:"08123456789",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.phone?(r(),m("p",ka,l(e(i).errors.phone),1)):w("",!0)])]),t("div",_a,[s(e(K),{for:"alamat"},{default:a(()=>[...d[19]||(d[19]=[o("Alamat",-1)])]),_:1}),t("div",ha,[s(e(ve),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(ke),{id:"alamat",modelValue:e(i).alamat,"onUpdate:modelValue":d[6]||(d[6]=c=>e(i).alamat=c),placeholder:"Masukkan alamat lengkap...",rows:"3",class:"pl-10"},null,8,["modelValue"])]),e(i).errors.alamat?(r(),m("p",wa,l(e(i).errors.alamat),1)):w("",!0)]),t("div",$a,[s(e(K),{for:"description"},{default:a(()=>[...d[20]||(d[20]=[o("Deskripsi",-1)])]),_:1}),s(e(ke),{id:"description",modelValue:e(i).description,"onUpdate:modelValue":d[7]||(d[7]=c=>e(i).description=c),placeholder:"Ceritakan tentang diri Anda...",rows:"4"},null,8,["modelValue"]),d[21]||(d[21]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Maksimal 1000 karakter ",-1)),e(i).errors.description?(r(),m("p",Pa,l(e(i).errors.description),1)):w("",!0)]),t("div",Ca,[s(e(U),{type:"button",variant:"outline",onClick:d[8]||(d[8]=c=>e(i).reset()),disabled:e(i).processing},{default:a(()=>[...d[22]||(d[22]=[o(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(i).processing},{default:a(()=>[e(i).processing?w("",!0):(r(),R(e(de),{key:0,class:"w-4 h-4 mr-2"})),o(" "+l(e(i).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Ra={key:0,class:"flex items-center justify-center py-12"},ja={key:1,class:"space-y-6 py-6"},Ma={class:"space-y-3"},Ta={class:"flex items-center gap-2 text-sm font-medium"},Da={class:"space-y-2"},Va={class:"flex justify-between"},Ba={class:"text-sm font-medium"},La={class:"flex justify-between items-center"},Aa={key:0,class:"flex justify-between"},Ua={class:"text-sm font-medium"},Ia={key:1,class:"flex justify-between items-center"},Ea={class:"space-y-3"},Na={class:"flex items-center gap-2 text-sm font-medium"},Ka={class:"space-y-3"},Oa=["src","alt"],za={class:"flex-1"},Fa={class:"font-medium text-sm"},Ga={class:"text-xs text-muted-foreground"},Wa={class:"text-xs text-muted-foreground"},qa={class:"text-right"},Ja={class:"font-semibold text-sm"},Ha={key:0,class:"space-y-3"},Xa={class:"flex items-center gap-2 text-sm font-medium"},Ya={class:"p-3 bg-muted/30 rounded-lg space-y-1"},Za={class:"font-medium text-sm"},Qa={class:"text-sm text-muted-foreground"},el={class:"text-sm text-muted-foreground"},tl={class:"text-sm text-muted-foreground"},sl={key:1,class:"space-y-3"},al={class:"flex items-center gap-2 text-sm font-medium"},ll={class:"p-3 bg-muted/30 rounded-lg space-y-2"},nl={class:"flex justify-between"},rl={class:"text-sm font-medium"},ol={class:"flex justify-between"},il={class:"text-sm font-medium"},dl={class:"flex justify-between"},ul={class:"text-sm font-medium"},ml={class:"space-y-3"},cl={class:"flex items-center gap-2 text-sm font-medium"},pl={class:"space-y-2 text-sm"},xl={class:"flex justify-between"},fl={key:0,class:"flex justify-between"},vl={class:"text-red-600"},gl={class:"flex justify-between"},bl={key:1,class:"flex justify-between"},yl={class:"flex justify-between font-semibold text-base"},kl={class:"text-primary"},_l={key:2,class:"space-y-2"},hl={class:"space-y-1"},wl={class:"text-sm text-muted-foreground"},$l={key:3,class:"space-y-4 pt-4"},Pl={class:"space-y-3"},Cl={class:"flex items-center gap-2 text-sm font-medium"},Sl={class:"flex items-start justify-between"},Rl={class:"flex items-center gap-2 font-medium text-sm"},jl={class:"text-xs text-muted-foreground"},Ml={key:0,class:"mt-1 text-xs text-destructive"},Tl={class:"flex items-start justify-between"},Dl={class:"flex items-center gap-2 font-medium text-sm"},Vl={key:3},Bl={key:4},Ll={key:4,class:"pt-4"},Al={key:2,class:"flex items-center justify-center py-12 text-muted-foreground"},Ul=Z({__name:"OrderDetailSheet",props:{open:{type:Boolean},orderId:{}},emits:["update:open"],setup(n,{emit:f}){const i=n,u=f,{formatCurrency:_,formatDate:d,getStatusLabel:c}=fe(),S=Ze(),M=I(()=>S.props.auth?.user?.ewallet_saldo??0),p=T(!1),v=T(!1),g=T(!1),x=T(!1),b=T(null),W=T("midtrans"),E=I(()=>b.value?.status?.toUpperCase()==="SHIPPED"),N=I(()=>b.value?.status?.toUpperCase()==="PENDING"&&!b.value?.paid_at),q=I(()=>b.value?M.value>=b.value.grand_total:!1);jt(()=>{typeof document<"u"&&(x.value?document.body.classList.add("midtrans-popup-active"):document.body.classList.remove("midtrans-popup-active"))}),rt(()=>{typeof document<"u"&&document.body.classList.remove("midtrans-popup-active")});const re=I(()=>{const y=b.value?.status?.toLowerCase();return{"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":y==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":y==="processing"||y==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":y==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":y==="delivered"||y==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":y==="cancelled"}}),G=async()=>{if(i.orderId){p.value=!0;try{const y=await ne.get(`/api/client/orders/${i.orderId}`);b.value=y.data.data}catch(y){console.error("Failed to load order:",y),j.error("Gagal memuat detail pesanan")}finally{p.value=!1}}},A=async()=>{if(!(!b.value||!E.value||v.value)){v.value=!0;try{await ne.post(`/api/client/orders/${b.value.id}/complete`),await G(),oe.reload({only:["orders"]}),j.success('Status pesanan berhasil diperbarui menjadi "Selesai".')}catch(y){console.error("Failed to update order status:",y),j.error(y.response?.data?.message||"Gagal memperbarui status pesanan")}finally{v.value=!1}}},H=async()=>{if(!b.value||!N.value||g.value)return;const y=window.snap;if(!y){j.error("Sistem pembayaran belum siap. Mohon refresh halaman.");return}g.value=!0;try{const k=(await ne.post(`/api/client/orders/${b.value.id}/pay`)).data;k.success&&k.snap_token?(x.value=!0,y.pay(k.snap_token,{onSuccess:function(){x.value=!1,g.value=!1,j.success("Pembayaran berhasil!"),G(),oe.reload({only:["orders"]})},onPending:function(){x.value=!1,g.value=!1,j.info("Pembayaran tertunda. Silakan selesaikan pembayaran."),G(),oe.reload({only:["orders"]})},onError:function(){x.value=!1,g.value=!1,j.error("Pembayaran gagal. Silakan coba lagi."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)},onClose:function(){x.value=!1,g.value=!1,j.info("Pembayaran dibatalkan."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)}})):j.error(k.message||"Gagal memproses pembayaran")}catch($){console.error("Failed to initiate payment:",$),j.error($.response?.data?.message||"Gagal memproses pembayaran")}finally{x.value||(g.value=!1)}},D=async()=>{if(!(!b.value||!N.value||g.value)){if(!q.value){j.error("Saldo e-wallet Anda tidak mencukupi");return}g.value=!0;try{const $=(await ne.post(`/api/client/orders/${b.value.id}/pay-wallet`)).data;$.success?(j.success($.message||"Pembayaran berhasil!"),await G(),oe.reload({only:["orders","auth"]})):j.error($.message||"Gagal memproses pembayaran")}catch(y){console.error("Failed to pay with wallet:",y),j.error(y.response?.data?.message||"Gagal memproses pembayaran")}finally{g.value=!1}}},h=()=>{W.value==="wallet"?D():H()};return je(()=>[i.open,i.orderId],([y,$])=>{y&&$&&G()}),(y,$)=>(r(),R(e(qt),{open:n.open,"onUpdate:open":$[3]||($[3]=k=>u("update:open",k))},{default:a(()=>[s(e(Jt),{side:"right",class:"sm:max-w-2xl w-full overflow-y-auto"},{default:a(()=>[s(e(Ht),null,{default:a(()=>[s(e(Xt),null,{default:a(()=>[...$[4]||($[4]=[o("Detail Pesanan",-1)])]),_:1}),s(e(Yt),null,{default:a(()=>[...$[5]||($[5]=[o(" Informasi lengkap pesanan Anda ",-1)])]),_:1})]),_:1}),p.value?(r(),m("div",Ra,[s(e(Re),{class:"h-8 w-8 animate-spin text-muted-foreground"})])):b.value?(r(),m("div",ja,[t("div",Ma,[t("div",Ta,[s(e(ye),{class:"h-4 w-4"}),$[6]||($[6]=t("span",null,"Ringkasan Pesanan",-1))]),t("div",Da,[t("div",Va,[$[7]||($[7]=t("span",{class:"text-sm text-muted-foreground"},"Nomor Pesanan",-1)),t("span",Ba,l(b.value.order_no),1)]),t("div",La,[$[8]||($[8]=t("span",{class:"text-sm text-muted-foreground"},"Status",-1)),s(e(B),{class:V(re.value)},{default:a(()=>[o(l(e(c)(b.value.status)),1)]),_:1},8,["class"])]),b.value.placed_at?(r(),m("div",Aa,[$[9]||($[9]=t("span",{class:"text-sm text-muted-foreground"},"Tanggal Pesan",-1)),t("span",Ua,l(e(d)(b.value.placed_at)),1)])):w("",!0),b.value.paid_at?(r(),m("div",Ia,[$[10]||($[10]=t("span",{class:"text-sm text-muted-foreground"},"Status Pembayaran",-1)),s(e(B),{variant:"secondary"},{default:a(()=>[s(e(de),{class:"w-3 h-3 mr-1"}),o(" Dibayar "+l(e(d)(b.value.paid_at)),1)]),_:1})])):w("",!0)])]),s(e(le)),t("div",Ea,[t("div",Na,[s(e(ye),{class:"h-4 w-4"}),$[11]||($[11]=t("span",null,"Produk Pesanan",-1))]),t("div",Ka,[(r(!0),m(J,null,se(b.value.items,k=>(r(),m("div",{key:k.id,class:"flex gap-4 p-3 bg-muted/30 rounded-lg"},[k.meta_json?.image?(r(),m("img",{key:0,src:k.meta_json.image,alt:k.name,class:"w-16 h-16 object-cover rounded-md"},null,8,Oa)):w("",!0),t("div",za,[t("h4",Fa,l(k.name),1),t("p",Ga,"SKU: "+l(k.sku),1),t("p",Wa,l(k.qty)+"x "+l(e(_)(k.unit_price)),1)]),t("div",qa,[t("p",Ja,l(e(_)(k.row_total)),1)])]))),128))])]),s(e(le)),b.value.shipping_address?(r(),m("div",Ha,[t("div",Xa,[s(e(ve),{class:"h-4 w-4"}),$[12]||($[12]=t("span",null,"Alamat Pengiriman",-1))]),t("div",Ya,[t("p",Za,l(b.value.shipping_address.recipient_name),1),t("p",Qa,l(b.value.shipping_address.recipient_phone),1),t("p",el,l(b.value.shipping_address.address_line1),1),t("p",tl,l(b.value.shipping_address.city_label)+", "+l(b.value.shipping_address.province_label)+" "+l(b.value.shipping_address.postal_code),1)])])):w("",!0),s(e(le)),b.value.applied_promos?.shipping?(r(),m("div",sl,[t("div",al,[s(e(Mt),{class:"h-4 w-4"}),$[13]||($[13]=t("span",null,"Informasi Pengiriman",-1))]),t("div",ll,[t("div",nl,[$[14]||($[14]=t("span",{class:"text-sm text-muted-foreground"},"Kurir",-1)),t("span",rl,l(b.value.applied_promos.shipping.courier),1)]),t("div",ol,[$[15]||($[15]=t("span",{class:"text-sm text-muted-foreground"},"Layanan",-1)),t("span",il,l(b.value.applied_promos.shipping.service),1)]),t("div",dl,[$[16]||($[16]=t("span",{class:"text-sm text-muted-foreground"},"Estimasi",-1)),t("span",ul,l(b.value.applied_promos.shipping.etd)+" hari",1)])])])):w("",!0),s(e(le)),t("div",ml,[t("div",cl,[s(e(ue),{class:"h-4 w-4"}),$[17]||($[17]=t("span",null,"Ringkasan Pembayaran",-1))]),t("div",pl,[t("div",xl,[$[18]||($[18]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),t("span",null,l(e(_)(b.value.subtotal_amount)),1)]),b.value.discount_amount>0?(r(),m("div",fl,[$[19]||($[19]=t("span",{class:"text-muted-foreground"},"Diskon",-1)),t("span",vl,"-"+l(e(_)(b.value.discount_amount)),1)])):w("",!0),t("div",gl,[$[20]||($[20]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),t("span",null,l(e(_)(b.value.shipping_amount)),1)]),b.value.tax_amount>0?(r(),m("div",bl,[$[21]||($[21]=t("span",{class:"text-muted-foreground"},"Pajak",-1)),t("span",null,l(e(_)(b.value.tax_amount)),1)])):w("",!0),s(e(le)),t("div",yl,[$[22]||($[22]=t("span",null,"Total",-1)),t("span",kl,l(e(_)(b.value.grand_total)),1)])])]),b.value.notes?(r(),m("div",_l,[s(e(le)),t("div",hl,[$[23]||($[23]=t("p",{class:"text-sm font-medium"},"Catatan",-1)),t("p",wl,l(b.value.notes),1)])])):w("",!0),N.value?(r(),m("div",$l,[s(e(le)),t("div",Pl,[t("div",Cl,[s(e(ge),{class:"h-4 w-4"}),$[24]||($[24]=t("span",null,"Metode Pembayaran",-1))]),s(e(ft),{modelValue:W.value,"onUpdate:modelValue":$[2]||($[2]=k=>W.value=k),class:"space-y-3"},{default:a(()=>[t("div",{class:V(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":W.value==="wallet","hover:bg-muted":W.value!=="wallet","cursor-not-allowed opacity-50":!q.value}]),onClick:$[0]||($[0]=k=>q.value&&(W.value="wallet"))},[s(e(tt),{value:"wallet",id:"payment-wallet-detail",disabled:!q.value},null,8,["disabled"]),s(e(K),{for:"payment-wallet-detail",class:V(["flex-1 cursor-pointer",{"cursor-not-allowed":!q.value}])},{default:a(()=>[t("div",Sl,[t("div",null,[t("div",Rl,[s(e(ge),{class:"h-4 w-4"}),$[25]||($[25]=o(" E-Wallet ",-1))]),t("div",jl," Saldo: "+l(e(_)(M.value)),1),q.value?w("",!0):(r(),m("div",Ml," Saldo tidak mencukupi (kurang "+l(e(_)(b.value.grand_total-M.value))+") ",1))])])]),_:1},8,["class"])],2),t("div",{class:V(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":W.value==="midtrans","hover:bg-muted":W.value!=="midtrans"}]),onClick:$[1]||($[1]=k=>W.value="midtrans")},[s(e(tt),{value:"midtrans",id:"payment-midtrans-detail"}),s(e(K),{for:"payment-midtrans-detail",class:"flex-1 cursor-pointer"},{default:a(()=>[t("div",Tl,[t("div",null,[t("div",Dl,[s(e(ue),{class:"h-4 w-4"}),$[26]||($[26]=o(" Payment Gateway ",-1))]),$[27]||($[27]=t("div",{class:"text-xs text-muted-foreground"}," Transfer Bank, E-wallet, Kartu Kredit ",-1))])])]),_:1})],2)]),_:1},8,["modelValue"])]),s(e(U),{onClick:h,disabled:g.value||x.value||W.value==="wallet"&&!q.value,class:"w-full",size:"lg"},{default:a(()=>[g.value?(r(),R(e(Re),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):W.value==="wallet"?(r(),R(e(ge),{key:1,class:"h-4 w-4 mr-2"})):(r(),R(e(ue),{key:2,class:"h-4 w-4 mr-2"})),W.value==="wallet"?(r(),m("span",Vl," Bayar dengan E-Wallet "+l(e(_)(b.value.grand_total)),1)):(r(),m("span",Bl," Bayar "+l(e(_)(b.value.grand_total)),1))]),_:1},8,["disabled"])])):w("",!0),E.value?(r(),m("div",Ll,[s(e(U),{onClick:A,disabled:v.value,class:"w-full",size:"lg"},{default:a(()=>[v.value?(r(),R(e(Re),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(r(),R(e(de),{key:1,class:"h-4 w-4 mr-2"})),$[28]||($[28]=o(" Tandai Pesanan Selesai ",-1))]),_:1},8,["disabled"])])):w("",!0)])):(r(),m("div",Al," Tidak ada data pesanan "))]),_:1})]),_:1},8,["open"]))}}),Il={class:"space-y-6 py-4"},El={key:2,class:"flex gap-4 rounded-lg bg-muted p-4"},Nl=["src","alt"],Kl={class:"flex-1"},Ol={class:"font-medium"},zl={class:"space-y-2"},Fl={class:"flex items-center gap-2"},Gl=["onClick","onMouseenter"],Wl={class:"ml-2 text-sm text-muted-foreground"},ql={class:"space-y-2"},Jl={key:0,class:"text-sm text-destructive"},Hl={class:"space-y-2"},Xl={class:"text-right text-xs text-muted-foreground"},Yl={key:0,class:"text-sm text-destructive"},Zl=Z({__name:"ProductReviewDialog",props:{open:{type:Boolean},orderId:{},orderItems:{}},emits:["update:open","review-submitted"],setup(n,{emit:f}){const i=n,u=f,_=T(0),d=T(null),c=T(!1),S=T({}),M=I(()=>i.orderItems[_.value]),p=I(()=>_.value<i.orderItems.length-1),v=I(()=>_.value===i.orderItems.length-1),g=T({order_item_id:0,product_id:0,rating:5,title:"",comment:""}),x=T(0),b=G=>{g.value.rating=G},W=async()=>{if(M.value){g.value.order_item_id=M.value.id,g.value.product_id=M.value.product_id,d.value=null,S.value={},c.value=!0;try{const G=await ne.post(`/api/client/orders/${i.orderId}/reviews`,g.value);if(G.data.success){const A=G.data.message||"Review berhasil dikirim dan menunggu persetujuan!";d.value={type:"success",message:A},j.success(A),p.value?setTimeout(()=>{_.value++,N(),d.value=null},1500):setTimeout(()=>{u("update:open",!1),u("review-submitted"),q()},2e3)}}catch(G){console.error("Submit review error:",G);let A="Gagal mengirim review. Silakan coba lagi.";if(G.response?.data){const H=G.response.data;if(H.message&&(A=H.message),H.errors){S.value=H.errors;const D=Object.values(H.errors)[0];Array.isArray(D)&&D.length>0?A=D[0]:typeof D=="string"&&(A=D)}}d.value={type:"error",message:A},j.error(A)}finally{c.value=!1}}},E=()=>{p.value?(_.value++,N(),d.value=null):(u("update:open",!1),u("review-submitted"),q())},N=()=>{g.value={order_item_id:0,product_id:0,rating:5,title:"",comment:""},S.value={}},q=()=>{_.value=0,N(),d.value=null},re=G=>{u("update:open",G),G||q()};return(G,A)=>(r(),R(e(Pe),{open:n.open,"onUpdate:open":re},{default:a(()=>[s(e(_e),{class:"sm:max-w-[500px]"},{default:a(()=>[s(e(he),null,{default:a(()=>[s(e(we),null,{default:a(()=>[...A[4]||(A[4]=[o("Beri Rating & Review",-1)])]),_:1}),s(e($e),null,{default:a(()=>[o(" Bagikan pengalaman Anda dengan produk ini ("+l(_.value+1)+" dari "+l(n.orderItems.length)+") ",1)]),_:1})]),_:1}),t("div",Il,[!M.value||n.orderItems.length===0?(r(),R(e(Ae),{key:0,variant:"default"},{default:a(()=>[s(e(xe),{class:"h-4 w-4"}),s(e(Ue),null,{default:a(()=>[...A[5]||(A[5]=[o("Tidak Ada Item",-1)])]),_:1}),s(e(Ie),null,{default:a(()=>[...A[6]||(A[6]=[o(" Tidak ada produk yang dapat direview dari pesanan ini. ",-1)])]),_:1})]),_:1})):(r(),m(J,{key:1},[d.value?.type==="success"?(r(),R(e(Ae),{key:0,variant:"default"},{default:a(()=>[s(e(Tt),{class:"h-4 w-4"}),s(e(Ue),null,{default:a(()=>[...A[7]||(A[7]=[o("Berhasil!",-1)])]),_:1}),s(e(Ie),null,{default:a(()=>[o(l(d.value.message),1)]),_:1})]),_:1})):w("",!0),d.value?.type==="error"?(r(),R(e(Ae),{key:1,variant:"destructive"},{default:a(()=>[s(e(xe),{class:"h-4 w-4"}),s(e(Ue),null,{default:a(()=>[...A[8]||(A[8]=[o("Terjadi Kesalahan",-1)])]),_:1}),s(e(Ie),null,{default:a(()=>[o(l(d.value.message),1)]),_:1})]),_:1})):w("",!0),M.value?(r(),m("div",El,[M.value.product_image?(r(),m("img",{key:0,src:M.value.product_image,alt:M.value.product_name,class:"h-20 w-20 rounded-md object-cover"},null,8,Nl)):w("",!0),t("div",Kl,[t("h4",Ol,l(M.value.product_name),1)])])):w("",!0),t("div",zl,[s(e(K),null,{default:a(()=>[...A[9]||(A[9]=[o("Rating Produk",-1)])]),_:1}),t("div",Fl,[(r(),m(J,null,se(5,H=>t("button",{key:H,type:"button",onClick:D=>b(H),onMouseenter:D=>x.value=H,onMouseleave:A[0]||(A[0]=D=>x.value=0),class:"transition-transform hover:scale-110 focus:outline-none"},[s(e(Qe),{class:V(["h-8 w-8 transition-colors",(x.value||g.value.rating)>=H?"fill-yellow-400 text-yellow-400":"text-gray-300"])},null,8,["class"])],40,Gl)),64)),t("span",Wl,l(g.value.rating)+" / 5 ",1)])]),t("div",ql,[s(e(K),{for:"title"},{default:a(()=>[...A[10]||(A[10]=[o("Judul Review (Opsional)",-1)])]),_:1}),s(e(Q),{id:"title",modelValue:g.value.title,"onUpdate:modelValue":A[1]||(A[1]=H=>g.value.title=H),placeholder:"Ringkasan singkat pengalaman Anda",maxlength:"100"},null,8,["modelValue"]),S.value.title?(r(),m("p",Jl,l(S.value.title),1)):w("",!0)]),t("div",Hl,[s(e(K),{for:"comment"},{default:a(()=>[...A[11]||(A[11]=[o("Komentar (Opsional)",-1)])]),_:1}),s(e(ke),{id:"comment",modelValue:g.value.comment,"onUpdate:modelValue":A[2]||(A[2]=H=>g.value.comment=H),placeholder:"Ceritakan pengalaman Anda dengan produk ini...",rows:"4",maxlength:"500"},null,8,["modelValue"]),t("p",Xl,l(g.value.comment?.length||0)+" / 500 karakter ",1),S.value.comment?(r(),m("p",Yl,l(S.value.comment),1)):w("",!0)])],64))]),s(e(Ce),{class:"flex-col gap-2 sm:flex-row"},{default:a(()=>[M.value&&n.orderItems.length>0?(r(),m(J,{key:0},[p.value||v.value?(r(),R(e(U),{key:0,type:"button",variant:"outline",onClick:E,disabled:c.value},{default:a(()=>[o(l(p.value?"Lewati":"Tutup"),1)]),_:1},8,["disabled"])):w("",!0),s(e(U),{type:"button",onClick:W,disabled:c.value||g.value.rating===0,class:"w-full sm:w-auto"},{default:a(()=>[c.value?(r(),R(e(Re),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):w("",!0),o(" "+l(p.value?"Kirim & Lanjut":"Kirim Review"),1)]),_:1},8,["disabled"])],64)):(r(),R(e(U),{key:1,type:"button",variant:"outline",onClick:A[3]||(A[3]=H=>re(!1))},{default:a(()=>[...A[12]||(A[12]=[o(" Tutup ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"]))}}),Ql={class:"rounded-lg border p-4 transition-colors hover:border-primary"},en={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},tn={class:"flex-1"},sn={class:"mb-2 flex items-center gap-3"},an={class:"text-sm font-semibold"},ln={class:"text-xs text-muted-foreground"},nn={class:"mt-2 flex items-center gap-2"},rn={class:"flex flex-col gap-2 md:items-end"},on={class:"text-lg font-bold text-primary"},dn={class:"flex flex-wrap gap-2"},un=Z({__name:"OrderCard",props:{order:{}},setup(n){const f=n,{formatCurrency:i,formatDate:u,getStatusLabel:_}=fe(),d=T(!1),c=T(!1),S=T(!1),M=T(!1),p=T(f.order.status),v=T(f.order.paid_at),g=async()=>{if(!S.value){S.value=!0;try{const E=await ne.post(`/api/client/orders/${f.order.id}/check-payment-status`);E.data.success?(p.value=E.data.status,E.data.paid_at&&(v.value=E.data.paid_at),j.success(E.data.message),setTimeout(()=>{oe.reload({only:["orders"]})},500)):j.error(E.data.message)}catch(E){console.error("Check payment status error:",E),j.error(E.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{S.value=!1}}},x=async()=>{if(!M.value){M.value=!0;try{const E=await ne.post(`/api/client/orders/${f.order.id}/complete`);E.data.success&&(p.value="COMPLETED",j.success(E.data.message||"Pesanan berhasil diselesaikan"),E.data.items&&E.data.items.length>0?(f.order.items=E.data.items,c.value=!0):setTimeout(()=>{oe.reload({only:["orders"]})},500))}catch(E){console.error("Complete order error:",E),j.error(E.response?.data?.message||"Gagal menandai pesanan sebagai diterima")}finally{M.value=!1}}},b=()=>{oe.reload({only:["orders"]})},W=()=>{const E=(f.order.items||[]).filter(N=>!N.has_review);E.length>0?(f.order.items=E,c.value=!0):j.info("Semua produk sudah direview")};return(E,N)=>(r(),m("div",Ql,[t("div",en,[t("div",tn,[t("div",sn,[s(e(ye),{class:"h-5 w-5 text-muted-foreground"}),t("div",null,[t("p",an,l(n.order.order_no),1),t("p",ln,l(n.order.placed_at?e(u)(n.order.placed_at):"Belum ditempatkan"),1)])]),t("div",nn,[s(e(B),{class:V({"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":p.value.toUpperCase()==="PENDING","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":p.value.toUpperCase()==="PROCESSING"||p.value.toUpperCase()==="PAID","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":p.value.toUpperCase()==="SHIPPED","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":p.value.toUpperCase()==="DELIVERED"||p.value.toUpperCase()==="COMPLETED","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":p.value.toUpperCase()==="CANCELLED"})},{default:a(()=>[o(l(e(_)(p.value)),1)]),_:1},8,["class"]),v.value?(r(),R(e(B),{key:0,variant:"secondary"},{default:a(()=>[s(e(de),{class:"mr-1 h-3 w-3"}),N[3]||(N[3]=o(" Dibayar ",-1))]),_:1})):w("",!0)])]),t("div",rn,[t("p",on,l(e(i)(n.order.grand_total)),1),t("div",dn,[p.value.toUpperCase()==="PENDING"&&!v.value?(r(),R(e(U),{key:0,variant:"outline",size:"sm",disabled:S.value,onClick:g},{default:a(()=>[s(e(ot),{class:V(["mr-1 h-3 w-3",{"animate-spin":S.value}])},null,8,["class"]),N[4]||(N[4]=o(" Cek Status ",-1))]),_:1},8,["disabled"])):w("",!0),p.value.toUpperCase()==="SHIPPED"?(r(),R(e(U),{key:1,variant:"default",size:"sm",disabled:M.value,onClick:x},{default:a(()=>[s(e(Dt),{class:"mr-1 h-3 w-3"}),N[5]||(N[5]=o(" Pesanan Diterima ",-1))]),_:1},8,["disabled"])):w("",!0),p.value.toUpperCase()==="COMPLETED"&&n.order.has_unreviewed_items?(r(),R(e(U),{key:2,variant:"outline",size:"sm",onClick:W},{default:a(()=>[s(e(Qe),{class:"mr-1 h-3 w-3"}),N[6]||(N[6]=o(" Tambah Review ",-1))]),_:1})):w("",!0),s(e(U),{variant:"outline",size:"sm",onClick:N[0]||(N[0]=q=>d.value=!0)},{default:a(()=>[...N[7]||(N[7]=[o(" Lihat Detail ",-1)])]),_:1})])])]),s(Ul,{open:d.value,"onUpdate:open":N[1]||(N[1]=q=>d.value=q),"order-id":n.order.id},null,8,["open","order-id"]),s(Zl,{open:c.value,"onUpdate:open":N[2]||(N[2]=q=>c.value=q),"order-id":n.order.id,"order-items":n.order.items||[],onReviewSubmitted:b},null,8,["open","order-id","order-items"])]))}}),mn={key:0,class:"space-y-4"},cn={key:1,class:"py-12 text-center"},pn=Z({__name:"OrdersTab",props:{orders:{}},setup(n){return(f,i)=>(r(),R(e(z),null,{default:a(()=>[s(e(X),null,{default:a(()=>[s(e(Y),null,{default:a(()=>[...i[0]||(i[0]=[o("Pesanan Saya",-1)])]),_:1}),s(e(ie),null,{default:a(()=>[...i[1]||(i[1]=[o(" Riwayat pesanan dan status pengiriman ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[n.orders.length>0?(r(),m("div",mn,[(r(!0),m(J,null,se(n.orders,u=>(r(),R(un,{key:u.id,order:u},null,8,["order"]))),128))])):(r(),m("div",cn,[s(e(ye),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),i[3]||(i[3]=t("p",{class:"text-muted-foreground mb-4"},"Belum ada pesanan",-1)),s(e(Vt),{href:"/beranda"},{default:a(()=>[s(e(U),null,{default:a(()=>[...i[2]||(i[2]=[o(" Mulai Belanja ",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),xn={class:"text-center"},fn={class:"text-4xl font-bold text-primary mb-4"},vn={class:"flex gap-3 justify-center"},gn=Z({__name:"WalletBalance",props:{balance:{}},emits:["topup","withdrawal"],setup(n,{emit:f}){const i=f,{formatCurrency:u}=fe();return(_,d)=>(r(),R(e(z),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",xn,[d[4]||(d[4]=t("p",{class:"text-sm text-muted-foreground mb-2"},"Saldo E-Wallet",-1)),t("p",fn,l(e(u)(n.balance)),1),t("div",vn,[s(e(U),{onClick:d[0]||(d[0]=c=>i("topup")),size:"sm"},{default:a(()=>[s(e(it),{class:"w-4 h-4 mr-2"}),d[2]||(d[2]=o(" Top Up ",-1))]),_:1}),s(e(U),{onClick:d[1]||(d[1]=c=>i("withdrawal")),variant:"outline",size:"sm"},{default:a(()=>[s(e(dt),{class:"w-4 h-4 mr-2"}),d[3]||(d[3]=o(" Tarik Dana ",-1))]),_:1})])])]),_:1})]),_:1}))}}),bn={class:"space-y-2"},yn={class:"relative"},kn={key:0,class:"text-sm text-red-500"},_n={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},hn={class:"flex items-start gap-3"},wn={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},$n={class:"flex items-start gap-3"},Pn={class:"flex items-center justify-end gap-3"},Cn={key:0},Sn={key:1},Rn={key:2},jn={key:3},Mn=Z({__name:"WalletTopupForm",emits:["cancel"],setup(n,{emit:f}){const i=f,u=me({amount:"",payment_method:"midtrans"}),_=T(!1),d=T(!1);et(()=>{if(window.snap){_.value=!0;return}if(typeof window>"u")return;const p=()=>{window.snap&&(_.value=!0,d.value=!1,console.log("Midtrans Snap loaded (event)."))};window.addEventListener("midtrans:snap:loaded",p,{once:!0}),setTimeout(()=>{_.value||(window.snap?(_.value=!0,console.log("Midtrans Snap loaded (fallback).")):(d.value=!0,console.error("Failed to load Midtrans Snap (timeout).")))},5e3)});const c=p=>{if(!window.snap){console.error("Snap not available"),alert("Pembayaran tidak dapat diproses. Silakan refresh halaman dan coba lagi."),i("cancel");return}try{window.snap.pay(p,{onSuccess:function(v){console.log("Payment success:",v),j.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(v){console.log("Payment pending:",v),j.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(v){console.error("Payment error (Midtrans):",v),j.error("Pembayaran gagal.");try{console.log("Midtrans raw error JSON:",JSON.stringify(v,null,2))}catch{}const g=v?.status_message||v?.status_code||"Terjadi kesalahan pembayaran.",x=v?.status_code==="505"?`
Catatan: Sandbox sering menolak VA dengan nominal rendah (coba >= 15000 atau metode lain).`:"";if(v?.status_code==="505"){alert("Midtrans Error: "+g+x+`
Sandbox akan otomatis mencoba QRIS.`),M("qris");return}alert("Midtrans Error: "+g+`
Silakan coba metode lain atau refresh.`),i("cancel")},onClose:function(){console.log("Payment modal closed"),j("Pembayaran ditutup sebelum selesai."),i("cancel")}})}catch(v){console.error("Error opening Snap modal:",v),alert("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),j.error("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),i("cancel")}},S=async()=>{if(!u.processing){if(!_.value||!window.snap){j.error("Sistem pembayaran belum siap. Silakan tunggu beberapa saat atau refresh halaman.");return}try{u.processing=!0;const v=(await ne.post("/client/wallet/topup",{amount:u.amount,payment_method:u.payment_method})).data,g=v.snap_token;if(v.success===!1&&v.message){j.error(v.message),u.processing=!1;return}g&&typeof g=="string"&&g.trim()!==""?(u.reset(),u.processing=!1,setTimeout(()=>{c(g)},100)):(u.processing=!1,console.error("Invalid snap token:",g),console.error("Full response:",v),j.error("Gagal mendapatkan token pembayaran. Silakan coba lagi."),u.reset(),i("cancel"))}catch(p){if(u.processing=!1,console.error("Form submission error:",p),j.error("Terjadi kesalahan saat mengirim formulir."),p.response?.status===422&&p.response?.data?.errors){const v=p.response.data.errors,g=Object.values(v)[0],x=Array.isArray(g)?g[0]:g;j.error(x)}else{const v=p.response?.data?.message||p.message||"Terjadi kesalahan. Silakan coba lagi.";j.error(v)}u.reset()}}},M=async p=>{if(!u.processing){if(!_.value||!window.snap){alert("Sistem pembayaran belum siap untuk retry.");return}try{u.processing=!0;const g=(await ne.post("/client/wallet/topup",{amount:u.amount||"20000",payment_method:u.payment_method,force_payment:p})).data,x=g.snap_token;if(!g.success||!x){j.error(g.message||"Retry gagal mendapatkan token."),u.processing=!1;return}u.processing=!1,j.success("Metode dialihkan ke "+p.toUpperCase()+". Silakan lanjutkan pembayaran."),c(x)}catch(v){u.processing=!1,j.error(v?.response?.data?.message||v.message||"Retry gagal.")}}};return(p,v)=>(r(),R(e(z),null,{default:a(()=>[s(e(X),null,{default:a(()=>[s(e(Y),null,{default:a(()=>[...v[2]||(v[2]=[o("Top Up E-Wallet",-1)])]),_:1}),s(e(ie),null,{default:a(()=>[...v[3]||(v[3]=[o(" Isi saldo e-wallet Anda melalui Midtrans ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:De(S,["prevent"]),class:"space-y-6"},[t("div",bn,[s(e(K),{for:"topup_amount"},{default:a(()=>[...v[4]||(v[4]=[o(" Jumlah Top Up ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",yn,[s(e(ue),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"topup_amount",modelValue:e(u).amount,"onUpdate:modelValue":v[0]||(v[0]=g=>e(u).amount=g),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:"10000000",required:""},null,8,["modelValue"])]),v[5]||(v[5]=t("p",{class:"text-xs text-muted-foreground"}," Minimum Rp 10.000 - Maximum Rp 10.000.000. Disarankan >= Rp 15.000 untuk Virtual Account agar tidak ditolak (505). ",-1)),e(u).errors.amount?(r(),m("p",kn,l(e(u).errors.amount),1)):w("",!0)]),t("div",_n,[t("div",hn,[s(e(ue),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),v[6]||(v[6]=t("div",null,[t("p",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"}," Pembayaran via Midtrans "),t("p",{class:"text-xs text-blue-700 dark:text-blue-300 mt-1"}," Anda akan diarahkan ke halaman pembayaran Midtrans untuk menyelesaikan transaksi ")],-1))])]),d.value?(r(),m("div",wn,[t("div",$n,[s(e(xe),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),v[7]||(v[7]=t("div",null,[t("p",{class:"text-sm font-semibold text-red-900 dark:text-red-100"}," Sistem Pembayaran Belum Siap "),t("p",{class:"text-xs text-red-700 dark:text-red-300 mt-1"}," Silakan refresh halaman untuk memuat ulang sistem pembayaran. ")],-1))])])):w("",!0),t("div",Pn,[s(e(U),{type:"button",variant:"outline",onClick:v[1]||(v[1]=g=>{e(u).reset(),i("cancel")}),disabled:e(u).processing},{default:a(()=>[...v[8]||(v[8]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(u).processing||d.value||!_.value},{default:a(()=>[e(u).processing?(r(),m("span",Cn,"Memproses...")):!_.value&&!d.value?(r(),m("span",Sn,"Memuat sistem pembayaran...")):d.value?(r(),m("span",Rn,"Sistem pembayaran error")):(r(),m("span",jn,"Lanjut ke Pembayaran"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Tn={class:"space-y-2"},Dn={class:"relative"},Vn={class:"text-xs text-muted-foreground"},Bn={key:0,class:"text-sm text-red-500"},Ln={class:"space-y-4"},An={class:"space-y-2"},Un={key:0,class:"text-sm text-red-500"},In={class:"space-y-2"},En={key:0,class:"text-sm text-red-500"},Nn={class:"space-y-2"},Kn={key:0,class:"text-sm text-red-500"},On={class:"flex items-center justify-end gap-3"},zn=Z({__name:"WalletWithdrawalForm",props:{maxAmount:{}},emits:["cancel"],setup(n,{emit:f}){const i=f,u=me({amount:"",bank_name:"",bank_account:"",bank_holder:""}),_=()=>{u.post("/client/wallet/withdrawal",{preserveScroll:!0,onSuccess:()=>{u.reset(),i("cancel"),j.success("Permintaan penarikan berhasil diajukan.")}})};return(d,c)=>(r(),R(e(z),null,{default:a(()=>[s(e(X),null,{default:a(()=>[s(e(Y),null,{default:a(()=>[...c[5]||(c[5]=[o("Tarik Dana E-Wallet",-1)])]),_:1}),s(e(ie),null,{default:a(()=>[...c[6]||(c[6]=[o(" Tarik saldo ke rekening bank Anda ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:De(_,["prevent"]),class:"space-y-6"},[t("div",Tn,[s(e(K),{for:"withdrawal_amount"},{default:a(()=>[...c[7]||(c[7]=[o(" Jumlah Penarikan ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Dn,[s(e(ue),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"withdrawal_amount",modelValue:e(u).amount,"onUpdate:modelValue":c[0]||(c[0]=S=>e(u).amount=S),type:"number",placeholder:"Minimal Rp 50.000",class:"pl-10",min:"50000",max:n.maxAmount,required:""},null,8,["modelValue","max"])]),t("p",Vn," Minimum Rp 50.000 - Maksimal Rp "+l(n.maxAmount.toLocaleString("id-ID")),1),e(u).errors.amount?(r(),m("p",Bn,l(e(u).errors.amount),1)):w("",!0)]),s(e(le)),t("div",Ln,[c[11]||(c[11]=t("h4",{class:"font-semibold"},"Informasi Rekening",-1)),t("div",An,[s(e(K),{for:"bank_name"},{default:a(()=>[...c[8]||(c[8]=[o(" Nama Bank ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Q),{id:"bank_name",modelValue:e(u).bank_name,"onUpdate:modelValue":c[1]||(c[1]=S=>e(u).bank_name=S),type:"text",placeholder:"e.g., BCA, Mandiri, BNI",required:""},null,8,["modelValue"]),e(u).errors.bank_name?(r(),m("p",Un,l(e(u).errors.bank_name),1)):w("",!0)]),t("div",In,[s(e(K),{for:"bank_account"},{default:a(()=>[...c[9]||(c[9]=[o(" Nomor Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Q),{id:"bank_account",modelValue:e(u).bank_account,"onUpdate:modelValue":c[2]||(c[2]=S=>e(u).bank_account=S),type:"text",placeholder:"Nomor rekening bank",required:""},null,8,["modelValue"]),e(u).errors.bank_account?(r(),m("p",En,l(e(u).errors.bank_account),1)):w("",!0)]),t("div",Nn,[s(e(K),{for:"bank_holder"},{default:a(()=>[...c[10]||(c[10]=[o(" Nama Pemilik Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Q),{id:"bank_holder",modelValue:e(u).bank_holder,"onUpdate:modelValue":c[3]||(c[3]=S=>e(u).bank_holder=S),type:"text",placeholder:"Nama sesuai rekening bank",required:""},null,8,["modelValue"]),e(u).errors.bank_holder?(r(),m("p",Kn,l(e(u).errors.bank_holder),1)):w("",!0)])]),c[13]||(c[13]=t("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},[t("p",{class:"text-sm text-amber-700 dark:text-amber-300"},[t("strong",null,"Catatan:"),o(" Penarikan akan diproses dalam 1-3 hari kerja. Pastikan data rekening sudah benar. ")])],-1)),t("div",On,[s(e(U),{type:"button",variant:"outline",onClick:c[4]||(c[4]=S=>{e(u).reset(),i("cancel")}),disabled:e(u).processing},{default:a(()=>[...c[12]||(c[12]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(u).processing},{default:a(()=>[o(l(e(u).processing?"Memproses...":"Ajukan Penarikan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Fn={class:"p-3 border rounded-lg"},Gn={class:"flex items-center justify-between"},Wn={class:"flex items-center gap-3"},qn={class:"font-semibold text-sm"},Jn={class:"text-xs text-muted-foreground"},Hn={class:"text-xs text-muted-foreground"},Xn={class:"text-right"},Yn={key:0,class:"mt-3 pt-3 border-t"},Zn={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},Qn={class:"flex gap-2"},er=Z({__name:"WalletTransactionCard",props:{transaction:{}},emits:["continue-payment","status-updated"],setup(n,{emit:f}){const i=n,u=f,{formatCurrency:_,formatDate:d,getTransactionTypeLabel:c,getTransactionStatusLabel:S}=fe(),M=T(!1),p=T(i.transaction.status),v=async g=>{if(!M.value){M.value=!0;try{const x=await ne.post("/client/wallet/check-status",{transaction_ref:g});x.data.success?(p.value=x.data.status,u("status-updated",{transactionRef:g,status:x.data.status,newBalance:x.data.new_balance}),j.success(x.data.message),setTimeout(()=>{oe.reload({only:["customer","transactions"]})},500)):j.error(x.data.message)}catch(x){console.error("Check status error:",x),j.error(x.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{M.value=!1}}};return(g,x)=>(r(),m("div",Fn,[t("div",Gn,[t("div",Wn,[t("div",{class:V(["p-2 rounded-full",{"bg-emerald-100 dark:bg-emerald-900/20":n.transaction.type==="topup"||n.transaction.type==="bonus","bg-red-100 dark:bg-red-900/20":n.transaction.type==="withdrawal"||n.transaction.type==="purchase","bg-blue-100 dark:bg-blue-900/20":n.transaction.type==="refund"}])},[n.transaction.type==="topup"||n.transaction.type==="bonus"||n.transaction.type==="refund"?(r(),R(e(it),{key:0,class:V(["w-4 h-4",{"text-emerald-600 dark:text-emerald-400":n.transaction.type==="topup"||n.transaction.type==="bonus","text-blue-600 dark:text-blue-400":n.transaction.type==="refund"}])},null,8,["class"])):(r(),R(e(dt),{key:1,class:"w-4 h-4 text-red-600 dark:text-red-400"}))],2),t("div",null,[t("p",qn,l(e(c)(n.transaction.type)),1),t("p",Jn,l(n.transaction.transaction_ref),1),t("p",Hn,l(e(d)(n.transaction.created_at)),1)])]),t("div",Xn,[t("p",{class:V(["font-bold",{"text-emerald-600 dark:text-emerald-400":n.transaction.type==="topup"||n.transaction.type==="bonus"||n.transaction.type==="refund","text-red-600 dark:text-red-400":n.transaction.type==="withdrawal"||n.transaction.type==="purchase"}])},l(n.transaction.type==="topup"||n.transaction.type==="bonus"||n.transaction.type==="refund"?"+":"-")+" "+l(e(_)(n.transaction.amount)),3),s(e(B),{variant:"secondary",class:V({"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100":p.value==="pending","bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-100":p.value==="completed","bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-100":p.value==="failed"||p.value==="cancelled"})},{default:a(()=>[o(l(e(S)(p.value)),1)]),_:1},8,["class"])])]),n.transaction.type==="topup"&&p.value==="pending"&&n.transaction.midtrans_transaction_id?(r(),m("div",Yn,[t("div",Zn,[x[4]||(x[4]=t("p",{class:"text-xs text-muted-foreground"}," Pembayaran menunggu konfirmasi ",-1)),t("div",Qn,[s(e(U),{size:"sm",variant:"outline",disabled:M.value,onClick:x[0]||(x[0]=b=>v(n.transaction.transaction_ref)),class:"shrink-0"},{default:a(()=>[s(e(ot),{class:V(["w-3 h-3 mr-1",{"animate-spin":M.value}])},null,8,["class"]),x[2]||(x[2]=o(" Cek Status ",-1))]),_:1},8,["disabled"]),s(e(U),{size:"sm",onClick:x[1]||(x[1]=b=>u("continue-payment",n.transaction.midtrans_transaction_id)),class:"shrink-0"},{default:a(()=>[s(e(ue),{class:"w-3 h-3 mr-1"}),x[3]||(x[3]=o(" Lanjutkan Pembayaran ",-1))]),_:1})])])])):w("",!0)]))}}),tr={key:0,class:"space-y-3"},sr={key:1,class:"py-12 text-center"},ar=Z({__name:"WalletTransactionList",props:{transactions:{}},setup(n){const f=Ze(),i=I(()=>f.props.customer),u=d=>{typeof window>"u"||(window.snap?window.snap.pay(d,{onSuccess:function(c){console.log("Payment success:",c),j.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(c){console.log("Payment pending:",c),j.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(c){j.error("Pembayaran gagal."),console.error("Payment error:",c)},onClose:function(){j("Pembayaran ditutup sebelum selesai."),console.log("Payment modal closed")}}):alert("Midtrans Snap belum siap. Silakan refresh halaman."))},_=d=>{d.newBalance!==void 0&&i.value&&(i.value.ewallet_saldo=d.newBalance)};return(d,c)=>(r(),R(e(z),null,{default:a(()=>[s(e(X),null,{default:a(()=>[s(e(Y),null,{default:a(()=>[...c[0]||(c[0]=[o("Riwayat Transaksi",-1)])]),_:1}),s(e(ie),null,{default:a(()=>[o(l(n.transactions.length)+" transaksi e-wallet terbaru ",1)]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[n.transactions.length>0?(r(),m("div",tr,[(r(!0),m(J,null,se(n.transactions,S=>(r(),R(er,{key:S.id,transaction:S,onContinuePayment:u,onStatusUpdated:_},null,8,["transaction"]))),128))])):(r(),m("div",sr,[s(e(ge),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),c[1]||(c[1]=t("p",{class:"text-muted-foreground"},"Belum ada transaksi",-1))]))]),_:1})]),_:1}))}}),lr={class:"flex-1"},nr={key:0,class:"text-xs mt-1 text-gray-700 dark:text-gray-300"},rr={class:"font-mono"},or={class:"uppercase"},ir=["disabled"],dr={key:1,class:"border border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 text-xs text-amber-800 dark:text-amber-200"},ur=Z({__name:"WalletStatusBanner",props:{initialTransactions:{}},setup(n){const f=n,i=T(!1),u=T(null),_=T(null),d=I(()=>{const p=_.value?.status||"";return p==="completed"||p==="success"?{tone:"success",title:"Top up berhasil",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900",text:"text-green-800 dark:text-green-200"}:p==="pending"?{tone:"pending",title:"Menunggu pembayaran",bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-900",text:"text-yellow-800 dark:text-yellow-200"}:p==="cancelled"||p==="failed"||p==="expire"||p==="denied"||p==="deny"?{tone:"failed",title:"Pembayaran gagal / dibatalkan",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-900",text:"text-red-800 dark:text-red-200"}:{tone:"info",title:"Status transaksi",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900",text:"text-blue-800 dark:text-blue-200"}});function c(p,v=2){const g=new Date(p).getTime();return(Date.now()-g)/36e5<=v}const S=I(()=>{if(!_.value)return!1;const p=_.value.status;return p==="pending"?!0:p==="completed"||p==="success"?c(_.value.created_at,2):c(_.value.created_at,6)});async function M(){try{i.value=!0,u.value=null;const{data:p}=await ne.get("/client/wallet/history",{params:{type:"topup"}}),v=Array.isArray(p?.data)?p.data:Array.isArray(p)?p:[];v.length>0&&(_.value=v[0])}catch(p){u.value=p?.response?.data?.message||p?.message||"Gagal memuat status transaksi."}finally{i.value=!1}}return et(()=>{f.initialTransactions&&f.initialTransactions.length>0&&(_.value=f.initialTransactions[0]),M()}),(p,v)=>S.value?(r(),m("div",{key:0,class:V(["border rounded-lg p-4 flex items-start gap-3",d.value.border,d.value.bg])},[t("div",lr,[t("p",{class:V(["text-sm font-semibold",d.value.text])},l(d.value.title),3),_.value?(r(),m("p",nr,[v[0]||(v[0]=o(" Ref: ",-1)),t("span",rr,l(_.value.transaction_ref),1),o("  Jumlah: Rp "+l(new Intl.NumberFormat("id-ID").format(_.value.amount))+"  Status: ",1),t("span",or,l(_.value.status),1)])):w("",!0)]),t("button",{type:"button",class:"text-xs underline text-gray-700 dark:text-gray-300",onClick:M,disabled:i.value},l(i.value?"Menyegarkan...":"Segarkan"),9,ir)],2)):u.value?(r(),m("div",dr,l(u.value),1)):w("",!0)}}),mr={class:"space-y-6"},cr=Z({__name:"WalletTab",props:{customer:{},transactions:{}},setup(n){const f=T("wallet");return(i,u)=>(r(),m("div",mr,[s(gn,{balance:Number(n.customer.ewallet_saldo)||0,onTopup:u[0]||(u[0]=_=>f.value="wallet-topup"),onWithdrawal:u[1]||(u[1]=_=>f.value="wallet-withdrawal")},null,8,["balance"]),f.value==="wallet"?(r(),R(ur,{key:0,"initial-transactions":n.transactions},null,8,["initial-transactions"])):w("",!0),f.value==="wallet-topup"?(r(),R(Mn,{key:1,onCancel:u[2]||(u[2]=_=>f.value="wallet")})):w("",!0),f.value==="wallet-withdrawal"?(r(),R(zn,{key:2,"max-amount":Number(n.customer.ewallet_saldo)||0,onCancel:u[3]||(u[3]=_=>f.value="wallet")},null,8,["max-amount"])):w("",!0),f.value==="wallet"?(r(),R(ar,{key:3,transactions:n.transactions},null,8,["transactions"])):w("",!0)]))}}),pr={class:"space-y-2"},xr={class:"relative"},fr={key:0,class:"text-sm text-red-500"},vr={class:"space-y-2"},gr={class:"relative"},br={key:0,class:"text-sm text-red-500"},yr={class:"space-y-2"},kr={class:"relative"},_r={class:"flex items-center justify-end gap-3"},hr=Z({__name:"SecurityTab",setup(n){const f=me({current_password:"",password:"",password_confirmation:""}),i=T(!1),u=T(!1),_=T(!1),d=()=>{f.patch("/client/profile/password",{preserveScroll:!0,onSuccess:()=>{f.reset(),i.value=!1,u.value=!1,_.value=!1,j.success("Password berhasil diubah")}})};return(c,S)=>(r(),R(e(z),null,{default:a(()=>[s(e(X),null,{default:a(()=>[s(e(Y),null,{default:a(()=>[...S[7]||(S[7]=[o("Ubah Password",-1)])]),_:1}),s(e(ie),null,{default:a(()=>[...S[8]||(S[8]=[o(" Pastikan akun Anda menggunakan password yang kuat ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:De(d,["prevent"]),class:"space-y-6"},[t("div",pr,[s(e(K),{for:"current_password"},{default:a(()=>[...S[9]||(S[9]=[o(" Password Saat Ini ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",xr,[s(e(Oe),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"current_password",modelValue:e(f).current_password,"onUpdate:modelValue":S[0]||(S[0]=M=>e(f).current_password=M),type:i.value?"text":"password",placeholder:"Masukkan password saat ini",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:S[1]||(S[1]=M=>i.value=!i.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[i.value?(r(),R(e(Be),{key:1,class:"h-4 w-4"})):(r(),R(e(Ve),{key:0,class:"h-4 w-4"}))])]),e(f).errors.current_password?(r(),m("p",fr,l(e(f).errors.current_password),1)):w("",!0)]),s(e(le)),t("div",vr,[s(e(K),{for:"password"},{default:a(()=>[...S[10]||(S[10]=[o(" Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",gr,[s(e(st),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"password",modelValue:e(f).password,"onUpdate:modelValue":S[2]||(S[2]=M=>e(f).password=M),type:u.value?"text":"password",placeholder:"Masukkan password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:S[3]||(S[3]=M=>u.value=!u.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[u.value?(r(),R(e(Be),{key:1,class:"h-4 w-4"})):(r(),R(e(Ve),{key:0,class:"h-4 w-4"}))])]),S[11]||(S[11]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimal 8 karakter ",-1)),e(f).errors.password?(r(),m("p",br,l(e(f).errors.password),1)):w("",!0)]),t("div",yr,[s(e(K),{for:"password_confirmation"},{default:a(()=>[...S[12]||(S[12]=[o(" Konfirmasi Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",kr,[s(e(st),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"password_confirmation",modelValue:e(f).password_confirmation,"onUpdate:modelValue":S[4]||(S[4]=M=>e(f).password_confirmation=M),type:_.value?"text":"password",placeholder:"Konfirmasi password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:S[5]||(S[5]=M=>_.value=!_.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[_.value?(r(),R(e(Be),{key:1,class:"h-4 w-4"})):(r(),R(e(Ve),{key:0,class:"h-4 w-4"}))])])]),t("div",_r,[s(e(U),{type:"button",variant:"outline",onClick:S[6]||(S[6]=M=>e(f).reset()),disabled:e(f).processing},{default:a(()=>[...S[13]||(S[13]=[o(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"submit",disabled:e(f).processing},{default:a(()=>[e(f).processing?w("",!0):(r(),R(e(Oe),{key:0,class:"w-4 h-4 mr-2"})),o(" "+l(e(f).processing?"Mengupdate...":"Update Password"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),wr={class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},$r={class:"flex items-start gap-3"},Pr={class:"flex-1"},Cr=Z({__name:"DangerZoneTab",setup(n){const f=T(!1),i=me({}),u=()=>{i.delete("/client/profile",{onFinish:()=>{f.value=!1}})};return(_,d)=>(r(),m(J,null,[s(e(z),{class:"border-red-200 dark:border-red-900"},{default:a(()=>[s(e(X),null,{default:a(()=>[s(e(Y),{class:"text-red-600 dark:text-red-400"},{default:a(()=>[...d[3]||(d[3]=[o("Zona Bahaya",-1)])]),_:1}),s(e(ie),null,{default:a(()=>[...d[4]||(d[4]=[o(" Tindakan di bawah ini bersifat permanen dan tidak dapat dibatalkan ",-1)])]),_:1})]),_:1}),s(e(F),{class:"space-y-6"},{default:a(()=>[t("div",wr,[t("div",$r,[s(e(xe),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),t("div",Pr,[d[6]||(d[6]=t("h3",{class:"font-semibold text-red-900 dark:text-red-100"}," Hapus Akun ",-1)),d[7]||(d[7]=t("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Setelah akun Anda dihapus, semua data akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1)),s(e(U),{type:"button",variant:"destructive",class:"mt-4",onClick:d[0]||(d[0]=c=>f.value=!0)},{default:a(()=>[s(e(Ke),{class:"w-4 h-4 mr-2"}),d[5]||(d[5]=o(" Hapus Akun Saya ",-1))]),_:1})])])])]),_:1})]),_:1}),s(e(Pe),{open:f.value,"onUpdate:open":d[2]||(d[2]=c=>f.value=c)},{default:a(()=>[s(e(_e),null,{default:a(()=>[s(e(he),null,{default:a(()=>[s(e(we),{class:"flex items-center gap-2 text-red-600"},{default:a(()=>[s(e(xe),{class:"w-5 h-5"}),d[8]||(d[8]=o(" Konfirmasi Hapus Akun ",-1))]),_:1}),s(e($e),null,{default:a(()=>[...d[9]||(d[9]=[o(" Apakah Anda yakin ingin menghapus akun Anda? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan dihapus secara permanen. ",-1)])]),_:1})]),_:1}),d[11]||(d[11]=t("div",{class:"py-4"},[t("div",{class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},[t("p",{class:"text-sm text-red-700 dark:text-red-300"},[t("strong",null,"Data yang akan dihapus:")]),t("ul",{class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside space-y-1"},[t("li",null,"Informasi profil dan akun"),t("li",null,"Riwayat transaksi"),t("li",null,"E-wallet dan saldo"),t("li",null,"Jaringan dan bonus")])])],-1)),s(e(Ce),null,{default:a(()=>[s(e(U),{type:"button",variant:"outline",onClick:d[1]||(d[1]=c=>f.value=!1),disabled:e(i).processing},{default:a(()=>[...d[10]||(d[10]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{type:"button",variant:"destructive",onClick:u,disabled:e(i).processing},{default:a(()=>[s(e(Ke),{class:"w-4 h-4 mr-2"}),o(" "+l(e(i).processing?"Menghapus...":"Ya, Hapus Akun"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Sr={key:0,class:"text-center py-12 text-muted-foreground"},Rr={class:"flex items-start justify-between"},jr={class:"flex-1"},Mr={class:"flex items-center gap-2 mb-2"},Tr={class:"font-semibold text-lg"},Dr={class:"space-y-1 text-sm text-muted-foreground"},Vr={key:0},Br={key:1,class:"text-xs font-medium text-primary"},Lr={key:2,class:"text-xs"},Ar={class:"text-blue-600 dark:text-blue-400"},Ur={class:"text-green-600 dark:text-green-400"},Ir={class:"text-xs"},Er={class:"text-xs font-medium text-green-600 dark:text-green-400"},Nr={class:"flex flex-col items-end gap-2"},Kr={key:0,class:"text-center py-12 text-muted-foreground"},Or={class:"flex items-start justify-between"},zr={class:"flex-1"},Fr={class:"flex items-center gap-2 mb-2"},Gr={class:"font-semibold text-lg"},Wr={class:"space-y-1 text-sm text-muted-foreground"},qr={key:0},Jr={key:1,class:"text-xs font-medium text-primary"},Hr={key:2,class:"text-xs"},Xr={class:"text-blue-600 dark:text-blue-400"},Yr={class:"text-green-600 dark:text-green-400"},Zr={class:"text-xs"},Qr={class:"text-xs font-medium text-orange-600 dark:text-orange-400"},eo={class:"flex flex-col items-end gap-2"},to={key:0,class:"text-center py-12 text-muted-foreground"},so={class:"flex items-start justify-between"},ao={class:"flex-1"},lo={class:"flex items-center gap-2 mb-2"},no={class:"font-semibold text-lg"},ro={class:"space-y-1 text-sm text-muted-foreground"},oo={key:0},io={key:1,class:"text-xs font-medium text-primary"},uo={key:2,class:"text-xs"},mo={class:"text-blue-600 dark:text-blue-400"},co={class:"text-green-600 dark:text-green-400"},po={class:"text-xs"},xo={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},fo={class:"flex flex-col items-end gap-2"},vo={class:"font-semibold"},go={class:"grid grid-cols-2 gap-4 py-4"},bo=Z({__name:"NetworkMembersTab",props:{activeMembers:{},passiveMembers:{},prospectMembers:{}},setup(n){const f=T(!1),i=T(null),u=T(null),_=me({member_id:0,position:""}),d=g=>{i.value=g,u.value=null,_.member_id=g.id,_.position="",f.value=!0},c=()=>{f.value=!1,i.value=null,u.value=null,_.reset()},S=()=>{if(!i.value||!u.value){j.error("Pilih posisi terlebih dahulu");return}_.position=u.value,_.post("/client/profile/place-member",{onSuccess:()=>{j.success(`${i.value?.name} berhasil ditempatkan di posisi ${u.value}`),c()},onError:g=>{const x=g.error||"Gagal menempatkan member ke binary tree";j.error(x)}})},M=g=>new Date(g).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),p=g=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(g),v=g=>g?{variant:g==="left"?"default":"secondary",text:g==="left"?"Kiri":"Kanan"}:{variant:"outline",text:"Belum Ditempatkan"};return(g,x)=>(r(),m(J,null,[s(e(z),null,{default:a(()=>[s(e(X),null,{default:a(()=>[s(e(Y),null,{default:a(()=>[...x[2]||(x[2]=[o("Jaringan Member",-1)])]),_:1}),s(e(ie),null,{default:a(()=>[...x[3]||(x[3]=[o("Kelola dan lihat member dalam jaringan Anda",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(Xe),{"default-value":"active",class:"w-full"},{default:a(()=>[s(e(Ye),{class:"grid w-full grid-cols-3"},{default:a(()=>[s(e(ee),{value:"active"},{default:a(()=>[s(e(de),{class:"w-4 h-4 mr-2"}),o(" Aktif ("+l(n.activeMembers.length)+") ",1)]),_:1}),s(e(ee),{value:"passive"},{default:a(()=>[s(e(Le),{class:"w-4 h-4 mr-2"}),o(" Pasif ("+l(n.passiveMembers.length)+") ",1)]),_:1}),s(e(ee),{value:"prospect"},{default:a(()=>[s(e(pe),{class:"w-4 h-4 mr-2"}),o(" Prospek ("+l(n.prospectMembers.length)+") ",1)]),_:1})]),_:1}),s(e(te),{value:"active",class:"space-y-4"},{default:a(()=>[n.activeMembers.length===0?(r(),m("div",Sr,[s(e(de),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),x[4]||(x[4]=t("p",null,"Belum ada member aktif",-1)),x[5]||(x[5]=t("p",{class:"text-sm mt-2"},"Member aktif adalah member yang sudah ditempatkan di binary tree",-1))])):w("",!0),(r(!0),m(J,null,se(n.activeMembers,b=>(r(),R(e(z),{key:b.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",Rr,[t("div",jr,[t("div",Mr,[t("h4",Tr,l(b.name),1),s(e(B),{variant:v(b.position).variant},{default:a(()=>[o(l(v(b.position).text),1)]),_:2},1032,["variant"]),b.level?(r(),R(e(B),{key:0,variant:"outline"},{default:a(()=>[o(" Level "+l(b.level),1)]),_:2},1024)):w("",!0)]),t("div",Dr,[t("p",null,l(b.email),1),b.phone?(r(),m("p",Vr,l(b.phone),1)):w("",!0),b.package_name?(r(),m("p",Br," Paket: "+l(b.package_name),1)):w("",!0),(b.total_left??0)>0||(b.total_right??0)>0?(r(),m("p",Lr,[t("span",Ar,"Kiri: "+l(b.total_left??0),1),x[6]||(x[6]=t("span",{class:"mx-1"},"|",-1)),t("span",Ur,"Kanan: "+l(b.total_right??0),1)])):w("",!0),t("p",Ir,"Bergabung: "+l(M(b.joined_at)),1),t("p",Er," Omzet: "+l(p(b.omzet)),1)])]),t("div",Nr,[s(e(B),{variant:"default"},{default:a(()=>[s(e(de),{class:"w-3 h-3 mr-1"}),x[7]||(x[7]=o(" Aktif ",-1))]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(te),{value:"passive",class:"space-y-4"},{default:a(()=>[n.passiveMembers.length===0?(r(),m("div",Kr,[s(e(Le),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),x[8]||(x[8]=t("p",null,"Belum ada member pasif",-1)),x[9]||(x[9]=t("p",{class:"text-sm mt-2"},"Member pasif adalah member yang belum ditempatkan di binary tree tapi sudah memiliki pembelian/order",-1))])):w("",!0),(r(!0),m(J,null,se(n.passiveMembers,b=>(r(),R(e(z),{key:b.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",Or,[t("div",zr,[t("div",Fr,[t("h4",Gr,l(b.name),1),s(e(B),{variant:"secondary"},{default:a(()=>[...x[10]||(x[10]=[o("Belum Ditempatkan",-1)])]),_:1})]),t("div",Wr,[t("p",null,l(b.email),1),b.phone?(r(),m("p",qr,l(b.phone),1)):w("",!0),b.package_name?(r(),m("p",Jr," Paket: "+l(b.package_name),1)):w("",!0),(b.total_left??0)>0||(b.total_right??0)>0?(r(),m("p",Hr,[t("span",Xr,"Kiri: "+l(b.total_left??0),1),x[11]||(x[11]=t("span",{class:"mx-1"},"|",-1)),t("span",Yr,"Kanan: "+l(b.total_right??0),1)])):w("",!0),t("p",Zr,"Bergabung: "+l(M(b.joined_at)),1),t("p",Qr," Omzet: "+l(p(b.omzet)),1)])]),t("div",eo,[s(e(B),{variant:"outline"},{default:a(()=>[s(e(Le),{class:"w-3 h-3 mr-1"}),x[12]||(x[12]=o(" Pasif ",-1))]),_:1}),s(e(B),{variant:"default"},{default:a(()=>[...x[13]||(x[13]=[o(" Sudah Belanja ",-1)])]),_:1}),n.activeMembers.length<2?(r(),R(e(U),{key:0,size:"sm",variant:"default",class:"mt-2",onClick:W=>d(b)},{default:a(()=>[s(e(be),{class:"w-3 h-3 mr-1"}),x[14]||(x[14]=o(" Tempatkan ke Binary ",-1))]),_:1},8,["onClick"])):w("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(te),{value:"prospect",class:"space-y-4"},{default:a(()=>[n.prospectMembers.length===0?(r(),m("div",to,[s(e(pe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),x[15]||(x[15]=t("p",null,"Belum ada member prospek",-1)),x[16]||(x[16]=t("p",{class:"text-sm mt-2"},"Member prospek adalah member yang baru mendaftar, belum ditempatkan di binary tree dan belum memiliki pembelian/order",-1))])):w("",!0),(r(!0),m(J,null,se(n.prospectMembers,b=>(r(),R(e(z),{key:b.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",so,[t("div",ao,[t("div",lo,[t("h4",no,l(b.name),1),s(e(B),{variant:"outline"},{default:a(()=>[...x[17]||(x[17]=[o("Baru Bergabung",-1)])]),_:1})]),t("div",ro,[t("p",null,l(b.email),1),b.phone?(r(),m("p",oo,l(b.phone),1)):w("",!0),b.package_name?(r(),m("p",io," Paket: "+l(b.package_name),1)):w("",!0),(b.total_left??0)>0||(b.total_right??0)>0?(r(),m("p",uo,[t("span",mo,"Kiri: "+l(b.total_left??0),1),x[18]||(x[18]=t("span",{class:"mx-1"},"|",-1)),t("span",co,"Kanan: "+l(b.total_right??0),1)])):w("",!0),t("p",po,"Bergabung: "+l(M(b.joined_at)),1),t("p",xo," Omzet: "+l(p(b.omzet)),1)])]),t("div",fo,[s(e(B),{variant:"secondary"},{default:a(()=>[s(e(pe),{class:"w-3 h-3 mr-1"}),x[19]||(x[19]=o(" Prospek ",-1))]),_:1}),s(e(B),{variant:"secondary"},{default:a(()=>[...x[20]||(x[20]=[o(" Belum Belanja ",-1)])]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),s(e(Pe),{open:f.value,"onUpdate:open":c},{default:a(()=>[s(e(_e),{class:"sm:max-w-md"},{default:a(()=>[s(e(he),null,{default:a(()=>[s(e(we),null,{default:a(()=>[...x[21]||(x[21]=[o("Tempatkan Member ke Binary Tree",-1)])]),_:1}),s(e($e),null,{default:a(()=>[x[22]||(x[22]=o(" Pilih posisi untuk menempatkan ",-1)),t("span",vo,l(i.value?.name),1),x[23]||(x[23]=o(" di jaringan binary tree Anda. ",-1))]),_:1})]),_:1}),t("div",go,[t("button",{type:"button",class:V(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",u.value==="left"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:x[0]||(x[0]=b=>u.value="left")},[s(e(be),{class:"w-8 h-8 mb-2 rotate-90"}),x[24]||(x[24]=t("span",{class:"font-semibold"},"Posisi Kiri",-1)),x[25]||(x[25]=t("span",{class:"text-xs text-muted-foreground mt-1"},"Left Position",-1))],2),t("button",{type:"button",class:V(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",u.value==="right"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:x[1]||(x[1]=b=>u.value="right")},[s(e(be),{class:"w-8 h-8 mb-2 -rotate-90"}),x[26]||(x[26]=t("span",{class:"font-semibold"},"Posisi Kanan",-1)),x[27]||(x[27]=t("span",{class:"text-xs text-muted-foreground mt-1"},"Right Position",-1))],2)]),s(e(Ce),null,{default:a(()=>[s(e(U),{variant:"outline",onClick:c,disabled:e(_).processing},{default:a(()=>[...x[28]||(x[28]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{onClick:S,disabled:!u.value||e(_).processing},{default:a(()=>[o(l(e(_).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),yo={class:"flex justify-center mb-3 sm:mb-6"},ko={class:"flex-1 min-w-0"},_o={class:"sm:hidden"},ho={class:"hidden sm:inline"},wo={class:"sm:hidden"},$o={class:"hidden sm:inline"},Po={class:"sm:hidden"},Co={class:"hidden sm:inline"},So={class:"text-blue-600 dark:text-blue-400"},Ro={class:"text-green-600 dark:text-green-400"},jo={class:"flex items-center gap-0.5 sm:gap-1 mt-0.5 sm:mt-1 flex-wrap"},Mo={class:"text-center"},To={class:"hidden sm:inline"},Do={key:1,class:"flex justify-center mb-3 sm:mb-6"},Vo={class:"text-center"},Bo={key:1,class:"flex justify-center mb-3 sm:mb-6"},Lo={class:"text-center"},Ao=Z({__name:"TreeNodeComponent",props:{node:{},isRoot:{type:Boolean},maxLevel:{default:15}},emits:["open-placement"],setup(n,{emit:f}){const i=n,u=f,_=(p,v)=>{if(!v)return"bg-gray-100 border-gray-300 dark:bg-gray-800 dark:border-gray-600";const g=["bg-primary/10 border-primary/30","bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800","bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800","bg-purple-50 border-purple-200 dark:bg-purple-950 dark:border-purple-800","bg-orange-50 border-orange-200 dark:bg-orange-950 dark:border-orange-800","bg-pink-50 border-pink-200 dark:bg-pink-950 dark:border-pink-800"];return g[Math.min(p-1,g.length-1)]||g[g.length-1]},d=(p,v)=>{u("open-placement",p,v)},c=i.node.level<i.maxLevel,S=(p,v)=>p.length<=v?p:p.substring(0,v)+"...",M=(p,v)=>p.length<=v?p:p.indexOf("@")>v-3?p.substring(0,v-3)+"...":p.substring(0,v)+"...";return(p,v)=>{const g=Bt("TreeNodeComponent",!0);return r(),m("div",null,[t("div",yo,[n.node.name?(r(),m("div",{key:0,class:V(["relative rounded-lg border-2 shadow-sm sm:shadow-lg transition-all hover:shadow-md sm:hover:shadow-xl max-w-[120px] sm:max-w-none",n.isRoot?"px-2 py-2 sm:px-6 sm:py-4":"px-1.5 py-1.5 sm:px-3 sm:py-2",_(n.node.level,n.node.status)])},[t("div",{class:V(["flex items-center gap-1.5 sm:gap-2",n.isRoot&&"sm:gap-3"])},[t("div",{class:V(["flex items-center justify-center rounded-full text-primary-foreground flex-shrink-0",n.isRoot?"h-7 w-7 sm:h-12 sm:w-12 bg-primary":"h-5 w-5 sm:h-8 sm:w-8 bg-blue-100 dark:bg-blue-900"])},[s(e(Me),{class:V(n.isRoot?"h-4 w-4 sm:h-6 sm:w-6":"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 dark:text-blue-400")},null,8,["class"])],2),t("div",ko,[t("div",{class:V(["font-medium truncate",n.isRoot?"text-xs sm:text-base font-semibold":"text-[10px] sm:text-xs"])},[t("span",_o,l(S(n.node.name,10)),1),t("span",ho,l(n.node.name),1)],2),t("div",{class:V(["text-muted-foreground truncate",n.isRoot?"text-[10px] sm:text-xs":"text-[8px] sm:text-[10px]"])},[t("span",wo,l(M(n.node.email,12)),1),t("span",$o,l(n.node.email),1)],2),n.node.package_name?(r(),m("div",{key:0,class:V(["font-medium truncate",n.isRoot?"text-[9px] sm:text-xs text-primary":"text-[7px] sm:text-[10px] text-primary"])},[t("span",Po,l(S(n.node.package_name,8)),1),t("span",Co,l(n.node.package_name),1)],2)):w("",!0),n.node.total_left!==void 0&&n.node.total_left>0||n.node.total_right!==void 0&&n.node.total_right>0?(r(),m("div",{key:1,class:V(["flex items-center gap-1 text-muted-foreground",n.isRoot?"text-[9px] sm:text-xs":"text-[7px] sm:text-[10px]"])},[t("span",So,"L:"+l(n.node.total_left??0),1),v[5]||(v[5]=t("span",{class:"text-muted-foreground"},"|",-1)),t("span",Ro,"R:"+l(n.node.total_right??0),1)],2)):w("",!0),t("div",jo,[n.node.position==="left"?(r(),R(e(B),{key:0,variant:"secondary",class:V(n.isRoot?"text-[8px] sm:text-xs px-1 py-0":"text-[7px] sm:text-[10px] px-0.5 py-0")},{default:a(()=>[...v[6]||(v[6]=[t("span",{class:"sm:hidden"},"L",-1),t("span",{class:"hidden sm:inline"},"Kiri",-1)])]),_:1},8,["class"])):n.node.position==="right"?(r(),R(e(B),{key:1,variant:"secondary",class:V(n.isRoot?"text-[8px] sm:text-xs px-1 py-0":"text-[7px] sm:text-[10px] px-0.5 py-0")},{default:a(()=>[...v[7]||(v[7]=[t("span",{class:"sm:hidden"},"R",-1),t("span",{class:"hidden sm:inline"},"Kanan",-1)])]),_:1},8,["class"])):w("",!0),s(e(B),{variant:"outline",class:V(n.isRoot?"text-[8px] sm:text-xs px-1 py-0":"text-[7px] sm:text-[10px] px-0.5 py-0")},{default:a(()=>[o(" L"+l(n.node.level),1)]),_:1},8,["class"])])])],2)],2)):n.node.member_id>0?(r(),m("div",{key:1,class:V(["rounded-lg border-2 border-dashed bg-muted/50 hover:bg-muted hover:border-primary/50 transition-all cursor-pointer group",n.isRoot?"px-2 py-2 sm:px-6 sm:py-4":"px-1.5 py-1 sm:px-3 sm:py-2"]),onClick:v[0]||(v[0]=x=>d(n.node.member_id,n.node.position))},[t("div",Mo,[s(e(pe),{class:V(["mx-auto mb-0.5 sm:mb-1 text-muted-foreground group-hover:text-primary",n.isRoot?"w-4 h-4 sm:w-6 sm:h-6":"w-3 h-3 sm:w-4 sm:h-4"])},null,8,["class"]),t("div",{class:V(["text-muted-foreground group-hover:text-primary",n.isRoot?"text-[10px] sm:text-sm":"text-[8px] sm:text-[10px]"])},[v[8]||(v[8]=t("span",{class:"sm:hidden"},"+",-1)),t("span",To,l(n.isRoot?"Tempatkan Member":"Tambah"),1)],2)])],2)):(r(),m("div",{key:2,class:V(["rounded-lg border-2 border-dashed bg-muted/30",n.isRoot?"px-2 py-2 sm:px-6 sm:py-4":"px-1.5 py-1 sm:px-3 sm:py-2"])},[t("div",{class:V(["text-center text-muted-foreground",n.isRoot?"text-[10px] sm:text-sm":"text-[8px] sm:text-[10px]"])}," - ",2)],2))]),n.node.name&&c?(r(),m("div",{key:0,class:V(["flex justify-center gap-1 sm:gap-4 mb-2 sm:mb-4",n.isRoot&&"gap-2 sm:gap-16 sm:mb-6"])},[t("div",{class:V(n.isRoot?"w-[130px] sm:w-64":"w-[65px] sm:w-36")},[n.node.left?(r(),R(g,{key:0,node:n.node.left,"is-root":!1,"max-level":n.maxLevel,onOpenPlacement:v[1]||(v[1]=(x,b)=>p.$emit("open-placement",x,b))},null,8,["node","max-level"])):(r(),m("div",Do,[t("div",{class:V(["rounded-lg border-2 border-dashed bg-muted/50 hover:bg-muted hover:border-primary/50 transition-all cursor-pointer group",n.isRoot?"px-2 py-2 sm:px-6 sm:py-4":"px-1.5 py-1 sm:px-3 sm:py-2"]),onClick:v[2]||(v[2]=x=>d(n.node.member_id,"left"))},[t("div",Vo,[s(e(pe),{class:V(["mx-auto mb-0.5 sm:mb-1 text-muted-foreground group-hover:text-primary",n.isRoot?"w-4 h-4 sm:w-6 sm:h-6":"w-3 h-3 sm:w-4 sm:h-4"])},null,8,["class"]),t("div",{class:V(["text-muted-foreground group-hover:text-primary",n.isRoot?"text-[10px] sm:text-sm":"text-[8px] sm:text-[10px]"])},[...v[9]||(v[9]=[t("span",{class:"sm:hidden"},"+",-1),t("span",{class:"hidden sm:inline"},"Tambah",-1)])],2)])],2)]))],2),t("div",{class:V(n.isRoot?"w-[130px] sm:w-64":"w-[65px] sm:w-36")},[n.node.right?(r(),R(g,{key:0,node:n.node.right,"is-root":!1,"max-level":n.maxLevel,onOpenPlacement:v[3]||(v[3]=(x,b)=>p.$emit("open-placement",x,b))},null,8,["node","max-level"])):(r(),m("div",Bo,[t("div",{class:V(["rounded-lg border-2 border-dashed bg-muted/50 hover:bg-muted hover:border-primary/50 transition-all cursor-pointer group",n.isRoot?"px-2 py-2 sm:px-6 sm:py-4":"px-1.5 py-1 sm:px-3 sm:py-2"]),onClick:v[4]||(v[4]=x=>d(n.node.member_id,"right"))},[t("div",Lo,[s(e(pe),{class:V(["mx-auto mb-0.5 sm:mb-1 text-muted-foreground group-hover:text-primary",n.isRoot?"w-4 h-4 sm:w-6 sm:h-6":"w-3 h-3 sm:w-4 sm:h-4"])},null,8,["class"]),t("div",{class:V(["text-muted-foreground group-hover:text-primary",n.isRoot?"text-[10px] sm:text-sm":"text-[8px] sm:text-[10px]"])},[...v[10]||(v[10]=[t("span",{class:"sm:hidden"},"+",-1),t("span",{class:"hidden sm:inline"},"Tambah",-1)])],2)])],2)]))],2)],2)):w("",!0)])}}}),Uo={class:"space-y-4 sm:space-y-6"},Io={class:"grid grid-cols-3 gap-2 sm:gap-4"},Eo={class:"text-lg sm:text-2xl font-bold"},No={class:"text-lg sm:text-2xl font-bold text-blue-600"},Ko={class:"text-lg sm:text-2xl font-bold text-green-600"},Oo={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},zo={class:"flex items-center gap-1 sm:gap-2"},Fo={key:1,class:"text-center py-12 text-muted-foreground"},Go={class:"mt-4 sm:mt-6 p-2 sm:p-4 rounded-lg bg-muted/50"},Wo={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-center sm:text-left"},qo={class:"text-[10px] sm:text-sm text-muted-foreground"},Jo={class:"hidden sm:inline"},Ho={class:"sm:hidden"},Xo={class:"text-[10px] sm:text-sm text-muted-foreground"},Yo={class:"sm:hidden"},Zo={class:"font-semibold"},Qo={class:"flex-1 overflow-y-auto py-2 sm:py-4"},ei={key:0,class:"text-center py-8 sm:py-12 text-muted-foreground"},ti={key:1,class:"space-y-2"},si=["onClick"],ai={class:"flex items-start justify-between gap-2"},li={class:"flex-1 min-w-0"},ni={class:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1"},ri={class:"font-semibold text-sm sm:text-base truncate"},oi={class:"space-y-0.5 text-xs sm:text-sm text-muted-foreground"},ii={class:"truncate"},di={key:0,class:"truncate"},ui={class:"text-[10px] sm:text-xs"},mi={key:0,class:"flex-shrink-0"},Ee=.3,Ne=2,lt=.1,ci=Z({__name:"BinaryTreeTab",props:{binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},passiveMembers:{}},setup(n){const f=n,i=T(!1),u=I(()=>i.value?3:15),_=T(1),d=()=>{_.value<Ne&&(_.value=Math.min(Ne,_.value+lt))},c=()=>{_.value>Ee&&(_.value=Math.max(Ee,_.value-lt))},S=()=>{_.value=1},M=I(()=>Math.round(_.value*100)),p=T(null),v=T(null),g=T(!1),x=T({x:0,y:0}),b=T({x:0,y:0}),W=T({x:0,y:0}),E=O=>{if(!p.value)return;g.value=!0;const L="touches"in O?O.touches[0].clientX:O.clientX,ae="touches"in O?O.touches[0].clientY:O.clientY;b.value={x:L,y:ae},W.value={x:p.value.scrollLeft,y:p.value.scrollTop},O.preventDefault()},N=O=>{if(!g.value||!p.value)return;const L="touches"in O?O.touches[0].clientX:O.clientX,ae="touches"in O?O.touches[0].clientY:O.clientY,ce=b.value.x-L,Se=b.value.y-ae;p.value.scrollLeft=W.value.x+ce,p.value.scrollTop=W.value.y+Se},q=()=>{g.value=!1};je(_,()=>{});const re=()=>{_.value=1,x.value={x:0,y:0},p.value&&(p.value.scrollLeft=0,p.value.scrollTop=0)},G=()=>{i.value=window.innerWidth<640};et(()=>{G(),window.addEventListener("resize",G)}),rt(()=>{window.removeEventListener("resize",G)});const A=T(!1),H=T(null),D=T(null),h=T(null),y=me({member_id:0,position:""}),$=(O,L,ae,ce)=>{if(ce>u.value)return null;if(O){const Se=ce<u.value;return{...O,left:Se?$(O.left||null,O.member_id,"left",ce+1):void 0,right:Se?$(O.right||null,O.member_id,"right",ce+1):void 0}}return null},k=I(()=>f.binaryTree?$(f.binaryTree,null,null,f.binaryTree.level)||f.binaryTree:null),C=(O,L)=>{H.value=O,D.value=L,h.value=null,A.value=!0},P=()=>{A.value=!1,H.value=null,D.value=null,h.value=null},ct=O=>{h.value=O},pt=()=>{if(!h.value||!D.value){j.error("Pilih member terlebih dahulu");return}y.member_id=h.value.id,y.position=D.value,y.post("/client/profile/place-member",{onSuccess:()=>{j.success(`${h.value?.name} berhasil ditempatkan di posisi ${D.value}`),P()},onError:O=>{const L=O.error||"Gagal menempatkan member ke binary tree";j.error(L)}})},xt=O=>new Date(O).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"});return(O,L)=>(r(),m(J,null,[t("div",Uo,[t("div",Io,[s(e(z),{class:"p-0"},{default:a(()=>[s(e(X),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(Y),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...L[0]||(L[0]=[o("Total Jaringan",-1)])]),_:1}),s(e(ze),{class:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Eo,l(n.totalDownlines),1),L[1]||(L[1]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member aktif di jaringan Anda",-1))]),_:1})]),_:1}),s(e(z),{class:"p-0"},{default:a(()=>[s(e(X),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(Y),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...L[2]||(L[2]=[o("Kaki Kiri",-1)])]),_:1}),s(e(at),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",No,l(n.totalLeft),1),L[3]||(L[3]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kiri",-1))]),_:1})]),_:1}),s(e(z),{class:"p-0"},{default:a(()=>[s(e(X),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(Y),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...L[4]||(L[4]=[o("Kaki Kanan",-1)])]),_:1}),s(e(at),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Ko,l(n.totalRight),1),L[5]||(L[5]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kanan",-1))]),_:1})]),_:1})]),s(e(z),null,{default:a(()=>[s(e(X),{class:"p-3 sm:p-6"},{default:a(()=>[t("div",Oo,[t("div",null,[s(e(Y),{class:"text-sm sm:text-base"},{default:a(()=>[...L[6]||(L[6]=[o("Struktur Binary Tree",-1)])]),_:1}),s(e(ie),{class:"text-xs sm:text-sm"},{default:a(()=>[...L[7]||(L[7]=[o(" Visualisasi jaringan MLM binary tree Anda ",-1)])]),_:1})]),t("div",zo,[s(e(U),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:c,disabled:_.value<=Ee},{default:a(()=>[s(e(Lt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1},8,["disabled"]),s(e(U),{variant:"outline",size:"sm",class:"h-7 px-2 sm:h-8 sm:px-3 text-xs sm:text-sm min-w-[50px] sm:min-w-[60px]",onClick:S},{default:a(()=>[o(l(M.value)+"% ",1)]),_:1}),s(e(U),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:d,disabled:_.value>=Ne},{default:a(()=>[s(e(At),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1},8,["disabled"]),s(e(U),{variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:re,title:"Reset View"},{default:a(()=>[s(e(Ut),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1})])])]),_:1}),s(e(F),{class:"p-2 sm:p-6 pt-0"},{default:a(()=>[t("div",{ref_key:"treeContainer",ref:p,class:V(["overflow-auto pb-4 -mx-2 px-2 max-h-[60vh] sm:max-h-[70vh] select-none",{"cursor-grab":!g.value&&_.value!==1,"cursor-grabbing":g.value}]),onMousedown:E,onMousemove:N,onMouseup:q,onMouseleave:q,onTouchstart:E,onTouchmove:N,onTouchend:q},[t("div",{ref_key:"treeWrapper",ref:v,class:"min-w-[280px] sm:min-w-max transition-transform duration-200 origin-top-left inline-block",style:It({transform:`scale(${_.value})`,transformOrigin:"top left"})},[k.value?(r(),R(Ao,{key:0,node:k.value,"is-root":!0,"max-level":u.value,onOpenPlacement:C},null,8,["node","max-level"])):(r(),m("div",Fo,[s(e(ze),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),L[8]||(L[8]=t("p",null,"Belum ada jaringan binary tree",-1))]))],4)],34),t("div",Go,[t("div",Wo,[t("p",qo,[L[9]||(L[9]=o("  ",-1)),t("span",Jo,"Tree menampilkan maksimal "+l(u.value)+" level untuk performa optimal",1),t("span",Ho,"Max "+l(u.value)+" level",1)]),t("p",Xo,[s(e(Et),{class:"inline-block h-3 w-3 sm:h-4 sm:w-4 mr-1"}),L[10]||(L[10]=t("span",{class:"hidden sm:inline"},"Drag untuk menggeser, gunakan tombol zoom untuk resize",-1)),t("span",Yo,"Geser & Zoom: "+l(M.value)+"%",1)])])])]),_:1})]),_:1})]),s(e(Pe),{open:A.value,"onUpdate:open":P},{default:a(()=>[s(e(_e),{class:"w-[95vw] max-w-2xl max-h-[85vh] overflow-hidden flex flex-col p-4 sm:p-6"},{default:a(()=>[s(e(he),{class:"space-y-1 sm:space-y-2"},{default:a(()=>[s(e(we),{class:"text-base sm:text-lg"},{default:a(()=>[...L[11]||(L[11]=[o("Pilih Member untuk Ditempatkan",-1)])]),_:1}),s(e($e),{class:"text-xs sm:text-sm"},{default:a(()=>[L[12]||(L[12]=o(" Pilih member pasif untuk ditempatkan di posisi ",-1)),t("span",Zo,l(D.value==="left"?"Kiri":"Kanan"),1)]),_:1})]),_:1}),t("div",Qo,[n.passiveMembers.length===0?(r(),m("div",ei,[s(e(pe),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),L[13]||(L[13]=t("p",{class:"text-sm sm:text-base"},"Tidak ada member pasif",-1)),L[14]||(L[14]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Semua member sudah ditempatkan",-1))])):(r(),m("div",ti,[(r(!0),m(J,null,se(n.passiveMembers,ae=>(r(),m("button",{key:ae.id,type:"button",class:V(["w-full p-3 sm:p-4 rounded-lg border-2 text-left transition-all",h.value?.id===ae.id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"]),onClick:ce=>ct(ae)},[t("div",ai,[t("div",li,[t("div",ni,[t("h4",ri,l(ae.name),1),ae.has_purchase?(r(),R(e(B),{key:0,variant:"default",class:"text-[10px] sm:text-xs"},{default:a(()=>[...L[15]||(L[15]=[t("span",{class:"hidden sm:inline"},"Ada Pembelian",-1),t("span",{class:"sm:hidden"},"Beli",-1)])]),_:1})):(r(),R(e(B),{key:1,variant:"secondary",class:"text-[10px] sm:text-xs"},{default:a(()=>[...L[16]||(L[16]=[t("span",{class:"hidden sm:inline"},"Belum Belanja",-1),t("span",{class:"sm:hidden"},"Belum",-1)])]),_:1}))]),t("div",oi,[t("p",ii,l(ae.email),1),ae.phone?(r(),m("p",di,l(ae.phone),1)):w("",!0),t("p",ui,"Bergabung: "+l(xt(ae.joined_at)),1)])]),h.value?.id===ae.id?(r(),m("div",mi,[...L[17]||(L[17]=[t("div",{class:"flex h-5 w-5 sm:h-6 sm:w-6 items-center justify-center rounded-full bg-primary text-primary-foreground"},[t("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):w("",!0)])],10,si))),128))]))]),s(e(Ce),{class:"flex-col-reverse sm:flex-row gap-2 sm:gap-0"},{default:a(()=>[s(e(U),{variant:"outline",onClick:P,disabled:e(y).processing,class:"w-full sm:w-auto"},{default:a(()=>[...L[18]||(L[18]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(U),{onClick:pt,disabled:!h.value||e(y).processing,class:"w-full sm:w-auto"},{default:a(()=>[o(l(e(y).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),pi={class:"space-y-4 sm:space-y-6"},xi={class:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},fi={class:"text-xl sm:text-2xl font-bold truncate"},vi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},gi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},bi={class:"text-xl sm:text-2xl font-bold truncate"},yi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ki={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},_i={class:"text-xl sm:text-2xl font-bold truncate"},hi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},wi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},$i={class:"text-xl sm:text-2xl font-bold truncate"},Pi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Ci={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Si={class:"text-xl sm:text-2xl font-bold truncate"},Ri={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ji={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Mi={class:"text-xl sm:text-2xl font-bold truncate"},Ti={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Di={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Vi={class:"text-xl sm:text-2xl font-bold truncate"},Bi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Li={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Ai={class:"text-xl sm:text-2xl font-bold text-primary truncate"},Ui={class:"w-full text-center overflow-x-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] -mx-2 px-2 sm:mx-0 sm:px-0",style:{"-webkit-overflow-scrolling":"touch"}},Ii={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Ei={key:1,class:"space-y-1.5 sm:space-y-3"},Ni={class:"flex-1 min-w-0"},Ki={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Oi={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},zi={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Fi={key:0,class:"block sm:inline"},Gi={class:"block sm:inline sm:ml-1"},Wi={class:"text-left sm:text-right flex-shrink-0"},qi={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Ji={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Hi={key:1,class:"space-y-1.5 sm:space-y-3"},Xi={class:"flex-1 min-w-0"},Yi={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Zi={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Qi={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},ed={key:0,class:"block sm:inline"},td={class:"block sm:inline sm:ml-2"},sd={class:"text-left sm:text-right flex-shrink-0"},ad={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},ld={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},nd={key:1,class:"space-y-3"},rd={class:"flex-1 min-w-0"},od={class:"flex flex-wrap items-center gap-2"},id={class:"text-xs sm:text-sm font-medium break-words"},dd={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ud={class:"text-left sm:text-right flex-shrink-0"},md={class:"text-base sm:text-lg font-bold text-green-600"},cd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},pd={key:1,class:"space-y-1.5 sm:space-y-3"},xd={class:"flex-1 min-w-0"},fd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},vd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},gd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},bd={key:0,class:"block sm:inline"},yd={class:"block sm:inline sm:ml-1"},kd={class:"text-left sm:text-right flex-shrink-0"},_d={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},hd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},wd={key:1,class:"space-y-1.5 sm:space-y-3"},$d={class:"flex-1 min-w-0"},Pd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Cd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Sd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Rd={class:"text-left sm:text-right flex-shrink-0"},jd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Md={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Td={key:1,class:"space-y-1.5 sm:space-y-3"},Dd={class:"flex-1 min-w-0"},Vd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Bd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Ld={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Ad={key:0,class:"block sm:inline"},Ud={class:"block sm:inline sm:ml-1"},Id={class:"text-left sm:text-right flex-shrink-0"},Ed={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Nd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Kd={key:1,class:"space-y-1.5 sm:space-y-3"},Od={class:"flex-1 min-w-0"},zd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Fd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Gd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Wd={class:"block sm:inline"},qd={class:"block sm:inline sm:ml-1"},Jd={class:"text-left sm:text-right flex-shrink-0"},Hd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Xd=Z({__name:"BonusTab",props:{bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{}},setup(n){const f=n,i=k=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(k),u=k=>new Date(k).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),_=I(()=>f.bonusSponsors.reduce((k,C)=>k+C.amount,0)),d=I(()=>f.bonusMatchings.reduce((k,C)=>k+C.amount,0)),c=I(()=>f.bonusPairings.reduce((k,C)=>k+C.amount,0)),S=I(()=>f.bonusCashbacks.reduce((k,C)=>k+C.amount,0)),M=I(()=>f.bonusRewards.reduce((k,C)=>k+C.amount,0)),p=I(()=>f.bonusSponsors.filter(k=>k.status===0).reduce((k,C)=>k+C.amount,0)),v=I(()=>f.bonusSponsors.filter(k=>k.status===1).reduce((k,C)=>k+C.amount,0)),g=I(()=>f.bonusMatchings.filter(k=>k.status===0).reduce((k,C)=>k+C.amount,0)),x=I(()=>f.bonusMatchings.filter(k=>k.status===1).reduce((k,C)=>k+C.amount,0)),b=I(()=>f.bonusPairings.filter(k=>k.status===0).reduce((k,C)=>k+C.amount,0)),W=I(()=>f.bonusPairings.filter(k=>k.status===1).reduce((k,C)=>k+C.amount,0)),E=I(()=>f.bonusCashbacks.filter(k=>k.status===0).reduce((k,C)=>k+C.amount,0)),N=I(()=>f.bonusCashbacks.filter(k=>k.status===1).reduce((k,C)=>k+C.amount,0)),q=I(()=>f.bonusRewards.filter(k=>k.status===0).reduce((k,C)=>k+C.amount,0)),re=I(()=>f.bonusRewards.filter(k=>k.status===1).reduce((k,C)=>k+C.amount,0)),G=I(()=>f.bonusRetails.reduce((k,C)=>k+C.amount,0)),A=I(()=>f.bonusRetails.filter(k=>k.status===0).reduce((k,C)=>k+C.amount,0)),H=I(()=>f.bonusRetails.filter(k=>k.status===1).reduce((k,C)=>k+C.amount,0)),D=I(()=>f.bonusLifetimeCashRewards.reduce((k,C)=>k+C.amount,0)),h=I(()=>f.bonusLifetimeCashRewards.filter(k=>k.status===0).reduce((k,C)=>k+C.amount,0)),y=I(()=>f.bonusLifetimeCashRewards.filter(k=>k.status===1).reduce((k,C)=>k+C.amount,0)),$=I(()=>_.value+d.value+c.value+S.value+M.value+G.value+D.value);return(k,C)=>(r(),m("div",pi,[t("div",xi,[s(e(z),null,{default:a(()=>[s(e(X),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Y),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ze),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),C[0]||(C[0]=t("span",{class:"truncate"},"Referral Incentive",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",fi,l(i(_.value)),1),t("p",vi,l(n.bonusSponsors.length)+" transaksi ",1),t("div",gi,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+l(i(p.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+l(i(v.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(X),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Y),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Nt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"}),C[1]||(C[1]=t("span",{class:"truncate"},"Team Affiliate Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",bi,l(i(d.value)),1),t("p",yi,l(n.bonusMatchings.length)+" transaksi ",1),t("div",ki,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+l(i(g.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+l(i(x.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(X),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Y),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Kt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),C[2]||(C[2]=t("span",{class:"truncate"},"Partner Team Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",_i,l(i(c.value)),1),t("p",hi,l(n.bonusPairings.length)+" transaksi ",1),t("div",wi,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+l(i(b.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+l(i(W.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(X),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Y),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ot),{class:"h-3 w-3 sm:h-4 sm:w-4 text-orange-500 flex-shrink-0"}),C[3]||(C[3]=t("span",{class:"truncate"},"Cashback Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",$i,l(i(S.value)),1),t("p",Pi,l(n.bonusCashbacks.length)+" transaksi ",1),t("div",Ci,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+l(i(E.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+l(i(N.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(X),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Y),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(nt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 flex-shrink-0"}),C[4]||(C[4]=t("span",{class:"truncate"},"Promotions Rewards",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",Si,l(i(M.value)),1),t("p",Ri,l(n.bonusRewards.length)+" transaksi ",1),t("div",ji,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+l(i(q.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+l(i(re.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(X),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Y),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(zt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-500 flex-shrink-0"}),C[5]||(C[5]=t("span",{class:"truncate"},"Retail Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",Mi,l(i(G.value)),1),t("p",Ti,l(n.bonusRetails.length)+" transaksi ",1),t("div",Di,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+l(i(A.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+l(i(H.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(X),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Y),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Qe),{class:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"}),C[6]||(C[6]=t("span",{class:"truncate"},"Lifetime Cash Rewards",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",Vi,l(i(D.value)),1),t("p",Bi,l(n.bonusLifetimeCashRewards.length)+" transaksi ",1),t("div",Li,[s(e(B),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+l(i(h.value)),1)]),_:1}),s(e(B),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+l(i(y.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(X),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Y),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ut),{class:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"}),C[7]||(C[7]=t("span",{class:"truncate"},"Total Bonus",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",Ai,l(i($.value)),1),C[8]||(C[8]=t("p",{class:"text-[10px] sm:text-xs text-muted-foreground mt-1"}," Semua jenis bonus ",-1))]),_:1})]),_:1})]),s(e(z),null,{default:a(()=>[s(e(X),{class:"p-2 sm:p-4 md:p-6 pb-2"},{default:a(()=>[s(e(Y),{class:"text-xs sm:text-base md:text-lg"},{default:a(()=>[...C[9]||(C[9]=[o("Riwayat Bonus",-1)])]),_:1}),s(e(ie),{class:"text-[9px] sm:text-xs md:text-sm"},{default:a(()=>[...C[10]||(C[10]=[o(" Detail transaksi bonus ",-1)])]),_:1})]),_:1}),s(e(F),{class:"p-2 sm:p-4 md:p-6 pt-0"},{default:a(()=>[s(e(Xe),{"default-value":"sponsor",class:"w-full"},{default:a(()=>[t("div",Ui,[s(e(Ye),{class:"flex w-max sm:grid sm:w-full sm:grid-cols-7 gap-0.5 sm:gap-1 h-7 sm:h-auto bg-muted/30"},{default:a(()=>[s(e(ee),{value:"sponsor",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[11]||(C[11]=[o(" Referral ",-1)])]),_:1}),s(e(ee),{value:"matching",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[12]||(C[12]=[o(" Team Aff. ",-1)])]),_:1}),s(e(ee),{value:"pairing",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[13]||(C[13]=[o(" Partner ",-1)])]),_:1}),s(e(ee),{value:"cashback",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[14]||(C[14]=[o(" Cashback ",-1)])]),_:1}),s(e(ee),{value:"reward",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[15]||(C[15]=[o(" Rewards ",-1)])]),_:1}),s(e(ee),{value:"retail",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[16]||(C[16]=[o(" Retail ",-1)])]),_:1}),s(e(ee),{value:"lifetime",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[17]||(C[17]=[o(" Lifetime ",-1)])]),_:1})]),_:1})]),s(e(te),{value:"sponsor",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusSponsors.length===0?(r(),m("div",Ii," Belum ada bonus referral incentive ")):(r(),m("div",Ei,[(r(!0),m(J,null,se(n.bonusSponsors,P=>(r(),m("div",{key:P.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Ni,[t("div",Ki,[s(e(B),{variant:P.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(l(P.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",Oi,l(P.description||"Bonus Sponsor"),1)]),t("p",zi,[P.from_member?(r(),m("span",Fi," Dari: "+l(P.from_member.name),1)):w("",!0),t("span",Gi,l(u(P.created_at)),1)])]),t("div",Wi,[t("div",qi,l(i(P.amount)),1),t("div",{class:V(["text-[8px] sm:text-xs",P.status===1?"text-green-600":"text-yellow-600"])},l(P.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"matching",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusMatchings.length===0?(r(),m("div",Ji," Belum ada bonus team affiliate commission ")):(r(),m("div",Hi,[(r(!0),m(J,null,se(n.bonusMatchings,P=>(r(),m("div",{key:P.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Xi,[t("div",Yi,[s(e(B),{variant:P.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(l(P.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(B),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(" L"+l(P.level),1)]),_:2},1024),t("span",Zi,l(P.description||"Bonus Matching"),1)]),t("p",Qi,[P.from_member?(r(),m("span",ed," Dari: "+l(P.from_member.name),1)):w("",!0),t("span",td,l(u(P.created_at)),1)])]),t("div",sd,[t("div",ad,l(i(P.amount)),1),t("div",{class:V(["text-[8px] sm:text-xs",P.status===1?"text-green-600":"text-yellow-600"])},l(P.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"pairing",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusPairings.length===0?(r(),m("div",ld," Belum ada bonus partner team commission ")):(r(),m("div",nd,[(r(!0),m(J,null,se(n.bonusPairings,P=>(r(),m("div",{key:P.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",rd,[t("div",od,[s(e(B),{variant:P.status===1?"secondary":"outline",class:"text-xs"},{default:a(()=>[o(l(P.status===1?"Released":"Pending"),1)]),_:2},1032,["variant"]),s(e(B),{variant:"outline",class:"text-xs"},{default:a(()=>[o(l(P.pair)+" Pairs ",1)]),_:2},1024),t("span",id,l(P.description||"Bonus Pairing"),1)]),t("p",dd,l(u(P.created_at)),1)]),t("div",ud,[t("div",md,l(i(P.amount)),1),t("div",{class:V(["text-[8px] sm:text-xs",P.status===1?"text-green-600":"text-yellow-600"])},l(P.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"cashback",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusCashbacks.length===0?(r(),m("div",cd," Belum ada bonus cashback commission ")):(r(),m("div",pd,[(r(!0),m(J,null,se(n.bonusCashbacks,P=>(r(),m("div",{key:P.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",xd,[t("div",fd,[s(e(B),{variant:P.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(l(P.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",vd,l(P.description||"Bonus Cashback"),1)]),t("p",gd,[C[18]||(C[18]=o('eground mt-0.5"> ',-1)),P.order_id?(r(),m("span",bd," #"+l(P.order_id),1)):w("",!0),t("span",yd,l(u(P.created_at)),1)])]),t("div",kd,[t("div",_d,l(i(P.amount)),1),t("div",{class:V(["text-[8px] sm:text-xs",P.status===1?"text-green-600":"text-yellow-600"])},l(P.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"reward",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusRewards.length===0?(r(),m("div",hd," Belum ada promotions rewards ")):(r(),m("div",wd,[(r(!0),m(J,null,se(n.bonusRewards,P=>(r(),m("div",{key:P.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",$d,[t("div",Pd,[s(e(B),{variant:P.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(l(P.status===1?"R":"P"),1)]),_:2},1032,["variant"]),P.reward_type?(r(),R(e(B),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(l(P.reward_type),1)]),_:2},1024)):w("",!0),t("span",Cd,l(P.description||"Promotions Reward"),1)]),t("p",Sd,l(u(P.created_at)),1)]),t("div",Rd,[t("div",jd,l(i(P.amount)),1),t("div",{class:V(["text-[8px] sm:text-xs",P.status===1?"text-green-600":"text-yellow-600"])},l(P.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"retail",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusRetails.length===0?(r(),m("div",Md," Belum ada bonus retail commission ")):(r(),m("div",Td,[(r(!0),m(J,null,se(n.bonusRetails,P=>(r(),m("div",{key:P.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Dd,[t("div",Vd,[s(e(B),{variant:P.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(l(P.status===1?"R":"P"),1)]),_:2},1032,["variant"]),P.index_value?(r(),R(e(B),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(" IDX: "+l(P.index_value),1)]),_:2},1024)):w("",!0),t("span",Bd,l(P.description||"Retail Commission"),1)]),t("p",Ld,[P.from_member?(r(),m("span",Ad," Dari: "+l(P.from_member.name),1)):w("",!0),t("span",Ud,l(u(P.created_at)),1)])]),t("div",Id,[t("div",Ed,l(i(P.amount)),1),t("div",{class:V(["text-[8px] sm:text-xs",P.status===1?"text-green-600":"text-yellow-600"])},l(P.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"lifetime",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusLifetimeCashRewards.length===0?(r(),m("div",Nd," Belum ada lifetime cash rewards ")):(r(),m("div",Kd,[(r(!0),m(J,null,se(n.bonusLifetimeCashRewards,P=>(r(),m("div",{key:P.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Od,[t("div",zd,[s(e(B),{variant:P.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(l(P.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(B),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(l(P.reward_name),1)]),_:2},1024),t("span",Fd,l(P.description||"Lifetime Cash Reward"),1)]),t("p",Gd,[t("span",Wd," Reward: "+l(i(P.reward))+" | BV: "+l(P.bv),1),t("span",qd,l(u(P.created_at)),1)])]),t("div",Jd,[t("div",Hd,l(i(P.amount)),1),t("div",{class:V(["text-[8px] sm:text-xs",P.status===1?"text-green-600":"text-yellow-600"])},l(P.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Yd={class:"flex items-center justify-between"},Zd={class:"font-semibold"},Qd={class:"flex items-center justify-between"},eu={class:"font-semibold"},tu={class:"flex items-center justify-between"},su={key:0,class:"space-y-2"},au={class:"flex items-center gap-2"},lu={class:"text-sm font-medium"},nu={class:"text-xs text-gray-500 dark:text-gray-400"},ru={key:1,class:"space-y-2"},ou={class:"flex items-center gap-2"},iu={class:"text-sm font-medium"},du={class:"text-xs text-gray-500 dark:text-gray-400"},uu=Z({__name:"NetworkStatsCard",props:{customer:{}},setup(n){return(f,i)=>(r(),R(e(z),null,{default:a(()=>[s(e(X),null,{default:a(()=>[s(e(Y),{class:"flex items-center gap-2"},{default:a(()=>[s(e(mt),{class:"w-5 h-5"}),i[0]||(i[0]=o(" Statistik Jaringan ",-1))]),_:1})]),_:1}),s(e(F),{class:"space-y-3"},{default:a(()=>[t("div",Yd,[i[1]||(i[1]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kiri",-1)),t("span",Zd,l(n.customer.network_stats.left_count),1)]),s(e(le)),t("div",Qd,[i[2]||(i[2]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kanan",-1)),t("span",eu,l(n.customer.network_stats.right_count),1)]),s(e(le)),t("div",tu,[i[3]||(i[3]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Downline",-1)),s(e(B),{variant:"secondary"},{default:a(()=>[o(l(n.customer.network_stats.total_downlines),1)]),_:1})]),n.customer.upline||n.customer.sponsor?(r(),m(J,{key:0},[s(e(le),{class:"my-4"}),n.customer.upline?(r(),m("div",su,[i[4]||(i[4]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Upline",-1)),t("div",au,[s(e(Fe),{class:"h-8 w-8"},{default:a(()=>[s(e(Ge),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${n.customer.upline.name}`},null,8,["src"])]),_:1}),t("div",null,[t("p",lu,l(n.customer.upline.name),1),t("p",nu,l(n.customer.upline.email),1)])])])):w("",!0),n.customer.sponsor?(r(),m("div",ru,[i[5]||(i[5]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Sponsor",-1)),t("div",ou,[s(e(Fe),{class:"h-8 w-8"},{default:a(()=>[s(e(Ge),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${n.customer.sponsor.name}`},null,8,["src"])]),_:1}),t("div",null,[t("p",iu,l(n.customer.sponsor.name),1),t("p",du,l(n.customer.sponsor.email),1)])])])):w("",!0)],64)):w("",!0)]),_:1})]),_:1}))}}),mu={class:"bg-gradient-to-br from-primary/10 via-primary/5 to-background border-b"},cu={class:"container mx-auto px-3 py-6 sm:px-4 sm:py-12 max-w-7xl"},pu={class:"flex items-center justify-between"},xu={class:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-background/80 backdrop-blur-sm border shadow-sm"},fu={class:"font-semibold"},vu={class:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-7xl"},gu={class:"grid gap-4 sm:gap-6 lg:grid-cols-3"},bu={class:"lg:col-span-1 space-y-4 sm:space-y-6"},yu={class:"lg:col-span-2"},ku={class:"rounded-xl border bg-card overflow-hidden"},_u={class:"border-b bg-muted/30"},hu={class:"overflow-x-auto text-center overflow-y-hidden px-1.5 py-1.5 sm:px-2 sm:py-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},wu={class:"p-3 sm:p-4 md:p-6"},$u={key:1,class:"text-center py-12"},Ju=Z({__name:"Index",props:{customer:{},orders:{},walletTransactions:{},activeMembers:{},passiveMembers:{},prospectMembers:{},binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{},addresses:{}},setup(n){const f=n,i=Ze(),u=I(()=>Number(f.customer.status)===3),_=I(()=>{if(typeof window>"u")return"profile";const d=i.url;try{return new URL(d,window.location.origin).searchParams.get("tab")||"profile"}catch{return"profile"}});return(d,c)=>(r(),R(vt,null,{default:a(()=>[s(e(Ft),{title:"Profile Saya"}),t("div",mu,[t("div",cu,[t("div",pu,[c[0]||(c[0]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-2"},"Profile Saya"),t("p",{class:"text-sm sm:text-base md:text-lg text-muted-foreground"}," Kelola informasi profil dan keamanan akun Anda ")],-1)),t("div",xu,[s(e(Me),{class:"w-5 h-5 text-primary"}),t("span",fu,l(n.customer.name),1)])])])]),t("div",vu,[t("div",gu,[t("div",bu,[s(ps,{customer:n.customer},null,8,["customer"]),u.value?(r(),R(uu,{key:0,customer:n.customer},null,8,["customer"])):w("",!0),s(qs,{addresses:n.addresses},null,8,["addresses"]),u.value?(r(),R(Zs,{key:1,customer:n.customer},null,8,["customer"])):w("",!0),s(sa,{"created-at":n.customer.created_at},null,8,["created-at"])]),t("div",yu,[t("div",ku,[s(e(Xe),{"default-value":_.value,class:"w-full"},{default:a(()=>[t("div",_u,[t("div",hu,[s(e(Ye),{class:"inline-flex h-auto w-max bg-transparent gap-1 sm:gap-1.5 p-0"},{default:a(()=>[s(e(ee),{value:"profile",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Me),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[1]||(c[1]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Info",-1))]),_:1}),s(e(ee),{value:"orders",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ye),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[2]||(c[2]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Order",-1))]),_:1}),u.value?(r(),R(e(ee),{key:0,value:"network",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(mt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[3]||(c[3]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Mitra",-1))]),_:1})):w("",!0),u.value?(r(),R(e(ee),{key:1,value:"binary",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(be),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[4]||(c[4]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Network",-1))]),_:1})):w("",!0),u.value?(r(),R(e(ee),{key:2,value:"bonus",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ut),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[5]||(c[5]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Bonus",-1))]),_:1})):w("",!0),s(e(ee),{value:"wallet",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[6]||(c[6]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Wallet",-1))]),_:1}),s(e(ee),{value:"security",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Oe),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[7]||(c[7]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lock",-1))]),_:1}),s(e(ee),{value:"danger",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(xe),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[8]||(c[8]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Del",-1))]),_:1})]),_:1})])]),t("div",wu,[s(e(te),{value:"profile",class:"mt-0"},{default:a(()=>[s(Sa,{customer:n.customer},null,8,["customer"])]),_:1}),s(e(te),{value:"orders",class:"mt-0"},{default:a(()=>[s(pn,{orders:n.orders},null,8,["orders"])]),_:1}),u.value?(r(),R(e(te),{key:0,value:"network",class:"mt-0"},{default:a(()=>[s(bo,{"active-members":n.activeMembers,"passive-members":n.passiveMembers,"prospect-members":n.prospectMembers},null,8,["active-members","passive-members","prospect-members"])]),_:1})):w("",!0),u.value?(r(),R(e(te),{key:1,value:"binary",class:"mt-0"},{default:a(()=>[n.binaryTree?(r(),R(ci,{key:0,"binary-tree":n.binaryTree,"total-downlines":n.totalDownlines,"total-left":n.totalLeft,"total-right":n.totalRight,"passive-members":n.passiveMembers},null,8,["binary-tree","total-downlines","total-left","total-right","passive-members"])):(r(),m("div",$u,[s(e(be),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c[9]||(c[9]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Jaringan Binary",-1)),c[10]||(c[10]=t("p",{class:"text-muted-foreground"}," Anda belum memiliki posisi dalam jaringan binary tree MLM. ",-1))]))]),_:1})):w("",!0),u.value?(r(),R(e(te),{key:2,value:"bonus",class:"mt-0"},{default:a(()=>[s(Xd,{"bonus-sponsors":n.bonusSponsors,"bonus-matchings":n.bonusMatchings,"bonus-pairings":n.bonusPairings,"bonus-cashbacks":n.bonusCashbacks,"bonus-rewards":n.bonusRewards,"bonus-retails":n.bonusRetails,"bonus-lifetime-cash-rewards":n.bonusLifetimeCashRewards},null,8,["bonus-sponsors","bonus-matchings","bonus-pairings","bonus-cashbacks","bonus-rewards","bonus-retails","bonus-lifetime-cash-rewards"])]),_:1})):w("",!0),s(e(te),{value:"wallet",class:"mt-0"},{default:a(()=>[s(cr,{customer:n.customer,transactions:n.walletTransactions},null,8,["customer","transactions"])]),_:1}),s(e(te),{value:"security",class:"mt-0"},{default:a(()=>[s(hr)]),_:1}),s(e(te),{value:"danger",class:"mt-0"},{default:a(()=>[s(Cr)]),_:1})])]),_:1},8,["default-value"])])])])])]),_:1}))}});export{Ju as default};
