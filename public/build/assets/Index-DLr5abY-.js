import{_ as b,v as k}from"./index-DPd1r_cX.js";import{_ as C,a as $}from"./CardContent.vue_vue_type_script_setup_true_lang-DM70BYA8.js";import{_ as V}from"./CardHeader.vue_vue_type_script_setup_true_lang-D25MJpMC.js";import{_ as D}from"./CardTitle.vue_vue_type_script_setup_true_lang-l0wDcl-m.js";import{_ as L,a as q,b as z}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DA-zofsy.js";import{_ as E}from"./DropdownMenuCheckboxItem.vue_vue_type_script_setup_true_lang-Biukrt9b.js";import{_ as J}from"./Input.vue_vue_type_script_setup_true_lang-CqlAd_sW.js";import{_ as Z,a as G,b as S,c as O,d as Q,e as T}from"./TableHeader.vue_vue_type_script_setup_true_lang-DUQMK31p.js";import{_ as X}from"./Pagination.vue_vue_type_script_setup_true_lang-D1dwDX2q.js";import{_ as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-BWDCecJb.js";import{d as ee,r as v,q as te,D as j,j as N,c,g as n,w as a,b as s,e as r,u as e,Z as se,t as B,s as _,$ as U,J as y,a0 as ae,W as le,a7 as re,v as p,F as h,x,y as W,n as d,ak as A,aD as ie,A as oe,B as ne}from"./vendor-CraqpIJ-.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-Bvtl-Sz4.js";import"./index-B7Ms5jW_.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BmdNsnpq.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-4BlfWucD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BZHhRcHM.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-CQgGBfly.js";const de={class:"rounded-xl p-4 space-y-6 py-6"},ue={class:"grid gap-4 md:grid-cols-3"},ce={class:"text-2xl font-bold"},me={class:"text-2xl font-bold"},fe={class:"text-2xl font-bold"},ge={class:"flex items-center justify-between gap-4"},_e={class:"relative flex-1 max-w-sm"},pe={class:"rounded-md border"},Te=ee({__name:"Index",props:{wishlists:{},statistics:{},filters:{}},setup(i){const f=i,K=[{title:"Wishlist Pelanggan",href:"/admin/wishlists"}],g=v(f.filters.search||""),m=v([{id:f.filters.sort_by,desc:f.filters.sort_order==="desc"}]),F=v([]),I=v({}),M=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),H=t=>new Date(t).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=[{id:"index",header:()=>d("div",{class:"w-12"},"No"),cell:({row:t})=>{const l=t.index+1+(f.wishlists.current_page-1)*f.wishlists.per_page;return d("div",{class:"font-medium"},l)}},{accessorKey:"customer.name",header:({column:t})=>d(b,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),class:"-ml-4"},()=>["Pelanggan",d(A,{class:"ml-2 h-4 w-4"})]),cell:({row:t})=>d("div",[d("div",{class:"font-medium"},t.original.customer.name),d("div",{class:"text-xs text-muted-foreground"},t.original.customer.email)])},{accessorKey:"product.name",header:()=>"Produk",cell:({row:t})=>d("div",{class:"max-w-xs truncate"},t.original.product.name)},{id:"price",header:()=>d("div",{class:"text-right"},"Harga"),cell:({row:t})=>d("div",{class:"text-right font-medium"},()=>M(t.original.product.price))},{accessorKey:"created_at",header:({column:t})=>d(b,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),class:"-ml-4"},()=>["Ditambahkan",d(A,{class:"ml-2 h-4 w-4"})]),cell:({row:t})=>H(t.getValue("created_at"))}],w=te({get data(){return f.wishlists.data},columns:R,getCoreRowModel:ne(),getSortedRowModel:oe(),getFilteredRowModel:ie(),onSortingChange:t=>k(t,m),onColumnFiltersChange:t=>k(t,F),onColumnVisibilityChange:t=>k(t,I),state:{get sorting(){return m.value},get columnFilters(){return F.value},get columnVisibility(){return I.value}},manualSorting:!0});j(m,t=>{t.length>0&&N.get("/admin/wishlists",{search:g.value||void 0,sort_by:t[0].id,sort_order:t[0].desc?"desc":"asc"},{preserveState:!0,preserveScroll:!0})},{deep:!0});let P;return j(g,()=>{clearTimeout(P),P=setTimeout(()=>{N.get("/admin/wishlists",{search:g.value||void 0,sort_by:m.value[0]?.id||"created_at",sort_order:m.value[0]?.desc?"desc":"asc"},{preserveState:!0,preserveScroll:!0})},300)}),(t,l)=>(n(),c(Y,{breadcrumbs:K},{default:a(()=>[s(e(se),{title:"Wishlist Pelanggan"}),r("div",de,[l[9]||(l[9]=r("div",{class:"flex items-center justify-between"},[r("div",null,[r("h1",{class:"text-3xl font-bold tracking-tight"},"Wishlist Pelanggan"),r("p",{class:"text-muted-foreground"},"Monitor wishlist pelanggan")])],-1)),r("div",ue,[s(e(C),null,{default:a(()=>[s(e(V),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(D),{class:"text-sm font-medium"},{default:a(()=>[...l[1]||(l[1]=[_("Total Wishlist",-1)])]),_:1}),s(e(U),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(e($),null,{default:a(()=>[r("div",ce,y(i.statistics.total_wishlists),1),l[2]||(l[2]=r("p",{class:"text-xs text-muted-foreground"},"Aktif",-1))]),_:1})]),_:1}),s(e(C),null,{default:a(()=>[s(e(V),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(D),{class:"text-sm font-medium"},{default:a(()=>[...l[3]||(l[3]=[_("Total Item",-1)])]),_:1}),s(e(ae),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(e($),null,{default:a(()=>[r("div",me,y(i.statistics.total_items),1),l[4]||(l[4]=r("p",{class:"text-xs text-muted-foreground"},"Produk di wishlist",-1))]),_:1})]),_:1}),s(e(C),null,{default:a(()=>[s(e(V),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(D),{class:"text-sm font-medium"},{default:a(()=>[...l[5]||(l[5]=[_("Nilai Total",-1)])]),_:1}),s(e(U),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(e($),null,{default:a(()=>[r("div",fe,y(M(i.statistics.total_value)),1),l[6]||(l[6]=r("p",{class:"text-xs text-muted-foreground"},"Potential revenue",-1))]),_:1})]),_:1})]),r("div",ge,[r("div",_e,[s(e(le),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s(e(J),{modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=o=>g.value=o),placeholder:"Cari pelanggan atau produk...",class:"pl-9"},null,8,["modelValue"])]),s(e(L),null,{default:a(()=>[s(e(q),{"as-child":""},{default:a(()=>[s(e(b),{variant:"outline",class:"ml-auto"},{default:a(()=>[l[7]||(l[7]=_(" Kolom ",-1)),s(e(re),{class:"ml-2 h-4 w-4"})]),_:1})]),_:1}),s(e(z),{align:"end"},{default:a(()=>[(n(!0),p(h,null,x(e(w).getAllColumns().filter(o=>o.getCanHide()),o=>(n(),c(e(E),{key:o.id,class:"capitalize","model-value":o.getIsVisible(),"onUpdate:modelValue":u=>{o.toggleVisibility(!!u)}},{default:a(()=>[_(y(o.id),1)]),_:2},1032,["model-value","onUpdate:modelValue"]))),128))]),_:1})]),_:1})]),r("div",pe,[s(e(Z),null,{default:a(()=>[s(e(G),null,{default:a(()=>[(n(!0),p(h,null,x(e(w).getHeaderGroups(),o=>(n(),c(e(S),{key:o.id},{default:a(()=>[(n(!0),p(h,null,x(o.headers,u=>(n(),c(e(O),{key:u.id},{default:a(()=>[u.isPlaceholder?B("",!0):(n(),c(e(W),{key:0,render:u.column.columnDef.header,props:u.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),s(e(Q),null,{default:a(()=>[e(w).getRowModel().rows?.length?(n(!0),p(h,{key:0},x(e(w).getRowModel().rows,o=>(n(),c(e(S),{key:o.id},{default:a(()=>[(n(!0),p(h,null,x(o.getVisibleCells(),u=>(n(),c(e(T),{key:u.id},{default:a(()=>[s(e(W),{render:u.column.columnDef.cell,props:u.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1024))),128)):(n(),c(e(S),{key:1},{default:a(()=>[s(e(T),{colspan:R.length,class:"h-24 text-center"},{default:a(()=>[...l[8]||(l[8]=[_(" Tidak ada data keranjang. ",-1)])]),_:1},8,["colspan"])]),_:1}))]),_:1})]),_:1})]),i.wishlists.last_page>1?(n(),c(X,{key:0,data:{current_page:i.wishlists.current_page,last_page:i.wishlists.last_page,per_page:i.wishlists.per_page,from:(i.wishlists.current_page-1)*i.wishlists.per_page+1,to:Math.min(i.wishlists.current_page*i.wishlists.per_page,i.wishlists.total),total:i.wishlists.total},url:"/admin/wishlists",filters:{search:g.value||void 0,sort_by:m.value[0]?.id||"created_at",sort_order:m.value[0]?.desc?"desc":"asc"}},null,8,["data","filters"])):B("",!0)])]),_:1}))}});export{Te as default};
