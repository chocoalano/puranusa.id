import{d as z,r as F,p as U,v as y,g as n,b as e,u as a,a1 as q,w as t,e as i,t as f,c as r,a4 as S,s,Y as I,Z as M,P as J,aP as Q,F as C,x as H,K as g,aS as R,aq as W,$ as Y,z as Z,j as k}from"./vendor-FclwbLvj.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-ySs7Rre_.js";import{_ as b}from"./index-CRPqrtU2.js";import{_ as c}from"./index-B4cH97KR.js";import{_ as K,a as L}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as O}from"./CardDescription.vue_vue_type_script_setup_true_lang-CC80hHWr.js";import{_ as X}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as aa}from"./CardTitle.vue_vue_type_script_setup_true_lang-Mk0zvokq.js";import{_ as ea}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as ta,a as la,b as V,c as o,d as sa,e as d}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import{_ as ua,a as na,b as ia,c as ra,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import{_ as da,a as fa,b as oa,d as ma,e as h,c as T}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import{u as _a}from"./usePermissions-DzkwVpfD.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const pa={class:"container mx-auto py-6 space-y-6"},va={class:"flex items-center justify-between"},ga={class:"flex flex-col md:flex-row gap-4"},ca={class:"flex-1 relative"},xa={class:"text-xs bg-muted px-2 py-1 rounded"},$a={key:0,class:"flex justify-center"},ya={class:"flex items-center gap-2"},ka=["innerHTML"],qa=z({__name:"Index",props:{pages:{},filters:{}},setup(_){const{isSuperAdmin:x,isAdmin:$}=_a(),A=_,p=F(A.filters.search||""),m=F(A.filters.status||"all"),w=()=>{k.get("/admin/pages",{search:p.value||void 0,status:m.value!=="all"?m.value:void 0},{preserveState:!0,preserveScroll:!0})},j=()=>{p.value="",m.value="all",k.get("/admin/pages")},B=v=>{confirm("Apakah Anda yakin ingin menghapus halaman ini?")&&k.delete(`/admin/pages/${v}`,{preserveScroll:!0})},N=U(()=>!!p.value||m.value!=="all"),E=v=>({default:"Default","full-width":"Full Width",narrow:"Narrow"})[v]||v;return(v,l)=>(n(),y(C,null,[e(a(q),{title:"Kelola Halaman"}),e(G,null,{default:t(()=>[i("div",pa,[i("div",va,[l[3]||(l[3]=i("div",null,[i("h1",{class:"text-3xl font-bold tracking-tight"},"Kelola Halaman"),i("p",{class:"text-muted-foreground mt-1"}," Kelola semua halaman statis di website Anda ")],-1)),a(x)||a($)?(n(),r(a(S),{key:0,href:"/admin/pages/create"},{default:t(()=>[a(x)||a($)?(n(),r(a(c),{key:0},{default:t(()=>[e(a(I),{class:"h-4 w-4 mr-2"}),l[2]||(l[2]=s(" Tambah Halaman ",-1))]),_:1})):f("",!0)]),_:1})):f("",!0)]),e(a(K),null,{default:t(()=>[e(a(X),null,{default:t(()=>[e(a(aa),null,{default:t(()=>[...l[4]||(l[4]=[s("Filter & Pencarian",-1)])]),_:1}),e(a(O),null,{default:t(()=>[...l[5]||(l[5]=[s("Cari dan filter halaman",-1)])]),_:1})]),_:1}),e(a(L),null,{default:t(()=>[i("div",ga,[i("div",ca,[e(a(M),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e(a(ea),{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=u=>p.value=u),placeholder:"Cari berdasarkan judul atau slug...",class:"pl-10",onKeydown:J(w,["enter"])},null,8,["modelValue"])]),e(a(ua),{modelValue:m.value,"onUpdate:modelValue":[l[1]||(l[1]=u=>m.value=u),w]},{default:t(()=>[e(a(na),{class:"w-full md:w-[200px]"},{default:t(()=>[e(a(ia),{placeholder:"Status"})]),_:1}),e(a(ra),null,{default:t(()=>[e(a(P),{value:"all"},{default:t(()=>[...l[6]||(l[6]=[s("Semua Status",-1)])]),_:1}),e(a(P),{value:"published"},{default:t(()=>[...l[7]||(l[7]=[s("Published",-1)])]),_:1}),e(a(P),{value:"draft"},{default:t(()=>[...l[8]||(l[8]=[s("Draft",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(a(c),{onClick:w},{default:t(()=>[...l[9]||(l[9]=[s("Cari",-1)])]),_:1}),N.value?(n(),r(a(c),{key:0,onClick:j,variant:"outline"},{default:t(()=>[...l[10]||(l[10]=[s(" Reset ",-1)])]),_:1})):f("",!0)])]),_:1})]),_:1}),e(a(K),null,{default:t(()=>[e(a(L),{class:"p-0"},{default:t(()=>[e(a(ta),null,{default:t(()=>[e(a(la),null,{default:t(()=>[e(a(V),null,{default:t(()=>[e(a(o),null,{default:t(()=>[...l[11]||(l[11]=[s("Judul",-1)])]),_:1}),e(a(o),null,{default:t(()=>[...l[12]||(l[12]=[s("Slug",-1)])]),_:1}),e(a(o),null,{default:t(()=>[...l[13]||(l[13]=[s("Template",-1)])]),_:1}),e(a(o),null,{default:t(()=>[...l[14]||(l[14]=[s("Urutan",-1)])]),_:1}),e(a(o),null,{default:t(()=>[...l[15]||(l[15]=[s("Status",-1)])]),_:1}),e(a(o),null,{default:t(()=>[...l[16]||(l[16]=[s("Tanggal Dibuat",-1)])]),_:1}),e(a(o),{class:"text-right"},{default:t(()=>[...l[17]||(l[17]=[s("Aksi",-1)])]),_:1})]),_:1})]),_:1}),e(a(sa),null,{default:t(()=>[_.pages.data.length===0?(n(),r(a(V),{key:0},{default:t(()=>[e(a(d),{colspan:"7",class:"text-center py-8 text-muted-foreground"},{default:t(()=>[e(a(Q),{class:"h-12 w-12 mx-auto mb-2 opacity-20"}),l[18]||(l[18]=i("p",null,"Belum ada halaman",-1))]),_:1})]),_:1})):f("",!0),(n(!0),y(C,null,H(_.pages.data,u=>(n(),r(a(V),{key:u.id},{default:t(()=>[e(a(d),{class:"font-medium"},{default:t(()=>[s(g(u.title),1)]),_:2},1024),e(a(d),null,{default:t(()=>[i("code",xa,g(u.slug),1)]),_:2},1024),e(a(d),null,{default:t(()=>[e(a(b),{variant:"outline"},{default:t(()=>[s(g(E(u.template)),1)]),_:2},1024)]),_:2},1024),e(a(d),null,{default:t(()=>[e(a(b),{variant:"secondary"},{default:t(()=>[s(g(u.order),1)]),_:2},1024)]),_:2},1024),e(a(d),null,{default:t(()=>[u.is_published?(n(),r(a(b),{key:0,variant:"default"},{default:t(()=>[...l[19]||(l[19]=[s(" Published ",-1)])]),_:1})):(n(),r(a(b),{key:1,variant:"secondary"},{default:t(()=>[...l[20]||(l[20]=[s(" Draft ",-1)])]),_:1}))]),_:2},1024),e(a(d),{class:"text-sm text-muted-foreground"},{default:t(()=>[s(g(new Date(u.created_at).toLocaleDateString("id-ID")),1)]),_:2},1024),e(a(d),{class:"text-right"},{default:t(()=>[e(a(da),null,{default:t(()=>[e(a(fa),{"as-child":""},{default:t(()=>[e(a(c),{variant:"ghost",size:"icon"},{default:t(()=>[e(a(R),{class:"h-4 w-4"})]),_:1})]),_:1}),e(a(oa),{align:"end"},{default:t(()=>[e(a(ma),null,{default:t(()=>[...l[21]||(l[21]=[s("Aksi",-1)])]),_:1}),e(a(h)),a(x)||a($)?(n(),r(a(S),{key:0,href:`/page/${u.slug}`,target:"_blank"},{default:t(()=>[e(a(T),null,{default:t(()=>[e(a(W),{class:"h-4 w-4 mr-2"}),l[22]||(l[22]=s(" Lihat ",-1))]),_:1})]),_:1},8,["href"])):f("",!0),e(a(S),{href:`/admin/pages/${u.id}/edit`},{default:t(()=>[e(a(T),null,{default:t(()=>[e(a(Y),{class:"h-4 w-4 mr-2"}),l[23]||(l[23]=s(" Edit ",-1))]),_:1})]),_:1},8,["href"]),e(a(h)),a(x)||a($)?(n(),r(a(T),{key:1,onClick:D=>B(u.id),class:"text-destructive focus:text-destructive"},{default:t(()=>[e(a(Z),{class:"h-4 w-4 mr-2"}),l[24]||(l[24]=s(" Hapus ",-1))]),_:1},8,["onClick"])):f("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),_.pages.last_page>1?(n(),y("div",$a,[i("nav",ya,[(n(!0),y(C,null,H(_.pages.links,(u,D)=>(n(),r(a(c),{key:D,variant:u.active?"default":"outline",disabled:!u.url,size:"sm",onClick:ba=>u.url&&a(k).visit(u.url)},{default:t(()=>[i("span",{innerHTML:u.label},null,8,ka)]),_:2},1032,["variant","disabled","onClick"]))),128))])])):f("",!0)])]),_:1})],64))}});export{qa as default};
