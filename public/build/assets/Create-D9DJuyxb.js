import{d as B,r as h,c as w,g as m,w as i,b as a,e as s,u as t,a0 as j,a3 as x,G as M,cL as T,Q as _,ag as $,s as n,v,F as N,x as P,K as p,cU as q}from"./vendor-DGO3ezSh.js";import{i as f,c as D,s as I}from"./BonusController-e2u0xsit.js";import{_ as R}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-n700vlAZ.js";import{_ as d}from"./InputError.vue_vue_type_script_setup_true_lang-BFbNbsoF.js";import{_ as b}from"./index-p1XqrTaB.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-BOQ98pUO.js";import{_ as l}from"./Label.vue_vue_type_script_setup_true_lang-DhaSprrA.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-84tL2wVt.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BCTRkhoz.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-IyrdkPzY.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CBMnmEAQ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-aUuRqzXG.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-B0H8bar2.js";const V={class:"rounded-xl p-4 space-y-6 py-6"},C={class:"flex items-center gap-4"},L={class:"mx-auto"},U={class:"rounded-lg border bg-card p-6"},E={class:"mt-6 grid gap-6 md:grid-cols-2"},F={class:"grid gap-2"},G=["value"],z={class:"grid gap-2"},A={class:"grid gap-2"},J={class:"grid gap-2"},K={class:"grid gap-2 md:col-span-2"},O={class:"flex gap-2"},le=B({__name:"Create",props:{members:{}},setup(k){const y=[{title:"Bonus Regular",href:f.url()},{title:"Tambah Bonus",href:D.url()}],u=h("");return(Q,e)=>(m(),w(S,{breadcrumbs:y},{default:i(()=>[a(t(j),{title:"Tambah Bonus Reguler"}),s("div",V,[s("div",C,[a(t(x),{href:t(f).url()},{default:i(()=>[a(t(b),{variant:"outline",size:"icon"},{default:i(()=>[a(t(M),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),e[3]||(e[3]=s("div",null,[s("h1",{class:"text-3xl font-bold tracking-tight"},"Tambah Bonus Reguler"),s("p",{class:"text-muted-foreground"}," Buat dan atur bonus reguler yang akan diterima oleh member. ")],-1))]),s("div",L,[a(t(T),{action:t(I).url(),method:"post",class:"space-y-6",onSuccess:e[1]||(e[1]=()=>t(_).success("Berhasil",{description:"Bonus berhasil dibuat."})),onError:e[2]||(e[2]=()=>t(_).error("Gagal",{description:"Terjadi kesalahan saat membuat bonus."}))},{default:i(({errors:o,processing:c})=>[s("div",U,[a(R,{title:"Informasi Bonus",description:"Isi data berikut untuk menghitung dan mencatat bonus reguler member."}),s("div",E,[s("div",F,[a(t(l),{for:"member_id"},{default:i(()=>[...e[4]||(e[4]=[n("Member",-1)])]),_:1}),$(s("select",{id:"member_id",name:"member_id","onUpdate:modelValue":e[0]||(e[0]=r=>u.value=r),required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"},[e[5]||(e[5]=s("option",{value:""},"Pilih member...",-1)),(m(!0),v(N,null,P(k.members,r=>(m(),v("option",{key:r.id,value:r.id},p(r.name)+" ("+p(r.ewallet_id)+") ",9,G))),128))],512),[[q,u.value]]),e[6]||(e[6]=s("p",{class:"text-sm text-muted-foreground"}," Pilih member yang akan menerima bonus. Wajib diisi sebelum menyimpan. ",-1)),a(d,{message:o.member_id},null,8,["message"])]),s("div",z,[a(t(l),{for:"amount"},{default:i(()=>[...e[7]||(e[7]=[n("Jumlah Bonus",-1)])]),_:1}),a(t(g),{id:"amount",name:"amount",type:"number",step:"0.01",min:"0",required:"",placeholder:"0"}),e[8]||(e[8]=s("p",{class:"text-sm text-muted-foreground"}," Masukkan nominal bonus kotor (sebelum dipotong pajak), dalam Rupiah. ",-1)),a(d,{message:o.amount},null,8,["message"])]),s("div",A,[a(t(l),{for:"tax_percent"},{default:i(()=>[...e[9]||(e[9]=[n("Persentase Pajak (%)",-1)])]),_:1}),a(t(g),{id:"tax_percent",name:"tax_percent",type:"number",step:"0.01",min:"0",max:"100",value:"10",required:""}),e[10]||(e[10]=s("p",{class:"text-sm text-muted-foreground"}," Persentase pajak yang akan dipotong dari bonus. Default 10%. Ubah jika kebijakan pajak berbeda. ",-1)),a(d,{message:o.tax_percent},null,8,["message"])]),s("div",J,[a(t(l),{for:"index_value"},{default:i(()=>[...e[11]||(e[11]=[n("Nilai Indeks",-1)])]),_:1}),a(t(g),{id:"index_value",name:"index_value",type:"number",step:"0.01",min:"0",value:"1",required:""}),e[12]||(e[12]=s("p",{class:"text-sm text-muted-foreground"}," Nilai pengali untuk perhitungan bonus. Biarkan bernilai 1 jika tidak ada penyesuaian khusus. ",-1)),a(d,{message:o.index_value},null,8,["message"])]),s("div",K,[a(t(l),{for:"description"},{default:i(()=>[...e[13]||(e[13]=[n("Deskripsi",-1)])]),_:1}),e[14]||(e[14]=s("textarea",{id:"description",name:"description",rows:"3",placeholder:"Tulis catatan, alasan pemberian bonus, periode perhitungan, atau informasi lain yang relevan...",class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"},null,-1)),e[15]||(e[15]=s("p",{class:"text-sm text-muted-foreground"}," Opsional. Membantu tim keuangan dan admin memahami konteks bonus yang diberikan. ",-1)),a(d,{message:o.description},null,8,["message"])])])]),s("div",O,[a(t(b),{type:"submit",disabled:c||!u.value},{default:i(()=>[n(p(c?"Menyimpan...":"Simpan Bonus"),1)]),_:2},1032,["disabled"]),a(t(x),{href:t(f).url()},{default:i(()=>[a(t(b),{type:"button",variant:"outline"},{default:i(()=>[...e[16]||(e[16]=[n("Batal",-1)])]),_:1})]),_:1},8,["href"])])]),_:1},8,["action"])])])]),_:1}))}});export{le as default};
