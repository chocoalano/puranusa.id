import{d as C,D as K,r as N,E as z,p as B,v as d,g as u,b as t,u as e,a1 as h,w as r,e as o,a4 as v,G as T,ae as L,s as i,t as p,F as b,x as P,c as E,K as m,J as y,S as F,Q as k}from"./vendor-ppbe-N6l.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-CAMiCJvC.js";import{_ as f}from"./index-BYj0gYCc.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-DNj-uKug.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-DqlcMzBV.js";import{_ as D,a as G}from"./CardContent.vue_vue_type_script_setup_true_lang-vqvbNoPF.js";import{_ as I}from"./CardDescription.vue_vue_type_script_setup_true_lang-DlqFqAdi.js";import{_ as M}from"./CardHeader.vue_vue_type_script_setup_true_lang-_r3YWix0.js";import{_ as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-CuQE-qUU.js";import{_ as A,a as J,b as Q,c as Z,d as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-CzK-upws.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-DiRTNO4J.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-BAAtcDkZ.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DA3JUaxj.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CKDVFyjr.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-B3c6JmTR.js";const q={class:"container mx-auto py-6 space-y-6"},H={class:"flex items-center gap-4"},O={class:"space-y-2"},R={key:0,class:"text-sm text-destructive"},W={class:"space-y-2"},X={key:0,class:"text-sm text-destructive"},Y={class:"space-y-2"},ee={key:0,class:"text-sm text-destructive"},ae={class:"flex justify-end gap-2"},ye=C({__name:"Create",props:{parents:{}},setup(V){const s=K({parent_id:null,name:"",slug:""}),c=N(!1),S=n=>n.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,"");z(()=>s.name,n=>{c.value||(s.slug=S(n))});const g=B({get(){return s.parent_id?String(s.parent_id):"none"},set(n){s.parent_id=n==="none"?null:Number(n)}}),w=()=>{s.transform(n=>{const a={...n};return a.slug||delete a.slug,a.parent_id||delete a.parent_id,a}).post("/admin/zenner-club/categories",{preserveScroll:!0,onSuccess:()=>{k.success("Kategori berhasil ditambahkan")},onError:()=>{k.error("Gagal menambahkan kategori")}})};return(n,a)=>(u(),d(b,null,[t(e(h),{title:"Tambah Kategori"}),t(U,null,{default:r(()=>[o("div",q,[o("div",H,[t(e(v),{href:"/admin/zenner-club/categories"},{default:r(()=>[t(e(f),{variant:"outline",size:"icon"},{default:r(()=>[t(e(T),{class:"h-4 w-4"})]),_:1})]),_:1}),a[4]||(a[4]=o("div",null,[o("h1",{class:"text-3xl font-bold"},"Tambah Kategori"),o("p",{class:"text-muted-foreground"},"Buat kategori baru untuk Zenner Club")],-1))]),o("form",{onSubmit:L(w,["prevent"]),class:"space-y-6"},[t(e(D),null,{default:r(()=>[t(e(M),null,{default:r(()=>[t(e(j),null,{default:r(()=>[...a[5]||(a[5]=[i("Informasi Kategori",-1)])]),_:1}),t(e(I),null,{default:r(()=>[...a[6]||(a[6]=[i("Lengkapi data kategori",-1)])]),_:1})]),_:1}),t(e(G),{class:"space-y-4"},{default:r(()=>[o("div",O,[t(e(_),null,{default:r(()=>[...a[7]||(a[7]=[i("Parent Kategori",-1)])]),_:1}),t(e(A),{modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=l=>g.value=l)},{default:r(()=>[t(e(J),null,{default:r(()=>[t(e(Q),{placeholder:"Pilih parent"})]),_:1}),t(e(Z),null,{default:r(()=>[t(e($),{value:"none"},{default:r(()=>[...a[8]||(a[8]=[i("Tanpa Parent",-1)])]),_:1}),(u(!0),d(b,null,P(V.parents,l=>(u(),E(e($),{key:l.id,value:String(l.id)},{default:r(()=>[i(m(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(s).errors.parent_id?(u(),d("p",R,m(e(s).errors.parent_id),1)):p("",!0)]),o("div",W,[t(e(_),{for:"name"},{default:r(()=>[...a[9]||(a[9]=[i("Nama",-1)])]),_:1}),t(e(x),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":a[1]||(a[1]=l=>e(s).name=l),placeholder:"Nama kategori",class:y({"border-destructive":e(s).errors.name})},null,8,["modelValue","class"]),e(s).errors.name?(u(),d("p",X,m(e(s).errors.name),1)):p("",!0)]),o("div",Y,[t(e(_),{for:"slug"},{default:r(()=>[...a[10]||(a[10]=[i("Slug",-1)])]),_:1}),t(e(x),{id:"slug",modelValue:e(s).slug,"onUpdate:modelValue":a[2]||(a[2]=l=>e(s).slug=l),placeholder:"slug-kategori",class:y({"border-destructive":e(s).errors.slug}),onInput:a[3]||(a[3]=l=>c.value=!0)},null,8,["modelValue","class"]),e(s).errors.slug?(u(),d("p",ee,m(e(s).errors.slug),1)):p("",!0)])]),_:1})]),_:1}),o("div",ae,[t(e(v),{href:"/admin/zenner-club/categories"},{default:r(()=>[t(e(f),{type:"button",variant:"outline"},{default:r(()=>[...a[11]||(a[11]=[i("Batal",-1)])]),_:1})]),_:1}),t(e(f),{type:"submit",disabled:e(s).processing},{default:r(()=>[t(e(F),{class:"mr-2 h-4 w-4"}),i(" "+m(e(s).processing?"Menyimpan...":"Simpan Kategori"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{ye as default};
