import{d as B,r as h,c as w,g as m,w as i,b as a,e as s,u as t,$ as j,a2 as c,E as T,cH as $,P as _,af as M,s as n,v,F as P,x as N,J as p,cQ as V}from"./vendor-DTOvI-mL.js";import{T as f,V as q,W as D,_ as I}from"./AppLayout.vue_vue_type_script_setup_true_lang-YhCYOJnL.js";import{_ as R}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-CJF8CZ3f.js";import{_ as d}from"./InputError.vue_vue_type_script_setup_true_lang-CTwHUfGS.js";import{_ as b}from"./index-D22QrCMB.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-sYWCYV49.js";import{_ as l}from"./Label.vue_vue_type_script_setup_true_lang-Bkvht4jR.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BMNk4ekC.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dl-lb8Nw.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DuRk8pxL.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DLa7QEbp.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DpA8K8_j.js";const S={class:"rounded-xl p-4 space-y-6 py-6"},C={class:"flex items-center gap-4"},E={class:"mx-auto"},F={class:"rounded-lg border bg-card p-6"},J={class:"mt-6 grid gap-6 md:grid-cols-2"},L={class:"grid gap-2"},U=["value"],W={class:"grid gap-2"},z={class:"grid gap-2"},A={class:"grid gap-2"},G={class:"grid gap-2 md:col-span-2"},H={class:"flex gap-2"},de=B({__name:"Create",props:{members:{}},setup(k){const y=[{title:"Bonus Regular",href:f.url()},{title:"Tambah Bonus",href:q.url()}],u=h("");return(O,e)=>(m(),w(I,{breadcrumbs:y},{default:i(()=>[a(t(j),{title:"Tambah Bonus Reguler"}),s("div",S,[s("div",C,[a(t(c),{href:t(f).url()},{default:i(()=>[a(t(b),{variant:"outline",size:"icon"},{default:i(()=>[a(t(T),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),e[3]||(e[3]=s("div",null,[s("h1",{class:"text-3xl font-bold tracking-tight"},"Tambah Bonus Reguler"),s("p",{class:"text-muted-foreground"}," Buat dan atur bonus reguler yang akan diterima oleh member. ")],-1))]),s("div",E,[a(t($),{action:t(D).url(),method:"post",class:"space-y-6",onSuccess:e[1]||(e[1]=()=>t(_).success("Berhasil",{description:"Bonus berhasil dibuat."})),onError:e[2]||(e[2]=()=>t(_).error("Gagal",{description:"Terjadi kesalahan saat membuat bonus."}))},{default:i(({errors:o,processing:x})=>[s("div",F,[a(R,{title:"Informasi Bonus",description:"Isi data berikut untuk menghitung dan mencatat bonus reguler member."}),s("div",J,[s("div",L,[a(t(l),{for:"member_id"},{default:i(()=>[...e[4]||(e[4]=[n("Member",-1)])]),_:1}),M(s("select",{id:"member_id",name:"member_id","onUpdate:modelValue":e[0]||(e[0]=r=>u.value=r),required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"},[e[5]||(e[5]=s("option",{value:""},"Pilih member...",-1)),(m(!0),v(P,null,N(k.members,r=>(m(),v("option",{key:r.id,value:r.id},p(r.name)+" ("+p(r.ewallet_id)+") ",9,U))),128))],512),[[V,u.value]]),e[6]||(e[6]=s("p",{class:"text-sm text-muted-foreground"}," Pilih member yang akan menerima bonus. Wajib diisi sebelum menyimpan. ",-1)),a(d,{message:o.member_id},null,8,["message"])]),s("div",W,[a(t(l),{for:"amount"},{default:i(()=>[...e[7]||(e[7]=[n("Jumlah Bonus",-1)])]),_:1}),a(t(g),{id:"amount",name:"amount",type:"number",step:"0.01",min:"0",required:"",placeholder:"0"}),e[8]||(e[8]=s("p",{class:"text-sm text-muted-foreground"}," Masukkan nominal bonus kotor (sebelum dipotong pajak), dalam Rupiah. ",-1)),a(d,{message:o.amount},null,8,["message"])]),s("div",z,[a(t(l),{for:"tax_percent"},{default:i(()=>[...e[9]||(e[9]=[n("Persentase Pajak (%)",-1)])]),_:1}),a(t(g),{id:"tax_percent",name:"tax_percent",type:"number",step:"0.01",min:"0",max:"100",value:"10",required:""}),e[10]||(e[10]=s("p",{class:"text-sm text-muted-foreground"}," Persentase pajak yang akan dipotong dari bonus. Default 10%. Ubah jika kebijakan pajak berbeda. ",-1)),a(d,{message:o.tax_percent},null,8,["message"])]),s("div",A,[a(t(l),{for:"index_value"},{default:i(()=>[...e[11]||(e[11]=[n("Nilai Indeks",-1)])]),_:1}),a(t(g),{id:"index_value",name:"index_value",type:"number",step:"0.01",min:"0",value:"1",required:""}),e[12]||(e[12]=s("p",{class:"text-sm text-muted-foreground"}," Nilai pengali untuk perhitungan bonus. Biarkan bernilai 1 jika tidak ada penyesuaian khusus. ",-1)),a(d,{message:o.index_value},null,8,["message"])]),s("div",G,[a(t(l),{for:"description"},{default:i(()=>[...e[13]||(e[13]=[n("Deskripsi",-1)])]),_:1}),e[14]||(e[14]=s("textarea",{id:"description",name:"description",rows:"3",placeholder:"Tulis catatan, alasan pemberian bonus, periode perhitungan, atau informasi lain yang relevan...",class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"},null,-1)),e[15]||(e[15]=s("p",{class:"text-sm text-muted-foreground"}," Opsional. Membantu tim keuangan dan admin memahami konteks bonus yang diberikan. ",-1)),a(d,{message:o.description},null,8,["message"])])])]),s("div",H,[a(t(b),{type:"submit",disabled:x||!u.value},{default:i(()=>[n(p(x?"Menyimpan...":"Simpan Bonus"),1)]),_:2},1032,["disabled"]),a(t(c),{href:t(f).url()},{default:i(()=>[a(t(b),{type:"button",variant:"outline"},{default:i(()=>[...e[16]||(e[16]=[n("Batal",-1)])]),_:1})]),_:1},8,["href"])])]),_:1},8,["action"])])])]),_:1}))}});export{de as default};
