import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-CaMmThtw.js";import{d as x,v as g,g as r,e as v,c as m,t as h,K as c,w as a,u as e,b as t,s as l,Y as j,a4 as V,Z as N,P,F as A,x as T,af as U,aj as E,r as I,a1 as D,j as b}from"./vendor-GEHgRacr.js";import{_ as C}from"./index-CbYnopcj.js";import{u as K}from"./usePermissions-BYbpAoA8.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-BJqJA428.js";import{_ as w}from"./index-2jc_3EYP.js";import{_ as H,a as W,b as y,c as _,d as z,e as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-CwzJNeNR.js";import{_ as G,a as J,b as L,c as S}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DwBsCspi.js";import{_ as Q}from"./Pagination.vue_vue_type_script_setup_true_lang-CHQjYZ-Y.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-D3VZFIbC.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dam_g0Gg.js";import"./index-B_n2dl-_.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ctpv-4Tl.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-BJ5vlIQ-.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CvgLNQNX.js";const Y={class:"flex items-center justify-between"},Z={class:"text-3xl font-bold tracking-tight"},q={class:"text-muted-foreground"},M=x({__name:"CategoryHeader",props:{title:{},description:{},showAddButton:{type:Boolean,default:!0}},setup(n){const{isSuperAdmin:k,isAdmin:u}=K();return($,o)=>(r(),g("div",Y,[v("div",null,[v("h2",Z,c(n.title),1),v("p",q,c(n.description),1)]),n.showAddButton?(r(),m(e(V),{key:0,href:"/admin/categories/create"},{default:a(()=>[e(k)||e(u)?(r(),m(e(C),{key:0},{default:a(()=>[t(e(j),{class:"mr-2 h-4 w-4"}),o[0]||(o[0]=l(" Tambah Kategori ",-1))]),_:1})):h("",!0)]),_:1})):h("",!0)]))}}),O={class:"flex items-center gap-4"},R={class:"relative flex-1"},X=x({__name:"CategorySearch",props:{modelValue:{}},emits:["update:modelValue","search"],setup(n,{emit:k}){const u=k;return($,o)=>(r(),g("div",O,[v("div",R,[t(e(N),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(F),{"model-value":n.modelValue,"onUpdate:modelValue":o[0]||(o[0]=p=>u("update:modelValue",p)),placeholder:"Cari kategori...",class:"pl-10",onKeydown:o[1]||(o[1]=P(p=>u("search"),["enter"]))},null,8,["model-value"])])]))}}),ee={class:"rounded-md border"},te={class:"w-10 h-10 rounded-md border overflow-hidden bg-muted flex items-center justify-center"},ae=["src","alt"],se={key:1,class:"text-muted-foreground"},le=x({__name:"CategoryTable",props:{categories:{}},emits:["delete"],setup(n,{emit:k}){const{isSuperAdmin:u,isAdmin:$}=K(),o=k,p=d=>d?d.startsWith("http://")||d.startsWith("https://")?d:`/storage/${d}`:null;return(d,s)=>(r(),g("div",ee,[t(e(H),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(_),{class:"w-[60px]"},{default:a(()=>[...s[0]||(s[0]=[l("Gambar",-1)])]),_:1}),t(e(_),null,{default:a(()=>[...s[1]||(s[1]=[l("Nama Kategori",-1)])]),_:1}),t(e(_),null,{default:a(()=>[...s[2]||(s[2]=[l("Slug",-1)])]),_:1}),t(e(_),null,{default:a(()=>[...s[3]||(s[3]=[l("Parent",-1)])]),_:1}),t(e(_),null,{default:a(()=>[...s[4]||(s[4]=[l("Urutan",-1)])]),_:1}),t(e(_),null,{default:a(()=>[...s[5]||(s[5]=[l("Jumlah Produk",-1)])]),_:1}),t(e(_),null,{default:a(()=>[...s[6]||(s[6]=[l("Status",-1)])]),_:1}),t(e(_),{class:"w-[80px]"})]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[n.categories.length===0?(r(),m(e(y),{key:0},{default:a(()=>[t(e(f),{colspan:"8",class:"text-center text-muted-foreground"},{default:a(()=>[...s[7]||(s[7]=[l(" Tidak ada kategori ditemukan ",-1)])]),_:1})]),_:1})):h("",!0),(r(!0),g(A,null,T(n.categories,i=>(r(),m(e(y),{key:i.id},{default:a(()=>[t(e(f),null,{default:a(()=>[v("div",te,[i.image?(r(),g("img",{key:0,src:p(i.image),alt:i.name,class:"w-full h-full object-cover"},null,8,ae)):(r(),m(e(U),{key:1,class:"w-5 h-5 text-muted-foreground"}))])]),_:2},1024),t(e(f),{class:"font-medium"},{default:a(()=>[l(c(i.name),1)]),_:2},1024),t(e(f),{class:"text-muted-foreground"},{default:a(()=>[l(c(i.slug),1)]),_:2},1024),t(e(f),null,{default:a(()=>[i.parent?(r(),m(e(w),{key:0,variant:"secondary"},{default:a(()=>[l(c(i.parent.name),1)]),_:2},1024)):(r(),g("span",se,"-"))]),_:2},1024),t(e(f),null,{default:a(()=>[l(c(i.sort_order),1)]),_:2},1024),t(e(f),null,{default:a(()=>[t(e(w),null,{default:a(()=>[l(c(i.products_count),1)]),_:2},1024)]),_:2},1024),t(e(f),null,{default:a(()=>[t(e(w),{variant:i.is_active?"default":"secondary"},{default:a(()=>[l(c(i.is_active?"Aktif":"Tidak Aktif"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(f),null,{default:a(()=>[t(e(G),null,{default:a(()=>[t(e(J),{"as-child":""},{default:a(()=>[t(e(C),{variant:"ghost",size:"icon"},{default:a(()=>[t(e(E),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(L),{align:"end"},{default:a(()=>[e(u)||e($)?(r(),m(e(V),{key:0,href:`/admin/categories/${i.id}/edit`},{default:a(()=>[t(e(S),null,{default:a(()=>[...s[8]||(s[8]=[l("Edit",-1)])]),_:1})]),_:1},8,["href"])):h("",!0),e(u)||e($)?(r(),m(e(S),{key:1,onClick:ne=>o("delete",i.id),class:"text-destructive"},{default:a(()=>[...s[9]||(s[9]=[l(" Hapus ",-1)])]),_:1},8,["onClick"])):h("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))}}),re={class:"rounded-xl p-4 space-y-6 py-6"},ye=x({__name:"Index",props:{categories:{},filters:{}},setup(n){const u=I(n.filters.search||""),$=()=>{b.get("/admin/categories",{search:u.value},{preserveState:!0,preserveScroll:!0})},o=p=>{confirm("Apakah Anda yakin ingin menghapus kategori ini?")&&b.delete(`/admin/categories/${p}`,{preserveScroll:!0})};return(p,d)=>(r(),g(A,null,[t(e(D),{title:"Kelola Kategori"}),t(B,null,{default:a(()=>[v("div",re,[t(M,{title:"Kelola Kategori",description:"Kelola kategori produk"}),t(X,{modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=s=>u.value=s),onSearch:$},null,8,["modelValue"]),t(le,{categories:n.categories.data,onDelete:o},null,8,["categories"]),n.categories.last_page>1?(r(),m(Q,{key:0,data:n.categories,url:"/admin/categories",filters:n.filters},null,8,["data","filters"])):h("",!0)])]),_:1})],64))}});export{ye as default};
