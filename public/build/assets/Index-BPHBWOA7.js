const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-flWeloHs.js","assets/vendor-UvtswsZk.css"])))=>i.map(i=>d[i]);
import{_ as vt,a as yt,b as ae,c as le}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-Bq8aViQ2.js";import{b as Xt,c as Ct,_ as es}from"./Ecommerce.vue_vue_type_script_setup_true_lang-DB924akv.js";import{d as Y,r as B,p as F,c as $,g as r,u as e,w as a,b as t,e as s,t as k,s as i,K as n,as as xe,aS as De,bz as ts,d4 as ss,dA as as,Q as j,E as it,v as f,M as Me,Y as ls,F as q,x as te,J as Z,av as ns,$ as rs,z as dt,h as ie,j as fe,D as Se,dq as os,dK as is,at as Ie,cA as ds,dy as us,aN as ut,aK as Re,aJ as ms,dL as cs,ad as Ee,aM as bt,dn as ps,cT as _t,L as Te,a2 as Be,aj as fs,am as Ae,C as xs,aT as ht,dM as jt,dN as gs,a3 as vs,dO as Mt,dP as At,o as Xe,du as mt,ap as at,dJ as lt,cC as Rt,aw as Qe,dg as We,dQ as Le,_ as ys,ay as ct,az as Tt,G as Dt,Z as Ge,dR as bs,dD as _s,dS as hs,dT as ks,aA as ws,dU as $s,a1 as Ps,ar as ye,dV as Lt,aC as Bt,a0 as Ss,dW as Cs}from"./vendor-flWeloHs.js";import{_ as Rs,a as Ts}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-D5yDigSh.js";import{_ as Ds}from"./AvatarImage.vue_vue_type_script_setup_true_lang-Dv6VzhWI.js";import{_ as V}from"./index-BonpZqDt.js";import{_ as O,a as z}from"./CardContent.vue_vue_type_script_setup_true_lang-DFr8PgO7.js";import{_ as U}from"./index-D9Hie8NE.js";import{_ as W}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cgov_qDz.js";import{_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-BdUxjhrU.js";import{a as Ue,b as Ke,c as Fe,d as Ne,_ as Oe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CRYqRfAl.js";import{_ as ze}from"./DialogFooter.vue_vue_type_script_setup_true_lang-kAimjFcc.js";import{_ as se}from"./Input.vue_vue_type_script_setup_true_lang-BI8FpPnw.js";import{_ as G}from"./Label.vue_vue_type_script_setup_true_lang-BiIJwSLe.js";import{_ as Ve}from"./Textarea.vue_vue_type_script_setup_true_lang-Dqlf4BQQ.js";import{_ as js}from"./Switch.vue_vue_type_script_setup_true_lang-DUFjsCZu.js";import{_ as oe}from"./Separator.vue_vue_type_script_setup_true_lang-CB9heydX.js";import{_ as pt,a as ft,b as xt,c as gt,d as He}from"./SelectValue.vue_vue_type_script_setup_true_lang-CnNjP2es.js";import{_ as de}from"./CardDescription.vue_vue_type_script_setup_true_lang-DE7w0u2_.js";import{f as Ms,g as As,h as Ls,i as Bs,j as Vs}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BLeUwnH4.js";import{_ as nt,a as rt,b as ot}from"./index-DxtLRcAL.js";import{q as pe,a as et}from"./index-CMWG4mbA.js";import{_ as Je,a as Ze,b as Ce,c as ne,d as Ye,e as re}from"./TableHeader.vue_vue_type_script_setup_true_lang-Dhjk0EnN.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-C7XCvPtL.js";import"./app-Co2LBEdt.js";function je(){return{formatCurrency:u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(u),formatDate:u=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(u)),getStatusLabel:u=>({pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",delivered:"Selesai",cancelled:"Dibatalkan"})[u]||u,getTransactionTypeLabel:u=>({topup:"Top Up",top_up:"Top Up",withdrawal:"Penarikan",bonus:"Bonus",purchase:"Pembelian",refund:"Refund",deduct:"Potongan Admin"})[u]||u,getTransactionStatusLabel:u=>({pending:"Menunggu",completed:"Selesai",failed:"Gagal",cancelled:"Dibatalkan"})[u]||u}}const Is={class:"flex flex-col items-center text-center"},Es={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Us={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Ks={class:"mt-4 w-full space-y-2 text-sm"},Fs={class:"space-y-1.5"},Ns={class:"flex items-center justify-between"},Os={class:"flex gap-1"},zs={class:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},qs={class:"flex items-center justify-between"},Gs={class:"font-mono font-semibold"},Qs={class:"text-[10px] text-gray-500 dark:text-gray-400 mt-1 break-all"},Ws={class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},Hs={class:"font-mono font-semibold"},Js={class:"flex items-center justify-between p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},Zs={class:"font-semibold text-emerald-700 dark:text-emerald-400"},Ys=Y({__name:"ProfileCard",props:{customer:{}},setup(l){const d=l,{formatCurrency:p}=je(),m=B(!1),h=F(()=>d.customer.name.split(" ").map(M=>M[0]).join("").toUpperCase().slice(0,2)),u=F(()=>typeof window>"u"?"":`${window.location.origin}/client/register?ref=${d.customer.ref_code}`),o=async()=>{if(typeof window>"u"||!navigator.clipboard){j.error("Tidak dapat menyalin link ke clipboard");return}try{await navigator.clipboard.writeText(u.value),m.value=!0,j.success("Link referral telah disalin ke clipboard"),setTimeout(()=>{m.value=!1},2e3)}catch{j.error("Tidak dapat menyalin link ke clipboard")}},x=async()=>{if(typeof window>"u")return;const M={title:"Bergabung dengan Referral Saya",text:`Gunakan kode referral saya: ${d.customer.ref_code}`,url:u.value};if(navigator.share)try{await navigator.share(M),j.success("Link referral berhasil dibagikan")}catch(g){g.name!=="AbortError"&&console.error("Error sharing:",g)}else await o()};return(M,g)=>(r(),$(e(O),null,{default:a(()=>[t(e(z),{class:"pt-6"},{default:a(()=>[s("div",Is,[t(e(Rs),{class:"h-24 w-24 mb-4"},{default:a(()=>[t(e(Ds),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${l.customer.name}`},null,8,["src"]),t(e(Ts),null,{default:a(()=>[i(n(h.value),1)]),_:1})]),_:1}),s("h2",Es,n(l.customer.name),1),s("p",Us,n(l.customer.username),1),l.customer.level?(r(),$(e(V),{key:0,variant:"outline",class:"mt-2 bg-amber-50 text-amber-700 border-amber-300 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-700"},{default:a(()=>[i(n(l.customer.level),1)]),_:1})):k("",!0),l.customer.email_verified_at?(r(),$(e(V),{key:1,class:"mt-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100"},{default:a(()=>[t(e(xe),{class:"w-3 h-3 mr-1"}),g[0]||(g[0]=i(" Email Terverifikasi ",-1))]),_:1})):(r(),$(e(V),{key:2,variant:"secondary",class:"mt-3"},{default:a(()=>[t(e(De),{class:"w-3 h-3 mr-1"}),g[1]||(g[1]=i(" Email Belum Terverifikasi ",-1))]),_:1})),s("div",Ks,[s("div",Fs,[s("div",Ns,[g[3]||(g[3]=s("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Referral Link",-1)),s("div",Os,[t(e(U),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:o},{default:a(()=>[m.value?(r(),$(e(ts),{key:0,class:"w-3 h-3 mr-1"})):(r(),$(e(ss),{key:1,class:"w-3 h-3 mr-1"})),i(" "+n(m.value?"Tersalin":"Salin"),1)]),_:1}),t(e(U),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:x},{default:a(()=>[t(e(as),{class:"w-3 h-3 mr-1"}),g[2]||(g[2]=i(" Bagikan ",-1))]),_:1})])]),s("div",zs,[s("div",qs,[g[4]||(g[4]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Kode Referral",-1)),s("span",Gs,n(l.customer.ref_code),1)]),s("p",Qs,n(u.value),1)])]),s("div",Ws,[g[5]||(g[5]=s("span",{class:"text-gray-600 dark:text-gray-400"},"E-Wallet ID",-1)),s("span",Hs,n(l.customer.ewallet_id),1)]),s("div",Js,[g[6]||(g[6]=s("span",{class:"text-emerald-700 dark:text-emerald-400"},"Saldo",-1)),s("span",Zs,n(e(p)(l.customer.ewallet_saldo)),1)])])])]),_:1})]),_:1}))}}),Xs={class:"flex items-center justify-between"},ea={key:0,class:"text-center py-12 text-muted-foreground"},ta={key:1,class:"space-y-4"},sa={class:"flex items-start gap-3 mb-3"},aa={class:"flex-1 min-w-0"},la={class:"flex items-center gap-2 mb-1"},na={class:"font-semibold text-sm"},ra={class:"text-sm font-medium"},oa={class:"text-xs text-muted-foreground"},ia={class:"space-y-1 mb-3"},da={class:"text-sm"},ua={key:0,class:"text-sm text-muted-foreground"},ma={class:"text-sm text-muted-foreground"},ca={key:0},pa={class:"text-xs text-muted-foreground"},fa={key:1,class:"text-xs text-muted-foreground italic mt-2"},xa={class:"flex items-center gap-2"},ga={class:"space-y-4 py-4"},va={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ya={class:"space-y-2"},ba={class:"flex items-center space-x-2 pt-8"},_a={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ha={class:"space-y-2"},ka={class:"space-y-2"},wa={class:"space-y-2"},$a={class:"space-y-2"},Pa={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Sa={class:"space-y-2"},Ca={class:"space-y-2"},Ra={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ta={class:"space-y-2"},Da={class:"space-y-2"},ja={class:"space-y-2"},Ma=Y({__name:"AddressManagement",props:{addresses:{}},setup(l){const d=B(!1),p=B(!1),m=B(!1),h=B(!1),u=B([]),o=B([]),x=B(!1),M=B(!1),g=B(""),P=B(""),v=B({label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""}),_=B(null),c=async()=>{x.value=!0;try{const A=await ie.get("/api/shipping/provinces");u.value=A.data.data}catch(A){j.error("Gagal memuat data provinsi"),console.error("Error loading provinces:",A)}finally{x.value=!1}},C=async A=>{if(A){M.value=!0,o.value=[],P.value="";try{const w=await ie.get("/api/shipping/cities",{params:{province_id:A}});o.value=w.data.data}catch(w){j.error("Gagal memuat data kota"),console.error("Error loading cities:",w)}finally{M.value=!1}}};it(g,A=>{if(!A)return;const w=u.value.find(y=>y.id.toString()===A);w&&(v.value.province_id=parseInt(A),v.value.province_label=w.name,C(A))}),it(P,A=>{if(!A)return;const w=o.value.find(y=>y.id.toString()===A);w&&(v.value.city_id=parseInt(A),v.value.city_label=w.name)});const D=()=>{p.value=!1,v.value={label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""},g.value="",P.value="",o.value=[],c(),d.value=!0},E=A=>{p.value=!0,_.value=A.id,v.value={...A},c().then(()=>{A.province_id&&(g.value=A.province_id.toString(),C(A.province_id.toString()).then(()=>{A.city_id&&(P.value=A.city_id.toString())}))}),d.value=!0},N=()=>{d.value=!1,_.value=null},K=()=>{if(!v.value.recipient_name||!v.value.recipient_phone||!v.value.address_line1){j.error("Mohon lengkapi nama penerima, telepon, dan alamat");return}if(!v.value.province_id||!v.value.city_id){j.error("Mohon pilih provinsi dan kota/kabupaten");return}h.value=!0;const A=p.value&&_.value?`/client/profile/addresses/${_.value}`:"/client/profile/addresses",w=p.value?"put":"post";fe[w](A,v.value,{preserveScroll:!0,onSuccess:()=>{j.success(`Alamat berhasil ${p.value?"diperbarui":"ditambahkan"}`),N()},onError:y=>{if(console.error("Address save error:",y),typeof y=="object"&&y!==null){const S=Object.values(y)[0],b=Array.isArray(S)?S[0]:S;j.error(b||"Gagal menyimpan alamat")}else j.error("Gagal menyimpan alamat. Silakan coba lagi.")},onFinish:()=>{h.value=!1}})},Q=A=>{confirm("Apakah Anda yakin ingin menghapus alamat ini?")&&(m.value=!0,fe.delete(`/client/profile/addresses/${A}`,{preserveScroll:!0,onSuccess:()=>{j.success("Alamat berhasil dihapus")},onError:w=>{if(console.error("Address delete error:",w),typeof w=="object"&&w!==null){const y=Object.values(w)[0],S=Array.isArray(y)?y[0]:y;j.error(S||"Gagal menghapus alamat")}else j.error("Gagal menghapus alamat. Silakan coba lagi.")},onFinish:()=>{m.value=!1}}))},I=A=>{Se({}).post(`/client/profile/addresses/${A}/set-default`,{preserveScroll:!0,onSuccess:()=>{j.success("Alamat utama berhasil diubah")},onError:y=>{if(console.error("Set default address error:",y),typeof y=="object"&&y!==null){const S=Object.values(y)[0],b=Array.isArray(S)?S[0]:S;j.error(b||"Gagal mengubah alamat utama")}else j.error("Gagal mengubah alamat utama. Silakan coba lagi.")}})},J=A=>A?A.toLowerCase().includes("rumah")||A.toLowerCase().includes("home")?os:A.toLowerCase().includes("kantor")||A.toLowerCase().includes("office")?is:Me:Me;return(A,w)=>(r(),f(q,null,[t(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[s("div",Xs,[t(e(H),{class:"flex items-center gap-2"},{default:a(()=>[t(e(Me),{class:"w-5 h-5"}),w[11]||(w[11]=i(" Kelola Alamat ",-1))]),_:1}),t(e(U),{size:"sm",onClick:D},{default:a(()=>[t(e(ls),{class:"w-4 h-4 mr-2"}),w[12]||(w[12]=i(" Tambah Alamat ",-1))]),_:1})])]),_:1}),t(e(z),null,{default:a(()=>[l.addresses.length===0?(r(),f("div",ea,[t(e(Me),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),w[13]||(w[13]=s("p",{class:"mb-2"},"Belum ada alamat tersimpan",-1)),w[14]||(w[14]=s("p",{class:"text-sm"},"Tambahkan alamat untuk mempermudah proses pengiriman",-1))])):(r(),f("div",ta,[(r(!0),f(q,null,te(l.addresses,y=>(r(),f("div",{key:y.id,class:Z(["relative p-4 rounded-lg border transition-all",y.is_default?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[y.is_default?(r(),$(e(V),{key:0,variant:"default",class:"absolute top-2 right-2 text-xs"},{default:a(()=>[...w[15]||(w[15]=[i(" Utama ",-1)])]),_:1})):k("",!0),s("div",sa,[(r(),$(ns(J(y.label)),{class:Z(["w-5 h-5 mt-1 flex-shrink-0",y.is_default?"text-primary":"text-muted-foreground"])},null,8,["class"])),s("div",aa,[s("div",la,[s("h4",na,n(y.label||"Alamat"),1)]),s("p",ra,n(y.recipient_name),1),s("p",oa,n(y.recipient_phone),1)])]),s("div",ia,[s("p",da,n(y.address_line1),1),y.address_line2?(r(),f("p",ua,n(y.address_line2),1)):k("",!0),s("p",ma,[i(n(y.city_label)+", "+n(y.province_label)+" ",1),y.postal_code?(r(),f("span",ca,n(y.postal_code),1)):k("",!0)]),s("p",pa,n(y.country),1),y.description?(r(),f("p",fa,n(y.description),1)):k("",!0)]),t(e(oe),{class:"my-3"}),s("div",xa,[y.is_default?k("",!0):(r(),$(e(U),{key:0,variant:"outline",size:"sm",onClick:S=>I(y.id)},{default:a(()=>[...w[16]||(w[16]=[i(" Jadikan Utama ",-1)])]),_:1},8,["onClick"])),t(e(U),{variant:"outline",size:"sm",onClick:S=>E(y)},{default:a(()=>[t(e(rs),{class:"w-3 h-3 mr-1"}),w[17]||(w[17]=i(" Edit ",-1))]),_:1},8,["onClick"]),t(e(U),{variant:"destructive",size:"sm",disabled:m.value,onClick:S=>Q(y.id)},{default:a(()=>[t(e(dt),{class:"w-3 h-3 mr-1"}),w[18]||(w[18]=i(" Hapus ",-1))]),_:1},8,["disabled","onClick"])])],2))),128))]))]),_:1})]),_:1}),t(e(Oe),{open:d.value,"onUpdate:open":N},{default:a(()=>[t(e(Ue),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[t(e(Ke),null,{default:a(()=>[t(e(Fe),null,{default:a(()=>[i(n(p.value?"Edit Alamat":"Tambah Alamat Baru"),1)]),_:1}),t(e(Ne),null,{default:a(()=>[i(n(p.value?"Perbarui informasi alamat Anda":"Tambahkan alamat pengiriman baru"),1)]),_:1})]),_:1}),s("div",ga,[s("div",va,[s("div",ya,[t(e(G),{for:"label"},{default:a(()=>[...w[19]||(w[19]=[i("Label Alamat",-1)])]),_:1}),t(e(se),{id:"label",modelValue:v.value.label,"onUpdate:modelValue":w[0]||(w[0]=y=>v.value.label=y),placeholder:"Rumah, Kantor, dll"},null,8,["modelValue"])]),s("div",ba,[t(e(js),{id:"is_default",checked:v.value.is_default,"onUpdate:checked":w[1]||(w[1]=y=>v.value.is_default=y)},null,8,["checked"]),t(e(G),{for:"is_default",class:"cursor-pointer"},{default:a(()=>[...w[20]||(w[20]=[i("Jadikan alamat utama",-1)])]),_:1})])]),s("div",_a,[s("div",ha,[t(e(G),{for:"recipient_name"},{default:a(()=>[...w[21]||(w[21]=[i("Nama Penerima ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(e(se),{id:"recipient_name",modelValue:v.value.recipient_name,"onUpdate:modelValue":w[2]||(w[2]=y=>v.value.recipient_name=y),placeholder:"Nama lengkap penerima",required:""},null,8,["modelValue"])]),s("div",ka,[t(e(G),{for:"recipient_phone"},{default:a(()=>[...w[22]||(w[22]=[i("No. Telepon Penerima ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(e(se),{id:"recipient_phone",modelValue:v.value.recipient_phone,"onUpdate:modelValue":w[3]||(w[3]=y=>v.value.recipient_phone=y),placeholder:"08xxxxxxxxxx",required:""},null,8,["modelValue"])])]),s("div",wa,[t(e(G),{for:"address_line1"},{default:a(()=>[...w[23]||(w[23]=[i("Alamat Lengkap ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(e(Ve),{id:"address_line1",modelValue:v.value.address_line1,"onUpdate:modelValue":w[4]||(w[4]=y=>v.value.address_line1=y),placeholder:"Jalan, nomor rumah, RT/RW, blok",rows:"3",required:""},null,8,["modelValue"])]),s("div",$a,[t(e(G),{for:"address_line2"},{default:a(()=>[...w[24]||(w[24]=[i("Detail Tambahan (Opsional)",-1)])]),_:1}),t(e(se),{id:"address_line2",modelValue:v.value.address_line2,"onUpdate:modelValue":w[5]||(w[5]=y=>v.value.address_line2=y),placeholder:"Patokan, gedung, unit, warna rumah, dll"},null,8,["modelValue"])]),s("div",Pa,[s("div",Sa,[t(e(G),{for:"province"},{default:a(()=>[...w[25]||(w[25]=[i("Provinsi ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(e(pt),{modelValue:g.value,"onUpdate:modelValue":w[6]||(w[6]=y=>g.value=y),disabled:x.value},{default:a(()=>[t(e(ft),{id:"province"},{default:a(()=>[t(e(xt),{placeholder:x.value?"Memuat provinsi...":"Pilih provinsi"},null,8,["placeholder"])]),_:1}),t(e(gt),null,{default:a(()=>[(r(!0),f(q,null,te(u.value,y=>(r(),$(e(He),{key:y.id,value:y.id.toString()},{default:a(()=>[i(n(y.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),s("div",Ca,[t(e(G),{for:"city"},{default:a(()=>[...w[26]||(w[26]=[i("Kota/Kabupaten ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(e(pt),{modelValue:P.value,"onUpdate:modelValue":w[7]||(w[7]=y=>P.value=y),disabled:!g.value||M.value},{default:a(()=>[t(e(ft),{id:"city"},{default:a(()=>[t(e(xt),{placeholder:M.value?"Memuat kota...":g.value?"Pilih kota/kabupaten":"Pilih provinsi terlebih dahulu"},null,8,["placeholder"])]),_:1}),t(e(gt),null,{default:a(()=>[(r(!0),f(q,null,te(o.value,y=>(r(),$(e(He),{key:y.id,value:y.id.toString()},{default:a(()=>[i(n(y.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),s("div",Ra,[s("div",Ta,[t(e(G),{for:"postal_code"},{default:a(()=>[...w[27]||(w[27]=[i("Kode Pos",-1)])]),_:1}),t(e(se),{id:"postal_code",modelValue:v.value.postal_code,"onUpdate:modelValue":w[8]||(w[8]=y=>v.value.postal_code=y),placeholder:"12345"},null,8,["modelValue"])]),s("div",Da,[t(e(G),{for:"country"},{default:a(()=>[...w[28]||(w[28]=[i("Negara",-1)])]),_:1}),t(e(se),{id:"country",modelValue:v.value.country,"onUpdate:modelValue":w[9]||(w[9]=y=>v.value.country=y),placeholder:"Indonesia"},null,8,["modelValue"])])]),s("div",ja,[t(e(G),{for:"description"},{default:a(()=>[...w[29]||(w[29]=[i("Catatan (Opsional)",-1)])]),_:1}),t(e(Ve),{id:"description",modelValue:v.value.description,"onUpdate:modelValue":w[10]||(w[10]=y=>v.value.description=y),placeholder:"Catatan khusus untuk alamat ini",rows:"2"},null,8,["modelValue"])])]),t(e(ze),null,{default:a(()=>[t(e(U),{variant:"outline",onClick:N,disabled:h.value},{default:a(()=>[...w[30]||(w[30]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),t(e(U),{onClick:K,disabled:h.value},{default:a(()=>[i(n(h.value?"Menyimpan...":p.value?"Perbarui":"Simpan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Aa={class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},La={class:"text-xl font-bold text-emerald-700 dark:text-emerald-400"},Ba={class:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},Va={class:"text-xl font-bold text-amber-700 dark:text-amber-400"},Ia=Y({__name:"BonusStatsCard",props:{customer:{}},setup(l){const{formatCurrency:d}=je();return(p,m)=>(r(),$(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(H),{class:"flex items-center gap-2"},{default:a(()=>[t(e(Ie),{class:"w-5 h-5"}),m[0]||(m[0]=i(" Statistik Bonus ",-1))]),_:1})]),_:1}),t(e(z),{class:"space-y-3"},{default:a(()=>[s("div",Aa,[m[1]||(m[1]=s("p",{class:"text-xs text-emerald-700 dark:text-emerald-400 mb-1"},"Total Dirilis",-1)),s("p",La,n(e(d)(l.customer.bonus_stats.total_released)),1)]),s("div",Ba,[m[2]||(m[2]=s("p",{class:"text-xs text-amber-700 dark:text-amber-400 mb-1"},"Total Pending",-1)),s("p",Va,n(e(d)(l.customer.bonus_stats.total_pending)),1)])]),_:1})]),_:1}))}}),Ea={class:"flex items-center gap-3"},Ua={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},Ka={class:"font-semibold"},Fa=Y({__name:"MemberSinceCard",props:{createdAt:{}},setup(l){const{formatDate:d}=je();return(p,m)=>(r(),$(e(O),null,{default:a(()=>[t(e(z),{class:"pt-6"},{default:a(()=>[s("div",Ea,[s("div",Ua,[t(e(ds),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),s("div",null,[m[0]||(m[0]=s("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Member Sejak",-1)),s("p",Ka,n(e(d)(l.createdAt)),1)])])]),_:1})]),_:1}))}}),Na={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Oa={class:"space-y-2"},za={class:"relative"},qa={key:0,class:"text-sm text-red-500"},Ga={class:"space-y-2"},Qa={class:"relative"},Wa={key:0,class:"text-sm text-red-500"},Ha={class:"space-y-2"},Ja={class:"relative"},Za={key:0,class:"text-sm text-red-500"},Ya={class:"space-y-2"},Xa={key:0,class:"text-sm text-red-500"},el={class:"space-y-2"},tl={class:"relative"},sl={key:0,class:"text-sm text-red-500"},al={class:"space-y-2"},ll={class:"relative"},nl={key:0,class:"text-sm text-red-500"},rl={class:"space-y-2"},ol={class:"relative"},il={key:0,class:"text-sm text-red-500"},dl={class:"space-y-2"},ul={key:0,class:"text-sm text-red-500"},ml={class:"flex items-center justify-end gap-3"},cl=Y({__name:"ProfileInformationTab",props:{customer:{}},setup(l){const d=l,p=Se({name:d.customer.name,username:d.customer.username||"",nik:d.customer.nik||"",gender:d.customer.gender||"",alamat:d.customer.alamat||"",email:d.customer.email,phone:d.customer.phone,description:d.customer.description||""}),m=()=>{p.patch("/client/profile",{preserveScroll:!0,onSuccess:()=>{j.success("Informasi profil berhasil diperbarui")}})};return(h,u)=>(r(),$(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(H),null,{default:a(()=>[...u[9]||(u[9]=[i("Informasi Profile",-1)])]),_:1}),t(e(de),null,{default:a(()=>[...u[10]||(u[10]=[i(" Update informasi profil Anda di sini ",-1)])]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("form",{onSubmit:Ee(m,["prevent"]),class:"space-y-6"},[s("div",Na,[s("div",Oa,[t(e(G),{for:"username"},{default:a(()=>[...u[11]||(u[11]=[i(" Username ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),s("div",za,[t(e(us),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(se),{id:"username",modelValue:e(p).username,"onUpdate:modelValue":u[0]||(u[0]=o=>e(p).username=o),type:"text",placeholder:"username",class:"pl-10",required:""},null,8,["modelValue"])]),e(p).errors.username?(r(),f("p",qa,n(e(p).errors.username),1)):k("",!0)]),s("div",Ga,[t(e(G),{for:"name"},{default:a(()=>[...u[12]||(u[12]=[i(" Nama Lengkap ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),s("div",Qa,[t(e(ut),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(se),{id:"name",modelValue:e(p).name,"onUpdate:modelValue":u[1]||(u[1]=o=>e(p).name=o),type:"text",placeholder:"Masukkan nama lengkap",class:"pl-10",required:""},null,8,["modelValue"])]),e(p).errors.name?(r(),f("p",Wa,n(e(p).errors.name),1)):k("",!0)]),s("div",Ha,[t(e(G),{for:"nik"},{default:a(()=>[...u[13]||(u[13]=[i("NIK (Nomor Induk Kependudukan)",-1)])]),_:1}),s("div",Ja,[t(e(Re),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(se),{id:"nik",modelValue:e(p).nik,"onUpdate:modelValue":u[2]||(u[2]=o=>e(p).nik=o),type:"text",placeholder:"16 digit NIK",class:"pl-10",maxlength:"16"},null,8,["modelValue"])]),e(p).errors.nik?(r(),f("p",Za,n(e(p).errors.nik),1)):k("",!0)]),s("div",Ya,[t(e(G),{for:"gender"},{default:a(()=>[...u[14]||(u[14]=[i("Jenis Kelamin",-1)])]),_:1}),t(e(pt),{modelValue:e(p).gender,"onUpdate:modelValue":u[3]||(u[3]=o=>e(p).gender=o)},{default:a(()=>[t(e(ft),null,{default:a(()=>[t(e(xt),{placeholder:"Pilih jenis kelamin"})]),_:1}),t(e(gt),null,{default:a(()=>[t(e(He),{value:"male"},{default:a(()=>[...u[15]||(u[15]=[i("Laki-laki",-1)])]),_:1}),t(e(He),{value:"female"},{default:a(()=>[...u[16]||(u[16]=[i("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(p).errors.gender?(r(),f("p",Xa,n(e(p).errors.gender),1)):k("",!0)]),s("div",el,[t(e(G),{for:"email"},{default:a(()=>[...u[17]||(u[17]=[i(" Email ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),s("div",tl,[t(e(ms),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(se),{id:"email",modelValue:e(p).email,"onUpdate:modelValue":u[4]||(u[4]=o=>e(p).email=o),type:"email",placeholder:"email@example.com",class:"pl-10",required:""},null,8,["modelValue"])]),e(p).errors.email?(r(),f("p",sl,n(e(p).errors.email),1)):k("",!0)]),s("div",al,[t(e(G),{for:"phone"},{default:a(()=>[...u[18]||(u[18]=[i(" Nomor Telepon ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),s("div",ll,[t(e(cs),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(se),{id:"phone",modelValue:e(p).phone,"onUpdate:modelValue":u[5]||(u[5]=o=>e(p).phone=o),type:"tel",placeholder:"08123456789",class:"pl-10",required:""},null,8,["modelValue"])]),e(p).errors.phone?(r(),f("p",nl,n(e(p).errors.phone),1)):k("",!0)])]),s("div",rl,[t(e(G),{for:"alamat"},{default:a(()=>[...u[19]||(u[19]=[i("Alamat",-1)])]),_:1}),s("div",ol,[t(e(Me),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(Ve),{id:"alamat",modelValue:e(p).alamat,"onUpdate:modelValue":u[6]||(u[6]=o=>e(p).alamat=o),placeholder:"Masukkan alamat lengkap...",rows:"3",class:"pl-10"},null,8,["modelValue"])]),e(p).errors.alamat?(r(),f("p",il,n(e(p).errors.alamat),1)):k("",!0)]),s("div",dl,[t(e(G),{for:"description"},{default:a(()=>[...u[20]||(u[20]=[i("Deskripsi",-1)])]),_:1}),t(e(Ve),{id:"description",modelValue:e(p).description,"onUpdate:modelValue":u[7]||(u[7]=o=>e(p).description=o),placeholder:"Ceritakan tentang diri Anda...",rows:"4"},null,8,["modelValue"]),u[21]||(u[21]=s("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Maksimal 1000 karakter ",-1)),e(p).errors.description?(r(),f("p",ul,n(e(p).errors.description),1)):k("",!0)]),s("div",ml,[t(e(U),{type:"button",variant:"outline",onClick:u[8]||(u[8]=o=>e(p).reset()),disabled:e(p).processing},{default:a(()=>[...u[22]||(u[22]=[i(" Reset ",-1)])]),_:1},8,["disabled"]),t(e(U),{type:"submit",disabled:e(p).processing},{default:a(()=>[e(p).processing?k("",!0):(r(),$(e(xe),{key:0,class:"w-4 h-4 mr-2"})),i(" "+n(e(p).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),pl={key:0,class:"flex items-center justify-center py-12"},fl={key:1,class:"space-y-6 py-6"},xl={class:"space-y-3"},gl={class:"flex items-center gap-2 text-sm font-medium"},vl={class:"space-y-2"},yl={class:"flex justify-between"},bl={class:"text-sm font-medium"},_l={class:"flex justify-between items-center"},hl={key:0,class:"flex justify-between"},kl={class:"text-sm font-medium"},wl={key:1,class:"flex justify-between items-center"},$l={class:"space-y-3"},Pl={class:"flex items-center gap-2 text-sm font-medium"},Sl={class:"space-y-3"},Cl=["src","alt"],Rl={class:"flex-1"},Tl={class:"font-medium text-sm"},Dl={class:"text-xs text-muted-foreground"},jl={class:"text-xs text-muted-foreground"},Ml={class:"text-right"},Al={class:"font-semibold text-sm"},Ll={key:0,class:"space-y-3"},Bl={class:"flex items-center gap-2 text-sm font-medium"},Vl={class:"p-3 bg-muted/30 rounded-lg space-y-1"},Il={class:"font-medium text-sm"},El={class:"text-sm text-muted-foreground"},Ul={class:"text-sm text-muted-foreground"},Kl={class:"text-sm text-muted-foreground"},Fl={key:1,class:"space-y-3"},Nl={class:"flex items-center gap-2 text-sm font-medium"},Ol={class:"p-3 bg-muted/30 rounded-lg space-y-2"},zl={class:"flex justify-between"},ql={class:"text-sm font-medium"},Gl={class:"flex justify-between"},Ql={class:"text-sm font-medium"},Wl={class:"flex justify-between"},Hl={class:"text-sm font-medium"},Jl={class:"space-y-3"},Zl={class:"flex items-center gap-2 text-sm font-medium"},Yl={class:"space-y-2 text-sm"},Xl={class:"flex justify-between"},en={key:0,class:"flex justify-between"},tn={class:"text-red-600"},sn={class:"flex justify-between"},an={key:1,class:"flex justify-between"},ln={class:"flex justify-between font-semibold text-base"},nn={class:"text-primary"},rn={key:2,class:"space-y-2"},on={class:"space-y-1"},dn={class:"text-sm text-muted-foreground"},un={key:3,class:"space-y-4 pt-4"},mn={class:"space-y-3"},cn={class:"flex items-center gap-2 text-sm font-medium"},pn={class:"flex items-start justify-between"},fn={class:"flex items-center gap-2 font-medium text-sm"},xn={class:"text-xs text-muted-foreground"},gn={key:0,class:"mt-1 text-xs text-destructive"},vn={class:"flex items-start justify-between"},yn={class:"flex items-center gap-2 font-medium text-sm"},bn={key:3},_n={key:4},hn={key:4,class:"pt-4"},kn={key:2,class:"flex items-center justify-center py-12 text-muted-foreground"},wn=Y({__name:"OrderDetailSheet",props:{open:{type:Boolean},orderId:{}},emits:["update:open"],setup(l,{emit:d}){const p=l,m=d,{formatCurrency:h,formatDate:u,getStatusLabel:o}=je(),x=bt(),M=F(()=>x.props.auth?.user?.ewallet_saldo??0),g=B(!1),P=B(!1),v=B(!1),_=B(!1),c=B(null),C=B("midtrans"),D=F(()=>c.value?.status?.toUpperCase()==="SHIPPED"),E=F(()=>c.value?.status?.toUpperCase()==="PENDING"&&!c.value?.paid_at),N=F(()=>c.value?M.value>=c.value.grand_total:!1);ps(()=>{typeof document<"u"&&(_.value?document.body.classList.add("midtrans-popup-active"):document.body.classList.remove("midtrans-popup-active"))}),_t(()=>{typeof document<"u"&&document.body.classList.remove("midtrans-popup-active")});const K=F(()=>{const y=c.value?.status?.toLowerCase();return{"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":y==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":y==="processing"||y==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":y==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":y==="delivered"||y==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":y==="cancelled"}}),Q=async()=>{if(p.orderId){g.value=!0;try{const y=await ie.get(`/api/client/orders/${p.orderId}`);c.value=y.data.data}catch(y){console.error("Failed to load order:",y),j.error("Gagal memuat detail pesanan")}finally{g.value=!1}}},I=async()=>{if(!(!c.value||!D.value||P.value)){P.value=!0;try{await ie.post(`/api/client/orders/${c.value.id}/complete`),await Q(),fe.reload({only:["orders"]}),j.success('Status pesanan berhasil diperbarui menjadi "Selesai".')}catch(y){console.error("Failed to update order status:",y),j.error(y.response?.data?.message||"Gagal memperbarui status pesanan")}finally{P.value=!1}}},J=async()=>{if(!c.value||!E.value||v.value)return;const y=window.snap;if(!y){j.error("Sistem pembayaran belum siap. Mohon refresh halaman.");return}v.value=!0;try{const b=(await ie.post(`/api/client/orders/${c.value.id}/pay`)).data;b.success&&b.snap_token?(_.value=!0,y.pay(b.snap_token,{onSuccess:function(){_.value=!1,v.value=!1,j.success("Pembayaran berhasil!"),Q(),fe.reload({only:["orders"]})},onPending:function(){_.value=!1,v.value=!1,j.info("Pembayaran tertunda. Silakan selesaikan pembayaran."),Q(),fe.reload({only:["orders"]})},onError:function(){_.value=!1,v.value=!1,j.error("Pembayaran gagal. Silakan coba lagi."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)},onClose:function(){_.value=!1,v.value=!1,j.info("Pembayaran dibatalkan."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)}})):j.error(b.message||"Gagal memproses pembayaran")}catch(S){console.error("Failed to initiate payment:",S),j.error(S.response?.data?.message||"Gagal memproses pembayaran")}finally{_.value||(v.value=!1)}},A=async()=>{if(!(!c.value||!E.value||v.value)){if(!N.value){j.error("Saldo e-wallet Anda tidak mencukupi");return}v.value=!0;try{const S=(await ie.post(`/api/client/orders/${c.value.id}/pay-wallet`)).data;S.success?(j.success(S.message||"Pembayaran berhasil!"),await Q(),fe.reload({only:["orders","auth"]})):j.error(S.message||"Gagal memproses pembayaran")}catch(y){console.error("Failed to pay with wallet:",y),j.error(y.response?.data?.message||"Gagal memproses pembayaran")}finally{v.value=!1}}},w=()=>{C.value==="wallet"?A():J()};return it(()=>[p.open,p.orderId],([y,S])=>{y&&S&&Q()}),(y,S)=>(r(),$(e(Ms),{open:l.open,"onUpdate:open":S[3]||(S[3]=b=>m("update:open",b))},{default:a(()=>[t(e(As),{side:"right",class:"sm:max-w-2xl w-full overflow-y-auto"},{default:a(()=>[t(e(Ls),null,{default:a(()=>[t(e(Bs),null,{default:a(()=>[...S[4]||(S[4]=[i("Detail Pesanan",-1)])]),_:1}),t(e(Vs),null,{default:a(()=>[...S[5]||(S[5]=[i(" Informasi lengkap pesanan Anda ",-1)])]),_:1})]),_:1}),g.value?(r(),f("div",pl,[t(e(Te),{class:"h-8 w-8 animate-spin text-muted-foreground"})])):c.value?(r(),f("div",fl,[s("div",xl,[s("div",gl,[t(e(Be),{class:"h-4 w-4"}),S[6]||(S[6]=s("span",null,"Ringkasan Pesanan",-1))]),s("div",vl,[s("div",yl,[S[7]||(S[7]=s("span",{class:"text-sm text-muted-foreground"},"Nomor Pesanan",-1)),s("span",bl,n(c.value.order_no),1)]),s("div",_l,[S[8]||(S[8]=s("span",{class:"text-sm text-muted-foreground"},"Status",-1)),t(e(V),{class:Z(K.value)},{default:a(()=>[i(n(e(o)(c.value.status)),1)]),_:1},8,["class"])]),c.value.placed_at?(r(),f("div",hl,[S[9]||(S[9]=s("span",{class:"text-sm text-muted-foreground"},"Tanggal Pesan",-1)),s("span",kl,n(e(u)(c.value.placed_at)),1)])):k("",!0),c.value.paid_at?(r(),f("div",wl,[S[10]||(S[10]=s("span",{class:"text-sm text-muted-foreground"},"Status Pembayaran",-1)),t(e(V),{variant:"secondary"},{default:a(()=>[t(e(xe),{class:"w-3 h-3 mr-1"}),i(" Dibayar "+n(e(u)(c.value.paid_at)),1)]),_:1})])):k("",!0)])]),t(e(oe)),s("div",$l,[s("div",Pl,[t(e(Be),{class:"h-4 w-4"}),S[11]||(S[11]=s("span",null,"Produk Pesanan",-1))]),s("div",Sl,[(r(!0),f(q,null,te(c.value.items,b=>(r(),f("div",{key:b.id,class:"flex gap-4 p-3 bg-muted/30 rounded-lg"},[b.meta_json?.image?(r(),f("img",{key:0,src:b.meta_json.image,alt:b.name,class:"w-16 h-16 object-cover rounded-md"},null,8,Cl)):k("",!0),s("div",Rl,[s("h4",Tl,n(b.name),1),s("p",Dl,"SKU: "+n(b.sku),1),s("p",jl,n(b.qty)+"x "+n(e(h)(b.unit_price)),1)]),s("div",Ml,[s("p",Al,n(e(h)(b.row_total)),1)])]))),128))])]),t(e(oe)),c.value.shipping_address?(r(),f("div",Ll,[s("div",Bl,[t(e(Me),{class:"h-4 w-4"}),S[12]||(S[12]=s("span",null,"Alamat Pengiriman",-1))]),s("div",Vl,[s("p",Il,n(c.value.shipping_address.recipient_name),1),s("p",El,n(c.value.shipping_address.recipient_phone),1),s("p",Ul,n(c.value.shipping_address.address_line1),1),s("p",Kl,n(c.value.shipping_address.city_label)+", "+n(c.value.shipping_address.province_label)+" "+n(c.value.shipping_address.postal_code),1)])])):k("",!0),t(e(oe)),c.value.applied_promos?.shipping?(r(),f("div",Fl,[s("div",Nl,[t(e(fs),{class:"h-4 w-4"}),S[13]||(S[13]=s("span",null,"Informasi Pengiriman",-1))]),s("div",Ol,[s("div",zl,[S[14]||(S[14]=s("span",{class:"text-sm text-muted-foreground"},"Kurir",-1)),s("span",ql,n(c.value.applied_promos.shipping.courier),1)]),s("div",Gl,[S[15]||(S[15]=s("span",{class:"text-sm text-muted-foreground"},"Layanan",-1)),s("span",Ql,n(c.value.applied_promos.shipping.service),1)]),s("div",Wl,[S[16]||(S[16]=s("span",{class:"text-sm text-muted-foreground"},"Estimasi",-1)),s("span",Hl,n(c.value.applied_promos.shipping.etd)+" hari",1)])])])):k("",!0),t(e(oe)),s("div",Jl,[s("div",Zl,[t(e(Re),{class:"h-4 w-4"}),S[17]||(S[17]=s("span",null,"Ringkasan Pembayaran",-1))]),s("div",Yl,[s("div",Xl,[S[18]||(S[18]=s("span",{class:"text-muted-foreground"},"Subtotal",-1)),s("span",null,n(e(h)(c.value.subtotal_amount)),1)]),c.value.discount_amount>0?(r(),f("div",en,[S[19]||(S[19]=s("span",{class:"text-muted-foreground"},"Diskon",-1)),s("span",tn,"-"+n(e(h)(c.value.discount_amount)),1)])):k("",!0),s("div",sn,[S[20]||(S[20]=s("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),s("span",null,n(e(h)(c.value.shipping_amount)),1)]),c.value.tax_amount>0?(r(),f("div",an,[S[21]||(S[21]=s("span",{class:"text-muted-foreground"},"Pajak",-1)),s("span",null,n(e(h)(c.value.tax_amount)),1)])):k("",!0),t(e(oe)),s("div",ln,[S[22]||(S[22]=s("span",null,"Total",-1)),s("span",nn,n(e(h)(c.value.grand_total)),1)])])]),c.value.notes?(r(),f("div",rn,[t(e(oe)),s("div",on,[S[23]||(S[23]=s("p",{class:"text-sm font-medium"},"Catatan",-1)),s("p",dn,n(c.value.notes),1)])])):k("",!0),E.value?(r(),f("div",un,[t(e(oe)),s("div",mn,[s("div",cn,[t(e(Ae),{class:"h-4 w-4"}),S[24]||(S[24]=s("span",null,"Metode Pembayaran",-1))]),t(e(Xt),{modelValue:C.value,"onUpdate:modelValue":S[2]||(S[2]=b=>C.value=b),class:"space-y-3"},{default:a(()=>[s("div",{class:Z(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":C.value==="wallet","hover:bg-muted":C.value!=="wallet","cursor-not-allowed opacity-50":!N.value}]),onClick:S[0]||(S[0]=b=>N.value&&(C.value="wallet"))},[t(e(Ct),{value:"wallet",id:"payment-wallet-detail",disabled:!N.value},null,8,["disabled"]),t(e(G),{for:"payment-wallet-detail",class:Z(["flex-1 cursor-pointer",{"cursor-not-allowed":!N.value}])},{default:a(()=>[s("div",pn,[s("div",null,[s("div",fn,[t(e(Ae),{class:"h-4 w-4"}),S[25]||(S[25]=i(" E-Wallet ",-1))]),s("div",xn," Saldo: "+n(e(h)(M.value)),1),N.value?k("",!0):(r(),f("div",gn," Saldo tidak mencukupi (kurang "+n(e(h)(c.value.grand_total-M.value))+") ",1))])])]),_:1},8,["class"])],2),s("div",{class:Z(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":C.value==="midtrans","hover:bg-muted":C.value!=="midtrans"}]),onClick:S[1]||(S[1]=b=>C.value="midtrans")},[t(e(Ct),{value:"midtrans",id:"payment-midtrans-detail"}),t(e(G),{for:"payment-midtrans-detail",class:"flex-1 cursor-pointer"},{default:a(()=>[s("div",vn,[s("div",null,[s("div",yn,[t(e(Re),{class:"h-4 w-4"}),S[26]||(S[26]=i(" Payment Gateway ",-1))]),S[27]||(S[27]=s("div",{class:"text-xs text-muted-foreground"}," Transfer Bank, E-wallet, Kartu Kredit ",-1))])])]),_:1})],2)]),_:1},8,["modelValue"])]),t(e(U),{onClick:w,disabled:v.value||_.value||C.value==="wallet"&&!N.value,class:"w-full",size:"lg"},{default:a(()=>[v.value?(r(),$(e(Te),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):C.value==="wallet"?(r(),$(e(Ae),{key:1,class:"h-4 w-4 mr-2"})):(r(),$(e(Re),{key:2,class:"h-4 w-4 mr-2"})),C.value==="wallet"?(r(),f("span",bn," Bayar dengan E-Wallet "+n(e(h)(c.value.grand_total)),1)):(r(),f("span",_n," Bayar "+n(e(h)(c.value.grand_total)),1))]),_:1},8,["disabled"])])):k("",!0),D.value?(r(),f("div",hn,[t(e(U),{onClick:I,disabled:P.value,class:"w-full",size:"lg"},{default:a(()=>[P.value?(r(),$(e(Te),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(r(),$(e(xe),{key:1,class:"h-4 w-4 mr-2"})),S[28]||(S[28]=i(" Tandai Pesanan Selesai ",-1))]),_:1},8,["disabled"])])):k("",!0)])):(r(),f("div",kn," Tidak ada data pesanan "))]),_:1})]),_:1},8,["open"]))}}),$n={class:"space-y-6 py-4"},Pn={key:2,class:"flex gap-4 rounded-lg bg-muted p-4"},Sn=["src","alt"],Cn={class:"flex-1"},Rn={class:"font-medium"},Tn={class:"space-y-2"},Dn={class:"flex items-center gap-2"},jn=["onClick","onMouseenter"],Mn={class:"ml-2 text-sm text-muted-foreground"},An={class:"space-y-2"},Ln={key:0,class:"text-sm text-destructive"},Bn={class:"space-y-2"},Vn={class:"text-right text-xs text-muted-foreground"},In={key:0,class:"text-sm text-destructive"},En=Y({__name:"ProductReviewDialog",props:{open:{type:Boolean},orderId:{},orderItems:{}},emits:["update:open","review-submitted"],setup(l,{emit:d}){const p=l,m=d,h=B(0),u=B(null),o=B(!1),x=B({}),M=F(()=>p.orderItems[h.value]),g=F(()=>h.value<p.orderItems.length-1),P=F(()=>h.value===p.orderItems.length-1),v=B({order_item_id:0,product_id:0,rating:5,title:"",comment:""}),_=B(0),c=Q=>{v.value.rating=Q},C=async()=>{if(M.value){v.value.order_item_id=M.value.id,v.value.product_id=M.value.product_id,u.value=null,x.value={},o.value=!0;try{const Q=await ie.post(`/api/client/orders/${p.orderId}/reviews`,v.value);if(Q.data.success){const I=Q.data.message||"Review berhasil dikirim dan menunggu persetujuan!";u.value={type:"success",message:I},j.success(I),g.value?setTimeout(()=>{h.value++,E(),u.value=null},1500):setTimeout(()=>{m("update:open",!1),m("review-submitted"),N()},2e3)}}catch(Q){console.error("Submit review error:",Q);let I="Gagal mengirim review. Silakan coba lagi.";if(Q.response?.data){const J=Q.response.data;if(J.message&&(I=J.message),J.errors){x.value=J.errors;const A=Object.values(J.errors)[0];Array.isArray(A)&&A.length>0?I=A[0]:typeof A=="string"&&(I=A)}}u.value={type:"error",message:I},j.error(I)}finally{o.value=!1}}},D=()=>{g.value?(h.value++,E(),u.value=null):(m("update:open",!1),m("review-submitted"),N())},E=()=>{v.value={order_item_id:0,product_id:0,rating:5,title:"",comment:""},x.value={}},N=()=>{h.value=0,E(),u.value=null},K=Q=>{m("update:open",Q),Q||N()};return(Q,I)=>(r(),$(e(Oe),{open:l.open,"onUpdate:open":K},{default:a(()=>[t(e(Ue),{class:"sm:max-w-[500px]"},{default:a(()=>[t(e(Ke),null,{default:a(()=>[t(e(Fe),null,{default:a(()=>[...I[4]||(I[4]=[i("Beri Rating & Review",-1)])]),_:1}),t(e(Ne),null,{default:a(()=>[i(" Bagikan pengalaman Anda dengan produk ini ("+n(h.value+1)+" dari "+n(l.orderItems.length)+") ",1)]),_:1})]),_:1}),s("div",$n,[!M.value||l.orderItems.length===0?(r(),$(e(nt),{key:0,variant:"default"},{default:a(()=>[t(e(De),{class:"h-4 w-4"}),t(e(rt),null,{default:a(()=>[...I[5]||(I[5]=[i("Tidak Ada Item",-1)])]),_:1}),t(e(ot),null,{default:a(()=>[...I[6]||(I[6]=[i(" Tidak ada produk yang dapat direview dari pesanan ini. ",-1)])]),_:1})]),_:1})):(r(),f(q,{key:1},[u.value?.type==="success"?(r(),$(e(nt),{key:0,variant:"default"},{default:a(()=>[t(e(xs),{class:"h-4 w-4"}),t(e(rt),null,{default:a(()=>[...I[7]||(I[7]=[i("Berhasil!",-1)])]),_:1}),t(e(ot),null,{default:a(()=>[i(n(u.value.message),1)]),_:1})]),_:1})):k("",!0),u.value?.type==="error"?(r(),$(e(nt),{key:1,variant:"destructive"},{default:a(()=>[t(e(De),{class:"h-4 w-4"}),t(e(rt),null,{default:a(()=>[...I[8]||(I[8]=[i("Terjadi Kesalahan",-1)])]),_:1}),t(e(ot),null,{default:a(()=>[i(n(u.value.message),1)]),_:1})]),_:1})):k("",!0),M.value?(r(),f("div",Pn,[M.value.product_image?(r(),f("img",{key:0,src:M.value.product_image,alt:M.value.product_name,class:"h-20 w-20 rounded-md object-cover"},null,8,Sn)):k("",!0),s("div",Cn,[s("h4",Rn,n(M.value.product_name),1)])])):k("",!0),s("div",Tn,[t(e(G),null,{default:a(()=>[...I[9]||(I[9]=[i("Rating Produk",-1)])]),_:1}),s("div",Dn,[(r(),f(q,null,te(5,J=>s("button",{key:J,type:"button",onClick:A=>c(J),onMouseenter:A=>_.value=J,onMouseleave:I[0]||(I[0]=A=>_.value=0),class:"transition-transform hover:scale-110 focus:outline-none"},[t(e(ht),{class:Z(["h-8 w-8 transition-colors",(_.value||v.value.rating)>=J?"fill-yellow-400 text-yellow-400":"text-gray-300"])},null,8,["class"])],40,jn)),64)),s("span",Mn,n(v.value.rating)+" / 5 ",1)])]),s("div",An,[t(e(G),{for:"title"},{default:a(()=>[...I[10]||(I[10]=[i("Judul Review (Opsional)",-1)])]),_:1}),t(e(se),{id:"title",modelValue:v.value.title,"onUpdate:modelValue":I[1]||(I[1]=J=>v.value.title=J),placeholder:"Ringkasan singkat pengalaman Anda",maxlength:"100"},null,8,["modelValue"]),x.value.title?(r(),f("p",Ln,n(x.value.title),1)):k("",!0)]),s("div",Bn,[t(e(G),{for:"comment"},{default:a(()=>[...I[11]||(I[11]=[i("Komentar (Opsional)",-1)])]),_:1}),t(e(Ve),{id:"comment",modelValue:v.value.comment,"onUpdate:modelValue":I[2]||(I[2]=J=>v.value.comment=J),placeholder:"Ceritakan pengalaman Anda dengan produk ini...",rows:"4",maxlength:"500"},null,8,["modelValue"]),s("p",Vn,n(v.value.comment?.length||0)+" / 500 karakter ",1),x.value.comment?(r(),f("p",In,n(x.value.comment),1)):k("",!0)])],64))]),t(e(ze),{class:"flex-col gap-2 sm:flex-row"},{default:a(()=>[M.value&&l.orderItems.length>0?(r(),f(q,{key:0},[g.value||P.value?(r(),$(e(U),{key:0,type:"button",variant:"outline",onClick:D,disabled:o.value},{default:a(()=>[i(n(g.value?"Lewati":"Tutup"),1)]),_:1},8,["disabled"])):k("",!0),t(e(U),{type:"button",onClick:C,disabled:o.value||v.value.rating===0,class:"w-full sm:w-auto"},{default:a(()=>[o.value?(r(),$(e(Te),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):k("",!0),i(" "+n(g.value?"Kirim & Lanjut":"Kirim Review"),1)]),_:1},8,["disabled"])],64)):(r(),$(e(U),{key:1,type:"button",variant:"outline",onClick:I[3]||(I[3]=J=>K(!1))},{default:a(()=>[...I[12]||(I[12]=[i(" Tutup ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"]))}}),Un={class:"rounded-lg border p-4 transition-colors hover:border-primary"},Kn={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},Fn={class:"flex-1"},Nn={class:"mb-2 flex items-center gap-3"},On={class:"text-sm font-semibold"},zn={class:"text-xs text-muted-foreground"},qn={class:"mt-2 flex items-center gap-2"},Gn={class:"flex flex-col gap-2 md:items-end"},Qn={class:"text-lg font-bold text-primary"},Wn={class:"flex flex-wrap gap-2"},Hn=Y({__name:"OrderCard",props:{order:{}},setup(l){const d=l,{formatCurrency:p,formatDate:m,getStatusLabel:h}=je(),u=B(!1),o=B(!1),x=B(!1),M=B(!1),g=B(d.order.status),P=B(d.order.paid_at),v=async()=>{if(!x.value){x.value=!0;try{const D=await ie.post(`/api/client/orders/${d.order.id}/check-payment-status`);D.data.success?(g.value=D.data.status,D.data.paid_at&&(P.value=D.data.paid_at),j.success(D.data.message),setTimeout(()=>{fe.reload({only:["orders"]})},500)):j.error(D.data.message)}catch(D){console.error("Check payment status error:",D),j.error(D.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{x.value=!1}}},_=async()=>{if(!M.value){M.value=!0;try{const D=await ie.post(`/api/client/orders/${d.order.id}/complete`);D.data.success&&(g.value="COMPLETED",j.success(D.data.message||"Pesanan berhasil diselesaikan"),D.data.items&&D.data.items.length>0?(d.order.items=D.data.items,o.value=!0):setTimeout(()=>{fe.reload({only:["orders"]})},500))}catch(D){console.error("Complete order error:",D),j.error(D.response?.data?.message||"Gagal menandai pesanan sebagai diterima")}finally{M.value=!1}}},c=()=>{fe.reload({only:["orders"]})},C=()=>{const D=(d.order.items||[]).filter(E=>!E.has_review);D.length>0?(d.order.items=D,o.value=!0):j.info("Semua produk sudah direview")};return(D,E)=>(r(),f("div",Un,[s("div",Kn,[s("div",Fn,[s("div",Nn,[t(e(Be),{class:"h-5 w-5 text-muted-foreground"}),s("div",null,[s("p",On,n(l.order.order_no),1),s("p",zn,n(l.order.placed_at?e(m)(l.order.placed_at):"Belum ditempatkan"),1),l.order.type?(r(),f("p",{key:0,class:Z(["text-xs font-medium",{"text-blue-600 dark:text-blue-400":l.order.type==="planA","text-amber-600 dark:text-amber-400":l.order.type==="planB"}])},n(l.order.type==="planA"?"Network Builder":"Retail"),3)):k("",!0)])]),s("div",qn,[t(e(V),{class:Z({"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":g.value.toUpperCase()==="PENDING","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":g.value.toUpperCase()==="PROCESSING"||g.value.toUpperCase()==="PAID","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":g.value.toUpperCase()==="SHIPPED","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":g.value.toUpperCase()==="DELIVERED"||g.value.toUpperCase()==="COMPLETED","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":g.value.toUpperCase()==="CANCELLED"})},{default:a(()=>[i(n(e(h)(g.value)),1)]),_:1},8,["class"]),P.value?(r(),$(e(V),{key:0,variant:"secondary"},{default:a(()=>[t(e(xe),{class:"mr-1 h-3 w-3"}),E[3]||(E[3]=i(" Dibayar ",-1))]),_:1})):k("",!0)])]),s("div",Gn,[s("p",Qn,n(e(p)(l.order.grand_total)),1),s("div",Wn,[g.value.toUpperCase()==="PENDING"&&!P.value?(r(),$(e(U),{key:0,variant:"outline",size:"sm",disabled:x.value,onClick:v},{default:a(()=>[t(e(jt),{class:Z(["mr-1 h-3 w-3",{"animate-spin":x.value}])},null,8,["class"]),E[4]||(E[4]=i(" Cek Status ",-1))]),_:1},8,["disabled"])):k("",!0),g.value.toUpperCase()==="SHIPPED"?(r(),$(e(U),{key:1,variant:"default",size:"sm",disabled:M.value,onClick:_},{default:a(()=>[t(e(gs),{class:"mr-1 h-3 w-3"}),E[5]||(E[5]=i(" Pesanan Diterima ",-1))]),_:1},8,["disabled"])):k("",!0),g.value.toUpperCase()==="COMPLETED"&&l.order.has_unreviewed_items?(r(),$(e(U),{key:2,variant:"outline",size:"sm",onClick:C},{default:a(()=>[t(e(ht),{class:"mr-1 h-3 w-3"}),E[6]||(E[6]=i(" Tambah Review ",-1))]),_:1})):k("",!0),t(e(U),{variant:"outline",size:"sm",onClick:E[0]||(E[0]=N=>u.value=!0)},{default:a(()=>[...E[7]||(E[7]=[i(" Lihat Detail ",-1)])]),_:1})])])]),t(wn,{open:u.value,"onUpdate:open":E[1]||(E[1]=N=>u.value=N),"order-id":l.order.id},null,8,["open","order-id"]),t(En,{open:o.value,"onUpdate:open":E[2]||(E[2]=N=>o.value=N),"order-id":l.order.id,"order-items":l.order.items||[],onReviewSubmitted:c},null,8,["open","order-id","order-items"])]))}}),Jn={key:0,class:"space-y-4"},Zn={key:1,class:"py-12 text-center"},Yn=Y({__name:"OrdersTab",props:{orders:{}},setup(l){return(d,p)=>(r(),$(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(H),null,{default:a(()=>[...p[0]||(p[0]=[i("Pesanan Saya",-1)])]),_:1}),t(e(de),null,{default:a(()=>[...p[1]||(p[1]=[i(" Riwayat pesanan dan status pengiriman ",-1)])]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[l.orders.length>0?(r(),f("div",Jn,[(r(!0),f(q,null,te(l.orders,m=>(r(),$(Hn,{key:m.id,order:m},null,8,["order"]))),128))])):(r(),f("div",Zn,[t(e(Be),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),p[3]||(p[3]=s("p",{class:"text-muted-foreground mb-4"},"Belum ada pesanan",-1)),t(e(vs),{href:"/beranda"},{default:a(()=>[t(e(U),null,{default:a(()=>[...p[2]||(p[2]=[i(" Mulai Belanja ",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),Xn={class:"text-center"},er={class:"text-4xl font-bold text-primary mb-4"},tr={class:"flex gap-3 justify-center"},sr=Y({__name:"WalletBalance",props:{balance:{}},emits:["topup","withdrawal"],setup(l,{emit:d}){const p=d,{formatCurrency:m}=je();return(h,u)=>(r(),$(e(O),null,{default:a(()=>[t(e(z),{class:"pt-6"},{default:a(()=>[s("div",Xn,[u[4]||(u[4]=s("p",{class:"text-sm text-muted-foreground mb-2"},"Saldo E-Wallet",-1)),s("p",er,n(e(m)(l.balance)),1),s("div",tr,[t(e(U),{onClick:u[0]||(u[0]=o=>p("topup")),size:"sm"},{default:a(()=>[t(e(Mt),{class:"w-4 h-4 mr-2"}),u[2]||(u[2]=i(" Top Up ",-1))]),_:1}),t(e(U),{onClick:u[1]||(u[1]=o=>p("withdrawal")),variant:"outline",size:"sm"},{default:a(()=>[t(e(At),{class:"w-4 h-4 mr-2"}),u[3]||(u[3]=i(" Tarik Dana ",-1))]),_:1})])])]),_:1})]),_:1}))}}),ar={class:"space-y-2"},lr={class:"relative"},nr={key:0,class:"text-sm text-red-500"},rr={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},or={class:"flex items-start gap-3"},ir={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},dr={class:"flex items-start gap-3"},ur={class:"flex items-center justify-end gap-3"},mr={key:0},cr={key:1},pr={key:2},fr={key:3},xr=Y({__name:"WalletTopupForm",emits:["cancel"],setup(l,{emit:d}){const p=d,m=Se({amount:"",payment_method:"midtrans"}),h=B(!1),u=B(!1);Xe(()=>{if(window.snap){h.value=!0;return}if(typeof window>"u")return;const g=()=>{window.snap&&(h.value=!0,u.value=!1,console.log("Midtrans Snap loaded (event)."))};window.addEventListener("midtrans:snap:loaded",g,{once:!0}),setTimeout(()=>{h.value||(window.snap?(h.value=!0,console.log("Midtrans Snap loaded (fallback).")):(u.value=!0,console.error("Failed to load Midtrans Snap (timeout).")))},5e3)});const o=g=>{if(!window.snap){console.error("Snap not available"),alert("Pembayaran tidak dapat diproses. Silakan refresh halaman dan coba lagi."),p("cancel");return}try{window.snap.pay(g,{onSuccess:function(P){console.log("Payment success:",P),j.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(P){console.log("Payment pending:",P),j.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(P){console.error("Payment error (Midtrans):",P),j.error("Pembayaran gagal.");try{console.log("Midtrans raw error JSON:",JSON.stringify(P,null,2))}catch{}const v=P?.status_message||P?.status_code||"Terjadi kesalahan pembayaran.",_=P?.status_code==="505"?`
Catatan: Sandbox sering menolak VA dengan nominal rendah (coba >= 15000 atau metode lain).`:"";if(P?.status_code==="505"){alert("Midtrans Error: "+v+_+`
Sandbox akan otomatis mencoba QRIS.`),M("qris");return}alert("Midtrans Error: "+v+`
Silakan coba metode lain atau refresh.`),p("cancel")},onClose:function(){console.log("Payment modal closed"),j("Pembayaran ditutup sebelum selesai."),p("cancel")}})}catch(P){console.error("Error opening Snap modal:",P),alert("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),j.error("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),p("cancel")}},x=async()=>{if(!m.processing){if(!h.value||!window.snap){j.error("Sistem pembayaran belum siap. Silakan tunggu beberapa saat atau refresh halaman.");return}try{m.processing=!0;const P=(await ie.post("/client/wallet/topup",{amount:m.amount,payment_method:m.payment_method})).data,v=P.snap_token;if(P.success===!1&&P.message){j.error(P.message),m.processing=!1;return}v&&typeof v=="string"&&v.trim()!==""?(m.reset(),m.processing=!1,setTimeout(()=>{o(v)},100)):(m.processing=!1,console.error("Invalid snap token:",v),console.error("Full response:",P),j.error("Gagal mendapatkan token pembayaran. Silakan coba lagi."),m.reset(),p("cancel"))}catch(g){if(m.processing=!1,console.error("Form submission error:",g),j.error("Terjadi kesalahan saat mengirim formulir."),g.response?.status===422&&g.response?.data?.errors){const P=g.response.data.errors,v=Object.values(P)[0],_=Array.isArray(v)?v[0]:v;j.error(_)}else{const P=g.response?.data?.message||g.message||"Terjadi kesalahan. Silakan coba lagi.";j.error(P)}m.reset()}}},M=async g=>{if(!m.processing){if(!h.value||!window.snap){alert("Sistem pembayaran belum siap untuk retry.");return}try{m.processing=!0;const v=(await ie.post("/client/wallet/topup",{amount:m.amount||"20000",payment_method:m.payment_method,force_payment:g})).data,_=v.snap_token;if(!v.success||!_){j.error(v.message||"Retry gagal mendapatkan token."),m.processing=!1;return}m.processing=!1,j.success("Metode dialihkan ke "+g.toUpperCase()+". Silakan lanjutkan pembayaran."),o(_)}catch(P){m.processing=!1,j.error(P?.response?.data?.message||P.message||"Retry gagal.")}}};return(g,P)=>(r(),$(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(H),null,{default:a(()=>[...P[2]||(P[2]=[i("Top Up E-Wallet",-1)])]),_:1}),t(e(de),null,{default:a(()=>[...P[3]||(P[3]=[i(" Isi saldo e-wallet Anda melalui Midtrans ",-1)])]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("form",{onSubmit:Ee(x,["prevent"]),class:"space-y-6"},[s("div",ar,[t(e(G),{for:"topup_amount"},{default:a(()=>[...P[4]||(P[4]=[i(" Jumlah Top Up ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),s("div",lr,[t(e(Re),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(se),{id:"topup_amount",modelValue:e(m).amount,"onUpdate:modelValue":P[0]||(P[0]=v=>e(m).amount=v),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:"10000000",required:""},null,8,["modelValue"])]),P[5]||(P[5]=s("p",{class:"text-xs text-muted-foreground"}," Minimum Rp 10.000 - Maximum Rp 10.000.000. Disarankan >= Rp 15.000 untuk Virtual Account agar tidak ditolak (505). ",-1)),e(m).errors.amount?(r(),f("p",nr,n(e(m).errors.amount),1)):k("",!0)]),s("div",rr,[s("div",or,[t(e(Re),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),P[6]||(P[6]=s("div",null,[s("p",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"}," Pembayaran via Midtrans "),s("p",{class:"text-xs text-blue-700 dark:text-blue-300 mt-1"}," Anda akan diarahkan ke halaman pembayaran Midtrans untuk menyelesaikan transaksi ")],-1))])]),u.value?(r(),f("div",ir,[s("div",dr,[t(e(De),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),P[7]||(P[7]=s("div",null,[s("p",{class:"text-sm font-semibold text-red-900 dark:text-red-100"}," Sistem Pembayaran Belum Siap "),s("p",{class:"text-xs text-red-700 dark:text-red-300 mt-1"}," Silakan refresh halaman untuk memuat ulang sistem pembayaran. ")],-1))])])):k("",!0),s("div",ur,[t(e(U),{type:"button",variant:"outline",onClick:P[1]||(P[1]=v=>{e(m).reset(),p("cancel")}),disabled:e(m).processing},{default:a(()=>[...P[8]||(P[8]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),t(e(U),{type:"submit",disabled:e(m).processing||u.value||!h.value},{default:a(()=>[e(m).processing?(r(),f("span",mr,"Memproses...")):!h.value&&!u.value?(r(),f("span",cr,"Memuat sistem pembayaran...")):u.value?(r(),f("span",pr,"Sistem pembayaran error")):(r(),f("span",fr,"Lanjut ke Pembayaran"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),gr={class:"space-y-2"},vr={class:"relative"},yr={class:"text-xs text-muted-foreground"},br={key:0,class:"text-sm text-red-500"},_r={class:"space-y-4"},hr={class:"space-y-2"},kr={key:0,class:"text-sm text-red-500"},wr={class:"space-y-2"},$r={key:0,class:"text-sm text-red-500"},Pr={class:"space-y-2"},Sr={key:0,class:"text-sm text-red-500"},Cr={class:"flex items-center justify-end gap-3"},Rr=Y({__name:"WalletWithdrawalForm",props:{maxAmount:{}},emits:["cancel"],setup(l,{emit:d}){const p=d,m=Se({amount:"",bank_name:"",bank_account:"",bank_holder:""}),h=()=>{m.post("/client/wallet/withdrawal",{preserveScroll:!0,onSuccess:()=>{m.reset(),p("cancel"),j.success("Permintaan penarikan berhasil diajukan.")}})};return(u,o)=>(r(),$(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(H),null,{default:a(()=>[...o[5]||(o[5]=[i("Tarik Dana E-Wallet",-1)])]),_:1}),t(e(de),null,{default:a(()=>[...o[6]||(o[6]=[i(" Tarik saldo ke rekening bank Anda ",-1)])]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("form",{onSubmit:Ee(h,["prevent"]),class:"space-y-6"},[s("div",gr,[t(e(G),{for:"withdrawal_amount"},{default:a(()=>[...o[7]||(o[7]=[i(" Jumlah Penarikan ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),s("div",vr,[t(e(Re),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(se),{id:"withdrawal_amount",modelValue:e(m).amount,"onUpdate:modelValue":o[0]||(o[0]=x=>e(m).amount=x),type:"number",placeholder:"Minimal Rp 50.000",class:"pl-10",min:"50000",max:l.maxAmount,required:""},null,8,["modelValue","max"])]),s("p",yr," Minimum Rp 50.000 - Maksimal Rp "+n(l.maxAmount.toLocaleString("id-ID")),1),e(m).errors.amount?(r(),f("p",br,n(e(m).errors.amount),1)):k("",!0)]),t(e(oe)),s("div",_r,[o[11]||(o[11]=s("h4",{class:"font-semibold"},"Informasi Rekening",-1)),s("div",hr,[t(e(G),{for:"bank_name"},{default:a(()=>[...o[8]||(o[8]=[i(" Nama Bank ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(e(se),{id:"bank_name",modelValue:e(m).bank_name,"onUpdate:modelValue":o[1]||(o[1]=x=>e(m).bank_name=x),type:"text",placeholder:"e.g., BCA, Mandiri, BNI",required:""},null,8,["modelValue"]),e(m).errors.bank_name?(r(),f("p",kr,n(e(m).errors.bank_name),1)):k("",!0)]),s("div",wr,[t(e(G),{for:"bank_account"},{default:a(()=>[...o[9]||(o[9]=[i(" Nomor Rekening ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(e(se),{id:"bank_account",modelValue:e(m).bank_account,"onUpdate:modelValue":o[2]||(o[2]=x=>e(m).bank_account=x),type:"text",placeholder:"Nomor rekening bank",required:""},null,8,["modelValue"]),e(m).errors.bank_account?(r(),f("p",$r,n(e(m).errors.bank_account),1)):k("",!0)]),s("div",Pr,[t(e(G),{for:"bank_holder"},{default:a(()=>[...o[10]||(o[10]=[i(" Nama Pemilik Rekening ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),t(e(se),{id:"bank_holder",modelValue:e(m).bank_holder,"onUpdate:modelValue":o[3]||(o[3]=x=>e(m).bank_holder=x),type:"text",placeholder:"Nama sesuai rekening bank",required:""},null,8,["modelValue"]),e(m).errors.bank_holder?(r(),f("p",Sr,n(e(m).errors.bank_holder),1)):k("",!0)])]),o[13]||(o[13]=s("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},[s("p",{class:"text-sm text-amber-700 dark:text-amber-300"},[s("strong",null,"Catatan:"),i(" Penarikan akan diproses dalam 1-3 hari kerja. Pastikan data rekening sudah benar. ")])],-1)),s("div",Cr,[t(e(U),{type:"button",variant:"outline",onClick:o[4]||(o[4]=x=>{e(m).reset(),p("cancel")}),disabled:e(m).processing},{default:a(()=>[...o[12]||(o[12]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),t(e(U),{type:"submit",disabled:e(m).processing},{default:a(()=>[i(n(e(m).processing?"Memproses...":"Ajukan Penarikan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Tr={class:"p-3 border rounded-lg"},Dr={class:"flex items-start justify-between gap-2 mb-2"},jr={class:"flex items-center gap-2"},Mr={class:"font-semibold text-sm"},Ar={class:"text-xs text-muted-foreground"},Lr={class:"mb-2 text-xs text-muted-foreground"},Br={key:0,class:"line-clamp-2"},Vr={class:"grid grid-cols-3 gap-2 text-xs border-t pt-2"},Ir={class:"text-center"},Er={class:"font-semibold text-red-600 dark:text-red-400"},Ur={class:"text-center border-x"},Kr={class:"font-semibold text-emerald-600 dark:text-emerald-400"},Fr={class:"text-center"},Nr={class:"font-semibold"},Or={key:0,class:"mt-3 pt-3 border-t"},zr={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},qr={class:"flex gap-2"},Gr=Y({__name:"WalletTransactionCard",props:{transaction:{}},emits:["continue-payment","status-updated"],setup(l,{emit:d}){const p=l,m=d,{formatCurrency:h,formatDate:u,getTransactionTypeLabel:o,getTransactionStatusLabel:x}=je(),M=B(!1),g=B(p.transaction.status),P=["topup","top_up","bonus","refund"],v=F(()=>P.includes(p.transaction.type)),_=async c=>{if(!M.value){M.value=!0;try{const C=await ie.post("/client/wallet/check-status",{transaction_ref:c});C.data.success?(g.value=C.data.status,m("status-updated",{transactionRef:c,status:C.data.status,newBalance:C.data.new_balance}),j.success(C.data.message),setTimeout(()=>{fe.reload({only:["customer","transactions"]})},500)):j.error(C.data.message)}catch(C){console.error("Check status error:",C),j.error(C.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{M.value=!1}}};return(c,C)=>(r(),f("div",Tr,[s("div",Dr,[s("div",jr,[s("div",{class:Z(["p-1.5 rounded-full shrink-0",{"bg-emerald-100 dark:bg-emerald-900/20":v.value,"bg-red-100 dark:bg-red-900/20":!v.value}])},[v.value?(r(),$(e(Mt),{key:0,class:"w-3.5 h-3.5 text-emerald-600 dark:text-emerald-400"})):(r(),$(e(At),{key:1,class:"w-3.5 h-3.5 text-red-600 dark:text-red-400"}))],2),s("div",null,[s("p",Mr,n(e(o)(l.transaction.type)),1),s("p",Ar,n(e(u)(l.transaction.created_at)),1)])]),t(e(V),{variant:"secondary",class:Z(["shrink-0",{"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100":g.value==="pending","bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-100":g.value==="completed","bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-100":g.value==="failed"||g.value==="cancelled"}])},{default:a(()=>[i(n(e(x)(g.value)),1)]),_:1},8,["class"])]),s("div",Lr,[l.transaction.notes?(r(),f("p",Br,n(l.transaction.notes),1)):k("",!0),s("p",null,"Ref: "+n(l.transaction.transaction_ref),1)]),s("div",Vr,[s("div",Ir,[C[2]||(C[2]=s("p",{class:"text-muted-foreground mb-0.5"},"Debit",-1)),s("p",Er,n(!v.value&&g.value==="completed"?e(h)(l.transaction.amount):"-"),1)]),s("div",Ur,[C[3]||(C[3]=s("p",{class:"text-muted-foreground mb-0.5"},"Kredit",-1)),s("p",Kr,n(v.value&&g.value==="completed"?e(h)(l.transaction.amount):"-"),1)]),s("div",Fr,[C[4]||(C[4]=s("p",{class:"text-muted-foreground mb-0.5"},"Saldo",-1)),s("p",Nr,n(l.transaction.balance_after!==null&&l.transaction.balance_after!==void 0?e(h)(l.transaction.balance_after):"-"),1)])]),l.transaction.type==="topup"&&g.value==="pending"&&l.transaction.midtrans_transaction_id?(r(),f("div",Or,[s("div",zr,[C[7]||(C[7]=s("p",{class:"text-xs text-muted-foreground"}," Pembayaran menunggu konfirmasi ",-1)),s("div",qr,[t(e(U),{size:"sm",variant:"outline",disabled:M.value,onClick:C[0]||(C[0]=D=>_(l.transaction.transaction_ref)),class:"shrink-0"},{default:a(()=>[t(e(jt),{class:Z(["w-3 h-3 mr-1",{"animate-spin":M.value}])},null,8,["class"]),C[5]||(C[5]=i(" Cek Status ",-1))]),_:1},8,["disabled"]),t(e(U),{size:"sm",onClick:C[1]||(C[1]=D=>m("continue-payment",l.transaction.midtrans_transaction_id)),class:"shrink-0"},{default:a(()=>[t(e(Re),{class:"w-3 h-3 mr-1"}),C[6]||(C[6]=i(" Lanjutkan Pembayaran ",-1))]),_:1})])])])):k("",!0)]))}}),Qr={key:0,class:"space-y-3"},Wr={key:1,class:"py-12 text-center"},Hr=Y({__name:"WalletTransactionList",props:{transactions:{}},setup(l){const d=bt(),p=F(()=>d.props.customer),m=u=>{typeof window>"u"||(window.snap?window.snap.pay(u,{onSuccess:function(o){console.log("Payment success:",o),j.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(o){console.log("Payment pending:",o),j.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(o){j.error("Pembayaran gagal."),console.error("Payment error:",o)},onClose:function(){j("Pembayaran ditutup sebelum selesai."),console.log("Payment modal closed")}}):alert("Midtrans Snap belum siap. Silakan refresh halaman."))},h=u=>{u.newBalance!==void 0&&p.value&&(p.value.ewallet_saldo=u.newBalance)};return(u,o)=>(r(),$(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(H),null,{default:a(()=>[...o[0]||(o[0]=[i("Riwayat Transaksi",-1)])]),_:1}),t(e(de),null,{default:a(()=>[i(n(l.transactions.length)+" transaksi e-wallet terbaru ",1)]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[l.transactions.length>0?(r(),f("div",Qr,[(r(!0),f(q,null,te(l.transactions,x=>(r(),$(Gr,{key:x.id,transaction:x,onContinuePayment:m,onStatusUpdated:h},null,8,["transaction"]))),128))])):(r(),f("div",Wr,[t(e(Ae),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),o[1]||(o[1]=s("p",{class:"text-muted-foreground"},"Belum ada transaksi",-1))]))]),_:1})]),_:1}))}}),Jr={class:"flex-1"},Zr={key:0,class:"text-xs mt-1 text-gray-700 dark:text-gray-300"},Yr={class:"font-mono"},Xr={class:"uppercase"},eo=["disabled"],to={key:1,class:"border border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 text-xs text-amber-800 dark:text-amber-200"},so=Y({__name:"WalletStatusBanner",props:{initialTransactions:{}},setup(l){const d=l,p=B(!1),m=B(null),h=B(null),u=F(()=>{const g=h.value?.status||"";return g==="completed"||g==="success"?{tone:"success",title:"Top up berhasil",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900",text:"text-green-800 dark:text-green-200"}:g==="pending"?{tone:"pending",title:"Menunggu pembayaran",bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-900",text:"text-yellow-800 dark:text-yellow-200"}:g==="cancelled"||g==="failed"||g==="expire"||g==="denied"||g==="deny"?{tone:"failed",title:"Pembayaran gagal / dibatalkan",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-900",text:"text-red-800 dark:text-red-200"}:{tone:"info",title:"Status transaksi",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900",text:"text-blue-800 dark:text-blue-200"}});function o(g,P=2){const v=new Date(g).getTime();return(Date.now()-v)/36e5<=P}const x=F(()=>{if(!h.value)return!1;const g=h.value.status;return g==="pending"?!0:g==="completed"||g==="success"?o(h.value.created_at,2):o(h.value.created_at,6)});async function M(){try{p.value=!0,m.value=null;const{data:g}=await ie.get("/client/wallet/history",{params:{type:"topup"}}),P=Array.isArray(g?.data)?g.data:Array.isArray(g)?g:[];P.length>0&&(h.value=P[0])}catch(g){m.value=g?.response?.data?.message||g?.message||"Gagal memuat status transaksi."}finally{p.value=!1}}return Xe(()=>{d.initialTransactions&&d.initialTransactions.length>0&&(h.value=d.initialTransactions[0]),M()}),(g,P)=>x.value?(r(),f("div",{key:0,class:Z(["border rounded-lg p-4 flex items-start gap-3",u.value.border,u.value.bg])},[s("div",Jr,[s("p",{class:Z(["text-sm font-semibold",u.value.text])},n(u.value.title),3),h.value?(r(),f("p",Zr,[P[0]||(P[0]=i(" Ref: ",-1)),s("span",Yr,n(h.value.transaction_ref),1),i("  Jumlah: Rp "+n(new Intl.NumberFormat("id-ID").format(h.value.amount))+"  Status: ",1),s("span",Xr,n(h.value.status),1)])):k("",!0)]),s("button",{type:"button",class:"text-xs underline text-gray-700 dark:text-gray-300",onClick:M,disabled:p.value},n(p.value?"Menyegarkan...":"Segarkan"),9,eo)],2)):m.value?(r(),f("div",to,n(m.value),1)):k("",!0)}}),ao={class:"space-y-6"},lo=Y({__name:"WalletTab",props:{customer:{},transactions:{}},setup(l){const d=B("wallet");return(p,m)=>(r(),f("div",ao,[t(sr,{balance:Number(l.customer.ewallet_saldo)||0,onTopup:m[0]||(m[0]=h=>d.value="wallet-topup"),onWithdrawal:m[1]||(m[1]=h=>d.value="wallet-withdrawal")},null,8,["balance"]),d.value==="wallet"?(r(),$(so,{key:0,"initial-transactions":l.transactions},null,8,["initial-transactions"])):k("",!0),d.value==="wallet-topup"?(r(),$(xr,{key:1,onCancel:m[2]||(m[2]=h=>d.value="wallet")})):k("",!0),d.value==="wallet-withdrawal"?(r(),$(Rr,{key:2,"max-amount":Number(l.customer.ewallet_saldo)||0,onCancel:m[3]||(m[3]=h=>d.value="wallet")},null,8,["max-amount"])):k("",!0),d.value==="wallet"?(r(),$(Hr,{key:3,transactions:l.transactions},null,8,["transactions"])):k("",!0)]))}}),no={class:"space-y-2"},ro={class:"relative"},oo={key:0,class:"text-sm text-red-500"},io={class:"space-y-2"},uo={class:"relative"},mo={key:0,class:"text-sm text-red-500"},co={class:"space-y-2"},po={class:"relative"},fo={class:"flex items-center justify-end gap-3"},xo=Y({__name:"SecurityTab",setup(l){const d=Se({current_password:"",password:"",password_confirmation:""}),p=B(!1),m=B(!1),h=B(!1),u=()=>{d.patch("/client/profile/password",{preserveScroll:!0,onSuccess:()=>{d.reset(),p.value=!1,m.value=!1,h.value=!1,j.success("Password berhasil diubah")}})};return(o,x)=>(r(),$(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(H),null,{default:a(()=>[...x[7]||(x[7]=[i("Ubah Password",-1)])]),_:1}),t(e(de),null,{default:a(()=>[...x[8]||(x[8]=[i(" Pastikan akun Anda menggunakan password yang kuat ",-1)])]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("form",{onSubmit:Ee(u,["prevent"]),class:"space-y-6"},[s("div",no,[t(e(G),{for:"current_password"},{default:a(()=>[...x[9]||(x[9]=[i(" Password Saat Ini ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),s("div",ro,[t(e(mt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(se),{id:"current_password",modelValue:e(d).current_password,"onUpdate:modelValue":x[0]||(x[0]=M=>e(d).current_password=M),type:p.value?"text":"password",placeholder:"Masukkan password saat ini",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),s("button",{type:"button",onClick:x[1]||(x[1]=M=>p.value=!p.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[p.value?(r(),$(e(lt),{key:1,class:"h-4 w-4"})):(r(),$(e(at),{key:0,class:"h-4 w-4"}))])]),e(d).errors.current_password?(r(),f("p",oo,n(e(d).errors.current_password),1)):k("",!0)]),t(e(oe)),s("div",io,[t(e(G),{for:"password"},{default:a(()=>[...x[10]||(x[10]=[i(" Password Baru ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),s("div",uo,[t(e(Rt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(se),{id:"password",modelValue:e(d).password,"onUpdate:modelValue":x[2]||(x[2]=M=>e(d).password=M),type:m.value?"text":"password",placeholder:"Masukkan password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),s("button",{type:"button",onClick:x[3]||(x[3]=M=>m.value=!m.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[m.value?(r(),$(e(lt),{key:1,class:"h-4 w-4"})):(r(),$(e(at),{key:0,class:"h-4 w-4"}))])]),x[11]||(x[11]=s("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimal 8 karakter ",-1)),e(d).errors.password?(r(),f("p",mo,n(e(d).errors.password),1)):k("",!0)]),s("div",co,[t(e(G),{for:"password_confirmation"},{default:a(()=>[...x[12]||(x[12]=[i(" Konfirmasi Password Baru ",-1),s("span",{class:"text-red-500"},"*",-1)])]),_:1}),s("div",po,[t(e(Rt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t(e(se),{id:"password_confirmation",modelValue:e(d).password_confirmation,"onUpdate:modelValue":x[4]||(x[4]=M=>e(d).password_confirmation=M),type:h.value?"text":"password",placeholder:"Konfirmasi password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),s("button",{type:"button",onClick:x[5]||(x[5]=M=>h.value=!h.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[h.value?(r(),$(e(lt),{key:1,class:"h-4 w-4"})):(r(),$(e(at),{key:0,class:"h-4 w-4"}))])])]),s("div",fo,[t(e(U),{type:"button",variant:"outline",onClick:x[6]||(x[6]=M=>e(d).reset()),disabled:e(d).processing},{default:a(()=>[...x[13]||(x[13]=[i(" Reset ",-1)])]),_:1},8,["disabled"]),t(e(U),{type:"submit",disabled:e(d).processing},{default:a(()=>[e(d).processing?k("",!0):(r(),$(e(mt),{key:0,class:"w-4 h-4 mr-2"})),i(" "+n(e(d).processing?"Mengupdate...":"Update Password"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),go={class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},vo={class:"flex items-start gap-3"},yo={class:"flex-1"},bo=Y({__name:"DangerZoneTab",setup(l){const d=B(!1),p=Se({}),m=()=>{p.delete("/client/profile",{onFinish:()=>{d.value=!1}})};return(h,u)=>(r(),f(q,null,[t(e(O),{class:"border-red-200 dark:border-red-900"},{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(H),{class:"text-red-600 dark:text-red-400"},{default:a(()=>[...u[3]||(u[3]=[i("Zona Bahaya",-1)])]),_:1}),t(e(de),null,{default:a(()=>[...u[4]||(u[4]=[i(" Tindakan di bawah ini bersifat permanen dan tidak dapat dibatalkan ",-1)])]),_:1})]),_:1}),t(e(z),{class:"space-y-6"},{default:a(()=>[s("div",go,[s("div",vo,[t(e(De),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),s("div",yo,[u[6]||(u[6]=s("h3",{class:"font-semibold text-red-900 dark:text-red-100"}," Hapus Akun ",-1)),u[7]||(u[7]=s("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Setelah akun Anda dihapus, semua data akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1)),t(e(U),{type:"button",variant:"destructive",class:"mt-4",onClick:u[0]||(u[0]=o=>d.value=!0)},{default:a(()=>[t(e(dt),{class:"w-4 h-4 mr-2"}),u[5]||(u[5]=i(" Hapus Akun Saya ",-1))]),_:1})])])])]),_:1})]),_:1}),t(e(Oe),{open:d.value,"onUpdate:open":u[2]||(u[2]=o=>d.value=o)},{default:a(()=>[t(e(Ue),null,{default:a(()=>[t(e(Ke),null,{default:a(()=>[t(e(Fe),{class:"flex items-center gap-2 text-red-600"},{default:a(()=>[t(e(De),{class:"w-5 h-5"}),u[8]||(u[8]=i(" Konfirmasi Hapus Akun ",-1))]),_:1}),t(e(Ne),null,{default:a(()=>[...u[9]||(u[9]=[i(" Apakah Anda yakin ingin menghapus akun Anda? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan dihapus secara permanen. ",-1)])]),_:1})]),_:1}),u[11]||(u[11]=s("div",{class:"py-4"},[s("div",{class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},[s("p",{class:"text-sm text-red-700 dark:text-red-300"},[s("strong",null,"Data yang akan dihapus:")]),s("ul",{class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside space-y-1"},[s("li",null,"Informasi profil dan akun"),s("li",null,"Riwayat transaksi"),s("li",null,"E-wallet dan saldo"),s("li",null,"Jaringan dan bonus")])])],-1)),t(e(ze),null,{default:a(()=>[t(e(U),{type:"button",variant:"outline",onClick:u[1]||(u[1]=o=>d.value=!1),disabled:e(p).processing},{default:a(()=>[...u[10]||(u[10]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),t(e(U),{type:"button",variant:"destructive",onClick:m,disabled:e(p).processing},{default:a(()=>[t(e(dt),{class:"w-4 h-4 mr-2"}),i(" "+n(e(p).processing?"Menghapus...":"Ya, Hapus Akun"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),_o={key:0,class:"text-center py-12 text-muted-foreground"},ho={class:"flex items-start justify-between"},ko={class:"flex-1"},wo={class:"flex items-center gap-2 mb-2"},$o={class:"font-semibold text-lg"},Po={class:"text-sm font-normal text-muted-foreground"},So={class:"space-y-1 text-sm text-muted-foreground"},Co={key:0},Ro={key:1,class:"text-xs font-medium text-primary"},To={key:2,class:"text-xs"},Do={class:"text-blue-600 dark:text-blue-400"},jo={class:"text-green-600 dark:text-green-400"},Mo={class:"text-xs"},Ao={class:"text-xs font-medium text-green-600 dark:text-green-400"},Lo={class:"flex flex-col items-end gap-2"},Bo={key:0,class:"text-center py-12 text-muted-foreground"},Vo={class:"flex items-start justify-between"},Io={class:"flex-1"},Eo={class:"flex items-center gap-2 mb-2"},Uo={class:"font-semibold text-lg"},Ko={class:"text-sm font-normal text-muted-foreground"},Fo={class:"space-y-1 text-sm text-muted-foreground"},No={key:0},Oo={key:1,class:"text-xs font-medium text-primary"},zo={key:2,class:"text-xs"},qo={class:"text-blue-600 dark:text-blue-400"},Go={class:"text-green-600 dark:text-green-400"},Qo={class:"text-xs"},Wo={class:"text-xs font-medium text-orange-600 dark:text-orange-400"},Ho={class:"flex flex-col items-end gap-2"},Jo={key:0,class:"text-center py-12 text-muted-foreground"},Zo={class:"flex items-start justify-between"},Yo={class:"flex-1"},Xo={class:"flex items-center gap-2 mb-2"},ei={class:"font-semibold text-lg"},ti={class:"text-sm font-normal text-muted-foreground"},si={class:"space-y-1 text-sm text-muted-foreground"},ai={key:0},li={key:1,class:"text-xs font-medium text-primary"},ni={key:2,class:"text-xs"},ri={class:"text-blue-600 dark:text-blue-400"},oi={class:"text-green-600 dark:text-green-400"},ii={class:"text-xs"},di={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},ui={class:"flex flex-col items-end gap-2"},mi={class:"font-semibold"},ci={class:"grid grid-cols-2 gap-4 py-4"},pi=["disabled"],fi={class:"text-xs text-muted-foreground mt-1"},xi=["disabled"],gi={class:"text-xs text-muted-foreground mt-1"},vi=Y({__name:"NetworkMembersTab",props:{activeMembers:{},passiveMembers:{},prospectMembers:{},hasLeft:{type:Boolean},hasRight:{type:Boolean}},setup(l){const d=B(!1),p=B(null),m=B(null),h=Se({member_id:0,position:""}),u=v=>{p.value=v,m.value=null,h.member_id=v.id,h.position="",d.value=!0},o=()=>{d.value=!1,p.value=null,m.value=null,h.reset()},x=()=>{if(!p.value||!m.value){j.error("Pilih posisi terlebih dahulu");return}h.position=m.value,h.post("/client/profile/place-member",{onSuccess:()=>{j.success(`${p.value?.name} berhasil ditempatkan di posisi ${m.value}`),o()},onError:v=>{const _=v.error||"Gagal menempatkan member ke binary tree";j.error(_)}})},M=v=>new Date(v).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),g=v=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(v),P=v=>v?{variant:v==="left"?"default":"secondary",text:v==="left"?"Kiri":"Kanan"}:{variant:"outline",text:"Belum Ditempatkan"};return(v,_)=>(r(),f(q,null,[t(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(H),null,{default:a(()=>[..._[2]||(_[2]=[i("Jaringan Member",-1)])]),_:1}),t(e(de),null,{default:a(()=>[..._[3]||(_[3]=[i("Kelola dan lihat member dalam jaringan Anda",-1)])]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[t(e(vt),{"default-value":"active",class:"w-full"},{default:a(()=>[t(e(yt),{class:"grid w-full grid-cols-3"},{default:a(()=>[t(e(ae),{value:"active"},{default:a(()=>[t(e(xe),{class:"w-4 h-4 mr-2"}),i(" Aktif ("+n(l.activeMembers.length)+") ",1)]),_:1}),t(e(ae),{value:"passive"},{default:a(()=>[t(e(Qe),{class:"w-4 h-4 mr-2"}),i(" Pasif ("+n(l.passiveMembers.length)+") ",1)]),_:1}),t(e(ae),{value:"prospect"},{default:a(()=>[t(e(We),{class:"w-4 h-4 mr-2"}),i(" Prospek ("+n(l.prospectMembers.length)+") ",1)]),_:1})]),_:1}),t(e(le),{value:"active",class:"space-y-4"},{default:a(()=>[l.activeMembers.length===0?(r(),f("div",_o,[t(e(xe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),_[4]||(_[4]=s("p",null,"Belum ada member aktif",-1)),_[5]||(_[5]=s("p",{class:"text-sm mt-2"},"Member aktif adalah member yang sudah ditempatkan di binary tree",-1))])):k("",!0),(r(!0),f(q,null,te(l.activeMembers,c=>(r(),$(e(O),{key:c.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[t(e(z),{class:"p-4"},{default:a(()=>[s("div",ho,[s("div",ko,[s("div",wo,[s("h4",$o,[i(n(c.name)+" ",1),s("span",Po,"(@"+n(c.username)+")",1)]),t(e(V),{variant:P(c.position).variant},{default:a(()=>[i(n(P(c.position).text),1)]),_:2},1032,["variant"]),c.level?(r(),$(e(V),{key:0,variant:"outline"},{default:a(()=>[i(" Level "+n(c.level),1)]),_:2},1024)):k("",!0)]),s("div",So,[s("p",null,n(c.email),1),c.phone?(r(),f("p",Co,n(c.phone),1)):k("",!0),c.package_name?(r(),f("p",Ro," Paket: "+n(c.package_name),1)):k("",!0),(c.total_left??0)>0||(c.total_right??0)>0?(r(),f("p",To,[s("span",Do,"Kiri: "+n(c.total_left??0),1),_[6]||(_[6]=s("span",{class:"mx-1"},"|",-1)),s("span",jo,"Kanan: "+n(c.total_right??0),1)])):k("",!0),s("p",Mo,"Bergabung: "+n(M(c.joined_at)),1),s("p",Ao," Omzet: "+n(g(c.omzet)),1)])]),s("div",Lo,[t(e(V),{variant:"default"},{default:a(()=>[t(e(xe),{class:"w-3 h-3 mr-1"}),_[7]||(_[7]=i(" Aktif ",-1))]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(e(le),{value:"passive",class:"space-y-4"},{default:a(()=>[l.passiveMembers.length===0?(r(),f("div",Bo,[t(e(Qe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),_[8]||(_[8]=s("p",null,"Belum ada member pasif",-1)),_[9]||(_[9]=s("p",{class:"text-sm mt-2"},"Member pasif adalah member yang belum ditempatkan di binary tree tapi sudah memiliki pembelian/order",-1))])):k("",!0),(r(!0),f(q,null,te(l.passiveMembers,c=>(r(),$(e(O),{key:c.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[t(e(z),{class:"p-4"},{default:a(()=>[s("div",Vo,[s("div",Io,[s("div",Eo,[s("h4",Uo,[i(n(c.name)+" ",1),s("span",Ko,"(@"+n(c.username)+")",1)]),t(e(V),{variant:"secondary"},{default:a(()=>[..._[10]||(_[10]=[i("Belum Ditempatkan",-1)])]),_:1})]),s("div",Fo,[s("p",null,n(c.email),1),c.phone?(r(),f("p",No,n(c.phone),1)):k("",!0),c.package_name?(r(),f("p",Oo," Paket: "+n(c.package_name),1)):k("",!0),(c.total_left??0)>0||(c.total_right??0)>0?(r(),f("p",zo,[s("span",qo,"Kiri: "+n(c.total_left??0),1),_[11]||(_[11]=s("span",{class:"mx-1"},"|",-1)),s("span",Go,"Kanan: "+n(c.total_right??0),1)])):k("",!0),s("p",Qo,"Bergabung: "+n(M(c.joined_at)),1),s("p",Wo," Omzet: "+n(g(c.omzet)),1)])]),s("div",Ho,[t(e(V),{variant:"outline"},{default:a(()=>[t(e(Qe),{class:"w-3 h-3 mr-1"}),_[12]||(_[12]=i(" Pasif ",-1))]),_:1}),t(e(V),{variant:"default"},{default:a(()=>[..._[13]||(_[13]=[i(" Sudah Belanja ",-1)])]),_:1}),!l.hasLeft||!l.hasRight?(r(),$(e(U),{key:0,size:"sm",variant:"default",class:"mt-2",onClick:C=>u(c)},{default:a(()=>[t(e(Le),{class:"w-3 h-3 mr-1"}),_[14]||(_[14]=i(" Tempatkan ke Binary ",-1))]),_:1},8,["onClick"])):k("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(e(le),{value:"prospect",class:"space-y-4"},{default:a(()=>[l.prospectMembers.length===0?(r(),f("div",Jo,[t(e(We),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),_[15]||(_[15]=s("p",null,"Belum ada member prospek",-1)),_[16]||(_[16]=s("p",{class:"text-sm mt-2"},"Member prospek adalah member yang baru mendaftar, belum ditempatkan di binary tree dan belum memiliki pembelian/order",-1))])):k("",!0),(r(!0),f(q,null,te(l.prospectMembers,c=>(r(),$(e(O),{key:c.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[t(e(z),{class:"p-4"},{default:a(()=>[s("div",Zo,[s("div",Yo,[s("div",Xo,[s("h4",ei,[i(n(c.name)+" ",1),s("span",ti,"(@"+n(c.username)+")",1)]),t(e(V),{variant:"outline"},{default:a(()=>[..._[17]||(_[17]=[i("Baru Bergabung",-1)])]),_:1})]),s("div",si,[s("p",null,n(c.email),1),c.phone?(r(),f("p",ai,n(c.phone),1)):k("",!0),c.package_name?(r(),f("p",li," Paket: "+n(c.package_name),1)):k("",!0),(c.total_left??0)>0||(c.total_right??0)>0?(r(),f("p",ni,[s("span",ri,"Kiri: "+n(c.total_left??0),1),_[18]||(_[18]=s("span",{class:"mx-1"},"|",-1)),s("span",oi,"Kanan: "+n(c.total_right??0),1)])):k("",!0),s("p",ii,"Bergabung: "+n(M(c.joined_at)),1),s("p",di," Omzet: "+n(g(c.omzet)),1)])]),s("div",ui,[t(e(V),{variant:"secondary"},{default:a(()=>[t(e(We),{class:"w-3 h-3 mr-1"}),_[19]||(_[19]=i(" Prospek ",-1))]),_:1}),t(e(V),{variant:"secondary"},{default:a(()=>[..._[20]||(_[20]=[i(" Belum Belanja ",-1)])]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),t(e(Oe),{open:d.value,"onUpdate:open":o},{default:a(()=>[t(e(Ue),{class:"sm:max-w-md"},{default:a(()=>[t(e(Ke),null,{default:a(()=>[t(e(Fe),null,{default:a(()=>[..._[21]||(_[21]=[i("Tempatkan Member ke Binary Tree",-1)])]),_:1}),t(e(Ne),null,{default:a(()=>[_[22]||(_[22]=i(" Pilih posisi untuk menempatkan ",-1)),s("span",mi,n(p.value?.name),1),_[23]||(_[23]=i(" di jaringan binary tree Anda. ",-1))]),_:1})]),_:1}),s("div",ci,[s("button",{type:"button",disabled:l.hasLeft,class:Z(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",l.hasLeft?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":m.value==="left"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:_[0]||(_[0]=c=>!l.hasLeft&&(m.value="left"))},[t(e(Le),{class:"w-8 h-8 mb-2 rotate-90"}),_[24]||(_[24]=s("span",{class:"font-semibold"},"Posisi Kiri",-1)),s("span",fi,n(l.hasLeft?"Sudah Terisi":"Left Position"),1)],10,pi),s("button",{type:"button",disabled:l.hasRight,class:Z(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",l.hasRight?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":m.value==="right"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:_[1]||(_[1]=c=>!l.hasRight&&(m.value="right"))},[t(e(Le),{class:"w-8 h-8 mb-2 -rotate-90"}),_[25]||(_[25]=s("span",{class:"font-semibold"},"Posisi Kanan",-1)),s("span",gi,n(l.hasRight?"Sudah Terisi":"Right Position"),1)],10,xi)]),t(e(ze),null,{default:a(()=>[t(e(U),{variant:"outline",onClick:o,disabled:e(h).processing},{default:a(()=>[..._[26]||(_[26]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),t(e(U),{onClick:x,disabled:!m.value||e(h).processing},{default:a(()=>[i(n(e(h).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),yi=Y({__name:"GoJSBinaryTree",props:{binaryTree:{},isDialog:{type:Boolean,default:!1}},setup(l,{expose:d}){let p=null;const m=l,h=B(null),u=B(!1);let o=null;const x=(c,C=null)=>{if(!c)return{nodes:[],links:[]};const D=[],E=[],N=(K,Q,I)=>{const J=K.level<5,A={key:K.id,name:K.name,username:K.username,package:K.package_name||"Tidak ada paket",totalLeft:K.total_left||0,totalRight:K.total_right||0,position:I,isActive:K.status,hasLeft:!!K.left,hasRight:!!K.right,level:K.level,order:I==="left"?0:I==="right"?1:0};if(D.push(A),Q!==null&&E.push({from:Q,to:K.id,order:I==="left"?0:1}),!K.left&&K.status&&J){const w=-K.id*2;D.push({key:w,name:"+ Kiri",username:"",package:"",isPlaceholder:!0,parentId:K.id,placeholderPosition:"left",order:0}),E.push({from:K.id,to:w,order:0})}if(!K.right&&K.status&&J){const w=-K.id*2-1;D.push({key:w,name:"+ Kanan",username:"",package:"",isPlaceholder:!0,parentId:K.id,placeholderPosition:"right",order:1}),E.push({from:K.id,to:w,order:1})}K.left&&N(K.left,K.id,"left"),K.right&&N(K.right,K.id,"right")};return N(c,C,null),{nodes:D,links:E}},M=()=>{if(!h.value||!p)return;const c=p,C=c.GraphObject.make;o=C(c.Diagram,h.value,{"undoManager.isEnabled":!1,"animationManager.isEnabled":!0,initialAutoScale:c.AutoScale.Uniform,contentAlignment:c.Spot.Top,layout:C(c.TreeLayout,{angle:90,layerSpacing:50,nodeSpacing:20,arrangement:c.TreeArrangement.Horizontal,sorting:c.TreeSorting.Ascending,comparer:(D,E)=>{const N=D.node?.data?.order??0,K=E.node?.data?.order??0;return N-K}}),maxSelectionCount:1}),o.addDiagramListener("ObjectSingleClicked",D=>{const E=D.subject.part;if(E instanceof c.Node){const N=E.data;N?.isPlaceholder&&N?.parentId&&N?.placeholderPosition?window.dispatchEvent(new CustomEvent("gojs-open-placement",{detail:{uplineId:N.parentId,position:N.placeholderPosition}})):!N?.isPlaceholder&&N?.key&&window.dispatchEvent(new CustomEvent("gojs-member-click",{detail:{memberId:N.key}}))}}),o.nodeTemplate=C(c.Node,"Auto",{cursor:"pointer",selectionAdorned:!1},C(c.Shape,"RoundedRectangle",{fill:"white",stroke:"#e2e8f0",strokeWidth:2,parameter1:8},new c.Binding("fill","",D=>D.isPlaceholder?"#f8fafc":D.isActive?"#ffffff":"#fef3c7"),new c.Binding("stroke","",D=>D.isPlaceholder?"#cbd5e1":D.position==="left"?"#3b82f6":D.position==="right"?"#22c55e":"#6366f1"),new c.Binding("strokeWidth","",D=>D.isPlaceholder?1:2),new c.Binding("strokeDashArray","isPlaceholder",D=>D?[4,4]:null)),C(c.Panel,"Vertical",{margin:8,defaultAlignment:c.Spot.Left},C(c.TextBlock,{font:"bold 13px Inter, sans-serif",stroke:"#1e293b",maxSize:new c.Size(140,NaN),wrap:c.Wrap.Fit,textAlign:"center",alignment:c.Spot.Center},new c.Binding("text","name"),new c.Binding("stroke","isPlaceholder",D=>D?"#64748b":"#1e293b"),new c.Binding("font","isPlaceholder",D=>D?"12px Inter, sans-serif":"bold 13px Inter, sans-serif")),C(c.TextBlock,{font:"11px Inter, sans-serif",stroke:"#64748b",maxSize:new c.Size(140,NaN),wrap:c.Wrap.Fit,margin:new c.Margin(2,0,0,0),alignment:c.Spot.Center},new c.Binding("text","username"),new c.Binding("visible","isPlaceholder",D=>!D)),C(c.Panel,"Auto",{margin:new c.Margin(4,0,0,0),alignment:c.Spot.Center},new c.Binding("visible","isPlaceholder",D=>!D),C(c.Shape,"RoundedRectangle",{fill:"#eff6ff",stroke:"#bfdbfe",strokeWidth:1,parameter1:4}),C(c.TextBlock,{font:"10px Inter, sans-serif",stroke:"#1d4ed8",margin:new c.Margin(2,6,2,6)},new c.Binding("text","package"))),C(c.Panel,"Horizontal",{margin:new c.Margin(6,0,0,0),alignment:c.Spot.Center},new c.Binding("visible","isPlaceholder",D=>!D),C(c.Panel,"Horizontal",C(c.Shape,"Circle",{width:8,height:8,fill:"#3b82f6",stroke:null,margin:new c.Margin(0,4,0,0)}),C(c.TextBlock,{font:"10px Inter, sans-serif",stroke:"#64748b"},new c.Binding("text","totalLeft",D=>`L: ${D}`))),C(c.TextBlock," | ",{font:"10px Inter, sans-serif",stroke:"#cbd5e1"}),C(c.Panel,"Horizontal",C(c.Shape,"Circle",{width:8,height:8,fill:"#22c55e",stroke:null,margin:new c.Margin(0,4,0,0)}),C(c.TextBlock,{font:"10px Inter, sans-serif",stroke:"#64748b"},new c.Binding("text","totalRight",D=>`R: ${D}`)))))),o.linkTemplate=C(c.Link,{routing:c.Routing.Orthogonal,corner:10,selectable:!1},C(c.Shape,{strokeWidth:2,stroke:"#cbd5e1"})),g()},g=()=>{if(!o||!m.binaryTree||!p)return;const c=p,{nodes:C,links:D}=x(m.binaryTree);o.model=new c.GraphLinksModel(C,D),requestAnimationFrame(()=>{o&&o.zoomToFit()})},P=()=>{o&&o.commandHandler.increaseZoom()},v=()=>{o&&o.commandHandler.decreaseZoom()},_=()=>{o&&o.zoomToFit()};return Xe(async()=>{typeof window<"u"&&(p=await ys(()=>import("./vendor-flWeloHs.js").then(c=>c.e9),__vite__mapDeps([0,1])),u.value=!0,setTimeout(()=>{M()},0))}),_t(()=>{o&&(o.removeDiagramListener("ObjectSingleClicked",()=>{}),o.clear(),o.div=null,o=null)}),d({zoomIn:P,zoomOut:v,resetZoom:_}),(c,C)=>u.value?(r(),f("div",{key:1,ref_key:"diagramDiv",ref:h,class:Z(["w-full border rounded-lg bg-slate-50",l.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},null,2)):(r(),f("div",{key:0,class:Z(["w-full border rounded-lg bg-slate-50 flex items-center justify-center",l.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},[...C[0]||(C[0]=[s("div",{class:"text-center text-muted-foreground"},[s("div",{class:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-2"}),s("p",{class:"text-sm"},"Memuat diagram...")],-1)])],2))}}),ce=l=>({url:ce.url(l),method:"get"});ce.definition={methods:["get","head"],url:"/client/profile"};ce.url=l=>ce.definition.url+pe(l);ce.get=l=>({url:ce.url(l),method:"get"});ce.head=l=>({url:ce.url(l),method:"head"});const kt=l=>({action:ce.url(l),method:"get"});kt.get=l=>({action:ce.url(l),method:"get"});kt.head=l=>({action:ce.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...l?.query??l?.mergeQuery??{}}}),method:"get"});ce.form=kt;const be=l=>({url:be.url(l),method:"patch"});be.definition={methods:["patch"],url:"/client/profile"};be.url=l=>be.definition.url+pe(l);be.patch=l=>({url:be.url(l),method:"patch"});const Vt=l=>({action:be.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});Vt.patch=l=>({action:be.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});be.form=Vt;const _e=l=>({url:_e.url(l),method:"patch"});_e.definition={methods:["patch"],url:"/client/profile/password"};_e.url=l=>_e.definition.url+pe(l);_e.patch=l=>({url:_e.url(l),method:"patch"});const It=l=>({action:_e.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});It.patch=l=>({action:_e.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});_e.form=It;const he=l=>({url:he.url(l),method:"delete"});he.definition={methods:["delete"],url:"/client/profile"};he.url=l=>he.definition.url+pe(l);he.delete=l=>({url:he.url(l),method:"delete"});const Et=l=>({action:he.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...l?.query??l?.mergeQuery??{}}}),method:"post"});Et.delete=l=>({action:he.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...l?.query??l?.mergeQuery??{}}}),method:"post"});he.form=Et;const ge=l=>({url:ge.url(l),method:"post"});ge.definition={methods:["post"],url:"/client/profile/place-member"};ge.url=l=>ge.definition.url+pe(l);ge.post=l=>({url:ge.url(l),method:"post"});const Ut=l=>({action:ge.url(l),method:"post"});Ut.post=l=>({action:ge.url(l),method:"post"});ge.form=Ut;const ue=(l,d)=>({url:ue.url(l,d),method:"get"});ue.definition={methods:["get","head"],url:"/client/profile/member-tree/{memberId}"};ue.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={memberId:l}),Array.isArray(l)&&(l={memberId:l[0]}),l=et(l);const p={memberId:l.memberId};return ue.definition.url.replace("{memberId}",p.memberId.toString()).replace(/\/+$/,"")+pe(d)};ue.get=(l,d)=>({url:ue.url(l,d),method:"get"});ue.head=(l,d)=>({url:ue.url(l,d),method:"head"});const wt=(l,d)=>({action:ue.url(l,d),method:"get"});wt.get=(l,d)=>({action:ue.url(l,d),method:"get"});wt.head=(l,d)=>({action:ue.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...d?.query??d?.mergeQuery??{}}}),method:"get"});ue.form=wt;const me=l=>({url:me.url(l),method:"get"});me.definition={methods:["get","head"],url:"/client/profile/search-member"};me.url=l=>me.definition.url+pe(l);me.get=l=>({url:me.url(l),method:"get"});me.head=l=>({url:me.url(l),method:"head"});const $t=l=>({action:me.url(l),method:"get"});$t.get=l=>({action:me.url(l),method:"get"});$t.head=l=>({action:me.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...l?.query??l?.mergeQuery??{}}}),method:"get"});me.form=$t;const ve=l=>({url:ve.url(l),method:"post"});ve.definition={methods:["post"],url:"/client/profile/claim-lifetime-reward"};ve.url=l=>ve.definition.url+pe(l);ve.post=l=>({url:ve.url(l),method:"post"});const Kt=l=>({action:ve.url(l),method:"post"});Kt.post=l=>({action:ve.url(l),method:"post"});ve.form=Kt;const ke=l=>({url:ke.url(l),method:"post"});ke.definition={methods:["post"],url:"/client/profile/addresses"};ke.url=l=>ke.definition.url+pe(l);ke.post=l=>({url:ke.url(l),method:"post"});const Ft=l=>({action:ke.url(l),method:"post"});Ft.post=l=>({action:ke.url(l),method:"post"});ke.form=Ft;const we=(l,d)=>({url:we.url(l,d),method:"put"});we.definition={methods:["put"],url:"/client/profile/addresses/{address}"};we.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=et(l);const p={address:l.address};return we.definition.url.replace("{address}",p.address.toString()).replace(/\/+$/,"")+pe(d)};we.put=(l,d)=>({url:we.url(l,d),method:"put"});const Nt=(l,d)=>({action:we.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...d?.query??d?.mergeQuery??{}}}),method:"post"});Nt.put=(l,d)=>({action:we.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...d?.query??d?.mergeQuery??{}}}),method:"post"});we.form=Nt;const $e=(l,d)=>({url:$e.url(l,d),method:"delete"});$e.definition={methods:["delete"],url:"/client/profile/addresses/{address}"};$e.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=et(l);const p={address:l.address};return $e.definition.url.replace("{address}",p.address.toString()).replace(/\/+$/,"")+pe(d)};$e.delete=(l,d)=>({url:$e.url(l,d),method:"delete"});const Ot=(l,d)=>({action:$e.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...d?.query??d?.mergeQuery??{}}}),method:"post"});Ot.delete=(l,d)=>({action:$e.url(l,{[d?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...d?.query??d?.mergeQuery??{}}}),method:"post"});$e.form=Ot;const Pe=(l,d)=>({url:Pe.url(l,d),method:"post"});Pe.definition={methods:["post"],url:"/client/profile/addresses/{address}/set-default"};Pe.url=(l,d)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=et(l);const p={address:l.address};return Pe.definition.url.replace("{address}",p.address.toString()).replace(/\/+$/,"")+pe(d)};Pe.post=(l,d)=>({url:Pe.url(l,d),method:"post"});const zt=(l,d)=>({action:Pe.url(l,d),method:"post"});zt.post=(l,d)=>({action:Pe.url(l,d),method:"post"});Pe.form=zt;const bi={class:"space-y-4 sm:space-y-6"},_i={class:"grid grid-cols-3 gap-2 sm:gap-4"},hi={class:"text-lg sm:text-2xl font-bold"},ki={class:"text-lg sm:text-2xl font-bold text-blue-600"},wi={class:"text-lg sm:text-2xl font-bold text-green-600"},$i={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Pi={class:"flex items-center gap-2"},Si={class:"flex items-center gap-1 sm:gap-2"},Ci={class:"relative"},Ri={class:"relative"},Ti={key:0,class:"absolute top-full right-0 mt-1 w-64 sm:w-72 bg-background border rounded-lg shadow-lg z-20 max-h-64 overflow-y-auto"},Di={key:0,class:"p-3 text-center text-sm text-muted-foreground"},ji=["onMousedown"],Mi={class:"text-sm font-medium truncate"},Ai={class:"text-xs text-muted-foreground truncate"},Li={key:0,class:"text-xs text-primary"},Bi={class:"relative"},Vi={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg"},Ii={class:"text-center"},Ei={key:2,class:"h-[400px] flex items-center justify-center text-muted-foreground"},Ui={class:"text-center"},Ki={class:"font-semibold"},Fi={class:"flex-1 overflow-y-auto py-2 sm:py-4"},Ni={class:"relative mb-3 sm:mb-4"},Oi={key:0,class:"text-center py-8 sm:py-12 text-muted-foreground"},zi={class:"text-sm sm:text-base"},qi={key:1,class:"text-center py-8 sm:py-12 text-muted-foreground"},Gi={key:2,class:"space-y-2"},Qi=["onClick"],Wi={class:"flex items-start justify-between gap-2"},Hi={class:"flex-1 min-w-0"},Ji={class:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1"},Zi={class:"font-semibold text-sm sm:text-base truncate"},Yi={class:"space-y-0.5 text-xs sm:text-sm text-muted-foreground"},Xi={class:"truncate"},ed={key:0,class:"truncate"},td={class:"text-[10px] sm:text-xs"},sd={key:0,class:"flex-shrink-0"},ad=Y({__name:"BinaryTreeTab",props:{binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},passiveMembers:{}},setup(l){const d=l,p=B(null),m=B(!1),h=B(null),u=B(null),o=B(null),x=B(""),M=B(""),g=B([]),P=B(!1),v=B(!1),_=B(!1),c=B(!1),C=B(null),D=B(null),E=B({totalDownlines:0,totalLeft:0,totalRight:0}),N=F(()=>_.value?D.value:d.binaryTree),K=F(()=>_.value?E.value:{totalDownlines:d.totalDownlines,totalLeft:d.totalLeft,totalRight:d.totalRight}),Q=B(0),I=F(()=>`tree-${Q.value}`),J=F(()=>{if(!x.value.trim())return d.passiveMembers;const X=x.value.toLowerCase().trim();return d.passiveMembers.filter(L=>{const ee=L.name?.toLowerCase().includes(X),st=L.email?.toLowerCase().includes(X),Yt=L.phone?.toLowerCase().includes(X);return ee||st||Yt})}),A=Se({member_id:0,upline_id:null,position:""}),w=(X,L)=>{h.value=X,u.value=L,o.value=null,x.value="",m.value=!0},y=()=>{m.value=!1,h.value=null,u.value=null,o.value=null,x.value=""},S=X=>{o.value=X},b=()=>{if(!o.value||!u.value){j.error("Pilih member terlebih dahulu");return}A.member_id=o.value.id,A.upline_id=h.value,A.position=u.value,fe.post(ge().url,{member_id:A.member_id,upline_id:A.upline_id,position:A.position},{preserveScroll:!0,onStart:()=>{A.processing=!0},onFinish:()=>{A.processing=!1},onSuccess:()=>{j.success(`${o.value?.name} berhasil ditempatkan di posisi ${u.value}`),y()},onError:X=>{const L=X.error||"Gagal menempatkan member ke binary tree";j.error(L)}})},R=X=>new Date(X).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),T=async X=>{c.value=!0,_.value=!0;try{const L=await ie.get(ue(X).url);L.data.success?(C.value=L.data.data.member,D.value=L.data.data.tree,E.value={totalDownlines:L.data.data.totalDownlines,totalLeft:L.data.data.totalLeft,totalRight:L.data.data.totalRight},Q.value++):(j.error("Gagal memuat data jaringan member"),qe())}catch(L){j.error(L.response?.data?.message||"Gagal memuat data jaringan member"),qe()}finally{c.value=!1}},qe=()=>{_.value=!1,C.value=null,D.value=null,E.value={totalDownlines:0,totalLeft:0,totalRight:0},M.value="",g.value=[],v.value=!1};let tt=null;const qt=async()=>{const X=M.value.trim();if(X.length<2){g.value=[],v.value=!1;return}tt&&clearTimeout(tt),tt=setTimeout(async()=>{P.value=!0,v.value=!0;try{const L=await ie.get(me({query:{query:X}}).url);L.data.success?g.value=L.data.data:g.value=[]}catch{g.value=[]}finally{P.value=!1}},300)},Gt=X=>{M.value="",g.value=[],v.value=!1,T(X.id)},Qt=()=>{setTimeout(()=>{Wt()},200)},Wt=()=>{v.value=!1},Ht=()=>{p.value?.zoomIn()},Jt=()=>{p.value?.zoomOut()},Zt=()=>{p.value?.resetZoom()},Pt=X=>{T(X.detail.memberId)},St=X=>{w(X.detail.uplineId,X.detail.position)};return Xe(()=>{window.addEventListener("gojs-member-click",Pt),window.addEventListener("gojs-open-placement",St)}),_t(()=>{window.removeEventListener("gojs-member-click",Pt),window.removeEventListener("gojs-open-placement",St)}),(X,L)=>(r(),f(q,null,[s("div",bi,[s("div",_i,[t(e(O),{class:"p-0"},{default:a(()=>[t(e(W),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[t(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...L[2]||(L[2]=[i("Total Jaringan",-1)])]),_:1}),t(e(ct),{class:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"})]),_:1}),t(e(z),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[s("div",hi,n(K.value.totalDownlines),1),L[3]||(L[3]=s("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member aktif di jaringan Anda",-1))]),_:1})]),_:1}),t(e(O),{class:"p-0"},{default:a(()=>[t(e(W),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[t(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...L[4]||(L[4]=[i("Kaki Kiri",-1)])]),_:1}),t(e(Tt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"})]),_:1}),t(e(z),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[s("div",ki,n(K.value.totalLeft),1),L[5]||(L[5]=s("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kiri",-1))]),_:1})]),_:1}),t(e(O),{class:"p-0"},{default:a(()=>[t(e(W),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[t(e(H),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...L[6]||(L[6]=[i("Kaki Kanan",-1)])]),_:1}),t(e(Tt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"})]),_:1}),t(e(z),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[s("div",wi,n(K.value.totalRight),1),L[7]||(L[7]=s("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kanan",-1))]),_:1})]),_:1})]),t(e(O),null,{default:a(()=>[t(e(W),{class:"p-3 sm:p-6"},{default:a(()=>[s("div",$i,[s("div",Pi,[_.value?(r(),$(e(U),{key:0,variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:qe},{default:a(()=>[t(e(Dt),{class:"h-4 w-4"})]),_:1})):k("",!0),s("div",null,[t(e(H),{class:"text-sm sm:text-base flex items-center gap-2"},{default:a(()=>[_.value&&C.value?(r(),f(q,{key:0},[i(" Jaringan "+n(C.value.name),1)],64)):(r(),f(q,{key:1},[i(" Struktur Binary Tree ")],64))]),_:1}),t(e(de),{class:"text-xs sm:text-sm"},{default:a(()=>[_.value&&C.value?(r(),f(q,{key:0},[i(n(C.value.username),1)],64)):(r(),f(q,{key:1},[i(" Visualisasi jaringan MLM binary tree Anda ")],64))]),_:1})])]),s("div",Si,[s("div",Ci,[s("div",Ri,[t(e(Ge),{class:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),t(e(se),{modelValue:M.value,"onUpdate:modelValue":L[0]||(L[0]=ee=>M.value=ee),type:"text",placeholder:"Cari member...",class:"h-7 sm:h-8 w-28 sm:w-40 pl-8 text-xs sm:text-sm",onInput:qt,onBlur:Qt},null,8,["modelValue"]),P.value?(r(),$(e(Te),{key:0,class:"absolute right-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 animate-spin text-muted-foreground"})):k("",!0)]),v.value&&(g.value.length>0||M.value.length>=2)?(r(),f("div",Ti,[g.value.length===0?(r(),f("div",Di,[t(e(Ge),{class:"w-5 h-5 mx-auto mb-2 opacity-20"}),L[8]||(L[8]=s("p",null,"Tidak ditemukan",-1))])):k("",!0),(r(!0),f(q,null,te(g.value,ee=>(r(),f("button",{key:ee.id,type:"button",class:"w-full p-2.5 text-left hover:bg-muted/50 border-b last:border-b-0 transition-colors",onMousedown:Ee(st=>Gt(ee),["prevent"])},[s("p",Mi,n(ee.name),1),s("p",Ai,n(ee.email),1),ee.package_name?(r(),f("p",Li,n(ee.package_name),1)):k("",!0)],40,ji))),128))])):k("",!0)]),_.value?(r(),$(e(U),{key:0,variant:"outline",size:"sm",class:"h-7 sm:h-8 text-xs",onClick:qe},{default:a(()=>[t(e(Dt),{class:"h-3.5 w-3.5 mr-1"}),L[9]||(L[9]=s("span",{class:"hidden sm:inline"},"Kembali",-1))]),_:1})):k("",!0),t(e(U),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:Jt},{default:a(()=>[t(e(bs),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),t(e(U),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:Ht},{default:a(()=>[t(e(_s),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),t(e(U),{variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:Zt,title:"Fit to Screen"},{default:a(()=>[t(e(hs),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1})])])]),_:1}),t(e(z),{class:"p-2 sm:p-6 pt-0"},{default:a(()=>[s("div",Bi,[c.value?(r(),f("div",Vi,[s("div",Ii,[t(e(Te),{class:"w-8 h-8 mx-auto mb-4 animate-spin text-primary"}),L[10]||(L[10]=s("p",{class:"text-sm text-muted-foreground"},"Memuat data jaringan...",-1))])])):k("",!0),N.value?(r(),$(yi,{key:I.value,ref_key:"goJSTreeRef",ref:p,"binary-tree":N.value,"is-dialog":_.value},null,8,["binary-tree","is-dialog"])):(r(),f("div",Ei,[s("div",Ui,[t(e(ct),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),L[11]||(L[11]=s("p",null,"Belum ada jaringan binary tree",-1))])]))]),L[12]||(L[12]=s("div",{class:"mt-4 sm:mt-6 p-2 sm:p-4 rounded-lg bg-muted/50"},[s("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-center sm:text-left"},[s("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[i("  "),s("span",{class:"hidden sm:inline"},'Klik member untuk melihat jaringannya  Klik "+" untuk menambah member'),s("span",{class:"sm:hidden"},"Klik member untuk lihat jaringan")]),s("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[s("span",{class:"hidden sm:inline"},"Scroll/drag untuk navigasi  Mouse wheel untuk zoom"),s("span",{class:"sm:hidden"},"Drag & Pinch untuk navigasi")])])],-1))]),_:1})]),_:1})]),t(e(Oe),{open:m.value,"onUpdate:open":y},{default:a(()=>[t(e(Ue),{class:"w-[95vw] max-w-2xl max-h-[85vh] overflow-hidden flex flex-col p-4 sm:p-6"},{default:a(()=>[t(e(Ke),{class:"space-y-1 sm:space-y-2"},{default:a(()=>[t(e(Fe),{class:"text-base sm:text-lg"},{default:a(()=>[...L[13]||(L[13]=[i("Pilih Member untuk Ditempatkan",-1)])]),_:1}),t(e(Ne),{class:"text-xs sm:text-sm"},{default:a(()=>[L[14]||(L[14]=i(" Pilih member pasif untuk ditempatkan di posisi ",-1)),s("span",Ki,n(u.value==="left"?"Kiri":"Kanan"),1)]),_:1})]),_:1}),s("div",Fi,[s("div",Ni,[t(e(Ge),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t(e(se),{modelValue:x.value,"onUpdate:modelValue":L[1]||(L[1]=ee=>x.value=ee),type:"text",placeholder:"Cari nama, email, atau telepon...",class:"pl-9 text-sm"},null,8,["modelValue"])]),J.value.length===0&&x.value?(r(),f("div",Oi,[t(e(Ge),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),s("p",zi,'Tidak ditemukan member dengan "'+n(x.value)+'"',1),L[15]||(L[15]=s("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Coba kata kunci lain",-1))])):l.passiveMembers.length===0?(r(),f("div",qi,[t(e(We),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),L[16]||(L[16]=s("p",{class:"text-sm sm:text-base"},"Tidak ada member pasif",-1)),L[17]||(L[17]=s("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Semua member sudah ditempatkan",-1))])):(r(),f("div",Gi,[(r(!0),f(q,null,te(J.value,ee=>(r(),f("button",{key:ee.id,type:"button",class:Z(["w-full p-3 sm:p-4 rounded-lg border-2 text-left transition-all",o.value?.id===ee.id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"]),onClick:st=>S(ee)},[s("div",Wi,[s("div",Hi,[s("div",Ji,[s("h4",Zi,n(ee.name),1),ee.has_purchase?(r(),$(e(V),{key:0,variant:"default",class:"text-[10px] sm:text-xs"},{default:a(()=>[...L[18]||(L[18]=[s("span",{class:"hidden sm:inline"},"Ada Pembelian",-1),s("span",{class:"sm:hidden"},"Beli",-1)])]),_:1})):(r(),$(e(V),{key:1,variant:"secondary",class:"text-[10px] sm:text-xs"},{default:a(()=>[...L[19]||(L[19]=[s("span",{class:"hidden sm:inline"},"Belum Belanja",-1),s("span",{class:"sm:hidden"},"Belum",-1)])]),_:1}))]),s("div",Yi,[s("p",Xi,n(ee.email),1),ee.phone?(r(),f("p",ed,n(ee.phone),1)):k("",!0),s("p",td,"Bergabung: "+n(R(ee.joined_at)),1)])]),o.value?.id===ee.id?(r(),f("div",sd,[...L[20]||(L[20]=[s("div",{class:"flex h-5 w-5 sm:h-6 sm:w-6 items-center justify-center rounded-full bg-primary text-primary-foreground"},[s("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):k("",!0)])],10,Qi))),128))]))]),t(e(ze),{class:"flex-col-reverse sm:flex-row gap-2 sm:gap-0"},{default:a(()=>[t(e(U),{variant:"outline",onClick:y,disabled:e(A).processing,class:"w-full sm:w-auto"},{default:a(()=>[...L[21]||(L[21]=[i(" Batal ",-1)])]),_:1},8,["disabled"]),t(e(U),{onClick:b,disabled:!o.value||e(A).processing,class:"w-full sm:w-auto"},{default:a(()=>[i(n(e(A).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),ld={class:"space-y-4 sm:space-y-6"},nd={class:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},rd={class:"text-xl sm:text-2xl font-bold truncate"},od={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},id={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},dd={class:"text-xl sm:text-2xl font-bold truncate"},ud={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},md={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},cd={class:"text-xl sm:text-2xl font-bold truncate"},pd={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},fd={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},xd={class:"text-xl sm:text-2xl font-bold truncate"},gd={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},vd={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},yd={class:"text-xl sm:text-2xl font-bold truncate"},bd={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},_d={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},hd={class:"text-xl sm:text-2xl font-bold truncate"},kd={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},wd={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},$d={class:"text-xl sm:text-2xl font-bold truncate"},Pd={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Sd={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Cd={class:"text-xl sm:text-2xl font-bold text-primary truncate"},Rd={class:"w-full text-center overflow-x-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] -mx-2 px-2 sm:mx-0 sm:px-0",style:{"-webkit-overflow-scrolling":"touch"}},Td={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Dd={key:1,class:"space-y-1.5 sm:space-y-3"},jd={class:"flex-1 min-w-0"},Md={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Ad={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Ld={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Bd={key:0,class:"block sm:inline"},Vd={class:"block sm:inline sm:ml-1"},Id={class:"text-left sm:text-right flex-shrink-0"},Ed={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Ud={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Kd={key:1,class:"space-y-1.5 sm:space-y-3"},Fd={class:"flex-1 min-w-0"},Nd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Od={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},zd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},qd={key:0,class:"block sm:inline"},Gd={class:"block sm:inline sm:ml-2"},Qd={class:"text-left sm:text-right flex-shrink-0"},Wd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Hd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Jd={key:1,class:"space-y-3"},Zd={class:"flex-1 min-w-0"},Yd={class:"flex flex-wrap items-center gap-2"},Xd={class:"text-xs sm:text-sm font-medium break-words"},eu={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},tu={class:"text-left sm:text-right flex-shrink-0"},su={class:"text-base sm:text-lg font-bold text-green-600"},au={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},lu={key:1,class:"space-y-1.5 sm:space-y-3"},nu={class:"flex-1 min-w-0"},ru={class:"flex flex-wrap items-center gap-1 sm:gap-2"},ou={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},iu={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},du={key:0,class:"block sm:inline"},uu={class:"block sm:inline sm:ml-1"},mu={class:"text-left sm:text-right flex-shrink-0"},cu={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},pu={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},fu={key:1,class:"space-y-1.5 sm:space-y-3"},xu={class:"flex-1 min-w-0"},gu={class:"flex flex-wrap items-center gap-1 sm:gap-2"},vu={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},yu={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},bu={class:"text-left sm:text-right flex-shrink-0"},_u={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},hu={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},ku={key:1,class:"space-y-1.5 sm:space-y-3"},wu={class:"flex-1 min-w-0"},$u={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Pu={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Su={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Cu={key:0,class:"block sm:inline"},Ru={class:"block sm:inline sm:ml-1"},Tu={class:"text-left sm:text-right flex-shrink-0"},Du={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},ju={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Mu={key:1,class:"space-y-1.5 sm:space-y-3"},Au={class:"flex-1 min-w-0"},Lu={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Bu={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Vu={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Iu={class:"block sm:inline"},Eu={class:"block sm:inline sm:ml-1"},Uu={class:"text-left sm:text-right flex-shrink-0"},Ku={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Fu=Y({__name:"BonusTab",props:{bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{}},setup(l){const d=l,p=b=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(b),m=b=>new Date(b).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),h=F(()=>d.bonusSponsors.reduce((b,R)=>b+R.amount,0)),u=F(()=>d.bonusMatchings.reduce((b,R)=>b+R.amount,0)),o=F(()=>d.bonusPairings.reduce((b,R)=>b+R.amount,0)),x=F(()=>d.bonusCashbacks.reduce((b,R)=>b+R.amount,0)),M=F(()=>d.bonusRewards.reduce((b,R)=>b+R.amount,0)),g=F(()=>d.bonusSponsors.filter(b=>b.status===0).reduce((b,R)=>b+R.amount,0)),P=F(()=>d.bonusSponsors.filter(b=>b.status===1).reduce((b,R)=>b+R.amount,0)),v=F(()=>d.bonusMatchings.filter(b=>b.status===0).reduce((b,R)=>b+R.amount,0)),_=F(()=>d.bonusMatchings.filter(b=>b.status===1).reduce((b,R)=>b+R.amount,0)),c=F(()=>d.bonusPairings.filter(b=>b.status===0).reduce((b,R)=>b+R.amount,0)),C=F(()=>d.bonusPairings.filter(b=>b.status===1).reduce((b,R)=>b+R.amount,0)),D=F(()=>d.bonusCashbacks.filter(b=>b.status===0).reduce((b,R)=>b+R.amount,0)),E=F(()=>d.bonusCashbacks.filter(b=>b.status===1).reduce((b,R)=>b+R.amount,0)),N=F(()=>d.bonusRewards.filter(b=>b.status===0).reduce((b,R)=>b+R.amount,0)),K=F(()=>d.bonusRewards.filter(b=>b.status===1).reduce((b,R)=>b+R.amount,0)),Q=F(()=>d.bonusRetails.reduce((b,R)=>b+R.amount,0)),I=F(()=>d.bonusRetails.filter(b=>b.status===0).reduce((b,R)=>b+R.amount,0)),J=F(()=>d.bonusRetails.filter(b=>b.status===1).reduce((b,R)=>b+R.amount,0)),A=F(()=>d.bonusLifetimeCashRewards.reduce((b,R)=>b+R.amount,0)),w=F(()=>d.bonusLifetimeCashRewards.filter(b=>b.status===0).reduce((b,R)=>b+R.amount,0)),y=F(()=>d.bonusLifetimeCashRewards.filter(b=>b.status===1).reduce((b,R)=>b+R.amount,0)),S=F(()=>h.value+u.value+o.value+x.value+M.value+Q.value+A.value);return(b,R)=>(r(),f("div",ld,[s("div",nd,[t(e(O),null,{default:a(()=>[t(e(W),{class:"pb-2 sm:pb-3"},{default:a(()=>[t(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[t(e(ct),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),R[0]||(R[0]=s("span",{class:"truncate"},"Referral Incentive",-1))]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("div",rd,n(p(h.value)),1),s("p",od,n(l.bonusSponsors.length)+" transaksi ",1),s("div",id,[t(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Pending: "+n(p(g.value)),1)]),_:1}),t(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Released: "+n(p(P.value)),1)]),_:1})])]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(W),{class:"pb-2 sm:pb-3"},{default:a(()=>[t(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[t(e(ks),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"}),R[1]||(R[1]=s("span",{class:"truncate"},"Team Affiliate Commission",-1))]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("div",dd,n(p(u.value)),1),s("p",ud,n(l.bonusMatchings.length)+" transaksi ",1),s("div",md,[t(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Pending: "+n(p(v.value)),1)]),_:1}),t(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Released: "+n(p(_.value)),1)]),_:1})])]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(W),{class:"pb-2 sm:pb-3"},{default:a(()=>[t(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[t(e(ws),{class:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),R[2]||(R[2]=s("span",{class:"truncate"},"Partner Team Commission",-1))]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("div",cd,n(p(o.value)),1),s("p",pd,n(l.bonusPairings.length)+" transaksi ",1),s("div",fd,[t(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Pending: "+n(p(c.value)),1)]),_:1}),t(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Released: "+n(p(C.value)),1)]),_:1})])]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(W),{class:"pb-2 sm:pb-3"},{default:a(()=>[t(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[t(e($s),{class:"h-3 w-3 sm:h-4 sm:w-4 text-orange-500 flex-shrink-0"}),R[3]||(R[3]=s("span",{class:"truncate"},"Cashback Commission",-1))]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("div",xd,n(p(x.value)),1),s("p",gd,n(l.bonusCashbacks.length)+" transaksi ",1),s("div",vd,[t(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Pending: "+n(p(D.value)),1)]),_:1}),t(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Released: "+n(p(E.value)),1)]),_:1})])]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(W),{class:"pb-2 sm:pb-3"},{default:a(()=>[t(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[t(e(Ie),{class:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 flex-shrink-0"}),R[4]||(R[4]=s("span",{class:"truncate"},"Promotions Rewards",-1))]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("div",yd,n(p(M.value)),1),s("p",bd,n(l.bonusRewards.length)+" transaksi ",1),s("div",_d,[t(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Pending: "+n(p(N.value)),1)]),_:1}),t(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Released: "+n(p(K.value)),1)]),_:1})])]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(W),{class:"pb-2 sm:pb-3"},{default:a(()=>[t(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[t(e(Ps),{class:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-500 flex-shrink-0"}),R[5]||(R[5]=s("span",{class:"truncate"},"Retail Commission",-1))]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("div",hd,n(p(Q.value)),1),s("p",kd,n(l.bonusRetails.length)+" transaksi ",1),s("div",wd,[t(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Pending: "+n(p(I.value)),1)]),_:1}),t(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Released: "+n(p(J.value)),1)]),_:1})])]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(W),{class:"pb-2 sm:pb-3"},{default:a(()=>[t(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[t(e(ht),{class:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"}),R[6]||(R[6]=s("span",{class:"truncate"},"Lifetime Cash Rewards",-1))]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("div",$d,n(p(A.value)),1),s("p",Pd,n(l.bonusLifetimeCashRewards.length)+" transaksi ",1),s("div",Sd,[t(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Pending: "+n(p(w.value)),1)]),_:1}),t(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[i(" Released: "+n(p(y.value)),1)]),_:1})])]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(W),{class:"pb-2 sm:pb-3"},{default:a(()=>[t(e(H),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[t(e(ye),{class:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"}),R[7]||(R[7]=s("span",{class:"truncate"},"Total Bonus",-1))]),_:1})]),_:1}),t(e(z),null,{default:a(()=>[s("div",Cd,n(p(S.value)),1),R[8]||(R[8]=s("p",{class:"text-[10px] sm:text-xs text-muted-foreground mt-1"}," Semua jenis bonus ",-1))]),_:1})]),_:1})]),t(e(O),null,{default:a(()=>[t(e(W),{class:"p-2 sm:p-4 md:p-6 pb-2"},{default:a(()=>[t(e(H),{class:"text-xs sm:text-base md:text-lg"},{default:a(()=>[...R[9]||(R[9]=[i("Riwayat Bonus",-1)])]),_:1}),t(e(de),{class:"text-[9px] sm:text-xs md:text-sm"},{default:a(()=>[...R[10]||(R[10]=[i(" Detail transaksi bonus ",-1)])]),_:1})]),_:1}),t(e(z),{class:"p-2 sm:p-4 md:p-6 pt-0"},{default:a(()=>[t(e(vt),{"default-value":"sponsor",class:"w-full"},{default:a(()=>[s("div",Rd,[t(e(yt),{class:"flex w-max sm:grid sm:w-full sm:grid-cols-7 gap-0.5 sm:gap-1 h-7 sm:h-auto bg-muted/30"},{default:a(()=>[t(e(ae),{value:"sponsor",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...R[11]||(R[11]=[i(" Referral ",-1)])]),_:1}),t(e(ae),{value:"matching",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...R[12]||(R[12]=[i(" Team Aff. ",-1)])]),_:1}),t(e(ae),{value:"pairing",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...R[13]||(R[13]=[i(" Partner ",-1)])]),_:1}),t(e(ae),{value:"cashback",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...R[14]||(R[14]=[i(" Cashback ",-1)])]),_:1}),t(e(ae),{value:"reward",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...R[15]||(R[15]=[i(" Rewards ",-1)])]),_:1}),t(e(ae),{value:"retail",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...R[16]||(R[16]=[i(" Retail ",-1)])]),_:1}),t(e(ae),{value:"lifetime",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...R[17]||(R[17]=[i(" Lifetime ",-1)])]),_:1})]),_:1})]),t(e(le),{value:"sponsor",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusSponsors.length===0?(r(),f("div",Td," Belum ada bonus referral incentive ")):(r(),f("div",Dd,[(r(!0),f(q,null,te(l.bonusSponsors,T=>(r(),f("div",{key:T.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[s("div",jd,[s("div",Md,[t(e(V),{variant:T.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(n(T.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s("span",Ad,n(T.description||"Bonus Sponsor"),1)]),s("p",Ld,[T.from_member?(r(),f("span",Bd," Dari: "+n(T.from_member.name),1)):k("",!0),s("span",Vd,n(m(T.created_at)),1)])]),s("div",Id,[s("div",Ed,n(p(T.amount)),1),s("div",{class:Z(["text-[8px] sm:text-xs",T.status===1?"text-green-600":"text-yellow-600"])},n(T.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),t(e(le),{value:"matching",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusMatchings.length===0?(r(),f("div",Ud," Belum ada bonus team affiliate commission ")):(r(),f("div",Kd,[(r(!0),f(q,null,te(l.bonusMatchings,T=>(r(),f("div",{key:T.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[s("div",Fd,[s("div",Nd,[t(e(V),{variant:T.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(n(T.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t(e(V),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(" L"+n(T.level),1)]),_:2},1024),s("span",Od,n(T.description||"Bonus Matching"),1)]),s("p",zd,[T.from_member?(r(),f("span",qd," Dari: "+n(T.from_member.name),1)):k("",!0),s("span",Gd,n(m(T.created_at)),1)])]),s("div",Qd,[s("div",Wd,n(p(T.amount)),1),s("div",{class:Z(["text-[8px] sm:text-xs",T.status===1?"text-green-600":"text-yellow-600"])},n(T.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),t(e(le),{value:"pairing",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusPairings.length===0?(r(),f("div",Hd," Belum ada bonus partner team commission ")):(r(),f("div",Jd,[(r(!0),f(q,null,te(l.bonusPairings,T=>(r(),f("div",{key:T.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[s("div",Zd,[s("div",Yd,[t(e(V),{variant:T.status===1?"secondary":"outline",class:"text-xs"},{default:a(()=>[i(n(T.status===1?"Released":"Pending"),1)]),_:2},1032,["variant"]),t(e(V),{variant:"outline",class:"text-xs"},{default:a(()=>[i(n(T.pair)+" Pairs ",1)]),_:2},1024),s("span",Xd,n(T.description||"Bonus Pairing"),1)]),s("p",eu,n(m(T.created_at)),1)]),s("div",tu,[s("div",su,n(p(T.amount)),1),s("div",{class:Z(["text-[8px] sm:text-xs",T.status===1?"text-green-600":"text-yellow-600"])},n(T.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),t(e(le),{value:"cashback",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusCashbacks.length===0?(r(),f("div",au," Belum ada bonus cashback commission ")):(r(),f("div",lu,[(r(!0),f(q,null,te(l.bonusCashbacks,T=>(r(),f("div",{key:T.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[s("div",nu,[s("div",ru,[t(e(V),{variant:T.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(n(T.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s("span",ou,n(T.description||"Bonus Cashback"),1)]),s("p",iu,[R[18]||(R[18]=i('eground mt-0.5"> ',-1)),T.order_id?(r(),f("span",du," #"+n(T.order_id),1)):k("",!0),s("span",uu,n(m(T.created_at)),1)])]),s("div",mu,[s("div",cu,n(p(T.amount)),1),s("div",{class:Z(["text-[8px] sm:text-xs",T.status===1?"text-green-600":"text-yellow-600"])},n(T.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),t(e(le),{value:"reward",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRewards.length===0?(r(),f("div",pu," Belum ada promotions rewards ")):(r(),f("div",fu,[(r(!0),f(q,null,te(l.bonusRewards,T=>(r(),f("div",{key:T.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[s("div",xu,[s("div",gu,[t(e(V),{variant:T.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(n(T.status===1?"R":"P"),1)]),_:2},1032,["variant"]),T.reward_type?(r(),$(e(V),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(n(T.reward_type),1)]),_:2},1024)):k("",!0),s("span",vu,n(T.description||"Promotions Reward"),1)]),s("p",yu,n(m(T.created_at)),1)]),s("div",bu,[s("div",_u,n(p(T.amount)),1),s("div",{class:Z(["text-[8px] sm:text-xs",T.status===1?"text-green-600":"text-yellow-600"])},n(T.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),t(e(le),{value:"retail",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRetails.length===0?(r(),f("div",hu," Belum ada bonus retail commission ")):(r(),f("div",ku,[(r(!0),f(q,null,te(l.bonusRetails,T=>(r(),f("div",{key:T.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[s("div",wu,[s("div",$u,[t(e(V),{variant:T.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(n(T.status===1?"R":"P"),1)]),_:2},1032,["variant"]),T.index_value?(r(),$(e(V),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(" IDX: "+n(T.index_value),1)]),_:2},1024)):k("",!0),s("span",Pu,n(T.description||"Retail Commission"),1)]),s("p",Su,[T.from_member?(r(),f("span",Cu," Dari: "+n(T.from_member.name),1)):k("",!0),s("span",Ru,n(m(T.created_at)),1)])]),s("div",Tu,[s("div",Du,n(p(T.amount)),1),s("div",{class:Z(["text-[8px] sm:text-xs",T.status===1?"text-green-600":"text-yellow-600"])},n(T.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),t(e(le),{value:"lifetime",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusLifetimeCashRewards.length===0?(r(),f("div",ju," Belum ada lifetime cash rewards ")):(r(),f("div",Mu,[(r(!0),f(q,null,te(l.bonusLifetimeCashRewards,T=>(r(),f("div",{key:T.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[s("div",Au,[s("div",Lu,[t(e(V),{variant:T.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(n(T.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t(e(V),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[i(n(T.reward_name),1)]),_:2},1024),s("span",Bu,n(T.description||"Lifetime Cash Reward"),1)]),s("p",Vu,[s("span",Iu," Reward: "+n(p(T.reward))+" | BV: "+n(T.bv),1),s("span",Eu,n(m(T.created_at)),1)])]),s("div",Uu,[s("div",Ku,n(p(T.amount)),1),s("div",{class:Z(["text-[8px] sm:text-xs",T.status===1?"text-green-600":"text-yellow-600"])},n(T.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Nu={class:"flex items-center justify-between"},Ou={class:"font-semibold"},zu={class:"flex items-center justify-between"},qu={class:"font-semibold"},Gu={class:"flex items-center justify-between"},Qu={class:"flex items-center justify-between"},Wu={class:"font-semibold text-blue-600 dark:text-blue-400"},Hu={class:"flex items-center justify-between"},Ju={class:"font-semibold text-green-600 dark:text-green-400"},Zu={class:"flex items-center justify-between"},Yu={class:"font-semibold text-blue-600 dark:text-blue-400"},Xu={class:"flex items-center justify-between"},em={class:"font-semibold text-green-600 dark:text-green-400"},tm=Y({__name:"NetworkStatsCard",props:{customer:{}},setup(l){const d=p=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(p);return(p,m)=>(r(),$(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(H),{class:"flex items-center gap-2"},{default:a(()=>[t(e(Lt),{class:"w-5 h-5"}),m[0]||(m[0]=i(" Statistik Jaringan ",-1))]),_:1})]),_:1}),t(e(z),{class:"space-y-3"},{default:a(()=>[s("div",Nu,[m[1]||(m[1]=s("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kiri",-1)),s("span",Ou,n(l.customer.network_stats.left_count),1)]),t(e(oe)),s("div",zu,[m[2]||(m[2]=s("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kanan",-1)),s("span",qu,n(l.customer.network_stats.right_count),1)]),t(e(oe)),s("div",Gu,[m[3]||(m[3]=s("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Downline",-1)),t(e(V),{variant:"secondary"},{default:a(()=>[i(n(l.customer.network_stats.total_downlines),1)]),_:1})]),t(e(oe)),s("div",Qu,[m[4]||(m[4]=s("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Network Builder Kiri",-1)),s("span",Wu,n(d(l.customer.network_stats.omzet_group_left_plana)),1)]),t(e(oe)),s("div",Hu,[m[5]||(m[5]=s("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Network Builder Kanan",-1)),s("span",Ju,n(d(l.customer.network_stats.omzet_group_right_plana)),1)]),t(e(oe)),s("div",Zu,[m[6]||(m[6]=s("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Retail Kiri",-1)),s("span",Yu,n(d(l.customer.network_stats.omzet_group_left_planb)),1)]),t(e(oe)),s("div",Xu,[m[7]||(m[7]=s("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Omset Retail Kanan",-1)),s("span",em,n(d(l.customer.network_stats.omzet_group_right_planb)),1)])]),_:1})]),_:1}))}}),sm={class:"space-y-6"},am={class:"flex items-center gap-3"},lm={class:"p-2 rounded-lg bg-amber-500/10"},nm={key:0,class:"text-center py-8"},rm={key:1,class:"overflow-x-auto"},om={class:"flex items-center gap-2"},im={class:"flex items-center gap-3"},dm={class:"p-2 rounded-lg bg-green-500/10"},um={key:0,class:"text-center py-8"},mm={key:1,class:"overflow-x-auto"},cm={class:"flex items-center gap-2"},pm=Y({__name:"PromotionsRewardsTab",props:{promotionRewards:{},claimedPromotionRewards:{}},setup(l){const d=u=>new Intl.NumberFormat("id-ID").format(u),p=u=>new Date(u).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),m=u=>u===null||u===0?"Belum Tercapai":"Diproses",h=u=>u===null||u===0?"secondary":"default";return(u,o)=>(r(),f("div",sm,[t(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[s("div",am,[s("div",lm,[t(e(Ie),{class:"h-5 w-5 text-amber-500"})]),s("div",null,[t(e(H),{class:"text-lg"},{default:a(()=>[...o[0]||(o[0]=[i("Promotion Rewards",-1)])]),_:1}),t(e(de),null,{default:a(()=>[...o[1]||(o[1]=[i(" Daftar reward promosi yang sedang berlangsung ",-1)])]),_:1})])])]),_:1}),t(e(z),null,{default:a(()=>[l.promotionRewards.length===0?(r(),f("div",nm,[t(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),o[2]||(o[2]=s("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Promosi",-1)),o[3]||(o[3]=s("p",{class:"text-muted-foreground text-sm"}," Tidak ada program reward promosi yang sedang aktif saat ini. ",-1))])):(r(),f("div",rm,[t(e(Je),null,{default:a(()=>[t(e(Ze),null,{default:a(()=>[t(e(Ce),null,{default:a(()=>[t(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...o[4]||(o[4]=[i("Nama",-1)])]),_:1}),t(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...o[5]||(o[5]=[i("Reward",-1)])]),_:1}),t(e(ne),{class:"text-right min-w-[150px]"},{default:a(()=>[...o[6]||(o[6]=[i("Syarat Omset Grup Kiri (BV)",-1)])]),_:1}),t(e(ne),{class:"text-right min-w-[150px]"},{default:a(()=>[...o[7]||(o[7]=[i("Syarat Omset Grup Kanan (BV)",-1)])]),_:1}),t(e(ne),{class:"min-w-[120px]"},{default:a(()=>[...o[8]||(o[8]=[i("Periode Awal",-1)])]),_:1}),t(e(ne),{class:"min-w-[120px]"},{default:a(()=>[...o[9]||(o[9]=[i("Periode Akhir",-1)])]),_:1}),t(e(ne),{class:"text-center min-w-[120px]"},{default:a(()=>[...o[10]||(o[10]=[i("Status",-1)])]),_:1})]),_:1})]),_:1}),t(e(Ye),null,{default:a(()=>[(r(!0),f(q,null,te(l.promotionRewards,x=>(r(),$(e(Ce),{key:x.id},{default:a(()=>[t(e(re),{class:"font-medium"},{default:a(()=>[s("div",om,[t(e(Bt),{class:"h-4 w-4 text-amber-500"}),i(" "+n(x.name),1)])]),_:2},1024),t(e(re),null,{default:a(()=>[i(n(x.reward),1)]),_:2},1024),t(e(re),{class:"text-right font-mono"},{default:a(()=>[i(n(d(x.bv)),1)]),_:2},1024),t(e(re),{class:"text-right font-mono"},{default:a(()=>[i(n(d(x.bv)),1)]),_:2},1024),t(e(re),null,{default:a(()=>[i(n(p(x.start)),1)]),_:2},1024),t(e(re),null,{default:a(()=>[i(n(p(x.end)),1)]),_:2},1024),t(e(re),{class:"text-center"},{default:a(()=>[t(e(V),{variant:h(x.claim_status)},{default:a(()=>[x.claim_status===1?(r(),$(e(Qe),{key:0,class:"h-3 w-3 mr-1"})):k("",!0),i(" "+n(m(x.claim_status)),1)]),_:2},1032,["variant"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[s("div",im,[s("div",dm,[t(e(xe),{class:"h-5 w-5 text-green-500"})]),s("div",null,[t(e(H),{class:"text-lg"},{default:a(()=>[...o[11]||(o[11]=[i("Reward yang Sudah Diklaim",-1)])]),_:1}),t(e(de),null,{default:a(()=>[...o[12]||(o[12]=[i(" Daftar reward promosi yang sudah berhasil Anda klaim ",-1)])]),_:1})])])]),_:1}),t(e(z),null,{default:a(()=>[l.claimedPromotionRewards.length===0?(r(),f("div",um,[t(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),o[13]||(o[13]=s("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Diklaim",-1)),o[14]||(o[14]=s("p",{class:"text-muted-foreground text-sm"}," Anda belum memiliki reward promosi yang telah diklaim. ",-1))])):(r(),f("div",mm,[t(e(Je),null,{default:a(()=>[t(e(Ze),null,{default:a(()=>[t(e(Ce),null,{default:a(()=>[t(e(ne),{class:"min-w-[200px]"},{default:a(()=>[...o[15]||(o[15]=[i("Reward",-1)])]),_:1}),t(e(ne),{class:"text-right min-w-[180px]"},{default:a(()=>[...o[16]||(o[16]=[i("Syarat Omset Group (BV)",-1)])]),_:1}),t(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...o[17]||(o[17]=[i("Tanggal Klaim",-1)])]),_:1})]),_:1})]),_:1}),t(e(Ye),null,{default:a(()=>[(r(!0),f(q,null,te(l.claimedPromotionRewards,x=>(r(),$(e(Ce),{key:x.id},{default:a(()=>[t(e(re),{class:"font-medium"},{default:a(()=>[s("div",cm,[t(e(ye),{class:"h-4 w-4 text-green-500"}),i(" "+n(x.reward),1)])]),_:2},1024),t(e(re),{class:"text-right font-mono"},{default:a(()=>[i(n(d(x.bv)),1)]),_:2},1024),t(e(re),null,{default:a(()=>[i(n(p(x.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})]))}}),fm={class:"space-y-6"},xm={class:"flex items-center gap-3"},gm={class:"p-2 rounded-lg bg-purple-500/10"},vm={key:0,class:"text-center py-8"},ym={key:1,class:"overflow-x-auto"},bm={class:"flex items-center gap-2"},_m={class:"flex items-center gap-3"},hm={class:"p-2 rounded-lg bg-green-500/10"},km={key:0,class:"text-center py-8"},wm={key:1,class:"overflow-x-auto"},$m={class:"flex items-center gap-2"},Pm=Y({__name:"LifetimeCashRewardsTab",props:{lifetimeRewards:{},claimedLifetimeRewards:{}},setup(l){const d=u=>new Intl.NumberFormat("id-ID").format(u),p=u=>new Date(u).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),m=Se({reward_id:0}),h=u=>{m.reward_id=u,m.post(ve.url(),{preserveScroll:!0,onSuccess:()=>{m.reset()}})};return(u,o)=>(r(),f("div",fm,[t(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[s("div",xm,[s("div",gm,[t(e(Ie),{class:"h-5 w-5 text-purple-500"})]),s("div",null,[t(e(H),{class:"text-lg"},{default:a(()=>[...o[0]||(o[0]=[i("Lifetime Cash Rewards",-1)])]),_:1}),t(e(de),null,{default:a(()=>[...o[1]||(o[1]=[i(" Daftar reward lifetime berdasarkan pencapaian omset grup Anda ",-1)])]),_:1})])])]),_:1}),t(e(z),null,{default:a(()=>[l.lifetimeRewards.length===0?(r(),f("div",vm,[t(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),o[2]||(o[2]=s("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Lifetime",-1)),o[3]||(o[3]=s("p",{class:"text-muted-foreground text-sm"}," Tidak ada program reward lifetime yang tersedia saat ini. ",-1))])):(r(),f("div",ym,[t(e(Je),null,{default:a(()=>[t(e(Ze),null,{default:a(()=>[t(e(Ce),null,{default:a(()=>[t(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...o[4]||(o[4]=[i("Nama",-1)])]),_:1}),t(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...o[5]||(o[5]=[i("Reward",-1)])]),_:1}),t(e(ne),{class:"text-right min-w-[150px]"},{default:a(()=>[...o[6]||(o[6]=[i("Syarat Omset Grup Kiri (BV)",-1)])]),_:1}),t(e(ne),{class:"text-right min-w-[150px]"},{default:a(()=>[...o[7]||(o[7]=[i("Syarat Omset Grup Kanan (BV)",-1)])]),_:1}),t(e(ne),{class:"text-center min-w-[120px]"},{default:a(()=>[...o[8]||(o[8]=[i("Klaim",-1)])]),_:1})]),_:1})]),_:1}),t(e(Ye),null,{default:a(()=>[(r(!0),f(q,null,te(l.lifetimeRewards,x=>(r(),$(e(Ce),{key:x.id},{default:a(()=>[t(e(re),{class:"font-medium"},{default:a(()=>[s("div",bm,[t(e(Bt),{class:"h-4 w-4 text-purple-500"}),i(" "+n(x.name),1)])]),_:2},1024),t(e(re),null,{default:a(()=>[i(n(x.reward),1)]),_:2},1024),t(e(re),{class:"text-right font-mono"},{default:a(()=>[i(n(d(x.bv)),1)]),_:2},1024),t(e(re),{class:"text-right font-mono"},{default:a(()=>[i(n(d(x.bv)),1)]),_:2},1024),t(e(re),{class:"text-center"},{default:a(()=>[x.is_claimed?(r(),$(e(V),{key:0,variant:"secondary"},{default:a(()=>[t(e(xe),{class:"h-3 w-3 mr-1"}),o[9]||(o[9]=i(" Sudah Diklaim ",-1))]),_:1})):x.can_claim?(r(),$(e(U),{key:1,size:"sm",disabled:e(m).processing&&e(m).reward_id===x.id,onClick:M=>h(x.id)},{default:a(()=>[e(m).processing&&e(m).reward_id===x.id?(r(),$(e(Te),{key:0,class:"h-4 w-4 mr-1 animate-spin"})):(r(),$(e(ye),{key:1,class:"h-4 w-4 mr-1"})),o[10]||(o[10]=i(" Klaim ",-1))]),_:2},1032,["disabled","onClick"])):(r(),$(e(V),{key:2,variant:"outline"},{default:a(()=>[...o[11]||(o[11]=[i(" Belum Memenuhi Syarat ",-1)])]),_:1}))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(W),null,{default:a(()=>[s("div",_m,[s("div",hm,[t(e(xe),{class:"h-5 w-5 text-green-500"})]),s("div",null,[t(e(H),{class:"text-lg"},{default:a(()=>[...o[12]||(o[12]=[i("Reward yang Sudah Diklaim",-1)])]),_:1}),t(e(de),null,{default:a(()=>[...o[13]||(o[13]=[i(" Daftar reward lifetime yang sudah berhasil Anda klaim ",-1)])]),_:1})])])]),_:1}),t(e(z),null,{default:a(()=>[l.claimedLifetimeRewards.length===0?(r(),f("div",km,[t(e(ye),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),o[14]||(o[14]=s("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Reward Diklaim",-1)),o[15]||(o[15]=s("p",{class:"text-muted-foreground text-sm"}," Anda belum memiliki reward lifetime yang telah diklaim. ",-1))])):(r(),f("div",wm,[t(e(Je),null,{default:a(()=>[t(e(Ze),null,{default:a(()=>[t(e(Ce),null,{default:a(()=>[t(e(ne),{class:"min-w-[200px]"},{default:a(()=>[...o[16]||(o[16]=[i("Reward",-1)])]),_:1}),t(e(ne),{class:"text-right min-w-[180px]"},{default:a(()=>[...o[17]||(o[17]=[i("Syarat Omset Group (BV)",-1)])]),_:1}),t(e(ne),{class:"min-w-[150px]"},{default:a(()=>[...o[18]||(o[18]=[i("Tanggal Klaim",-1)])]),_:1})]),_:1})]),_:1}),t(e(Ye),null,{default:a(()=>[(r(!0),f(q,null,te(l.claimedLifetimeRewards,x=>(r(),$(e(Ce),{key:x.id},{default:a(()=>[t(e(re),{class:"font-medium"},{default:a(()=>[s("div",$m,[t(e(ye),{class:"h-4 w-4 text-green-500"}),i(" "+n(x.reward),1)])]),_:2},1024),t(e(re),{class:"text-right font-mono"},{default:a(()=>[i(n(d(x.bv)),1)]),_:2},1024),t(e(re),null,{default:a(()=>[i(n(p(x.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})]))}}),Sm={class:"bg-gradient-to-br from-primary/10 via-primary/5 to-background border-b"},Cm={class:"container mx-auto px-3 py-6 sm:px-4 sm:py-12 max-w-7xl"},Rm={class:"flex items-center justify-between"},Tm={class:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-background/80 backdrop-blur-sm border shadow-sm"},Dm={class:"font-semibold"},jm={class:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-7xl"},Mm={class:"grid gap-4 sm:gap-6 lg:grid-cols-3"},Am={class:"lg:col-span-1 space-y-4 sm:space-y-6"},Lm={class:"lg:col-span-2"},Bm={class:"rounded-xl border bg-card overflow-hidden"},Vm={class:"border-b bg-muted/30"},Im={class:"overflow-x-auto text-center overflow-y-hidden px-1.5 py-1.5 sm:px-2 sm:py-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},Em={class:"p-3 sm:p-4 md:p-6"},Um={key:1,class:"text-center py-12"},mc=Y({__name:"Index",props:{customer:{},orders:{},walletTransactions:{},activeMembers:{},passiveMembers:{},prospectMembers:{},binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{},addresses:{},promotionRewards:{},claimedPromotionRewards:{},lifetimeRewards:{},claimedLifetimeRewards:{}},setup(l){const d=l,p=bt(),m=F(()=>Number(d.customer.status)===3),h=F(()=>{if(typeof window>"u")return"profile";const u=p.url;try{return new URL(u,window.location.origin).searchParams.get("tab")||"profile"}catch{return"profile"}});return(u,o)=>(r(),$(es,null,{default:a(()=>[t(e(Ss),{title:"Profile Saya"}),s("div",Sm,[s("div",Cm,[s("div",Rm,[o[0]||(o[0]=s("div",null,[s("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-2"},"Profile Saya"),s("p",{class:"text-sm sm:text-base md:text-lg text-muted-foreground"}," Kelola informasi profil dan keamanan akun Anda ")],-1)),s("div",Tm,[t(e(ut),{class:"w-5 h-5 text-primary"}),s("span",Dm,n(l.customer.name),1)])])])]),s("div",jm,[s("div",Mm,[s("div",Am,[t(Ys,{customer:l.customer},null,8,["customer"]),m.value?(r(),$(tm,{key:0,customer:l.customer},null,8,["customer"])):k("",!0),t(Ma,{addresses:l.addresses},null,8,["addresses"]),m.value?(r(),$(Ia,{key:1,customer:l.customer},null,8,["customer"])):k("",!0),t(Fa,{"created-at":l.customer.created_at},null,8,["created-at"])]),s("div",Lm,[s("div",Bm,[t(e(vt),{"default-value":h.value,class:"w-full"},{default:a(()=>[s("div",Vm,[s("div",Im,[t(e(yt),{class:"inline-flex h-auto w-max bg-transparent gap-1 sm:gap-1.5 p-0"},{default:a(()=>[t(e(ae),{value:"profile",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[t(e(ut),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),o[1]||(o[1]=s("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Info",-1))]),_:1}),t(e(ae),{value:"orders",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[t(e(Be),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),o[2]||(o[2]=s("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Order",-1))]),_:1}),m.value?(r(),$(e(ae),{key:0,value:"network",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[t(e(Lt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),o[3]||(o[3]=s("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Mitra",-1))]),_:1})):k("",!0),m.value?(r(),$(e(ae),{key:1,value:"binary",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[t(e(Le),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),o[4]||(o[4]=s("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Network",-1))]),_:1})):k("",!0),m.value?(r(),$(e(ae),{key:2,value:"bonus",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[t(e(ye),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),o[5]||(o[5]=s("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Bonus",-1))]),_:1})):k("",!0),m.value?(r(),$(e(ae),{key:3,value:"promotions",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[t(e(Cs),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),o[6]||(o[6]=s("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Promo",-1))]),_:1})):k("",!0),m.value?(r(),$(e(ae),{key:4,value:"lifetime",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[t(e(Ie),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),o[7]||(o[7]=s("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lifetime",-1))]),_:1})):k("",!0),t(e(ae),{value:"wallet",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[t(e(Ae),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),o[8]||(o[8]=s("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Wallet",-1))]),_:1}),t(e(ae),{value:"security",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[t(e(mt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),o[9]||(o[9]=s("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lock",-1))]),_:1}),t(e(ae),{value:"danger",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[t(e(De),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),o[10]||(o[10]=s("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Del",-1))]),_:1})]),_:1})])]),s("div",Em,[t(e(le),{value:"profile",class:"mt-0"},{default:a(()=>[t(cl,{customer:l.customer},null,8,["customer"])]),_:1}),t(e(le),{value:"orders",class:"mt-0"},{default:a(()=>[t(Yn,{orders:l.orders},null,8,["orders"])]),_:1}),m.value?(r(),$(e(le),{key:0,value:"network",class:"mt-0"},{default:a(()=>[t(vi,{"active-members":l.activeMembers,"passive-members":l.passiveMembers,"prospect-members":l.prospectMembers,"has-left":!!l.binaryTree?.left,"has-right":!!l.binaryTree?.right},null,8,["active-members","passive-members","prospect-members","has-left","has-right"])]),_:1})):k("",!0),m.value?(r(),$(e(le),{key:1,value:"binary",class:"mt-0"},{default:a(()=>[l.binaryTree?(r(),$(ad,{key:0,"binary-tree":l.binaryTree,"total-downlines":l.totalDownlines,"total-left":l.totalLeft,"total-right":l.totalRight,"passive-members":l.passiveMembers},null,8,["binary-tree","total-downlines","total-left","total-right","passive-members"])):(r(),f("div",Um,[t(e(Le),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),o[11]||(o[11]=s("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Jaringan Binary",-1)),o[12]||(o[12]=s("p",{class:"text-muted-foreground"}," Anda belum memiliki posisi dalam jaringan binary tree MLM. ",-1))]))]),_:1})):k("",!0),m.value?(r(),$(e(le),{key:2,value:"bonus",class:"mt-0"},{default:a(()=>[t(Fu,{"bonus-sponsors":l.bonusSponsors,"bonus-matchings":l.bonusMatchings,"bonus-pairings":l.bonusPairings,"bonus-cashbacks":l.bonusCashbacks,"bonus-rewards":l.bonusRewards,"bonus-retails":l.bonusRetails,"bonus-lifetime-cash-rewards":l.bonusLifetimeCashRewards},null,8,["bonus-sponsors","bonus-matchings","bonus-pairings","bonus-cashbacks","bonus-rewards","bonus-retails","bonus-lifetime-cash-rewards"])]),_:1})):k("",!0),m.value?(r(),$(e(le),{key:3,value:"promotions",class:"mt-0"},{default:a(()=>[t(pm,{"promotion-rewards":l.promotionRewards,"claimed-promotion-rewards":l.claimedPromotionRewards},null,8,["promotion-rewards","claimed-promotion-rewards"])]),_:1})):k("",!0),m.value?(r(),$(e(le),{key:4,value:"lifetime",class:"mt-0"},{default:a(()=>[t(Pm,{"lifetime-rewards":l.lifetimeRewards,"claimed-lifetime-rewards":l.claimedLifetimeRewards},null,8,["lifetime-rewards","claimed-lifetime-rewards"])]),_:1})):k("",!0),t(e(le),{value:"wallet",class:"mt-0"},{default:a(()=>[t(lo,{customer:l.customer,transactions:l.walletTransactions},null,8,["customer","transactions"])]),_:1}),t(e(le),{value:"security",class:"mt-0"},{default:a(()=>[t(xo)]),_:1}),t(e(le),{value:"danger",class:"mt-0"},{default:a(()=>[t(bo)]),_:1})])]),_:1},8,["default-value"])])])])])]),_:1}))}});export{mc as default};
