import{d as L,r as m,c as d,g as r,w as a,e as i,b as l,t as S,u as e,s,Y as M,Z as q,P as G,v as D,F as J,x as O,K as o,$ as Q,z as Y,j as T,Q as z}from"./vendor-FclwbLvj.js";import{_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-DZrLECOS.js";import{_ as R,a as W}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as X}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as c}from"./index-B4cH97KR.js";import{_ as ee}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as h}from"./index-CRPqrtU2.js";import{_ as te,a as ae,b as F,c as k,d as le,e as $}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import{_ as K,a as N,b as U,c as E,d as _}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import{_ as se,a as ie,b as ne,c as ue,d as re,e as de,f as oe,g as fe}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D_xJ4jwR.js";import{u as me}from"./usePermissions-DzkwVpfD.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-B_n2dl-_.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const _e={class:"container mx-auto py-6 space-y-6"},ve={class:"flex items-center justify-between"},pe={href:"/admin/articles/create"},ge={class:"flex flex-col md:flex-row gap-4"},ce={class:"flex-1"},ke={class:"relative"},$e={class:"flex gap-2"},xe={class:"font-medium"},ye={class:"text-sm text-muted-foreground"},be={class:"flex justify-end gap-2"},Se=["href"],we={key:1,class:"py-12 text-center"},Ve={key:2,class:"mt-6 flex items-center justify-between"},Ae={class:"text-sm text-muted-foreground"},De={class:"flex gap-2"},Oe=L({__name:"Index",props:{articles:{},filters:{}},setup(u){const{isSuperAdmin:w,isAdmin:V}=me(),g=u,x=m(g.filters.search||""),v=m(g.filters.status||"all"),C=m(g.filters.sort_by),j=m(g.filters.sort_order),y=m(g.filters.per_page),p=m(null),b=m(!1),A=()=>{T.get("/admin/articles",{search:x.value||void 0,status:v.value!=="all"?v.value:void 0,sort_by:C.value,sort_order:j.value,per_page:y.value},{preserveState:!0,preserveScroll:!0})},H=f=>{p.value=f},I=()=>{p.value&&(b.value=!0,T.delete(`/admin/articles/${p.value}`,{onSuccess:()=>{z.success("Artikel berhasil dihapus"),p.value=null},onError:()=>{z.error("Gagal menghapus artikel")},onFinish:()=>{b.value=!1}}))},P=f=>f?new Date(f).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",B=f=>{T.get("/admin/articles",{page:f,search:x.value||void 0,status:v.value!=="all"?v.value:void 0,sort_by:C.value,sort_order:j.value,per_page:y.value},{preserveState:!0,preserveScroll:!0})};return(f,t)=>(r(),d(Z,null,{default:a(()=>[i("div",_e,[i("div",ve,[t[7]||(t[7]=i("div",null,[i("h1",{class:"text-3xl font-bold tracking-tight"},"Artikel"),i("p",{class:"text-muted-foreground"}," Kelola semua artikel dan konten blog ")],-1)),e(w)||e(V)?(r(),d(e(c),{key:0,"as-child":""},{default:a(()=>[i("a",pe,[l(e(M),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=s(" Tambah Artikel ",-1))])]),_:1})):S("",!0)]),l(e(R),null,{default:a(()=>[l(e(X),null,{default:a(()=>[i("div",ge,[i("div",ce,[i("div",ke,[l(e(q),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l(e(ee),{modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=n=>x.value=n),placeholder:"Cari artikel...",class:"pl-10",onKeyup:G(A,["enter"])},null,8,["modelValue"])])]),i("div",$e,[l(e(K),{modelValue:v.value,"onUpdate:modelValue":[t[1]||(t[1]=n=>v.value=n),A]},{default:a(()=>[l(e(N),{class:"w-[140px]"},{default:a(()=>[l(e(U),{placeholder:"Status"})]),_:1}),l(e(E),null,{default:a(()=>[l(e(_),{value:"all"},{default:a(()=>[...t[8]||(t[8]=[s("Semua",-1)])]),_:1}),l(e(_),{value:"published"},{default:a(()=>[...t[9]||(t[9]=[s("Terbit",-1)])]),_:1}),l(e(_),{value:"draft"},{default:a(()=>[...t[10]||(t[10]=[s("Draft",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(e(K),{modelValue:y.value,"onUpdate:modelValue":[t[2]||(t[2]=n=>y.value=n),A]},{default:a(()=>[l(e(N),{class:"w-[100px]"},{default:a(()=>[l(e(U),{placeholder:"Per halaman"})]),_:1}),l(e(E),null,{default:a(()=>[l(e(_),{value:"10"},{default:a(()=>[...t[11]||(t[11]=[s("10",-1)])]),_:1}),l(e(_),{value:"25"},{default:a(()=>[...t[12]||(t[12]=[s("25",-1)])]),_:1}),l(e(_),{value:"50"},{default:a(()=>[...t[13]||(t[13]=[s("50",-1)])]),_:1}),l(e(_),{value:"100"},{default:a(()=>[...t[14]||(t[14]=[s("100",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),l(e(W),null,{default:a(()=>[u.articles.data.length>0?(r(),d(e(te),{key:0},{default:a(()=>[l(e(ae),null,{default:a(()=>[l(e(F),null,{default:a(()=>[l(e(k),null,{default:a(()=>[...t[15]||(t[15]=[s("Judul",-1)])]),_:1}),l(e(k),null,{default:a(()=>[...t[16]||(t[16]=[s("Status",-1)])]),_:1}),l(e(k),null,{default:a(()=>[...t[17]||(t[17]=[s("Tanggal Terbit",-1)])]),_:1}),l(e(k),null,{default:a(()=>[...t[18]||(t[18]=[s("Dibuat",-1)])]),_:1}),l(e(k),{class:"text-right"},{default:a(()=>[...t[19]||(t[19]=[s("Aksi",-1)])]),_:1})]),_:1})]),_:1}),l(e(le),null,{default:a(()=>[(r(!0),D(J,null,O(u.articles.data,n=>(r(),d(e(F),{key:n.id},{default:a(()=>[l(e($),null,{default:a(()=>[i("div",null,[i("p",xe,o(n.title),1),i("p",ye,o(n.slug),1)])]),_:2},1024),l(e($),null,{default:a(()=>[n.is_published?(r(),d(e(h),{key:0,variant:"default"},{default:a(()=>[...t[20]||(t[20]=[s(" Terbit ",-1)])]),_:1})):(r(),d(e(h),{key:1,variant:"secondary"},{default:a(()=>[...t[21]||(t[21]=[s(" Draft ",-1)])]),_:1}))]),_:2},1024),l(e($),null,{default:a(()=>[s(o(P(n.published_at)),1)]),_:2},1024),l(e($),null,{default:a(()=>[s(o(P(n.created_at)),1)]),_:2},1024),l(e($),{class:"text-right"},{default:a(()=>[i("div",be,[e(w)||e(V)?(r(),d(e(c),{key:0,"as-child":"",variant:"ghost",size:"icon"},{default:a(()=>[i("a",{href:`/admin/articles/${n.id}/edit`},[l(e(Q),{class:"h-4 w-4"})],8,Se)]),_:2},1024)):S("",!0),e(w)||e(V)?(r(),d(e(c),{key:1,variant:"ghost",size:"icon",onClick:Te=>H(n.id)},{default:a(()=>[l(e(Y),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])):S("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(r(),D("div",we,[...t[22]||(t[22]=[i("p",{class:"text-muted-foreground"},"Tidak ada artikel ditemukan",-1)])])),u.articles.last_page>1?(r(),D("div",Ve,[i("p",Ae," Menampilkan "+o(u.articles.from)+" - "+o(u.articles.to)+" dari "+o(u.articles.total)+" artikel ",1),i("div",De,[l(e(c),{variant:"outline",size:"sm",disabled:u.articles.current_page===1,onClick:t[3]||(t[3]=n=>B(u.articles.current_page-1))},{default:a(()=>[...t[23]||(t[23]=[s(" Sebelumnya ",-1)])]),_:1},8,["disabled"]),l(e(c),{variant:"outline",size:"sm",disabled:u.articles.current_page===u.articles.last_page,onClick:t[4]||(t[4]=n=>B(u.articles.current_page+1))},{default:a(()=>[...t[24]||(t[24]=[s(" Selanjutnya ",-1)])]),_:1},8,["disabled"])])])):S("",!0)]),_:1})]),_:1})]),l(e(se),{open:p.value!==null,"onUpdate:open":t[5]||(t[5]=n=>p.value=null)},{default:a(()=>[l(e(ie),null,{default:a(()=>[l(e(ne),null,{default:a(()=>[l(e(ue),null,{default:a(()=>[...t[25]||(t[25]=[s("Hapus Artikel?",-1)])]),_:1}),l(e(re),null,{default:a(()=>[...t[26]||(t[26]=[s(" Artikel akan dipindahkan ke sampah dan dapat dipulihkan nanti. Apakah Anda yakin ingin melanjutkan? ",-1)])]),_:1})]),_:1}),l(e(de),null,{default:a(()=>[l(e(oe),null,{default:a(()=>[...t[27]||(t[27]=[s("Batal",-1)])]),_:1}),l(e(fe),{disabled:b.value,onClick:I},{default:a(()=>[s(o(b.value?"Menghapus...":"Hapus"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{Oe as default};
