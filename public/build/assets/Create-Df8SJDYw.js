import{d as v,r as m,v as b,g,b as t,u as o,$ as x,w as a,e as s,a2 as d,E as h,s as _,J as y,F as k,j as w,P as c}from"./vendor-DTOvI-mL.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-YhCYOJnL.js";import{_ as l}from"./index-D22QrCMB.js";import{_ as P}from"./PromotionForm.vue_vue_type_script_setup_true_lang-D9Rhh1TQ.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BMNk4ekC.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Dl-lb8Nw.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DuRk8pxL.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DLa7QEbp.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DpA8K8_j.js";import"./Input.vue_vue_type_script_setup_true_lang-sYWCYV49.js";import"./Label.vue_vue_type_script_setup_true_lang-Bkvht4jR.js";import"./Textarea.vue_vue_type_script_setup_true_lang-Dt0uRcWG.js";import"./CardContent.vue_vue_type_script_setup_true_lang-Bj2sOBs1.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-Dh4Au0Nv.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-Dnz_aDai.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-DNuWsNXR.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CBkKfeqw.js";const S={class:"rounded-xl p-4 space-y-6 py-6"},$={class:"flex items-center gap-4"},C={class:"max-w-4xl"},Q=v({__name:"Create",setup(E){const i=m({code:"",name:"",type:"discount",landing_slug:"",description:"",image:"",start_at:"",end_at:"",is_active:!0,priority:0,max_redemption:null,per_user_limit:null,conditions_json:"",show_on:"",page:""}),p=m({}),n=m(!1),f=()=>{n.value=!0,w.post("/admin/promotions",i.value,{preserveScroll:!0,onSuccess:()=>{c.success("Promosi berhasil ditambahkan")},onError:u=>{p.value=u,c.error("Gagal menambahkan promosi")},onFinish:()=>{n.value=!1}})};return(u,e)=>(g(),b(k,null,[t(o(x),{title:"Tambah Promosi"}),t(B,null,{default:a(()=>[s("div",S,[s("div",$,[t(o(d),{href:"/admin/promotions"},{default:a(()=>[t(o(l),{variant:"outline",size:"icon"},{default:a(()=>[t(o(h),{class:"h-4 w-4"})]),_:1})]),_:1}),e[1]||(e[1]=s("div",null,[s("h1",{class:"text-3xl font-bold"},"Tambah Promosi"),s("p",{class:"text-muted-foreground"},"Buat promosi atau diskon baru")],-1))]),s("div",C,[t(P,{"form-data":i.value,"onUpdate:formData":e[0]||(e[0]=r=>i.value=r),errors:p.value,processing:n.value,onSubmit:f},{actions:a(({processing:r})=>[t(o(d),{href:"/admin/promotions"},{default:a(()=>[t(o(l),{type:"button",variant:"outline"},{default:a(()=>[...e[2]||(e[2]=[_("Batal",-1)])]),_:1})]),_:1}),t(o(l),{type:"submit",disabled:r},{default:a(()=>[_(y(r?"Menyimpan...":"Simpan Promosi"),1)]),_:2},1032,["disabled"])]),_:1},8,["form-data","errors","processing"])])])]),_:1})],64))}});export{Q as default};
