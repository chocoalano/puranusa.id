import{d as b,r as x,D as h,p as l,v as k,g as F,b as t,u as r,a0 as S,w as o,e as i,a3 as d,G as w,s as u,K as y,F as D,Q as c}from"./vendor-BgSYH69o.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-BLQAiOgB.js";import{_ as m}from"./index-C6h2rSEx.js";import{_ as C}from"./CategoryForm.vue_vue_type_script_setup_true_lang-Cn_YwAwY.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-DU4k6tzW.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-BasOtxZI.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-C9WGGbb6.js";import"./index-DqFeuJ-n.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CKeFYOA5.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-sGxRETQ-.js";import"./Input.vue_vue_type_script_setup_true_lang-CucwjuSa.js";import"./Label.vue_vue_type_script_setup_true_lang-rNa1VbjU.js";import"./Textarea.vue_vue_type_script_setup_true_lang-8GCGPdxB.js";import"./CardContent.vue_vue_type_script_setup_true_lang-DMT_NDq0.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-BxkDfeDR.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-CGqIWGeD.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-DLaLEZPb.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CM9Iafca.js";const K={class:"rounded-xl p-4 space-y-6 py-6"},N={class:"flex items-center gap-4"},T={class:"max-w-4xl"},X=b({__name:"Create",props:{parentCategories:{}},setup(f){const e=x({parent_id:null,slug:"",name:"",description:"",sort_order:0,is_active:!0,image:null}),p=h({}),_=l(()=>p.errors),g=l(()=>p.processing),v=()=>{const a=new FormData;a.append("name",e.value.name),a.append("slug",e.value.slug),a.append("description",e.value.description||""),a.append("sort_order",String(e.value.sort_order)),a.append("is_active",e.value.is_active?"1":"0"),e.value.parent_id&&a.append("parent_id",String(e.value.parent_id)),e.value.image instanceof File&&a.append("image",e.value.image),p.transform(()=>a).post("/admin/categories",{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{c.success("Kategori berhasil ditambahkan")},onError:()=>{c.error("Gagal menambahkan kategori")}})};return(a,s)=>(F(),k(D,null,[t(r(S),{title:"Tambah Kategori"}),t(B,null,{default:o(()=>[i("div",K,[i("div",N,[t(r(d),{href:"/admin/categories"},{default:o(()=>[t(r(m),{variant:"outline",size:"icon"},{default:o(()=>[t(r(w),{class:"h-4 w-4"})]),_:1})]),_:1}),s[1]||(s[1]=i("div",null,[i("h1",{class:"text-3xl font-bold"},"Tambah Kategori"),i("p",{class:"text-muted-foreground"},"Buat kategori produk baru")],-1))]),i("div",T,[t(C,{"form-data":e.value,"onUpdate:formData":s[0]||(s[0]=n=>e.value=n),"parent-categories":f.parentCategories,errors:_.value,processing:g.value,onSubmit:v},{actions:o(({processing:n})=>[t(r(d),{href:"/admin/categories"},{default:o(()=>[t(r(m),{type:"button",variant:"outline"},{default:o(()=>[...s[2]||(s[2]=[u("Batal",-1)])]),_:1})]),_:1}),t(r(m),{type:"submit",disabled:n},{default:o(()=>[u(y(n?"Menyimpan...":"Simpan Kategori"),1)]),_:2},1032,["disabled"])]),_:1},8,["form-data","parent-categories","errors","processing"])])])]),_:1})],64))}});export{X as default};
