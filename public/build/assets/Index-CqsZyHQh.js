import{d as A,r as _,c as x,g as o,w as t,e as u,b as l,u as e,a4 as w,s,Y as L,Z as q,P as H,v as C,t as I,F as M,x as G,K as r,aq as J,$ as Q,z as R,j as B,D as Y,Q as D}from"./vendor-FclwbLvj.js";import{_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-ySs7Rre_.js";import{_ as O,a as W}from"./CardContent.vue_vue_type_script_setup_true_lang-LKEwQoWP.js";import{_ as X}from"./CardHeader.vue_vue_type_script_setup_true_lang-N3E9ALN1.js";import{_ as p}from"./index-B4cH97KR.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-ZVESK4JK.js";import{_ as z}from"./index-CRPqrtU2.js";import{_ as ee,a as ae,b as U,c as g,d as le,e as $}from"./TableHeader.vue_vue_type_script_setup_true_lang-BhZiDflO.js";import{_ as T,a as j,b as P,c as F,d}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqISnkMA.js";import{_ as te,a as se,b as ne,c as ue,d as ie,e as de,f as oe,g as re}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D_xJ4jwR.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-ByVucR83.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-9OZOAxj9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D90ORJgI.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ZLo4HemS.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DuXcz617.js";const fe={class:"container mx-auto py-6 space-y-6"},me={class:"flex items-center justify-between"},ve={class:"flex flex-col md:flex-row gap-4"},_e={class:"flex-1"},pe={class:"relative"},ge={class:"flex gap-2"},$e={class:"font-medium"},xe={class:"flex justify-end gap-2"},ke={key:1,class:"py-12 text-center"},be={key:2,class:"mt-6 flex items-center justify-between"},ye={class:"text-sm text-muted-foreground"},ce={class:"flex gap-2"},He=A({__name:"Index",props:{items:{},filters:{}},setup(i){const k=i,b=_(k.filters.search||""),f=_(k.filters.status||"all"),m=_(k.filters.type?.toString()||"all"),y=_(k.filters.per_page),v=_(null),c=_(!1),S=()=>{B.get("/admin/zenner/leaderboard-configs",{search:b.value||void 0,status:f.value!=="all"?f.value:void 0,type:m.value!=="all"?m.value:void 0,per_page:y.value},{preserveState:!0,preserveScroll:!0})},E=V=>{v.value=V},K=()=>{v.value&&(c.value=!0,Y({}).delete(`/admin/zenner/leaderboard-configs/${v.value}`,{preserveScroll:!0,onSuccess:()=>{D.success("Config berhasil dihapus"),v.value=null},onError:()=>D.error("Gagal menghapus data"),onFinish:()=>{c.value=!1}}))},N=V=>{B.get("/admin/zenner/leaderboard-configs",{page:V,search:b.value||void 0,status:f.value!=="all"?f.value:void 0,type:m.value!=="all"?m.value:void 0,per_page:y.value},{preserveState:!0,preserveScroll:!0})};return(V,a)=>(o(),x(Z,null,{default:t(()=>[u("div",fe,[u("div",me,[a[8]||(a[8]=u("div",null,[u("h1",{class:"text-3xl font-bold tracking-tight"},"Leaderboard Config"),u("p",{class:"text-muted-foreground"},"Kelola konfigurasi leaderboard")],-1)),l(e(p),{"as-child":""},{default:t(()=>[l(e(w),{href:"/admin/zenner/leaderboard-configs/create"},{default:t(()=>[l(e(L),{class:"mr-2 h-4 w-4"}),a[7]||(a[7]=s("Tambah Config",-1))]),_:1})]),_:1})]),l(e(O),null,{default:t(()=>[l(e(X),null,{default:t(()=>[u("div",ve,[u("div",_e,[u("div",pe,[l(e(q),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l(e(h),{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=n=>b.value=n),placeholder:"Cari config...",class:"pl-10",onKeyup:H(S,["enter"])},null,8,["modelValue"])])]),u("div",ge,[l(e(T),{modelValue:m.value,"onUpdate:modelValue":[a[1]||(a[1]=n=>m.value=n),S]},{default:t(()=>[l(e(j),{class:"w-[160px]"},{default:t(()=>[l(e(P),{placeholder:"Tipe"})]),_:1}),l(e(F),null,{default:t(()=>[l(e(d),{value:"all"},{default:t(()=>[...a[9]||(a[9]=[s("Semua Tipe",-1)])]),_:1}),l(e(d),{value:"sales"},{default:t(()=>[...a[10]||(a[10]=[s("Sales",-1)])]),_:1}),l(e(d),{value:"recruitment"},{default:t(()=>[...a[11]||(a[11]=[s("Recruitment",-1)])]),_:1}),l(e(d),{value:"performance"},{default:t(()=>[...a[12]||(a[12]=[s("Performance",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(e(T),{modelValue:f.value,"onUpdate:modelValue":[a[2]||(a[2]=n=>f.value=n),S]},{default:t(()=>[l(e(j),{class:"w-[140px]"},{default:t(()=>[l(e(P),{placeholder:"Status"})]),_:1}),l(e(F),null,{default:t(()=>[l(e(d),{value:"all"},{default:t(()=>[...a[13]||(a[13]=[s("Semua",-1)])]),_:1}),l(e(d),{value:"active"},{default:t(()=>[...a[14]||(a[14]=[s("Aktif",-1)])]),_:1}),l(e(d),{value:"inactive"},{default:t(()=>[...a[15]||(a[15]=[s("Nonaktif",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(e(T),{modelValue:y.value,"onUpdate:modelValue":[a[3]||(a[3]=n=>y.value=n),S]},{default:t(()=>[l(e(j),{class:"w-[100px]"},{default:t(()=>[l(e(P))]),_:1}),l(e(F),null,{default:t(()=>[l(e(d),{value:"10"},{default:t(()=>[...a[16]||(a[16]=[s("10",-1)])]),_:1}),l(e(d),{value:"25"},{default:t(()=>[...a[17]||(a[17]=[s("25",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),l(e(W),null,{default:t(()=>[i.items.data.length>0?(o(),x(e(ee),{key:0},{default:t(()=>[l(e(ae),null,{default:t(()=>[l(e(U),null,{default:t(()=>[l(e(g),null,{default:t(()=>[...a[18]||(a[18]=[s("Judul",-1)])]),_:1}),l(e(g),null,{default:t(()=>[...a[19]||(a[19]=[s("Tipe",-1)])]),_:1}),l(e(g),null,{default:t(()=>[...a[20]||(a[20]=[s("Periode",-1)])]),_:1}),l(e(g),null,{default:t(()=>[...a[21]||(a[21]=[s("Entries",-1)])]),_:1}),l(e(g),null,{default:t(()=>[...a[22]||(a[22]=[s("Status",-1)])]),_:1}),l(e(g),{class:"text-right"},{default:t(()=>[...a[23]||(a[23]=[s("Aksi",-1)])]),_:1})]),_:1})]),_:1}),l(e(le),null,{default:t(()=>[(o(!0),C(M,null,G(i.items.data,n=>(o(),x(e(U),{key:n.id},{default:t(()=>[l(e($),null,{default:t(()=>[u("p",$e,r(n.title),1)]),_:2},1024),l(e($),null,{default:t(()=>[l(e(z),{variant:"outline"},{default:t(()=>[s(r(n.type),1)]),_:2},1024)]),_:2},1024),l(e($),null,{default:t(()=>[s(r(n.period),1)]),_:2},1024),l(e($),null,{default:t(()=>[s(r(n.entries_count||0),1)]),_:2},1024),l(e($),null,{default:t(()=>[n.is_active?(o(),x(e(z),{key:0,variant:"default"},{default:t(()=>[...a[24]||(a[24]=[s("Aktif",-1)])]),_:1})):(o(),x(e(z),{key:1,variant:"secondary"},{default:t(()=>[...a[25]||(a[25]=[s("Nonaktif",-1)])]),_:1}))]),_:2},1024),l(e($),{class:"text-right"},{default:t(()=>[u("div",xe,[l(e(p),{"as-child":"",variant:"ghost",size:"icon"},{default:t(()=>[l(e(w),{href:`/admin/zenner/leaderboard-configs/${n.id}`},{default:t(()=>[l(e(J),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),l(e(p),{"as-child":"",variant:"ghost",size:"icon"},{default:t(()=>[l(e(w),{href:`/admin/zenner/leaderboard-configs/${n.id}/edit`},{default:t(()=>[l(e(Q),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),l(e(p),{variant:"ghost",size:"icon",onClick:Se=>E(n.id)},{default:t(()=>[l(e(R),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(o(),C("div",ke,[...a[26]||(a[26]=[u("p",{class:"text-muted-foreground"},"Tidak ada data ditemukan",-1)])])),i.items.last_page>1?(o(),C("div",be,[u("p",ye,"Menampilkan "+r(i.items.from)+" - "+r(i.items.to)+" dari "+r(i.items.total)+" data",1),u("div",ce,[l(e(p),{variant:"outline",size:"sm",disabled:i.items.current_page===1,onClick:a[4]||(a[4]=n=>N(i.items.current_page-1))},{default:t(()=>[...a[27]||(a[27]=[s("Sebelumnya",-1)])]),_:1},8,["disabled"]),l(e(p),{variant:"outline",size:"sm",disabled:i.items.current_page===i.items.last_page,onClick:a[5]||(a[5]=n=>N(i.items.current_page+1))},{default:t(()=>[...a[28]||(a[28]=[s("Selanjutnya",-1)])]),_:1},8,["disabled"])])])):I("",!0)]),_:1})]),_:1})]),l(e(te),{open:v.value!==null,"onUpdate:open":a[6]||(a[6]=n=>v.value=null)},{default:t(()=>[l(e(se),null,{default:t(()=>[l(e(ne),null,{default:t(()=>[l(e(ue),null,{default:t(()=>[...a[29]||(a[29]=[s("Hapus Config?",-1)])]),_:1}),l(e(ie),null,{default:t(()=>[...a[30]||(a[30]=[s("Semua entries terkait juga akan dihapus. Lanjutkan?",-1)])]),_:1})]),_:1}),l(e(de),null,{default:t(()=>[l(e(oe),null,{default:t(()=>[...a[31]||(a[31]=[s("Batal",-1)])]),_:1}),l(e(re),{disabled:c.value,onClick:K},{default:t(()=>[s(r(c.value?"Menghapus...":"Hapus"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{He as default};
