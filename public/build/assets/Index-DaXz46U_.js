import{_ as Ue,a as Ie,b as H,c as Z}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-8EaztM2P.js";import{_ as at}from"./Ecommerce.vue_vue_type_script_setup_true_lang-DhZDUfdT.js";import{d as q,r as D,p as E,c as P,g as r,u as e,w as a,b as s,e as t,s as o,J as n,cw as re,aN as ie,bt as lt,cK as nt,dd as rt,P as j,D as Te,v as p,M as me,W as ot,F,x as X,H as L,t as C,aX as it,Z as dt,z as De,h as se,j as ae,d3 as ut,dp as mt,dq as We,ct,aj as xe,aI as we,aE as pt,dn as ft,ac as $e,L as Ae,a1 as pe,ai as xt,aF as fe,C as vt,aO as Ee,dr as Je,ds as gt,a2 as bt,dt as He,du as Ze,o as Xe,aH as Qe,aq as Ye,d7 as Be,ap as Ce,dm as Pe,cx as Ne,cv as Se,cW as oe,dv as ce,dw as yt,ar as et,at as Oe,dx as kt,au as _t,dy as wt,a0 as ht,as as tt,dz as st,$ as $t}from"./vendor-DTOvI-mL.js";import{_ as Ve,a as Ct}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-BMNk4ekC.js";import{_ as Le}from"./AvatarImage.vue_vue_type_script_setup_true_lang-Dl-lb8Nw.js";import{_ as T}from"./index-CQcVzSmJ.js";import{_ as N,a as O}from"./CardContent.vue_vue_type_script_setup_true_lang-Bj2sOBs1.js";import{_ as I}from"./index-D22QrCMB.js";import{_ as z}from"./CardHeader.vue_vue_type_script_setup_true_lang-Dnz_aDai.js";import{_ as G}from"./CardTitle.vue_vue_type_script_setup_true_lang-DNuWsNXR.js";import{a as ve,b as ge,c as be,d as ye,_ as ke}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B6hv4Hjl.js";import{_ as _e}from"./DialogFooter.vue_vue_type_script_setup_true_lang-D-Qkypnc.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-sYWCYV49.js";import{_ as K}from"./Label.vue_vue_type_script_setup_true_lang-Bkvht4jR.js";import{_ as he}from"./Textarea.vue_vue_type_script_setup_true_lang-Dt0uRcWG.js";import{_ as Pt}from"./Switch.vue_vue_type_script_setup_true_lang-iC6a5AWe.js";import{_ as te}from"./Separator.vue_vue_type_script_setup_true_lang-C6rCADXp.js";import{_ as Ke,a as Fe,b as ze,c as Ge,d as qe}from"./SelectValue.vue_vue_type_script_setup_true_lang-CBkKfeqw.js";import{_ as le}from"./CardDescription.vue_vue_type_script_setup_true_lang-Dh4Au0Nv.js";import{f as St,g as Rt,h as jt,i as Mt,j as Tt}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DuRk8pxL.js";import{_ as Re,a as je,b as Me}from"./index-yVCUZVyo.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-ophi3Ol3.js";import"./app-DcB-eLDV.js";function de(){return{formatCurrency:u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(u),formatDate:u=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(u)),getStatusLabel:u=>({pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",delivered:"Selesai",cancelled:"Dibatalkan"})[u]||u,getTransactionTypeLabel:u=>({topup:"Top Up",withdrawal:"Penarikan",bonus:"Bonus",purchase:"Pembelian",refund:"Refund"})[u]||u,getTransactionStatusLabel:u=>({pending:"Menunggu",completed:"Selesai",failed:"Gagal",cancelled:"Dibatalkan"})[u]||u}}const Dt={class:"flex flex-col items-center text-center"},At={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Bt={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Vt={class:"mt-4 w-full space-y-2 text-sm"},Lt={class:"space-y-1.5"},Ut={class:"flex items-center justify-between"},It={class:"flex gap-1"},Et={class:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},Nt={class:"flex items-center justify-between"},Ot={class:"font-mono font-semibold"},Kt={class:"text-[10px] text-gray-500 dark:text-gray-400 mt-1 break-all"},Ft={class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},zt={class:"font-mono font-semibold"},Gt={class:"flex items-center justify-between p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},qt={class:"font-semibold text-emerald-700 dark:text-emerald-400"},Wt=q({__name:"ProfileCard",props:{customer:{}},setup(l){const f=l,{formatCurrency:i}=de(),d=D(!1),k=E(()=>f.customer.name.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2)),u=E(()=>typeof window>"u"?"":`${window.location.origin}/client/register?ref=${f.customer.ref_code}`),c=async()=>{if(typeof window>"u"||!navigator.clipboard){j.error("Tidak dapat menyalin link ke clipboard");return}try{await navigator.clipboard.writeText(u.value),d.value=!0,j.success("Link referral telah disalin ke clipboard"),setTimeout(()=>{d.value=!1},2e3)}catch{j.error("Tidak dapat menyalin link ke clipboard")}},b=async()=>{if(typeof window>"u")return;const w={title:"Bergabung dengan Referral Saya",text:`Gunakan kode referral saya: ${f.customer.ref_code}`,url:u.value};if(navigator.share)try{await navigator.share(w),j.success("Link referral berhasil dibagikan")}catch(m){m.name!=="AbortError"&&console.error("Error sharing:",m)}else await c()};return(w,m)=>(r(),P(e(N),null,{default:a(()=>[s(e(O),{class:"pt-6"},{default:a(()=>[t("div",Dt,[s(e(Ve),{class:"h-24 w-24 mb-4"},{default:a(()=>[s(e(Le),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${l.customer.name}`},null,8,["src"]),s(e(Ct),null,{default:a(()=>[o(n(k.value),1)]),_:1})]),_:1}),t("h2",At,n(l.customer.name),1),t("p",Bt,n(l.customer.email),1),l.customer.email_verified_at?(r(),P(e(T),{key:0,class:"mt-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100"},{default:a(()=>[s(e(re),{class:"w-3 h-3 mr-1"}),m[0]||(m[0]=o(" Email Terverifikasi ",-1))]),_:1})):(r(),P(e(T),{key:1,variant:"secondary",class:"mt-3"},{default:a(()=>[s(e(ie),{class:"w-3 h-3 mr-1"}),m[1]||(m[1]=o(" Email Belum Terverifikasi ",-1))]),_:1})),t("div",Vt,[t("div",Lt,[t("div",Ut,[m[3]||(m[3]=t("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Referral Link",-1)),t("div",It,[s(e(I),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:c},{default:a(()=>[d.value?(r(),P(e(lt),{key:0,class:"w-3 h-3 mr-1"})):(r(),P(e(nt),{key:1,class:"w-3 h-3 mr-1"})),o(" "+n(d.value?"Tersalin":"Salin"),1)]),_:1}),s(e(I),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:b},{default:a(()=>[s(e(rt),{class:"w-3 h-3 mr-1"}),m[2]||(m[2]=o(" Bagikan ",-1))]),_:1})])]),t("div",Et,[t("div",Nt,[m[4]||(m[4]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Kode Referral",-1)),t("span",Ot,n(l.customer.ref_code),1)]),t("p",Kt,n(u.value),1)])]),t("div",Ft,[m[5]||(m[5]=t("span",{class:"text-gray-600 dark:text-gray-400"},"E-Wallet ID",-1)),t("span",zt,n(l.customer.ewallet_id),1)]),t("div",Gt,[m[6]||(m[6]=t("span",{class:"text-emerald-700 dark:text-emerald-400"},"Saldo",-1)),t("span",qt,n(e(i)(l.customer.ewallet_saldo)),1)])])])]),_:1})]),_:1}))}}),Jt={class:"flex items-center justify-between"},Ht={key:0,class:"text-center py-12 text-muted-foreground"},Zt={key:1,class:"space-y-4"},Xt={class:"flex items-start gap-3 mb-3"},Qt={class:"flex-1 min-w-0"},Yt={class:"flex items-center gap-2 mb-1"},es={class:"font-semibold text-sm"},ts={class:"text-sm font-medium"},ss={class:"text-xs text-muted-foreground"},as={class:"space-y-1 mb-3"},ls={class:"text-sm"},ns={key:0,class:"text-sm text-muted-foreground"},rs={class:"text-sm text-muted-foreground"},os={key:0},is={class:"text-xs text-muted-foreground"},ds={key:1,class:"text-xs text-muted-foreground italic mt-2"},us={class:"flex items-center gap-2"},ms={class:"space-y-4 py-4"},cs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ps={class:"space-y-2"},fs={class:"flex items-center space-x-2 pt-8"},xs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},vs={class:"space-y-2"},gs={class:"space-y-2"},bs={class:"space-y-2"},ys={class:"space-y-2"},ks={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},_s={class:"space-y-2"},ws={class:"space-y-2"},hs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},$s={class:"space-y-2"},Cs={class:"space-y-2"},Ps={class:"space-y-2"},Ss=q({__name:"AddressManagement",props:{addresses:{}},setup(l){const f=D(!1),i=D(!1),d=D(!1),k=D(!1),u=D([]),c=D([]),b=D(!1),w=D(!1),m=D(""),y=D(""),g=D({label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""}),v=D(null),B=async()=>{b.value=!0;try{const A=await se.get("/api/shipping/provinces");u.value=A.data.data}catch(A){j.error("Gagal memuat data provinsi"),console.error("Error loading provinces:",A)}finally{b.value=!1}},V=async A=>{if(A){w.value=!0,c.value=[],y.value="";try{const _=await se.get("/api/shipping/cities",{params:{province_id:A}});c.value=_.data.data}catch(_){j.error("Gagal memuat data kota"),console.error("Error loading cities:",_)}finally{w.value=!1}}};Te(m,A=>{if(!A)return;const _=u.value.find(S=>S.id.toString()===A);_&&(g.value.province_id=parseInt(A),g.value.province_label=_.name,V(A))}),Te(y,A=>{if(!A)return;const _=c.value.find(S=>S.id.toString()===A);_&&(g.value.city_id=parseInt(A),g.value.city_label=_.name)});const x=()=>{i.value=!1,g.value={label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""},m.value="",y.value="",c.value=[],B(),f.value=!0},M=A=>{i.value=!0,v.value=A.id,g.value={...A},B().then(()=>{A.province_id&&(m.value=A.province_id.toString(),V(A.province_id.toString()).then(()=>{A.city_id&&(y.value=A.city_id.toString())}))}),f.value=!0},W=()=>{f.value=!1,v.value=null},ne=()=>{if(!g.value.recipient_name||!g.value.recipient_phone||!g.value.address_line1){j.error("Mohon lengkapi nama penerima, telepon, dan alamat");return}if(!g.value.province_id||!g.value.city_id){j.error("Mohon pilih provinsi dan kota/kabupaten");return}k.value=!0;const A=i.value&&v.value?`/client/profile/addresses/${v.value}`:"/client/profile/addresses",_=i.value?"put":"post";ae[_](A,g.value,{preserveScroll:!0,onSuccess:()=>{j.success(`Alamat berhasil ${i.value?"diperbarui":"ditambahkan"}`),W()},onError:S=>{if(console.error("Address save error:",S),typeof S=="object"&&S!==null){const ee=Object.values(S)[0],$=Array.isArray(ee)?ee[0]:ee;j.error($||"Gagal menyimpan alamat")}else j.error("Gagal menyimpan alamat. Silakan coba lagi.")},onFinish:()=>{k.value=!1}})},Y=A=>{confirm("Apakah Anda yakin ingin menghapus alamat ini?")&&(d.value=!0,ae.delete(`/client/profile/addresses/${A}`,{preserveScroll:!0,onSuccess:()=>{j.success("Alamat berhasil dihapus")},onError:_=>{if(console.error("Address delete error:",_),typeof _=="object"&&_!==null){const S=Object.values(_)[0],ee=Array.isArray(S)?S[0]:S;j.error(ee||"Gagal menghapus alamat")}else j.error("Gagal menghapus alamat. Silakan coba lagi.")},onFinish:()=>{d.value=!1}}))},U=A=>{ae.post(`/client/profile/addresses/${A}/set-default`,{},{preserveScroll:!0,onSuccess:()=>{j.success("Alamat utama berhasil diubah")},onError:_=>{if(console.error("Set default address error:",_),typeof _=="object"&&_!==null){const S=Object.values(_)[0],ee=Array.isArray(S)?S[0]:S;j.error(ee||"Gagal mengubah alamat utama")}else j.error("Gagal mengubah alamat utama. Silakan coba lagi.")}})},J=A=>A?A.toLowerCase().includes("rumah")||A.toLowerCase().includes("home")?ut:A.toLowerCase().includes("kantor")||A.toLowerCase().includes("office")?mt:me:me;return(A,_)=>(r(),p(F,null,[s(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[t("div",Jt,[s(e(G),{class:"flex items-center gap-2"},{default:a(()=>[s(e(me),{class:"w-5 h-5"}),_[11]||(_[11]=o(" Kelola Alamat ",-1))]),_:1}),s(e(I),{size:"sm",onClick:x},{default:a(()=>[s(e(ot),{class:"w-4 h-4 mr-2"}),_[12]||(_[12]=o(" Tambah Alamat ",-1))]),_:1})])]),_:1}),s(e(O),null,{default:a(()=>[l.addresses.length===0?(r(),p("div",Ht,[s(e(me),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),_[13]||(_[13]=t("p",{class:"mb-2"},"Belum ada alamat tersimpan",-1)),_[14]||(_[14]=t("p",{class:"text-sm"},"Tambahkan alamat untuk mempermudah proses pengiriman",-1))])):(r(),p("div",Zt,[(r(!0),p(F,null,X(l.addresses,S=>(r(),p("div",{key:S.id,class:L(["relative p-4 rounded-lg border transition-all",S.is_default?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[S.is_default?(r(),P(e(T),{key:0,variant:"default",class:"absolute top-2 right-2 text-xs"},{default:a(()=>[..._[15]||(_[15]=[o(" Utama ",-1)])]),_:1})):C("",!0),t("div",Xt,[(r(),P(it(J(S.label)),{class:L(["w-5 h-5 mt-1 flex-shrink-0",S.is_default?"text-primary":"text-muted-foreground"])},null,8,["class"])),t("div",Qt,[t("div",Yt,[t("h4",es,n(S.label||"Alamat"),1)]),t("p",ts,n(S.recipient_name),1),t("p",ss,n(S.recipient_phone),1)])]),t("div",as,[t("p",ls,n(S.address_line1),1),S.address_line2?(r(),p("p",ns,n(S.address_line2),1)):C("",!0),t("p",rs,[o(n(S.city_label)+", "+n(S.province_label)+" ",1),S.postal_code?(r(),p("span",os,n(S.postal_code),1)):C("",!0)]),t("p",is,n(S.country),1),S.description?(r(),p("p",ds,n(S.description),1)):C("",!0)]),s(e(te),{class:"my-3"}),t("div",us,[S.is_default?C("",!0):(r(),P(e(I),{key:0,variant:"outline",size:"sm",onClick:ee=>U(S.id)},{default:a(()=>[..._[16]||(_[16]=[o(" Jadikan Utama ",-1)])]),_:1},8,["onClick"])),s(e(I),{variant:"outline",size:"sm",onClick:ee=>M(S)},{default:a(()=>[s(e(dt),{class:"w-3 h-3 mr-1"}),_[17]||(_[17]=o(" Edit ",-1))]),_:1},8,["onClick"]),s(e(I),{variant:"destructive",size:"sm",disabled:d.value,onClick:ee=>Y(S.id)},{default:a(()=>[s(e(De),{class:"w-3 h-3 mr-1"}),_[18]||(_[18]=o(" Hapus ",-1))]),_:1},8,["disabled","onClick"])])],2))),128))]))]),_:1})]),_:1}),s(e(ke),{open:f.value,"onUpdate:open":W},{default:a(()=>[s(e(ve),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[s(e(ge),null,{default:a(()=>[s(e(be),null,{default:a(()=>[o(n(i.value?"Edit Alamat":"Tambah Alamat Baru"),1)]),_:1}),s(e(ye),null,{default:a(()=>[o(n(i.value?"Perbarui informasi alamat Anda":"Tambahkan alamat pengiriman baru"),1)]),_:1})]),_:1}),t("div",ms,[t("div",cs,[t("div",ps,[s(e(K),{for:"label"},{default:a(()=>[..._[19]||(_[19]=[o("Label Alamat",-1)])]),_:1}),s(e(Q),{id:"label",modelValue:g.value.label,"onUpdate:modelValue":_[0]||(_[0]=S=>g.value.label=S),placeholder:"Rumah, Kantor, dll"},null,8,["modelValue"])]),t("div",fs,[s(e(Pt),{id:"is_default",checked:g.value.is_default,"onUpdate:checked":_[1]||(_[1]=S=>g.value.is_default=S)},null,8,["checked"]),s(e(K),{for:"is_default",class:"cursor-pointer"},{default:a(()=>[..._[20]||(_[20]=[o("Jadikan alamat utama",-1)])]),_:1})])]),t("div",xs,[t("div",vs,[s(e(K),{for:"recipient_name"},{default:a(()=>[..._[21]||(_[21]=[o("Nama Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Q),{id:"recipient_name",modelValue:g.value.recipient_name,"onUpdate:modelValue":_[2]||(_[2]=S=>g.value.recipient_name=S),placeholder:"Nama lengkap penerima",required:""},null,8,["modelValue"])]),t("div",gs,[s(e(K),{for:"recipient_phone"},{default:a(()=>[..._[22]||(_[22]=[o("No. Telepon Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Q),{id:"recipient_phone",modelValue:g.value.recipient_phone,"onUpdate:modelValue":_[3]||(_[3]=S=>g.value.recipient_phone=S),placeholder:"08xxxxxxxxxx",required:""},null,8,["modelValue"])])]),t("div",bs,[s(e(K),{for:"address_line1"},{default:a(()=>[..._[23]||(_[23]=[o("Alamat Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(he),{id:"address_line1",modelValue:g.value.address_line1,"onUpdate:modelValue":_[4]||(_[4]=S=>g.value.address_line1=S),placeholder:"Jalan, nomor rumah, RT/RW, blok",rows:"3",required:""},null,8,["modelValue"])]),t("div",ys,[s(e(K),{for:"address_line2"},{default:a(()=>[..._[24]||(_[24]=[o("Detail Tambahan (Opsional)",-1)])]),_:1}),s(e(Q),{id:"address_line2",modelValue:g.value.address_line2,"onUpdate:modelValue":_[5]||(_[5]=S=>g.value.address_line2=S),placeholder:"Patokan, gedung, unit, warna rumah, dll"},null,8,["modelValue"])]),t("div",ks,[t("div",_s,[s(e(K),{for:"province"},{default:a(()=>[..._[25]||(_[25]=[o("Provinsi ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Ke),{modelValue:m.value,"onUpdate:modelValue":_[6]||(_[6]=S=>m.value=S),disabled:b.value},{default:a(()=>[s(e(Fe),{id:"province"},{default:a(()=>[s(e(ze),{placeholder:b.value?"Memuat provinsi...":"Pilih provinsi"},null,8,["placeholder"])]),_:1}),s(e(Ge),null,{default:a(()=>[(r(!0),p(F,null,X(u.value,S=>(r(),P(e(qe),{key:S.id,value:S.id.toString()},{default:a(()=>[o(n(S.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",ws,[s(e(K),{for:"city"},{default:a(()=>[..._[26]||(_[26]=[o("Kota/Kabupaten ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Ke),{modelValue:y.value,"onUpdate:modelValue":_[7]||(_[7]=S=>y.value=S),disabled:!m.value||w.value},{default:a(()=>[s(e(Fe),{id:"city"},{default:a(()=>[s(e(ze),{placeholder:w.value?"Memuat kota...":m.value?"Pilih kota/kabupaten":"Pilih provinsi terlebih dahulu"},null,8,["placeholder"])]),_:1}),s(e(Ge),null,{default:a(()=>[(r(!0),p(F,null,X(c.value,S=>(r(),P(e(qe),{key:S.id,value:S.id.toString()},{default:a(()=>[o(n(S.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),t("div",hs,[t("div",$s,[s(e(K),{for:"postal_code"},{default:a(()=>[..._[27]||(_[27]=[o("Kode Pos",-1)])]),_:1}),s(e(Q),{id:"postal_code",modelValue:g.value.postal_code,"onUpdate:modelValue":_[8]||(_[8]=S=>g.value.postal_code=S),placeholder:"12345"},null,8,["modelValue"])]),t("div",Cs,[s(e(K),{for:"country"},{default:a(()=>[..._[28]||(_[28]=[o("Negara",-1)])]),_:1}),s(e(Q),{id:"country",modelValue:g.value.country,"onUpdate:modelValue":_[9]||(_[9]=S=>g.value.country=S),placeholder:"Indonesia"},null,8,["modelValue"])])]),t("div",Ps,[s(e(K),{for:"description"},{default:a(()=>[..._[29]||(_[29]=[o("Catatan (Opsional)",-1)])]),_:1}),s(e(he),{id:"description",modelValue:g.value.description,"onUpdate:modelValue":_[10]||(_[10]=S=>g.value.description=S),placeholder:"Catatan khusus untuk alamat ini",rows:"2"},null,8,["modelValue"])])]),s(e(_e),null,{default:a(()=>[s(e(I),{variant:"outline",onClick:W,disabled:k.value},{default:a(()=>[..._[30]||(_[30]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{onClick:ne,disabled:k.value},{default:a(()=>[o(n(k.value?"Menyimpan...":i.value?"Perbarui":"Simpan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Rs={class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},js={class:"text-xl font-bold text-emerald-700 dark:text-emerald-400"},Ms={class:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},Ts={class:"text-xl font-bold text-amber-700 dark:text-amber-400"},Ds=q({__name:"BonusStatsCard",props:{customer:{}},setup(l){const{formatCurrency:f}=de();return(i,d)=>(r(),P(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),{class:"flex items-center gap-2"},{default:a(()=>[s(e(We),{class:"w-5 h-5"}),d[0]||(d[0]=o(" Statistik Bonus ",-1))]),_:1})]),_:1}),s(e(O),{class:"space-y-3"},{default:a(()=>[t("div",Rs,[d[1]||(d[1]=t("p",{class:"text-xs text-emerald-700 dark:text-emerald-400 mb-1"},"Total Dirilis",-1)),t("p",js,n(e(f)(l.customer.bonus_stats.total_released)),1)]),t("div",Ms,[d[2]||(d[2]=t("p",{class:"text-xs text-amber-700 dark:text-amber-400 mb-1"},"Total Pending",-1)),t("p",Ts,n(e(f)(l.customer.bonus_stats.total_pending)),1)])]),_:1})]),_:1}))}}),As={class:"flex items-center gap-3"},Bs={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},Vs={class:"font-semibold"},Ls=q({__name:"MemberSinceCard",props:{createdAt:{}},setup(l){const{formatDate:f}=de();return(i,d)=>(r(),P(e(N),null,{default:a(()=>[s(e(O),{class:"pt-6"},{default:a(()=>[t("div",As,[t("div",Bs,[s(e(ct),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[d[0]||(d[0]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Member Sejak",-1)),t("p",Vs,n(e(f)(l.createdAt)),1)])])]),_:1})]),_:1}))}}),Us={class:"space-y-2"},Is={class:"relative"},Es={key:0,class:"text-sm text-red-500"},Ns={class:"space-y-2"},Os={class:"relative"},Ks={key:0,class:"text-sm text-red-500"},Fs={class:"space-y-2"},zs={class:"relative"},Gs={key:0,class:"text-sm text-red-500"},qs={class:"space-y-2"},Ws={key:0,class:"text-sm text-red-500"},Js={class:"flex items-center justify-end gap-3"},Hs=q({__name:"ProfileInformationTab",props:{customer:{}},setup(l){const f=l,i=xe({name:f.customer.name,email:f.customer.email,phone:f.customer.phone,description:f.customer.description||""}),d=()=>{i.patch("/client/profile",{preserveScroll:!0,onSuccess:()=>{j.success("Informasi profil berhasil diperbarui")}})};return(k,u)=>(r(),P(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),null,{default:a(()=>[...u[5]||(u[5]=[o("Informasi Profile",-1)])]),_:1}),s(e(le),null,{default:a(()=>[...u[6]||(u[6]=[o(" Update informasi profil Anda di sini ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("form",{onSubmit:$e(d,["prevent"]),class:"space-y-6"},[t("div",Us,[s(e(K),{for:"name"},{default:a(()=>[...u[7]||(u[7]=[o(" Nama Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Is,[s(e(we),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"name",modelValue:e(i).name,"onUpdate:modelValue":u[0]||(u[0]=c=>e(i).name=c),type:"text",placeholder:"Masukkan nama lengkap",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.name?(r(),p("p",Es,n(e(i).errors.name),1)):C("",!0)]),t("div",Ns,[s(e(K),{for:"email"},{default:a(()=>[...u[8]||(u[8]=[o(" Email ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Os,[s(e(pt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"email",modelValue:e(i).email,"onUpdate:modelValue":u[1]||(u[1]=c=>e(i).email=c),type:"email",placeholder:"email@example.com",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.email?(r(),p("p",Ks,n(e(i).errors.email),1)):C("",!0)]),t("div",Fs,[s(e(K),{for:"phone"},{default:a(()=>[...u[9]||(u[9]=[o(" Nomor Telepon ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",zs,[s(e(ft),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"phone",modelValue:e(i).phone,"onUpdate:modelValue":u[2]||(u[2]=c=>e(i).phone=c),type:"tel",placeholder:"08123456789",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.phone?(r(),p("p",Gs,n(e(i).errors.phone),1)):C("",!0)]),t("div",qs,[s(e(K),{for:"description"},{default:a(()=>[...u[10]||(u[10]=[o("Deskripsi",-1)])]),_:1}),s(e(he),{id:"description",modelValue:e(i).description,"onUpdate:modelValue":u[3]||(u[3]=c=>e(i).description=c),placeholder:"Ceritakan tentang diri Anda...",rows:"4"},null,8,["modelValue"]),u[11]||(u[11]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Maksimal 1000 karakter ",-1)),e(i).errors.description?(r(),p("p",Ws,n(e(i).errors.description),1)):C("",!0)]),t("div",Js,[s(e(I),{type:"button",variant:"outline",onClick:u[4]||(u[4]=c=>e(i).reset()),disabled:e(i).processing},{default:a(()=>[...u[12]||(u[12]=[o(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(i).processing},{default:a(()=>[e(i).processing?C("",!0):(r(),P(e(re),{key:0,class:"w-4 h-4 mr-2"})),o(" "+n(e(i).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Zs={key:0,class:"flex items-center justify-center py-12"},Xs={key:1,class:"space-y-6 py-6"},Qs={class:"space-y-3"},Ys={class:"flex items-center gap-2 text-sm font-medium"},ea={class:"space-y-2"},ta={class:"flex justify-between"},sa={class:"text-sm font-medium"},aa={class:"flex justify-between items-center"},la={key:0,class:"flex justify-between"},na={class:"text-sm font-medium"},ra={key:1,class:"flex justify-between items-center"},oa={class:"space-y-3"},ia={class:"flex items-center gap-2 text-sm font-medium"},da={class:"space-y-3"},ua=["src","alt"],ma={class:"flex-1"},ca={class:"font-medium text-sm"},pa={class:"text-xs text-muted-foreground"},fa={class:"text-xs text-muted-foreground"},xa={class:"text-right"},va={class:"font-semibold text-sm"},ga={key:0,class:"space-y-3"},ba={class:"flex items-center gap-2 text-sm font-medium"},ya={class:"p-3 bg-muted/30 rounded-lg space-y-1"},ka={class:"font-medium text-sm"},_a={class:"text-sm text-muted-foreground"},wa={class:"text-sm text-muted-foreground"},ha={class:"text-sm text-muted-foreground"},$a={key:1,class:"space-y-3"},Ca={class:"flex items-center gap-2 text-sm font-medium"},Pa={class:"p-3 bg-muted/30 rounded-lg space-y-2"},Sa={class:"flex justify-between"},Ra={class:"text-sm font-medium"},ja={class:"flex justify-between"},Ma={class:"text-sm font-medium"},Ta={class:"flex justify-between"},Da={class:"text-sm font-medium"},Aa={class:"space-y-3"},Ba={class:"flex items-center gap-2 text-sm font-medium"},Va={class:"space-y-2 text-sm"},La={class:"flex justify-between"},Ua={key:0,class:"flex justify-between"},Ia={class:"text-red-600"},Ea={class:"flex justify-between"},Na={key:1,class:"flex justify-between"},Oa={class:"flex justify-between font-semibold text-base"},Ka={class:"text-primary"},Fa={key:2,class:"space-y-2"},za={class:"space-y-1"},Ga={class:"text-sm text-muted-foreground"},qa={key:3,class:"pt-4"},Wa={key:2,class:"flex items-center justify-center py-12 text-muted-foreground"},Ja=q({__name:"OrderDetailSheet",props:{open:{type:Boolean},orderId:{}},emits:["update:open"],setup(l,{emit:f}){const i=l,d=f,{formatCurrency:k,formatDate:u,getStatusLabel:c}=de(),b=D(!1),w=D(!1),m=D(null),y=E(()=>m.value?.status?.toUpperCase()==="SHIPPED"),g=E(()=>{const V=m.value?.status?.toLowerCase();return{"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":V==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":V==="processing"||V==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":V==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":V==="delivered"||V==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":V==="cancelled"}}),v=async()=>{if(i.orderId){b.value=!0;try{const V=await se.get(`/api/client/orders/${i.orderId}`);m.value=V.data.data}catch(V){console.error("Failed to load order:",V),j.error("Gagal memuat detail pesanan")}finally{b.value=!1}}},B=async()=>{if(!(!m.value||!y.value||w.value)){w.value=!0;try{await se.post(`/api/client/orders/${m.value.id}/complete`),await v(),ae.reload({only:["orders"]}),j.success('Status pesanan berhasil diperbarui menjadi "Selesai".')}catch(V){console.error("Failed to update order status:",V),j.error(V.response?.data?.message||"Gagal memperbarui status pesanan")}finally{w.value=!1}}};return Te(()=>[i.open,i.orderId],([V,x])=>{V&&x&&v()}),(V,x)=>(r(),P(e(St),{open:l.open,"onUpdate:open":x[0]||(x[0]=M=>d("update:open",M))},{default:a(()=>[s(e(Rt),{side:"right",class:"sm:max-w-2xl w-full overflow-y-auto"},{default:a(()=>[s(e(jt),null,{default:a(()=>[s(e(Mt),null,{default:a(()=>[...x[1]||(x[1]=[o("Detail Pesanan",-1)])]),_:1}),s(e(Tt),null,{default:a(()=>[...x[2]||(x[2]=[o(" Informasi lengkap pesanan Anda ",-1)])]),_:1})]),_:1}),b.value?(r(),p("div",Zs,[s(e(Ae),{class:"h-8 w-8 animate-spin text-muted-foreground"})])):m.value?(r(),p("div",Xs,[t("div",Qs,[t("div",Ys,[s(e(pe),{class:"h-4 w-4"}),x[3]||(x[3]=t("span",null,"Ringkasan Pesanan",-1))]),t("div",ea,[t("div",ta,[x[4]||(x[4]=t("span",{class:"text-sm text-muted-foreground"},"Nomor Pesanan",-1)),t("span",sa,n(m.value.order_no),1)]),t("div",aa,[x[5]||(x[5]=t("span",{class:"text-sm text-muted-foreground"},"Status",-1)),s(e(T),{class:L(g.value)},{default:a(()=>[o(n(e(c)(m.value.status)),1)]),_:1},8,["class"])]),m.value.placed_at?(r(),p("div",la,[x[6]||(x[6]=t("span",{class:"text-sm text-muted-foreground"},"Tanggal Pesan",-1)),t("span",na,n(e(u)(m.value.placed_at)),1)])):C("",!0),m.value.paid_at?(r(),p("div",ra,[x[7]||(x[7]=t("span",{class:"text-sm text-muted-foreground"},"Status Pembayaran",-1)),s(e(T),{variant:"secondary"},{default:a(()=>[s(e(re),{class:"w-3 h-3 mr-1"}),o(" Dibayar "+n(e(u)(m.value.paid_at)),1)]),_:1})])):C("",!0)])]),s(e(te)),t("div",oa,[t("div",ia,[s(e(pe),{class:"h-4 w-4"}),x[8]||(x[8]=t("span",null,"Produk Pesanan",-1))]),t("div",da,[(r(!0),p(F,null,X(m.value.items,M=>(r(),p("div",{key:M.id,class:"flex gap-4 p-3 bg-muted/30 rounded-lg"},[M.meta_json?.image?(r(),p("img",{key:0,src:M.meta_json.image,alt:M.name,class:"w-16 h-16 object-cover rounded-md"},null,8,ua)):C("",!0),t("div",ma,[t("h4",ca,n(M.name),1),t("p",pa,"SKU: "+n(M.sku),1),t("p",fa,n(M.qty)+"x "+n(e(k)(M.unit_price)),1)]),t("div",xa,[t("p",va,n(e(k)(M.row_total)),1)])]))),128))])]),s(e(te)),m.value.shipping_address?(r(),p("div",ga,[t("div",ba,[s(e(me),{class:"h-4 w-4"}),x[9]||(x[9]=t("span",null,"Alamat Pengiriman",-1))]),t("div",ya,[t("p",ka,n(m.value.shipping_address.recipient_name),1),t("p",_a,n(m.value.shipping_address.recipient_phone),1),t("p",wa,n(m.value.shipping_address.address_line1),1),t("p",ha,n(m.value.shipping_address.city_label)+", "+n(m.value.shipping_address.province_label)+" "+n(m.value.shipping_address.postal_code),1)])])):C("",!0),s(e(te)),m.value.applied_promos?.shipping?(r(),p("div",$a,[t("div",Ca,[s(e(xt),{class:"h-4 w-4"}),x[10]||(x[10]=t("span",null,"Informasi Pengiriman",-1))]),t("div",Pa,[t("div",Sa,[x[11]||(x[11]=t("span",{class:"text-sm text-muted-foreground"},"Kurir",-1)),t("span",Ra,n(m.value.applied_promos.shipping.courier),1)]),t("div",ja,[x[12]||(x[12]=t("span",{class:"text-sm text-muted-foreground"},"Layanan",-1)),t("span",Ma,n(m.value.applied_promos.shipping.service),1)]),t("div",Ta,[x[13]||(x[13]=t("span",{class:"text-sm text-muted-foreground"},"Estimasi",-1)),t("span",Da,n(m.value.applied_promos.shipping.etd)+" hari",1)])])])):C("",!0),s(e(te)),t("div",Aa,[t("div",Ba,[s(e(fe),{class:"h-4 w-4"}),x[14]||(x[14]=t("span",null,"Ringkasan Pembayaran",-1))]),t("div",Va,[t("div",La,[x[15]||(x[15]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),t("span",null,n(e(k)(m.value.subtotal_amount)),1)]),m.value.discount_amount>0?(r(),p("div",Ua,[x[16]||(x[16]=t("span",{class:"text-muted-foreground"},"Diskon",-1)),t("span",Ia,"-"+n(e(k)(m.value.discount_amount)),1)])):C("",!0),t("div",Ea,[x[17]||(x[17]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),t("span",null,n(e(k)(m.value.shipping_amount)),1)]),m.value.tax_amount>0?(r(),p("div",Na,[x[18]||(x[18]=t("span",{class:"text-muted-foreground"},"Pajak",-1)),t("span",null,n(e(k)(m.value.tax_amount)),1)])):C("",!0),s(e(te)),t("div",Oa,[x[19]||(x[19]=t("span",null,"Total",-1)),t("span",Ka,n(e(k)(m.value.grand_total)),1)])])]),m.value.notes?(r(),p("div",Fa,[s(e(te)),t("div",za,[x[20]||(x[20]=t("p",{class:"text-sm font-medium"},"Catatan",-1)),t("p",Ga,n(m.value.notes),1)])])):C("",!0),y.value?(r(),p("div",qa,[s(e(I),{onClick:B,disabled:w.value,class:"w-full",size:"lg"},{default:a(()=>[w.value?(r(),P(e(Ae),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(r(),P(e(re),{key:1,class:"h-4 w-4 mr-2"})),x[21]||(x[21]=o(" Tandai Pesanan Selesai ",-1))]),_:1},8,["disabled"])])):C("",!0)])):(r(),p("div",Wa," Tidak ada data pesanan "))]),_:1})]),_:1},8,["open"]))}}),Ha={class:"space-y-6 py-4"},Za={key:2,class:"flex gap-4 rounded-lg bg-muted p-4"},Xa=["src","alt"],Qa={class:"flex-1"},Ya={class:"font-medium"},el={class:"space-y-2"},tl={class:"flex items-center gap-2"},sl=["onClick","onMouseenter"],al={class:"ml-2 text-sm text-muted-foreground"},ll={class:"space-y-2"},nl={key:0,class:"text-sm text-destructive"},rl={class:"space-y-2"},ol={class:"text-right text-xs text-muted-foreground"},il={key:0,class:"text-sm text-destructive"},dl=q({__name:"ProductReviewDialog",props:{open:{type:Boolean},orderId:{},orderItems:{}},emits:["update:open","review-submitted"],setup(l,{emit:f}){const i=l,d=f,k=D(0),u=D(null),c=D(!1),b=D({}),w=E(()=>i.orderItems[k.value]),m=E(()=>k.value<i.orderItems.length-1),y=E(()=>k.value===i.orderItems.length-1),g=D({order_item_id:0,product_id:0,rating:5,title:"",comment:""}),v=D(0),B=Y=>{g.value.rating=Y},V=async()=>{if(w.value){g.value.order_item_id=w.value.id,g.value.product_id=w.value.product_id,u.value=null,b.value={},c.value=!0;try{const Y=await se.post(`/api/client/orders/${i.orderId}/reviews`,g.value);if(Y.data.success){const U=Y.data.message||"Review berhasil dikirim dan menunggu persetujuan!";u.value={type:"success",message:U},j.success(U),m.value?setTimeout(()=>{k.value++,M(),u.value=null},1500):setTimeout(()=>{d("update:open",!1),d("review-submitted"),W()},2e3)}}catch(Y){console.error("Submit review error:",Y);let U="Gagal mengirim review. Silakan coba lagi.";if(Y.response?.data){const J=Y.response.data;if(J.message&&(U=J.message),J.errors){b.value=J.errors;const A=Object.values(J.errors)[0];Array.isArray(A)&&A.length>0?U=A[0]:typeof A=="string"&&(U=A)}}u.value={type:"error",message:U},j.error(U)}finally{c.value=!1}}},x=()=>{m.value?(k.value++,M(),u.value=null):(d("update:open",!1),d("review-submitted"),W())},M=()=>{g.value={order_item_id:0,product_id:0,rating:5,title:"",comment:""},b.value={}},W=()=>{k.value=0,M(),u.value=null},ne=Y=>{d("update:open",Y),Y||W()};return(Y,U)=>(r(),P(e(ke),{open:l.open,"onUpdate:open":ne},{default:a(()=>[s(e(ve),{class:"sm:max-w-[500px]"},{default:a(()=>[s(e(ge),null,{default:a(()=>[s(e(be),null,{default:a(()=>[...U[4]||(U[4]=[o("Beri Rating & Review",-1)])]),_:1}),s(e(ye),null,{default:a(()=>[o(" Bagikan pengalaman Anda dengan produk ini ("+n(k.value+1)+" dari "+n(l.orderItems.length)+") ",1)]),_:1})]),_:1}),t("div",Ha,[!w.value||l.orderItems.length===0?(r(),P(e(Re),{key:0,variant:"default"},{default:a(()=>[s(e(ie),{class:"h-4 w-4"}),s(e(je),null,{default:a(()=>[...U[5]||(U[5]=[o("Tidak Ada Item",-1)])]),_:1}),s(e(Me),null,{default:a(()=>[...U[6]||(U[6]=[o(" Tidak ada produk yang dapat direview dari pesanan ini. ",-1)])]),_:1})]),_:1})):(r(),p(F,{key:1},[u.value?.type==="success"?(r(),P(e(Re),{key:0,variant:"default"},{default:a(()=>[s(e(vt),{class:"h-4 w-4"}),s(e(je),null,{default:a(()=>[...U[7]||(U[7]=[o("Berhasil!",-1)])]),_:1}),s(e(Me),null,{default:a(()=>[o(n(u.value.message),1)]),_:1})]),_:1})):C("",!0),u.value?.type==="error"?(r(),P(e(Re),{key:1,variant:"destructive"},{default:a(()=>[s(e(ie),{class:"h-4 w-4"}),s(e(je),null,{default:a(()=>[...U[8]||(U[8]=[o("Terjadi Kesalahan",-1)])]),_:1}),s(e(Me),null,{default:a(()=>[o(n(u.value.message),1)]),_:1})]),_:1})):C("",!0),w.value?(r(),p("div",Za,[w.value.product_image?(r(),p("img",{key:0,src:w.value.product_image,alt:w.value.product_name,class:"h-20 w-20 rounded-md object-cover"},null,8,Xa)):C("",!0),t("div",Qa,[t("h4",Ya,n(w.value.product_name),1)])])):C("",!0),t("div",el,[s(e(K),null,{default:a(()=>[...U[9]||(U[9]=[o("Rating Produk",-1)])]),_:1}),t("div",tl,[(r(),p(F,null,X(5,J=>t("button",{key:J,type:"button",onClick:A=>B(J),onMouseenter:A=>v.value=J,onMouseleave:U[0]||(U[0]=A=>v.value=0),class:"transition-transform hover:scale-110 focus:outline-none"},[s(e(Ee),{class:L(["h-8 w-8 transition-colors",(v.value||g.value.rating)>=J?"fill-yellow-400 text-yellow-400":"text-gray-300"])},null,8,["class"])],40,sl)),64)),t("span",al,n(g.value.rating)+" / 5 ",1)])]),t("div",ll,[s(e(K),{for:"title"},{default:a(()=>[...U[10]||(U[10]=[o("Judul Review (Opsional)",-1)])]),_:1}),s(e(Q),{id:"title",modelValue:g.value.title,"onUpdate:modelValue":U[1]||(U[1]=J=>g.value.title=J),placeholder:"Ringkasan singkat pengalaman Anda",maxlength:"100"},null,8,["modelValue"]),b.value.title?(r(),p("p",nl,n(b.value.title),1)):C("",!0)]),t("div",rl,[s(e(K),{for:"comment"},{default:a(()=>[...U[11]||(U[11]=[o("Komentar (Opsional)",-1)])]),_:1}),s(e(he),{id:"comment",modelValue:g.value.comment,"onUpdate:modelValue":U[2]||(U[2]=J=>g.value.comment=J),placeholder:"Ceritakan pengalaman Anda dengan produk ini...",rows:"4",maxlength:"500"},null,8,["modelValue"]),t("p",ol,n(g.value.comment?.length||0)+" / 500 karakter ",1),b.value.comment?(r(),p("p",il,n(b.value.comment),1)):C("",!0)])],64))]),s(e(_e),{class:"flex-col gap-2 sm:flex-row"},{default:a(()=>[w.value&&l.orderItems.length>0?(r(),p(F,{key:0},[m.value||y.value?(r(),P(e(I),{key:0,type:"button",variant:"outline",onClick:x,disabled:c.value},{default:a(()=>[o(n(m.value?"Lewati":"Tutup"),1)]),_:1},8,["disabled"])):C("",!0),s(e(I),{type:"button",onClick:V,disabled:c.value||g.value.rating===0,class:"w-full sm:w-auto"},{default:a(()=>[c.value?(r(),P(e(Ae),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):C("",!0),o(" "+n(m.value?"Kirim & Lanjut":"Kirim Review"),1)]),_:1},8,["disabled"])],64)):(r(),P(e(I),{key:1,type:"button",variant:"outline",onClick:U[3]||(U[3]=J=>ne(!1))},{default:a(()=>[...U[12]||(U[12]=[o(" Tutup ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"]))}}),ul={class:"rounded-lg border p-4 transition-colors hover:border-primary"},ml={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},cl={class:"flex-1"},pl={class:"mb-2 flex items-center gap-3"},fl={class:"text-sm font-semibold"},xl={class:"text-xs text-muted-foreground"},vl={class:"mt-2 flex items-center gap-2"},gl={class:"flex flex-col gap-2 md:items-end"},bl={class:"text-lg font-bold text-primary"},yl={class:"flex flex-wrap gap-2"},kl=q({__name:"OrderCard",props:{order:{}},setup(l){const f=l,{formatCurrency:i,formatDate:d,getStatusLabel:k}=de(),u=D(!1),c=D(!1),b=D(!1),w=D(!1),m=D(f.order.status),y=D(f.order.paid_at),g=async()=>{if(!b.value){b.value=!0;try{const x=await se.post(`/api/client/orders/${f.order.id}/check-payment-status`);x.data.success?(m.value=x.data.status,x.data.paid_at&&(y.value=x.data.paid_at),j.success(x.data.message),setTimeout(()=>{ae.reload({only:["orders"]})},500)):j.error(x.data.message)}catch(x){console.error("Check payment status error:",x),j.error(x.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{b.value=!1}}},v=async()=>{if(!w.value){w.value=!0;try{const x=await se.post(`/api/client/orders/${f.order.id}/complete`);x.data.success&&(m.value="COMPLETED",j.success(x.data.message||"Pesanan berhasil diselesaikan"),x.data.items&&x.data.items.length>0?(f.order.items=x.data.items,c.value=!0):setTimeout(()=>{ae.reload({only:["orders"]})},500))}catch(x){console.error("Complete order error:",x),j.error(x.response?.data?.message||"Gagal menandai pesanan sebagai diterima")}finally{w.value=!1}}},B=()=>{ae.reload({only:["orders"]})},V=()=>{const x=(f.order.items||[]).filter(M=>!M.has_review);x.length>0?(f.order.items=x,c.value=!0):j.info("Semua produk sudah direview")};return(x,M)=>(r(),p("div",ul,[t("div",ml,[t("div",cl,[t("div",pl,[s(e(pe),{class:"h-5 w-5 text-muted-foreground"}),t("div",null,[t("p",fl,n(l.order.order_no),1),t("p",xl,n(l.order.placed_at?e(d)(l.order.placed_at):"Belum ditempatkan"),1)])]),t("div",vl,[s(e(T),{class:L({"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":m.value.toUpperCase()==="PENDING","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":m.value.toUpperCase()==="PROCESSING"||m.value.toUpperCase()==="PAID","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":m.value.toUpperCase()==="SHIPPED","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":m.value.toUpperCase()==="DELIVERED"||m.value.toUpperCase()==="COMPLETED","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":m.value.toUpperCase()==="CANCELLED"})},{default:a(()=>[o(n(e(k)(m.value)),1)]),_:1},8,["class"]),y.value?(r(),P(e(T),{key:0,variant:"secondary"},{default:a(()=>[s(e(re),{class:"mr-1 h-3 w-3"}),M[3]||(M[3]=o(" Dibayar ",-1))]),_:1})):C("",!0)])]),t("div",gl,[t("p",bl,n(e(i)(l.order.grand_total)),1),t("div",yl,[m.value.toUpperCase()==="PENDING"&&!y.value?(r(),P(e(I),{key:0,variant:"outline",size:"sm",disabled:b.value,onClick:g},{default:a(()=>[s(e(Je),{class:L(["mr-1 h-3 w-3",{"animate-spin":b.value}])},null,8,["class"]),M[4]||(M[4]=o(" Cek Status ",-1))]),_:1},8,["disabled"])):C("",!0),m.value.toUpperCase()==="SHIPPED"?(r(),P(e(I),{key:1,variant:"default",size:"sm",disabled:w.value,onClick:v},{default:a(()=>[s(e(gt),{class:"mr-1 h-3 w-3"}),M[5]||(M[5]=o(" Pesanan Diterima ",-1))]),_:1},8,["disabled"])):C("",!0),m.value.toUpperCase()==="COMPLETED"&&l.order.has_unreviewed_items?(r(),P(e(I),{key:2,variant:"outline",size:"sm",onClick:V},{default:a(()=>[s(e(Ee),{class:"mr-1 h-3 w-3"}),M[6]||(M[6]=o(" Tambah Review ",-1))]),_:1})):C("",!0),s(e(I),{variant:"outline",size:"sm",onClick:M[0]||(M[0]=W=>u.value=!0)},{default:a(()=>[...M[7]||(M[7]=[o(" Lihat Detail ",-1)])]),_:1})])])]),s(Ja,{open:u.value,"onUpdate:open":M[1]||(M[1]=W=>u.value=W),"order-id":l.order.id},null,8,["open","order-id"]),s(dl,{open:c.value,"onUpdate:open":M[2]||(M[2]=W=>c.value=W),"order-id":l.order.id,"order-items":l.order.items||[],onReviewSubmitted:B},null,8,["open","order-id","order-items"])]))}}),_l={key:0,class:"space-y-4"},wl={key:1,class:"py-12 text-center"},hl=q({__name:"OrdersTab",props:{orders:{}},setup(l){return(f,i)=>(r(),P(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),null,{default:a(()=>[...i[0]||(i[0]=[o("Pesanan Saya",-1)])]),_:1}),s(e(le),null,{default:a(()=>[...i[1]||(i[1]=[o(" Riwayat pesanan dan status pengiriman ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[l.orders.length>0?(r(),p("div",_l,[(r(!0),p(F,null,X(l.orders,d=>(r(),P(kl,{key:d.id,order:d},null,8,["order"]))),128))])):(r(),p("div",wl,[s(e(pe),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),i[3]||(i[3]=t("p",{class:"text-muted-foreground mb-4"},"Belum ada pesanan",-1)),s(e(bt),{href:"/beranda"},{default:a(()=>[s(e(I),null,{default:a(()=>[...i[2]||(i[2]=[o(" Mulai Belanja ",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),$l={class:"text-center"},Cl={class:"text-4xl font-bold text-primary mb-4"},Pl={class:"flex gap-3 justify-center"},Sl=q({__name:"WalletBalance",props:{balance:{}},emits:["topup","withdrawal"],setup(l,{emit:f}){const i=f,{formatCurrency:d}=de();return(k,u)=>(r(),P(e(N),null,{default:a(()=>[s(e(O),{class:"pt-6"},{default:a(()=>[t("div",$l,[u[4]||(u[4]=t("p",{class:"text-sm text-muted-foreground mb-2"},"Saldo E-Wallet",-1)),t("p",Cl,n(e(d)(l.balance)),1),t("div",Pl,[s(e(I),{onClick:u[0]||(u[0]=c=>i("topup")),size:"sm"},{default:a(()=>[s(e(He),{class:"w-4 h-4 mr-2"}),u[2]||(u[2]=o(" Top Up ",-1))]),_:1}),s(e(I),{onClick:u[1]||(u[1]=c=>i("withdrawal")),variant:"outline",size:"sm"},{default:a(()=>[s(e(Ze),{class:"w-4 h-4 mr-2"}),u[3]||(u[3]=o(" Tarik Dana ",-1))]),_:1})])])]),_:1})]),_:1}))}}),Rl={class:"space-y-2"},jl={class:"relative"},Ml={key:0,class:"text-sm text-red-500"},Tl={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},Dl={class:"flex items-start gap-3"},Al={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Bl={class:"flex items-start gap-3"},Vl={class:"flex items-center justify-end gap-3"},Ll={key:0},Ul={key:1},Il={key:2},El={key:3},Nl=q({__name:"WalletTopupForm",emits:["cancel"],setup(l,{emit:f}){const i=f,d=xe({amount:"",payment_method:"midtrans"}),k=D(!1),u=D(!1);Xe(()=>{if(window.snap){k.value=!0;return}if(typeof window>"u")return;const m=()=>{window.snap&&(k.value=!0,u.value=!1,console.log("Midtrans Snap loaded (event)."))};window.addEventListener("midtrans:snap:loaded",m,{once:!0}),setTimeout(()=>{k.value||(window.snap?(k.value=!0,console.log("Midtrans Snap loaded (fallback).")):(u.value=!0,console.error("Failed to load Midtrans Snap (timeout).")))},5e3)});const c=m=>{if(!window.snap){console.error("Snap not available"),alert("Pembayaran tidak dapat diproses. Silakan refresh halaman dan coba lagi."),i("cancel");return}try{window.snap.pay(m,{onSuccess:function(y){console.log("Payment success:",y),j.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(y){console.log("Payment pending:",y),j.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(y){console.error("Payment error (Midtrans):",y),j.error("Pembayaran gagal.");try{console.log("Midtrans raw error JSON:",JSON.stringify(y,null,2))}catch{}const g=y?.status_message||y?.status_code||"Terjadi kesalahan pembayaran.",v=y?.status_code==="505"?`
Catatan: Sandbox sering menolak VA dengan nominal rendah (coba >= 15000 atau metode lain).`:"";if(y?.status_code==="505"){alert("Midtrans Error: "+g+v+`
Sandbox akan otomatis mencoba QRIS.`),w("qris");return}alert("Midtrans Error: "+g+`
Silakan coba metode lain atau refresh.`),i("cancel")},onClose:function(){console.log("Payment modal closed"),j("Pembayaran ditutup sebelum selesai."),i("cancel")}})}catch(y){console.error("Error opening Snap modal:",y),alert("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),j.error("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),i("cancel")}},b=async()=>{if(!d.processing){if(!k.value||!window.snap){j.error("Sistem pembayaran belum siap. Silakan tunggu beberapa saat atau refresh halaman.");return}try{d.processing=!0;const y=(await se.post("/client/wallet/topup",{amount:d.amount,payment_method:d.payment_method})).data,g=y.snap_token;if(y.success===!1&&y.message){j.error(y.message),d.processing=!1;return}g&&typeof g=="string"&&g.trim()!==""?(d.reset(),d.processing=!1,setTimeout(()=>{c(g)},100)):(d.processing=!1,console.error("Invalid snap token:",g),console.error("Full response:",y),j.error("Gagal mendapatkan token pembayaran. Silakan coba lagi."),d.reset(),i("cancel"))}catch(m){if(d.processing=!1,console.error("Form submission error:",m),j.error("Terjadi kesalahan saat mengirim formulir."),m.response?.status===422&&m.response?.data?.errors){const y=m.response.data.errors,g=Object.values(y)[0],v=Array.isArray(g)?g[0]:g;j.error(v)}else{const y=m.response?.data?.message||m.message||"Terjadi kesalahan. Silakan coba lagi.";j.error(y)}d.reset()}}},w=async m=>{if(!d.processing){if(!k.value||!window.snap){alert("Sistem pembayaran belum siap untuk retry.");return}try{d.processing=!0;const g=(await se.post("/client/wallet/topup",{amount:d.amount||"20000",payment_method:d.payment_method,force_payment:m})).data,v=g.snap_token;if(!g.success||!v){j.error(g.message||"Retry gagal mendapatkan token."),d.processing=!1;return}d.processing=!1,j.success("Metode dialihkan ke "+m.toUpperCase()+". Silakan lanjutkan pembayaran."),c(v)}catch(y){d.processing=!1,j.error(y?.response?.data?.message||y.message||"Retry gagal.")}}};return(m,y)=>(r(),P(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),null,{default:a(()=>[...y[2]||(y[2]=[o("Top Up E-Wallet",-1)])]),_:1}),s(e(le),null,{default:a(()=>[...y[3]||(y[3]=[o(" Isi saldo e-wallet Anda melalui Midtrans ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("form",{onSubmit:$e(b,["prevent"]),class:"space-y-6"},[t("div",Rl,[s(e(K),{for:"topup_amount"},{default:a(()=>[...y[4]||(y[4]=[o(" Jumlah Top Up ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",jl,[s(e(fe),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"topup_amount",modelValue:e(d).amount,"onUpdate:modelValue":y[0]||(y[0]=g=>e(d).amount=g),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:"10000000",required:""},null,8,["modelValue"])]),y[5]||(y[5]=t("p",{class:"text-xs text-muted-foreground"}," Minimum Rp 10.000 - Maximum Rp 10.000.000. Disarankan >= Rp 15.000 untuk Virtual Account agar tidak ditolak (505). ",-1)),e(d).errors.amount?(r(),p("p",Ml,n(e(d).errors.amount),1)):C("",!0)]),t("div",Tl,[t("div",Dl,[s(e(fe),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),y[6]||(y[6]=t("div",null,[t("p",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"}," Pembayaran via Midtrans "),t("p",{class:"text-xs text-blue-700 dark:text-blue-300 mt-1"}," Anda akan diarahkan ke halaman pembayaran Midtrans untuk menyelesaikan transaksi ")],-1))])]),u.value?(r(),p("div",Al,[t("div",Bl,[s(e(ie),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),y[7]||(y[7]=t("div",null,[t("p",{class:"text-sm font-semibold text-red-900 dark:text-red-100"}," Sistem Pembayaran Belum Siap "),t("p",{class:"text-xs text-red-700 dark:text-red-300 mt-1"}," Silakan refresh halaman untuk memuat ulang sistem pembayaran. ")],-1))])])):C("",!0),t("div",Vl,[s(e(I),{type:"button",variant:"outline",onClick:y[1]||(y[1]=g=>{e(d).reset(),i("cancel")}),disabled:e(d).processing},{default:a(()=>[...y[8]||(y[8]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(d).processing||u.value||!k.value},{default:a(()=>[e(d).processing?(r(),p("span",Ll,"Memproses...")):!k.value&&!u.value?(r(),p("span",Ul,"Memuat sistem pembayaran...")):u.value?(r(),p("span",Il,"Sistem pembayaran error")):(r(),p("span",El,"Lanjut ke Pembayaran"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Ol={class:"space-y-2"},Kl={class:"relative"},Fl={class:"text-xs text-muted-foreground"},zl={key:0,class:"text-sm text-red-500"},Gl={class:"space-y-4"},ql={class:"space-y-2"},Wl={key:0,class:"text-sm text-red-500"},Jl={class:"space-y-2"},Hl={key:0,class:"text-sm text-red-500"},Zl={class:"space-y-2"},Xl={key:0,class:"text-sm text-red-500"},Ql={class:"flex items-center justify-end gap-3"},Yl=q({__name:"WalletWithdrawalForm",props:{maxAmount:{}},emits:["cancel"],setup(l,{emit:f}){const i=f,d=xe({amount:"",bank_name:"",bank_account:"",bank_holder:""}),k=()=>{d.post("/client/wallet/withdrawal",{preserveScroll:!0,onSuccess:()=>{d.reset(),i("cancel"),j.success("Permintaan penarikan berhasil diajukan.")}})};return(u,c)=>(r(),P(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),null,{default:a(()=>[...c[5]||(c[5]=[o("Tarik Dana E-Wallet",-1)])]),_:1}),s(e(le),null,{default:a(()=>[...c[6]||(c[6]=[o(" Tarik saldo ke rekening bank Anda ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("form",{onSubmit:$e(k,["prevent"]),class:"space-y-6"},[t("div",Ol,[s(e(K),{for:"withdrawal_amount"},{default:a(()=>[...c[7]||(c[7]=[o(" Jumlah Penarikan ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Kl,[s(e(fe),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"withdrawal_amount",modelValue:e(d).amount,"onUpdate:modelValue":c[0]||(c[0]=b=>e(d).amount=b),type:"number",placeholder:"Minimal Rp 50.000",class:"pl-10",min:"50000",max:l.maxAmount,required:""},null,8,["modelValue","max"])]),t("p",Fl," Minimum Rp 50.000 - Maksimal Rp "+n(l.maxAmount.toLocaleString("id-ID")),1),e(d).errors.amount?(r(),p("p",zl,n(e(d).errors.amount),1)):C("",!0)]),s(e(te)),t("div",Gl,[c[11]||(c[11]=t("h4",{class:"font-semibold"},"Informasi Rekening",-1)),t("div",ql,[s(e(K),{for:"bank_name"},{default:a(()=>[...c[8]||(c[8]=[o(" Nama Bank ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Q),{id:"bank_name",modelValue:e(d).bank_name,"onUpdate:modelValue":c[1]||(c[1]=b=>e(d).bank_name=b),type:"text",placeholder:"e.g., BCA, Mandiri, BNI",required:""},null,8,["modelValue"]),e(d).errors.bank_name?(r(),p("p",Wl,n(e(d).errors.bank_name),1)):C("",!0)]),t("div",Jl,[s(e(K),{for:"bank_account"},{default:a(()=>[...c[9]||(c[9]=[o(" Nomor Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Q),{id:"bank_account",modelValue:e(d).bank_account,"onUpdate:modelValue":c[2]||(c[2]=b=>e(d).bank_account=b),type:"text",placeholder:"Nomor rekening bank",required:""},null,8,["modelValue"]),e(d).errors.bank_account?(r(),p("p",Hl,n(e(d).errors.bank_account),1)):C("",!0)]),t("div",Zl,[s(e(K),{for:"bank_holder"},{default:a(()=>[...c[10]||(c[10]=[o(" Nama Pemilik Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Q),{id:"bank_holder",modelValue:e(d).bank_holder,"onUpdate:modelValue":c[3]||(c[3]=b=>e(d).bank_holder=b),type:"text",placeholder:"Nama sesuai rekening bank",required:""},null,8,["modelValue"]),e(d).errors.bank_holder?(r(),p("p",Xl,n(e(d).errors.bank_holder),1)):C("",!0)])]),c[13]||(c[13]=t("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},[t("p",{class:"text-sm text-amber-700 dark:text-amber-300"},[t("strong",null,"Catatan:"),o(" Penarikan akan diproses dalam 1-3 hari kerja. Pastikan data rekening sudah benar. ")])],-1)),t("div",Ql,[s(e(I),{type:"button",variant:"outline",onClick:c[4]||(c[4]=b=>{e(d).reset(),i("cancel")}),disabled:e(d).processing},{default:a(()=>[...c[12]||(c[12]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(d).processing},{default:a(()=>[o(n(e(d).processing?"Memproses...":"Ajukan Penarikan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),en={class:"p-3 border rounded-lg"},tn={class:"flex items-center justify-between"},sn={class:"flex items-center gap-3"},an={class:"font-semibold text-sm"},ln={class:"text-xs text-muted-foreground"},nn={class:"text-xs text-muted-foreground"},rn={class:"text-right"},on={key:0,class:"mt-3 pt-3 border-t"},dn={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},un={class:"flex gap-2"},mn=q({__name:"WalletTransactionCard",props:{transaction:{}},emits:["continue-payment","status-updated"],setup(l,{emit:f}){const i=l,d=f,{formatCurrency:k,formatDate:u,getTransactionTypeLabel:c,getTransactionStatusLabel:b}=de(),w=D(!1),m=D(i.transaction.status),y=async g=>{if(!w.value){w.value=!0;try{const v=await se.post("/client/wallet/check-status",{transaction_ref:g});v.data.success?(m.value=v.data.status,d("status-updated",{transactionRef:g,status:v.data.status,newBalance:v.data.new_balance}),j.success(v.data.message),setTimeout(()=>{ae.reload({only:["customer","transactions"]})},500)):j.error(v.data.message)}catch(v){console.error("Check status error:",v),j.error(v.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{w.value=!1}}};return(g,v)=>(r(),p("div",en,[t("div",tn,[t("div",sn,[t("div",{class:L(["p-2 rounded-full",{"bg-emerald-100 dark:bg-emerald-900/20":l.transaction.type==="topup"||l.transaction.type==="bonus","bg-red-100 dark:bg-red-900/20":l.transaction.type==="withdrawal"||l.transaction.type==="purchase","bg-blue-100 dark:bg-blue-900/20":l.transaction.type==="refund"}])},[l.transaction.type==="topup"||l.transaction.type==="bonus"||l.transaction.type==="refund"?(r(),P(e(He),{key:0,class:L(["w-4 h-4",{"text-emerald-600 dark:text-emerald-400":l.transaction.type==="topup"||l.transaction.type==="bonus","text-blue-600 dark:text-blue-400":l.transaction.type==="refund"}])},null,8,["class"])):(r(),P(e(Ze),{key:1,class:"w-4 h-4 text-red-600 dark:text-red-400"}))],2),t("div",null,[t("p",an,n(e(c)(l.transaction.type)),1),t("p",ln,n(l.transaction.transaction_ref),1),t("p",nn,n(e(u)(l.transaction.created_at)),1)])]),t("div",rn,[t("p",{class:L(["font-bold",{"text-emerald-600 dark:text-emerald-400":l.transaction.type==="topup"||l.transaction.type==="bonus"||l.transaction.type==="refund","text-red-600 dark:text-red-400":l.transaction.type==="withdrawal"||l.transaction.type==="purchase"}])},n(l.transaction.type==="topup"||l.transaction.type==="bonus"||l.transaction.type==="refund"?"+":"-")+" "+n(e(k)(l.transaction.amount)),3),s(e(T),{variant:"secondary",class:L({"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100":m.value==="pending","bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-100":m.value==="completed","bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-100":m.value==="failed"||m.value==="cancelled"})},{default:a(()=>[o(n(e(b)(m.value)),1)]),_:1},8,["class"])])]),l.transaction.type==="topup"&&m.value==="pending"&&l.transaction.midtrans_transaction_id?(r(),p("div",on,[t("div",dn,[v[4]||(v[4]=t("p",{class:"text-xs text-muted-foreground"}," Pembayaran menunggu konfirmasi ",-1)),t("div",un,[s(e(I),{size:"sm",variant:"outline",disabled:w.value,onClick:v[0]||(v[0]=B=>y(l.transaction.transaction_ref)),class:"shrink-0"},{default:a(()=>[s(e(Je),{class:L(["w-3 h-3 mr-1",{"animate-spin":w.value}])},null,8,["class"]),v[2]||(v[2]=o(" Cek Status ",-1))]),_:1},8,["disabled"]),s(e(I),{size:"sm",onClick:v[1]||(v[1]=B=>d("continue-payment",l.transaction.midtrans_transaction_id)),class:"shrink-0"},{default:a(()=>[s(e(fe),{class:"w-3 h-3 mr-1"}),v[3]||(v[3]=o(" Lanjutkan Pembayaran ",-1))]),_:1})])])])):C("",!0)]))}}),cn={key:0,class:"space-y-3"},pn={key:1,class:"py-12 text-center"},fn=q({__name:"WalletTransactionList",props:{transactions:{}},setup(l){const f=Qe(),i=E(()=>f.props.customer),d=u=>{typeof window>"u"||(window.snap?window.snap.pay(u,{onSuccess:function(c){console.log("Payment success:",c),j.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(c){console.log("Payment pending:",c),j.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(c){j.error("Pembayaran gagal."),console.error("Payment error:",c)},onClose:function(){j("Pembayaran ditutup sebelum selesai."),console.log("Payment modal closed")}}):alert("Midtrans Snap belum siap. Silakan refresh halaman."))},k=u=>{u.newBalance!==void 0&&i.value&&(i.value.ewallet_saldo=u.newBalance)};return(u,c)=>(r(),P(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),null,{default:a(()=>[...c[0]||(c[0]=[o("Riwayat Transaksi",-1)])]),_:1}),s(e(le),null,{default:a(()=>[o(n(l.transactions.length)+" transaksi e-wallet terbaru ",1)]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[l.transactions.length>0?(r(),p("div",cn,[(r(!0),p(F,null,X(l.transactions,b=>(r(),P(mn,{key:b.id,transaction:b,onContinuePayment:d,onStatusUpdated:k},null,8,["transaction"]))),128))])):(r(),p("div",pn,[s(e(Ye),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),c[1]||(c[1]=t("p",{class:"text-muted-foreground"},"Belum ada transaksi",-1))]))]),_:1})]),_:1}))}}),xn={class:"flex-1"},vn={key:0,class:"text-xs mt-1 text-gray-700 dark:text-gray-300"},gn={class:"font-mono"},bn={class:"uppercase"},yn=["disabled"],kn={key:1,class:"border border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 text-xs text-amber-800 dark:text-amber-200"},_n=q({__name:"WalletStatusBanner",props:{initialTransactions:{}},setup(l){const f=l,i=D(!1),d=D(null),k=D(null),u=E(()=>{const m=k.value?.status||"";return m==="completed"||m==="success"?{tone:"success",title:"Top up berhasil",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900",text:"text-green-800 dark:text-green-200"}:m==="pending"?{tone:"pending",title:"Menunggu pembayaran",bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-900",text:"text-yellow-800 dark:text-yellow-200"}:m==="cancelled"||m==="failed"||m==="expire"||m==="denied"||m==="deny"?{tone:"failed",title:"Pembayaran gagal / dibatalkan",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-900",text:"text-red-800 dark:text-red-200"}:{tone:"info",title:"Status transaksi",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900",text:"text-blue-800 dark:text-blue-200"}});function c(m,y=2){const g=new Date(m).getTime();return(Date.now()-g)/36e5<=y}const b=E(()=>{if(!k.value)return!1;const m=k.value.status;return m==="pending"?!0:m==="completed"||m==="success"?c(k.value.created_at,2):c(k.value.created_at,6)});async function w(){try{i.value=!0,d.value=null;const{data:m}=await se.get("/client/wallet/history",{params:{type:"topup"}}),y=Array.isArray(m?.data)?m.data:Array.isArray(m)?m:[];y.length>0&&(k.value=y[0])}catch(m){d.value=m?.response?.data?.message||m?.message||"Gagal memuat status transaksi."}finally{i.value=!1}}return Xe(()=>{f.initialTransactions&&f.initialTransactions.length>0&&(k.value=f.initialTransactions[0]),w()}),(m,y)=>b.value?(r(),p("div",{key:0,class:L(["border rounded-lg p-4 flex items-start gap-3",u.value.border,u.value.bg])},[t("div",xn,[t("p",{class:L(["text-sm font-semibold",u.value.text])},n(u.value.title),3),k.value?(r(),p("p",vn,[y[0]||(y[0]=o(" Ref: ",-1)),t("span",gn,n(k.value.transaction_ref),1),o("  Jumlah: Rp "+n(new Intl.NumberFormat("id-ID").format(k.value.amount))+"  Status: ",1),t("span",bn,n(k.value.status),1)])):C("",!0)]),t("button",{type:"button",class:"text-xs underline text-gray-700 dark:text-gray-300",onClick:w,disabled:i.value},n(i.value?"Menyegarkan...":"Segarkan"),9,yn)],2)):d.value?(r(),p("div",kn,n(d.value),1)):C("",!0)}}),wn={class:"space-y-6"},hn=q({__name:"WalletTab",props:{customer:{},transactions:{}},setup(l){const f=D("wallet");return(i,d)=>(r(),p("div",wn,[s(Sl,{balance:l.customer.ewallet_saldo,onTopup:d[0]||(d[0]=k=>f.value="wallet-topup"),onWithdrawal:d[1]||(d[1]=k=>f.value="wallet-withdrawal")},null,8,["balance"]),f.value==="wallet"?(r(),P(_n,{key:0,"initial-transactions":l.transactions},null,8,["initial-transactions"])):C("",!0),f.value==="wallet-topup"?(r(),P(Nl,{key:1,onCancel:d[2]||(d[2]=k=>f.value="wallet")})):C("",!0),f.value==="wallet-withdrawal"?(r(),P(Yl,{key:2,"max-amount":l.customer.ewallet_saldo,onCancel:d[3]||(d[3]=k=>f.value="wallet")},null,8,["max-amount"])):C("",!0),f.value==="wallet"?(r(),P(fn,{key:3,transactions:l.transactions},null,8,["transactions"])):C("",!0)]))}}),$n={class:"space-y-2"},Cn={class:"relative"},Pn={key:0,class:"text-sm text-red-500"},Sn={class:"space-y-2"},Rn={class:"relative"},jn={key:0,class:"text-sm text-red-500"},Mn={class:"space-y-2"},Tn={class:"relative"},Dn={class:"flex items-center justify-end gap-3"},An=q({__name:"SecurityTab",setup(l){const f=xe({current_password:"",password:"",password_confirmation:""}),i=D(!1),d=D(!1),k=D(!1),u=()=>{f.patch("/client/profile/password",{preserveScroll:!0,onSuccess:()=>{f.reset(),i.value=!1,d.value=!1,k.value=!1,j.success("Password berhasil diubah")}})};return(c,b)=>(r(),P(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),null,{default:a(()=>[...b[7]||(b[7]=[o("Ubah Password",-1)])]),_:1}),s(e(le),null,{default:a(()=>[...b[8]||(b[8]=[o(" Pastikan akun Anda menggunakan password yang kuat ",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("form",{onSubmit:$e(u,["prevent"]),class:"space-y-6"},[t("div",$n,[s(e(K),{for:"current_password"},{default:a(()=>[...b[9]||(b[9]=[o(" Password Saat Ini ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Cn,[s(e(Be),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"current_password",modelValue:e(f).current_password,"onUpdate:modelValue":b[0]||(b[0]=w=>e(f).current_password=w),type:i.value?"text":"password",placeholder:"Masukkan password saat ini",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:b[1]||(b[1]=w=>i.value=!i.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[i.value?(r(),P(e(Pe),{key:1,class:"h-4 w-4"})):(r(),P(e(Ce),{key:0,class:"h-4 w-4"}))])]),e(f).errors.current_password?(r(),p("p",Pn,n(e(f).errors.current_password),1)):C("",!0)]),s(e(te)),t("div",Sn,[s(e(K),{for:"password"},{default:a(()=>[...b[10]||(b[10]=[o(" Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Rn,[s(e(Ne),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"password",modelValue:e(f).password,"onUpdate:modelValue":b[2]||(b[2]=w=>e(f).password=w),type:d.value?"text":"password",placeholder:"Masukkan password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:b[3]||(b[3]=w=>d.value=!d.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[d.value?(r(),P(e(Pe),{key:1,class:"h-4 w-4"})):(r(),P(e(Ce),{key:0,class:"h-4 w-4"}))])]),b[11]||(b[11]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimal 8 karakter ",-1)),e(f).errors.password?(r(),p("p",jn,n(e(f).errors.password),1)):C("",!0)]),t("div",Mn,[s(e(K),{for:"password_confirmation"},{default:a(()=>[...b[12]||(b[12]=[o(" Konfirmasi Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Tn,[s(e(Ne),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Q),{id:"password_confirmation",modelValue:e(f).password_confirmation,"onUpdate:modelValue":b[4]||(b[4]=w=>e(f).password_confirmation=w),type:k.value?"text":"password",placeholder:"Konfirmasi password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:b[5]||(b[5]=w=>k.value=!k.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[k.value?(r(),P(e(Pe),{key:1,class:"h-4 w-4"})):(r(),P(e(Ce),{key:0,class:"h-4 w-4"}))])])]),t("div",Dn,[s(e(I),{type:"button",variant:"outline",onClick:b[6]||(b[6]=w=>e(f).reset()),disabled:e(f).processing},{default:a(()=>[...b[13]||(b[13]=[o(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(f).processing},{default:a(()=>[e(f).processing?C("",!0):(r(),P(e(Be),{key:0,class:"w-4 h-4 mr-2"})),o(" "+n(e(f).processing?"Mengupdate...":"Update Password"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Bn={class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Vn={class:"flex items-start gap-3"},Ln={class:"flex-1"},Un=q({__name:"DangerZoneTab",setup(l){const f=D(!1),i=xe({}),d=()=>{i.delete("/client/profile",{onFinish:()=>{f.value=!1}})};return(k,u)=>(r(),p(F,null,[s(e(N),{class:"border-red-200 dark:border-red-900"},{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),{class:"text-red-600 dark:text-red-400"},{default:a(()=>[...u[3]||(u[3]=[o("Zona Bahaya",-1)])]),_:1}),s(e(le),null,{default:a(()=>[...u[4]||(u[4]=[o(" Tindakan di bawah ini bersifat permanen dan tidak dapat dibatalkan ",-1)])]),_:1})]),_:1}),s(e(O),{class:"space-y-6"},{default:a(()=>[t("div",Bn,[t("div",Vn,[s(e(ie),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),t("div",Ln,[u[6]||(u[6]=t("h3",{class:"font-semibold text-red-900 dark:text-red-100"}," Hapus Akun ",-1)),u[7]||(u[7]=t("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Setelah akun Anda dihapus, semua data akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1)),s(e(I),{type:"button",variant:"destructive",class:"mt-4",onClick:u[0]||(u[0]=c=>f.value=!0)},{default:a(()=>[s(e(De),{class:"w-4 h-4 mr-2"}),u[5]||(u[5]=o(" Hapus Akun Saya ",-1))]),_:1})])])])]),_:1})]),_:1}),s(e(ke),{open:f.value,"onUpdate:open":u[2]||(u[2]=c=>f.value=c)},{default:a(()=>[s(e(ve),null,{default:a(()=>[s(e(ge),null,{default:a(()=>[s(e(be),{class:"flex items-center gap-2 text-red-600"},{default:a(()=>[s(e(ie),{class:"w-5 h-5"}),u[8]||(u[8]=o(" Konfirmasi Hapus Akun ",-1))]),_:1}),s(e(ye),null,{default:a(()=>[...u[9]||(u[9]=[o(" Apakah Anda yakin ingin menghapus akun Anda? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan dihapus secara permanen. ",-1)])]),_:1})]),_:1}),u[11]||(u[11]=t("div",{class:"py-4"},[t("div",{class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},[t("p",{class:"text-sm text-red-700 dark:text-red-300"},[t("strong",null,"Data yang akan dihapus:")]),t("ul",{class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside space-y-1"},[t("li",null,"Informasi profil dan akun"),t("li",null,"Riwayat transaksi"),t("li",null,"E-wallet dan saldo"),t("li",null,"Jaringan dan bonus")])])],-1)),s(e(_e),null,{default:a(()=>[s(e(I),{type:"button",variant:"outline",onClick:u[1]||(u[1]=c=>f.value=!1),disabled:e(i).processing},{default:a(()=>[...u[10]||(u[10]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"button",variant:"destructive",onClick:d,disabled:e(i).processing},{default:a(()=>[s(e(De),{class:"w-4 h-4 mr-2"}),o(" "+n(e(i).processing?"Menghapus...":"Ya, Hapus Akun"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),In={key:0,class:"text-center py-12 text-muted-foreground"},En={class:"flex items-start justify-between"},Nn={class:"flex-1"},On={class:"flex items-center gap-2 mb-2"},Kn={class:"font-semibold text-lg"},Fn={class:"space-y-1 text-sm text-muted-foreground"},zn={key:0},Gn={class:"text-xs"},qn={class:"text-xs font-medium text-green-600 dark:text-green-400"},Wn={class:"flex flex-col items-end gap-2"},Jn={key:0,class:"text-center py-12 text-muted-foreground"},Hn={class:"flex items-start justify-between"},Zn={class:"flex-1"},Xn={class:"flex items-center gap-2 mb-2"},Qn={class:"font-semibold text-lg"},Yn={class:"space-y-1 text-sm text-muted-foreground"},er={key:0},tr={class:"text-xs"},sr={class:"text-xs font-medium text-orange-600 dark:text-orange-400"},ar={class:"flex flex-col items-end gap-2"},lr={key:0,class:"text-center py-12 text-muted-foreground"},nr={class:"flex items-start justify-between"},rr={class:"flex-1"},or={class:"flex items-center gap-2 mb-2"},ir={class:"font-semibold text-lg"},dr={class:"space-y-1 text-sm text-muted-foreground"},ur={key:0},mr={class:"text-xs"},cr={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},pr={class:"flex flex-col items-end gap-2"},fr={class:"font-semibold"},xr={class:"grid grid-cols-2 gap-4 py-4"},vr=q({__name:"NetworkMembersTab",props:{activeMembers:{},passiveMembers:{},prospectMembers:{}},setup(l){const f=D(!1),i=D(null),d=D(null),k=D(!1),u=g=>{i.value=g,d.value=null,f.value=!0},c=()=>{f.value=!1,i.value=null,d.value=null},b=()=>{if(!i.value||!d.value){j.error("Pilih posisi terlebih dahulu");return}k.value=!0,ae.post("/client/profile/place-member",{member_id:i.value.id,position:d.value},{onSuccess:()=>{j.success(`${i.value?.name} berhasil ditempatkan di posisi ${d.value}`),c()},onError:g=>{const v=g.error||"Gagal menempatkan member ke binary tree";j.error(v)},onFinish:()=>{k.value=!1}})},w=g=>new Date(g).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),m=g=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(g),y=g=>g?{variant:g==="left"?"default":"secondary",text:g==="left"?"Kiri":"Kanan"}:{variant:"outline",text:"Belum Ditempatkan"};return(g,v)=>(r(),p(F,null,[s(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),null,{default:a(()=>[...v[2]||(v[2]=[o("Jaringan Member",-1)])]),_:1}),s(e(le),null,{default:a(()=>[...v[3]||(v[3]=[o("Kelola dan lihat member dalam jaringan Anda",-1)])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(Ue),{"default-value":"active",class:"w-full"},{default:a(()=>[s(e(Ie),{class:"grid w-full grid-cols-3"},{default:a(()=>[s(e(H),{value:"active"},{default:a(()=>[s(e(re),{class:"w-4 h-4 mr-2"}),o(" Aktif ("+n(l.activeMembers.length)+") ",1)]),_:1}),s(e(H),{value:"passive"},{default:a(()=>[s(e(Se),{class:"w-4 h-4 mr-2"}),o(" Pasif ("+n(l.passiveMembers.length)+") ",1)]),_:1}),s(e(H),{value:"prospect"},{default:a(()=>[s(e(oe),{class:"w-4 h-4 mr-2"}),o(" Prospek ("+n(l.prospectMembers.length)+") ",1)]),_:1})]),_:1}),s(e(Z),{value:"active",class:"space-y-4"},{default:a(()=>[l.activeMembers.length===0?(r(),p("div",In,[s(e(re),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),v[4]||(v[4]=t("p",null,"Belum ada member aktif",-1)),v[5]||(v[5]=t("p",{class:"text-sm mt-2"},"Member aktif adalah member yang sudah ditempatkan di binary tree",-1))])):C("",!0),(r(!0),p(F,null,X(l.activeMembers,B=>(r(),P(e(N),{key:B.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(O),{class:"p-4"},{default:a(()=>[t("div",En,[t("div",Nn,[t("div",On,[t("h4",Kn,n(B.name),1),s(e(T),{variant:y(B.position).variant},{default:a(()=>[o(n(y(B.position).text),1)]),_:2},1032,["variant"]),B.level?(r(),P(e(T),{key:0,variant:"outline"},{default:a(()=>[o(" Level "+n(B.level),1)]),_:2},1024)):C("",!0)]),t("div",Fn,[t("p",null,n(B.email),1),B.phone?(r(),p("p",zn,n(B.phone),1)):C("",!0),t("p",Gn,"Bergabung: "+n(w(B.joined_at)),1),t("p",qn," Omzet: "+n(m(B.omzet)),1)])]),t("div",Wn,[s(e(T),{variant:"default"},{default:a(()=>[s(e(re),{class:"w-3 h-3 mr-1"}),v[6]||(v[6]=o(" Aktif ",-1))]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(Z),{value:"passive",class:"space-y-4"},{default:a(()=>[l.passiveMembers.length===0?(r(),p("div",Jn,[s(e(Se),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),v[7]||(v[7]=t("p",null,"Belum ada member pasif",-1)),v[8]||(v[8]=t("p",{class:"text-sm mt-2"},"Member pasif adalah member yang belum ditempatkan di binary tree tapi sudah memiliki pembelian/order",-1))])):C("",!0),(r(!0),p(F,null,X(l.passiveMembers,B=>(r(),P(e(N),{key:B.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(O),{class:"p-4"},{default:a(()=>[t("div",Hn,[t("div",Zn,[t("div",Xn,[t("h4",Qn,n(B.name),1),s(e(T),{variant:"secondary"},{default:a(()=>[...v[9]||(v[9]=[o("Belum Ditempatkan",-1)])]),_:1})]),t("div",Yn,[t("p",null,n(B.email),1),B.phone?(r(),p("p",er,n(B.phone),1)):C("",!0),t("p",tr,"Bergabung: "+n(w(B.joined_at)),1),t("p",sr," Omzet: "+n(m(B.omzet)),1)])]),t("div",ar,[s(e(T),{variant:"outline"},{default:a(()=>[s(e(Se),{class:"w-3 h-3 mr-1"}),v[10]||(v[10]=o(" Pasif ",-1))]),_:1}),s(e(T),{variant:"default"},{default:a(()=>[...v[11]||(v[11]=[o(" Sudah Belanja ",-1)])]),_:1}),s(e(I),{size:"sm",variant:"default",class:"mt-2",onClick:V=>u(B)},{default:a(()=>[s(e(ce),{class:"w-3 h-3 mr-1"}),v[12]||(v[12]=o(" Tempatkan ke Binary ",-1))]),_:1},8,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(Z),{value:"prospect",class:"space-y-4"},{default:a(()=>[l.prospectMembers.length===0?(r(),p("div",lr,[s(e(oe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),v[13]||(v[13]=t("p",null,"Belum ada member prospek",-1)),v[14]||(v[14]=t("p",{class:"text-sm mt-2"},"Member prospek adalah member yang baru mendaftar, belum ditempatkan di binary tree dan belum memiliki pembelian/order",-1))])):C("",!0),(r(!0),p(F,null,X(l.prospectMembers,B=>(r(),P(e(N),{key:B.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(O),{class:"p-4"},{default:a(()=>[t("div",nr,[t("div",rr,[t("div",or,[t("h4",ir,n(B.name),1),s(e(T),{variant:"outline"},{default:a(()=>[...v[15]||(v[15]=[o("Baru Bergabung",-1)])]),_:1})]),t("div",dr,[t("p",null,n(B.email),1),B.phone?(r(),p("p",ur,n(B.phone),1)):C("",!0),t("p",mr,"Bergabung: "+n(w(B.joined_at)),1),t("p",cr," Omzet: "+n(m(B.omzet)),1)])]),t("div",pr,[s(e(T),{variant:"secondary"},{default:a(()=>[s(e(oe),{class:"w-3 h-3 mr-1"}),v[16]||(v[16]=o(" Prospek ",-1))]),_:1}),s(e(T),{variant:"secondary"},{default:a(()=>[...v[17]||(v[17]=[o(" Belum Belanja ",-1)])]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),s(e(ke),{open:f.value,"onUpdate:open":c},{default:a(()=>[s(e(ve),{class:"sm:max-w-md"},{default:a(()=>[s(e(ge),null,{default:a(()=>[s(e(be),null,{default:a(()=>[...v[18]||(v[18]=[o("Tempatkan Member ke Binary Tree",-1)])]),_:1}),s(e(ye),null,{default:a(()=>[v[19]||(v[19]=o(" Pilih posisi untuk menempatkan ",-1)),t("span",fr,n(i.value?.name),1),v[20]||(v[20]=o(" di jaringan binary tree Anda. ",-1))]),_:1})]),_:1}),t("div",xr,[t("button",{type:"button",class:L(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",d.value==="left"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:v[0]||(v[0]=B=>d.value="left")},[s(e(ce),{class:"w-8 h-8 mb-2 rotate-90"}),v[21]||(v[21]=t("span",{class:"font-semibold"},"Posisi Kiri",-1)),v[22]||(v[22]=t("span",{class:"text-xs text-muted-foreground mt-1"},"Left Position",-1))],2),t("button",{type:"button",class:L(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",d.value==="right"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:v[1]||(v[1]=B=>d.value="right")},[s(e(ce),{class:"w-8 h-8 mb-2 -rotate-90"}),v[23]||(v[23]=t("span",{class:"font-semibold"},"Posisi Kanan",-1)),v[24]||(v[24]=t("span",{class:"text-xs text-muted-foreground mt-1"},"Right Position",-1))],2)]),s(e(_e),null,{default:a(()=>[s(e(I),{variant:"outline",onClick:c,disabled:k.value},{default:a(()=>[...v[25]||(v[25]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{onClick:b,disabled:!d.value||k.value},{default:a(()=>[o(n(k.value?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),gr={class:"flex justify-center mb-6"},br={class:"flex-1 min-w-0"},yr={class:"flex items-center gap-1 mt-1"},kr={class:"text-center"},_r={key:1,class:L(["flex justify-center mb-6"])},wr={class:"text-center"},hr={key:1,class:L(["flex justify-center mb-6"])},$r={class:"text-center"},Cr=q({__name:"TreeNodeComponent",props:{node:{},isRoot:{type:Boolean},maxLevel:{default:15}},emits:["open-placement"],setup(l,{emit:f}){const i=l,d=f,k=(b,w)=>{if(!w)return"bg-gray-100 border-gray-300 dark:bg-gray-800 dark:border-gray-600";const m=["bg-primary/10 border-primary/30","bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800","bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800","bg-purple-50 border-purple-200 dark:bg-purple-950 dark:border-purple-800","bg-orange-50 border-orange-200 dark:bg-orange-950 dark:border-orange-800","bg-pink-50 border-pink-200 dark:bg-pink-950 dark:border-pink-800"];return m[Math.min(b-1,m.length-1)]||m[m.length-1]},u=(b,w)=>{d("open-placement",b,w)},c=i.node.level<i.maxLevel;return(b,w)=>{const m=yt("TreeNodeComponent",!0);return r(),p("div",null,[t("div",gr,[l.node.name?(r(),p("div",{key:0,class:L(["relative rounded-lg border-2 shadow-lg transition-all hover:shadow-xl",l.isRoot?"px-6 py-4":"px-3 py-2",k(l.node.level,l.node.status)])},[t("div",{class:L(["flex items-center gap-2",l.isRoot&&"gap-3"])},[t("div",{class:L(["flex items-center justify-center rounded-full text-primary-foreground",l.isRoot?"h-12 w-12 bg-primary":"h-8 w-8 bg-blue-100 dark:bg-blue-900"])},[s(e(we),{class:L(l.isRoot?"h-6 w-6":"h-4 w-4 text-blue-600 dark:text-blue-400")},null,8,["class"])],2),t("div",br,[t("div",{class:L(["font-medium truncate",l.isRoot?"font-semibold":"text-xs"])},n(l.node.name),3),t("div",{class:L(["text-muted-foreground truncate",l.isRoot?"text-xs":"text-[10px]"])},n(l.node.email),3),t("div",yr,[l.node.position==="left"?(r(),P(e(T),{key:0,variant:"secondary",class:L(l.isRoot?"text-xs":"text-[10px]")},{default:a(()=>[...w[5]||(w[5]=[o(" Kiri ",-1)])]),_:1},8,["class"])):l.node.position==="right"?(r(),P(e(T),{key:1,variant:"secondary",class:L(l.isRoot?"text-xs":"text-[10px]")},{default:a(()=>[...w[6]||(w[6]=[o(" Kanan ",-1)])]),_:1},8,["class"])):C("",!0),s(e(T),{variant:"outline",class:L(l.isRoot?"text-xs":"text-[10px]")},{default:a(()=>[o(" L"+n(l.node.level),1)]),_:1},8,["class"])])])],2)],2)):l.node.member_id>0?(r(),p("div",{key:1,class:L(["rounded-lg border-2 border-dashed bg-muted/50 hover:bg-muted hover:border-primary/50 transition-all cursor-pointer group",l.isRoot?"px-6 py-4":"px-3 py-2"]),onClick:w[0]||(w[0]=y=>u(l.node.member_id,l.node.position))},[t("div",kr,[s(e(oe),{class:L(["mx-auto mb-1 text-muted-foreground group-hover:text-primary",l.isRoot?"w-6 h-6":"w-4 h-4"])},null,8,["class"]),t("div",{class:L(["text-muted-foreground group-hover:text-primary",l.isRoot?"text-sm":"text-[10px]"])},n(l.isRoot?"Tempatkan Member":"Tambah"),3)])],2)):(r(),p("div",{key:2,class:L(["rounded-lg border-2 border-dashed bg-muted/30",l.isRoot?"px-6 py-4":"px-3 py-2"])},[t("div",{class:L(["text-center text-muted-foreground",l.isRoot?"text-sm":"text-[10px]"])}," - ",2)],2))]),l.node.name&&c?(r(),p("div",{key:0,class:L(["flex justify-center gap-4 mb-4",l.isRoot&&"gap-16 mb-6"])},[t("div",{class:L(l.isRoot?"w-64":"w-36")},[l.node.left?(r(),P(m,{key:0,node:l.node.left,"is-root":!1,"max-level":l.maxLevel,onOpenPlacement:w[1]||(w[1]=(y,g)=>b.$emit("open-placement",y,g))},null,8,["node","max-level"])):(r(),p("div",_r,[t("div",{class:L(["rounded-lg border-2 border-dashed bg-muted/50 hover:bg-muted hover:border-primary/50 transition-all cursor-pointer group",l.isRoot?"px-6 py-4":"px-3 py-2"]),onClick:w[2]||(w[2]=y=>u(l.node.member_id,"left"))},[t("div",wr,[s(e(oe),{class:L(["mx-auto mb-1 text-muted-foreground group-hover:text-primary",l.isRoot?"w-6 h-6":"w-4 h-4"])},null,8,["class"]),t("div",{class:L(["text-muted-foreground group-hover:text-primary",l.isRoot?"text-sm":"text-[10px]"])}," Tambah ",2)])],2)]))],2),t("div",{class:L(l.isRoot?"w-64":"w-36")},[l.node.right?(r(),P(m,{key:0,node:l.node.right,"is-root":!1,"max-level":l.maxLevel,onOpenPlacement:w[3]||(w[3]=(y,g)=>b.$emit("open-placement",y,g))},null,8,["node","max-level"])):(r(),p("div",hr,[t("div",{class:L(["rounded-lg border-2 border-dashed bg-muted/50 hover:bg-muted hover:border-primary/50 transition-all cursor-pointer group",l.isRoot?"px-6 py-4":"px-3 py-2"]),onClick:w[4]||(w[4]=y=>u(l.node.member_id,"right"))},[t("div",$r,[s(e(oe),{class:L(["mx-auto mb-1 text-muted-foreground group-hover:text-primary",l.isRoot?"w-6 h-6":"w-4 h-4"])},null,8,["class"]),t("div",{class:L(["text-muted-foreground group-hover:text-primary",l.isRoot?"text-sm":"text-[10px]"])}," Tambah ",2)])],2)]))],2)],2)):C("",!0)])}}}),Pr={class:"space-y-6"},Sr={class:"grid gap-4 md:grid-cols-3"},Rr={class:"text-2xl font-bold"},jr={class:"text-2xl font-bold text-blue-600"},Mr={class:"text-2xl font-bold text-green-600"},Tr={class:"overflow-x-auto pb-4"},Dr={class:"min-w-max"},Ar={class:"font-semibold"},Br={class:"flex-1 overflow-y-auto py-4"},Vr={key:0,class:"text-center py-12 text-muted-foreground"},Lr={key:1,class:"space-y-2"},Ur=["onClick"],Ir={class:"flex items-start justify-between"},Er={class:"flex-1"},Nr={class:"flex items-center gap-2 mb-1"},Or={class:"font-semibold"},Kr={class:"space-y-0.5 text-sm text-muted-foreground"},Fr={key:0},zr={class:"text-xs"},Gr={key:0,class:"ml-3"},ue=15,qr=q({__name:"BinaryTreeTab",props:{binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},passiveMembers:{}},setup(l){const f=l,i=D(!1),d=D(null),k=D(null),u=D(null),c=D(!1),b=(V,x,M,W)=>{if(W>ue)return null;if(V){const ne=W<ue;return{...V,left:ne?b(V.left||null,V.member_id,"left",W+1):void 0,right:ne?b(V.right||null,V.member_id,"right",W+1):void 0}}return null},w=E(()=>b(f.binaryTree,null,null,f.binaryTree.level)||f.binaryTree),m=(V,x)=>{d.value=V,k.value=x,u.value=null,i.value=!0},y=()=>{i.value=!1,d.value=null,k.value=null,u.value=null},g=V=>{u.value=V},v=()=>{if(!u.value||!k.value){j.error("Pilih member terlebih dahulu");return}c.value=!0,ae.post("/client/profile/place-member",{member_id:u.value.id,position:k.value},{onSuccess:()=>{j.success(`${u.value?.name} berhasil ditempatkan di posisi ${k.value}`),y()},onError:V=>{const x=V.error||"Gagal menempatkan member ke binary tree";j.error(x)},onFinish:()=>{c.value=!1}})},B=V=>new Date(V).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"});return(V,x)=>(r(),p(F,null,[t("div",Pr,[t("div",Sr,[s(e(N),null,{default:a(()=>[s(e(z),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(G),{class:"text-sm font-medium"},{default:a(()=>[...x[0]||(x[0]=[o("Total Jaringan",-1)])]),_:1}),s(e(et),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(e(O),null,{default:a(()=>[t("div",Rr,n(l.totalDownlines),1),x[1]||(x[1]=t("p",{class:"text-xs text-muted-foreground"},"Member aktif di jaringan Anda",-1))]),_:1})]),_:1}),s(e(N),null,{default:a(()=>[s(e(z),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(G),{class:"text-sm font-medium"},{default:a(()=>[...x[2]||(x[2]=[o("Kaki Kiri",-1)])]),_:1}),s(e(Oe),{class:"h-4 w-4 text-blue-600"})]),_:1}),s(e(O),null,{default:a(()=>[t("div",jr,n(l.totalLeft),1),x[3]||(x[3]=t("p",{class:"text-xs text-muted-foreground"},"Member di posisi kiri",-1))]),_:1})]),_:1}),s(e(N),null,{default:a(()=>[s(e(z),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(G),{class:"text-sm font-medium"},{default:a(()=>[...x[4]||(x[4]=[o("Kaki Kanan",-1)])]),_:1}),s(e(Oe),{class:"h-4 w-4 text-green-600"})]),_:1}),s(e(O),null,{default:a(()=>[t("div",Mr,n(l.totalRight),1),x[5]||(x[5]=t("p",{class:"text-xs text-muted-foreground"},"Member di posisi kanan",-1))]),_:1})]),_:1})]),s(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),null,{default:a(()=>[...x[6]||(x[6]=[o("Struktur Binary Tree",-1)])]),_:1}),s(e(le),null,{default:a(()=>[o(" Visualisasi jaringan MLM binary tree Anda (maksimal "+n(ue)+" level) ")]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",Tr,[t("div",Dr,[s(Cr,{node:w.value,"is-root":!0,"max-level":ue,onOpenPlacement:m},null,8,["node"]),t("div",{class:"mt-6 p-4 rounded-lg bg-muted/50 text-center"},[t("p",{class:"text-sm text-muted-foreground"},"  Tree menampilkan maksimal "+n(ue)+" level untuk performa optimal ")])])])]),_:1})]),_:1})]),s(e(ke),{open:i.value,"onUpdate:open":y},{default:a(()=>[s(e(ve),{class:"sm:max-w-2xl max-h-[80vh] overflow-hidden flex flex-col"},{default:a(()=>[s(e(ge),null,{default:a(()=>[s(e(be),null,{default:a(()=>[...x[7]||(x[7]=[o("Pilih Member untuk Ditempatkan",-1)])]),_:1}),s(e(ye),null,{default:a(()=>[x[8]||(x[8]=o(" Pilih member pasif untuk ditempatkan di posisi ",-1)),t("span",Ar,n(k.value==="left"?"Kiri":"Kanan"),1)]),_:1})]),_:1}),t("div",Br,[l.passiveMembers.length===0?(r(),p("div",Vr,[s(e(oe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),x[9]||(x[9]=t("p",null,"Tidak ada member pasif",-1)),x[10]||(x[10]=t("p",{class:"text-sm mt-2"},"Semua member sudah ditempatkan di binary tree",-1))])):(r(),p("div",Lr,[(r(!0),p(F,null,X(l.passiveMembers,M=>(r(),p("button",{key:M.id,type:"button",class:L(["w-full p-4 rounded-lg border-2 text-left transition-all",u.value?.id===M.id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"]),onClick:W=>g(M)},[t("div",Ir,[t("div",Er,[t("div",Nr,[t("h4",Or,n(M.name),1),M.has_purchase?(r(),P(e(T),{key:0,variant:"default",class:"text-xs"},{default:a(()=>[...x[11]||(x[11]=[o(" Ada Pembelian ",-1)])]),_:1})):(r(),P(e(T),{key:1,variant:"secondary",class:"text-xs"},{default:a(()=>[...x[12]||(x[12]=[o(" Belum Belanja ",-1)])]),_:1}))]),t("div",Kr,[t("p",null,n(M.email),1),M.phone?(r(),p("p",Fr,n(M.phone),1)):C("",!0),t("p",zr,"Bergabung: "+n(B(M.joined_at)),1)])]),u.value?.id===M.id?(r(),p("div",Gr,[...x[13]||(x[13]=[t("div",{class:"flex h-6 w-6 items-center justify-center rounded-full bg-primary text-primary-foreground"},[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):C("",!0)])],10,Ur))),128))]))]),s(e(_e),null,{default:a(()=>[s(e(I),{variant:"outline",onClick:y,disabled:c.value},{default:a(()=>[...x[14]||(x[14]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{onClick:v,disabled:!u.value||c.value},{default:a(()=>[o(n(c.value?"Memproses...":"Tempatkan Member"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Wr={class:"space-y-4 sm:space-y-6"},Jr={class:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},Hr={class:"text-xl sm:text-2xl font-bold truncate"},Zr={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Xr={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Qr={class:"text-xl sm:text-2xl font-bold truncate"},Yr={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},eo={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},to={class:"text-xl sm:text-2xl font-bold truncate"},so={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ao={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},lo={class:"text-xl sm:text-2xl font-bold truncate"},no={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ro={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},oo={class:"text-xl sm:text-2xl font-bold truncate"},io={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},uo={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},mo={class:"text-xl sm:text-2xl font-bold truncate"},co={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},po={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},fo={class:"text-xl sm:text-2xl font-bold truncate"},xo={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},vo={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},go={class:"text-xl sm:text-2xl font-bold text-primary truncate"},bo={class:"w-full text-center overflow-x-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] -mx-2 px-2 sm:mx-0 sm:px-0",style:{"-webkit-overflow-scrolling":"touch"}},yo={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},ko={key:1,class:"space-y-1.5 sm:space-y-3"},_o={class:"flex-1 min-w-0"},wo={class:"flex flex-wrap items-center gap-1 sm:gap-2"},ho={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},$o={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Co={key:0,class:"block sm:inline"},Po={class:"block sm:inline sm:ml-1"},So={class:"text-left sm:text-right flex-shrink-0"},Ro={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},jo={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Mo={key:1,class:"space-y-1.5 sm:space-y-3"},To={class:"flex-1 min-w-0"},Do={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Ao={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Bo={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Vo={key:0,class:"block sm:inline"},Lo={class:"block sm:inline sm:ml-2"},Uo={class:"text-left sm:text-right flex-shrink-0"},Io={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Eo={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},No={key:1,class:"space-y-3"},Oo={class:"flex-1 min-w-0"},Ko={class:"flex flex-wrap items-center gap-2"},Fo={class:"text-xs sm:text-sm font-medium break-words"},zo={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Go={class:"text-left sm:text-right flex-shrink-0"},qo={class:"text-base sm:text-lg font-bold text-green-600"},Wo={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Jo={key:1,class:"space-y-1.5 sm:space-y-3"},Ho={class:"flex-1 min-w-0"},Zo={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Xo={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Qo={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Yo={key:0,class:"block sm:inline"},ei={class:"block sm:inline sm:ml-1"},ti={class:"text-left sm:text-right flex-shrink-0"},si={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},ai={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},li={key:1,class:"space-y-1.5 sm:space-y-3"},ni={class:"flex-1 min-w-0"},ri={class:"flex flex-wrap items-center gap-1 sm:gap-2"},oi={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},ii={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},di={class:"text-left sm:text-right flex-shrink-0"},ui={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},mi={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},ci={key:1,class:"space-y-1.5 sm:space-y-3"},pi={class:"flex-1 min-w-0"},fi={class:"flex flex-wrap items-center gap-1 sm:gap-2"},xi={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},vi={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},gi={key:0,class:"block sm:inline"},bi={class:"block sm:inline sm:ml-1"},yi={class:"text-left sm:text-right flex-shrink-0"},ki={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},_i={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},wi={key:1,class:"space-y-1.5 sm:space-y-3"},hi={class:"flex-1 min-w-0"},$i={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Ci={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Pi={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Si={class:"block sm:inline"},Ri={class:"block sm:inline sm:ml-1"},ji={class:"text-left sm:text-right flex-shrink-0"},Mi={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Ti=q({__name:"BonusTab",props:{bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{}},setup(l){const f=l,i=$=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format($),d=$=>new Date($).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),k=E(()=>f.bonusSponsors.reduce(($,h)=>$+h.amount,0)),u=E(()=>f.bonusMatchings.reduce(($,h)=>$+h.amount,0)),c=E(()=>f.bonusPairings.reduce(($,h)=>$+h.amount,0)),b=E(()=>f.bonusCashbacks.reduce(($,h)=>$+h.amount,0)),w=E(()=>f.bonusRewards.reduce(($,h)=>$+h.amount,0)),m=E(()=>f.bonusSponsors.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),y=E(()=>f.bonusSponsors.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),g=E(()=>f.bonusMatchings.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),v=E(()=>f.bonusMatchings.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),B=E(()=>f.bonusPairings.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),V=E(()=>f.bonusPairings.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),x=E(()=>f.bonusCashbacks.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),M=E(()=>f.bonusCashbacks.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),W=E(()=>f.bonusRewards.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),ne=E(()=>f.bonusRewards.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),Y=E(()=>f.bonusRetails.reduce(($,h)=>$+h.amount,0)),U=E(()=>f.bonusRetails.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),J=E(()=>f.bonusRetails.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),A=E(()=>f.bonusLifetimeCashRewards.reduce(($,h)=>$+h.amount,0)),_=E(()=>f.bonusLifetimeCashRewards.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),S=E(()=>f.bonusLifetimeCashRewards.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),ee=E(()=>k.value+u.value+c.value+b.value+w.value+Y.value+A.value);return($,h)=>(r(),p("div",Wr,[t("div",Jr,[s(e(N),null,{default:a(()=>[s(e(z),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(G),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(et),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),h[0]||(h[0]=t("span",{class:"truncate"},"Referral Incentive",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",Hr,n(i(k.value)),1),t("p",Zr,n(l.bonusSponsors.length)+" transaksi ",1),t("div",Xr,[s(e(T),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(m.value)),1)]),_:1}),s(e(T),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(y.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(N),null,{default:a(()=>[s(e(z),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(G),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(kt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"}),h[1]||(h[1]=t("span",{class:"truncate"},"Team Affiliate Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",Qr,n(i(u.value)),1),t("p",Yr,n(l.bonusMatchings.length)+" transaksi ",1),t("div",eo,[s(e(T),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(g.value)),1)]),_:1}),s(e(T),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(v.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(N),null,{default:a(()=>[s(e(z),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(G),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(_t),{class:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),h[2]||(h[2]=t("span",{class:"truncate"},"Partner Team Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",to,n(i(c.value)),1),t("p",so,n(l.bonusPairings.length)+" transaksi ",1),t("div",ao,[s(e(T),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(B.value)),1)]),_:1}),s(e(T),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(V.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(N),null,{default:a(()=>[s(e(z),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(G),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(wt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-orange-500 flex-shrink-0"}),h[3]||(h[3]=t("span",{class:"truncate"},"Cashback Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",lo,n(i(b.value)),1),t("p",no,n(l.bonusCashbacks.length)+" transaksi ",1),t("div",ro,[s(e(T),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(x.value)),1)]),_:1}),s(e(T),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(M.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(N),null,{default:a(()=>[s(e(z),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(G),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(We),{class:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 flex-shrink-0"}),h[4]||(h[4]=t("span",{class:"truncate"},"Promotions Rewards",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",oo,n(i(w.value)),1),t("p",io,n(l.bonusRewards.length)+" transaksi ",1),t("div",uo,[s(e(T),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(W.value)),1)]),_:1}),s(e(T),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(ne.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(N),null,{default:a(()=>[s(e(z),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(G),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ht),{class:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-500 flex-shrink-0"}),h[5]||(h[5]=t("span",{class:"truncate"},"Retail Commission",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",mo,n(i(Y.value)),1),t("p",co,n(l.bonusRetails.length)+" transaksi ",1),t("div",po,[s(e(T),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(U.value)),1)]),_:1}),s(e(T),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(J.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(N),null,{default:a(()=>[s(e(z),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(G),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ee),{class:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"}),h[6]||(h[6]=t("span",{class:"truncate"},"Lifetime Cash Rewards",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",fo,n(i(A.value)),1),t("p",xo,n(l.bonusLifetimeCashRewards.length)+" transaksi ",1),t("div",vo,[s(e(T),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(_.value)),1)]),_:1}),s(e(T),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(S.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(N),null,{default:a(()=>[s(e(z),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(G),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(tt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"}),h[7]||(h[7]=t("span",{class:"truncate"},"Total Bonus",-1))]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[t("div",go,n(i(ee.value)),1),h[8]||(h[8]=t("p",{class:"text-[10px] sm:text-xs text-muted-foreground mt-1"}," Semua jenis bonus ",-1))]),_:1})]),_:1})]),s(e(N),null,{default:a(()=>[s(e(z),{class:"p-2 sm:p-4 md:p-6 pb-2"},{default:a(()=>[s(e(G),{class:"text-xs sm:text-base md:text-lg"},{default:a(()=>[...h[9]||(h[9]=[o("Riwayat Bonus",-1)])]),_:1}),s(e(le),{class:"text-[9px] sm:text-xs md:text-sm"},{default:a(()=>[...h[10]||(h[10]=[o(" Detail transaksi bonus ",-1)])]),_:1})]),_:1}),s(e(O),{class:"p-2 sm:p-4 md:p-6 pt-0"},{default:a(()=>[s(e(Ue),{"default-value":"sponsor",class:"w-full"},{default:a(()=>[t("div",bo,[s(e(Ie),{class:"flex w-max sm:grid sm:w-full sm:grid-cols-7 gap-0.5 sm:gap-1 h-7 sm:h-auto bg-muted/30"},{default:a(()=>[s(e(H),{value:"sponsor",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[11]||(h[11]=[o(" Referral ",-1)])]),_:1}),s(e(H),{value:"matching",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[12]||(h[12]=[o(" Team Aff. ",-1)])]),_:1}),s(e(H),{value:"pairing",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[13]||(h[13]=[o(" Partner ",-1)])]),_:1}),s(e(H),{value:"cashback",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[14]||(h[14]=[o(" Cashback ",-1)])]),_:1}),s(e(H),{value:"reward",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[15]||(h[15]=[o(" Rewards ",-1)])]),_:1}),s(e(H),{value:"retail",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[16]||(h[16]=[o(" Retail ",-1)])]),_:1}),s(e(H),{value:"lifetime",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[17]||(h[17]=[o(" Lifetime ",-1)])]),_:1})]),_:1})]),s(e(Z),{value:"sponsor",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusSponsors.length===0?(r(),p("div",yo," Belum ada bonus referral incentive ")):(r(),p("div",ko,[(r(!0),p(F,null,X(l.bonusSponsors,R=>(r(),p("div",{key:R.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",_o,[t("div",wo,[s(e(T),{variant:R.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(R.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",ho,n(R.description||"Bonus Sponsor"),1)]),t("p",$o,[R.from_member?(r(),p("span",Co," Dari: "+n(R.from_member.name),1)):C("",!0),t("span",Po,n(d(R.created_at)),1)])]),t("div",So,[t("div",Ro,n(i(R.amount)),1)])]))),128))]))]),_:1}),s(e(Z),{value:"matching",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusMatchings.length===0?(r(),p("div",jo," Belum ada bonus team affiliate commission ")):(r(),p("div",Mo,[(r(!0),p(F,null,X(l.bonusMatchings,R=>(r(),p("div",{key:R.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",To,[t("div",Do,[s(e(T),{variant:R.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(R.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(T),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(" L"+n(R.level),1)]),_:2},1024),t("span",Ao,n(R.description||"Bonus Matching"),1)]),t("p",Bo,[R.from_member?(r(),p("span",Vo," Dari: "+n(R.from_member.name),1)):C("",!0),t("span",Lo,n(d(R.created_at)),1)])]),t("div",Uo,[t("div",Io,n(i(R.amount)),1)])]))),128))]))]),_:1}),s(e(Z),{value:"pairing",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusPairings.length===0?(r(),p("div",Eo," Belum ada bonus partner team commission ")):(r(),p("div",No,[(r(!0),p(F,null,X(l.bonusPairings,R=>(r(),p("div",{key:R.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Oo,[t("div",Ko,[s(e(T),{variant:R.status===1?"secondary":"outline",class:"text-xs"},{default:a(()=>[o(n(R.status===1?"Released":"Pending"),1)]),_:2},1032,["variant"]),s(e(T),{variant:"outline",class:"text-xs"},{default:a(()=>[o(n(R.pair)+" Pairs ",1)]),_:2},1024),t("span",Fo,n(R.description||"Bonus Pairing"),1)]),t("p",zo,n(d(R.created_at)),1)]),t("div",Go,[t("div",qo,n(i(R.amount)),1)])]))),128))]))]),_:1}),s(e(Z),{value:"cashback",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusCashbacks.length===0?(r(),p("div",Wo," Belum ada bonus cashback commission ")):(r(),p("div",Jo,[(r(!0),p(F,null,X(l.bonusCashbacks,R=>(r(),p("div",{key:R.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Ho,[t("div",Zo,[s(e(T),{variant:R.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(R.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",Xo,n(R.description||"Bonus Cashback"),1)]),t("p",Qo,[h[18]||(h[18]=o('eground mt-0.5"> ',-1)),R.order_id?(r(),p("span",Yo," #"+n(R.order_id),1)):C("",!0),t("span",ei,n(d(R.created_at)),1)])]),t("div",ti,[t("div",si,n(i(R.amount)),1)])]))),128))]))]),_:1}),s(e(Z),{value:"reward",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRewards.length===0?(r(),p("div",ai," Belum ada promotions rewards ")):(r(),p("div",li,[(r(!0),p(F,null,X(l.bonusRewards,R=>(r(),p("div",{key:R.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",ni,[t("div",ri,[s(e(T),{variant:R.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(R.status===1?"R":"P"),1)]),_:2},1032,["variant"]),R.reward_type?(r(),P(e(T),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(R.reward_type),1)]),_:2},1024)):C("",!0),t("span",oi,n(R.description||"Promotions Reward"),1)]),t("p",ii,n(d(R.created_at)),1)]),t("div",di,[t("div",ui,n(i(R.amount)),1)])]))),128))]))]),_:1}),s(e(Z),{value:"retail",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRetails.length===0?(r(),p("div",mi," Belum ada bonus retail commission ")):(r(),p("div",ci,[(r(!0),p(F,null,X(l.bonusRetails,R=>(r(),p("div",{key:R.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",pi,[t("div",fi,[s(e(T),{variant:R.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(R.status===1?"R":"P"),1)]),_:2},1032,["variant"]),R.index_value?(r(),P(e(T),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(" IDX: "+n(R.index_value),1)]),_:2},1024)):C("",!0),t("span",xi,n(R.description||"Retail Commission"),1)]),t("p",vi,[R.from_member?(r(),p("span",gi," Dari: "+n(R.from_member.name),1)):C("",!0),t("span",bi,n(d(R.created_at)),1)])]),t("div",yi,[t("div",ki,n(i(R.amount)),1)])]))),128))]))]),_:1}),s(e(Z),{value:"lifetime",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusLifetimeCashRewards.length===0?(r(),p("div",_i," Belum ada lifetime cash rewards ")):(r(),p("div",wi,[(r(!0),p(F,null,X(l.bonusLifetimeCashRewards,R=>(r(),p("div",{key:R.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",hi,[t("div",$i,[s(e(T),{variant:R.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(R.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(T),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(R.reward_name),1)]),_:2},1024),t("span",Ci,n(R.description||"Lifetime Cash Reward"),1)]),t("p",Pi,[t("span",Si," Reward: "+n(i(R.reward))+" | BV: "+n(R.bv),1),t("span",Ri,n(d(R.created_at)),1)])]),t("div",ji,[t("div",Mi,n(i(R.amount)),1)])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Di={class:"flex items-center justify-between"},Ai={class:"font-semibold"},Bi={class:"flex items-center justify-between"},Vi={class:"font-semibold"},Li={class:"flex items-center justify-between"},Ui={key:0,class:"space-y-2"},Ii={class:"flex items-center gap-2"},Ei={class:"text-sm font-medium"},Ni={class:"text-xs text-gray-500 dark:text-gray-400"},Oi={key:1,class:"space-y-2"},Ki={class:"flex items-center gap-2"},Fi={class:"text-sm font-medium"},zi={class:"text-xs text-gray-500 dark:text-gray-400"},Gi=q({__name:"NetworkStatsCard",props:{customer:{}},setup(l){return(f,i)=>(r(),P(e(N),null,{default:a(()=>[s(e(z),null,{default:a(()=>[s(e(G),{class:"flex items-center gap-2"},{default:a(()=>[s(e(st),{class:"w-5 h-5"}),i[0]||(i[0]=o(" Statistik Jaringan ",-1))]),_:1})]),_:1}),s(e(O),{class:"space-y-3"},{default:a(()=>[t("div",Di,[i[1]||(i[1]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kiri",-1)),t("span",Ai,n(l.customer.network_stats.left_count),1)]),s(e(te)),t("div",Bi,[i[2]||(i[2]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kanan",-1)),t("span",Vi,n(l.customer.network_stats.right_count),1)]),s(e(te)),t("div",Li,[i[3]||(i[3]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Downline",-1)),s(e(T),{variant:"secondary"},{default:a(()=>[o(n(l.customer.network_stats.total_downlines),1)]),_:1})]),l.customer.upline||l.customer.sponsor?(r(),p(F,{key:0},[s(e(te),{class:"my-4"}),l.customer.upline?(r(),p("div",Ui,[i[4]||(i[4]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Upline",-1)),t("div",Ii,[s(e(Ve),{class:"h-8 w-8"},{default:a(()=>[s(e(Le),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${l.customer.upline.name}`},null,8,["src"])]),_:1}),t("div",null,[t("p",Ei,n(l.customer.upline.name),1),t("p",Ni,n(l.customer.upline.email),1)])])])):C("",!0),l.customer.sponsor?(r(),p("div",Oi,[i[5]||(i[5]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Sponsor",-1)),t("div",Ki,[s(e(Ve),{class:"h-8 w-8"},{default:a(()=>[s(e(Le),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${l.customer.sponsor.name}`},null,8,["src"])]),_:1}),t("div",null,[t("p",Fi,n(l.customer.sponsor.name),1),t("p",zi,n(l.customer.sponsor.email),1)])])])):C("",!0)],64)):C("",!0)]),_:1})]),_:1}))}}),qi={class:"bg-gradient-to-br from-primary/10 via-primary/5 to-background border-b"},Wi={class:"container mx-auto px-3 py-6 sm:px-4 sm:py-12 max-w-7xl"},Ji={class:"flex items-center justify-between"},Hi={class:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-background/80 backdrop-blur-sm border shadow-sm"},Zi={class:"font-semibold"},Xi={class:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-7xl"},Qi={class:"grid gap-4 sm:gap-6 lg:grid-cols-3"},Yi={class:"lg:col-span-1 space-y-4 sm:space-y-6"},ed={class:"lg:col-span-2"},td={class:"rounded-xl border bg-card overflow-hidden"},sd={class:"border-b bg-muted/30"},ad={class:"overflow-x-auto text-center overflow-y-hidden px-1.5 py-1.5 sm:px-2 sm:py-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},ld={class:"p-3 sm:p-4 md:p-6"},nd={key:1,class:"text-center py-12"},jd=q({__name:"Index",props:{customer:{},orders:{},walletTransactions:{},activeMembers:{},passiveMembers:{},prospectMembers:{},binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{},addresses:{}},setup(l){const f=l,i=Qe(),d=E(()=>Number(f.customer.status)===3),k=E(()=>{if(typeof window>"u")return"profile";const u=i.url;try{return new URL(u,window.location.origin).searchParams.get("tab")||"profile"}catch{return"profile"}});return(u,c)=>(r(),P(at,null,{default:a(()=>[s(e($t),{title:"Profile Saya"}),t("div",qi,[t("div",Wi,[t("div",Ji,[c[0]||(c[0]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-2"},"Profile Saya"),t("p",{class:"text-sm sm:text-base md:text-lg text-muted-foreground"}," Kelola informasi profil dan keamanan akun Anda ")],-1)),t("div",Hi,[s(e(we),{class:"w-5 h-5 text-primary"}),t("span",Zi,n(l.customer.name),1)])])])]),t("div",Xi,[t("div",Qi,[t("div",Yi,[s(Wt,{customer:l.customer},null,8,["customer"]),d.value?(r(),P(Gi,{key:0,customer:l.customer},null,8,["customer"])):C("",!0),s(Ss,{addresses:l.addresses},null,8,["addresses"]),d.value?(r(),P(Ds,{key:1,customer:l.customer},null,8,["customer"])):C("",!0),s(Ls,{"created-at":l.customer.created_at},null,8,["created-at"])]),t("div",ed,[t("div",td,[s(e(Ue),{"default-value":k.value,class:"w-full"},{default:a(()=>[t("div",sd,[t("div",ad,[s(e(Ie),{class:"inline-flex h-auto w-max bg-transparent gap-1 sm:gap-1.5 p-0"},{default:a(()=>[s(e(H),{value:"profile",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(we),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[1]||(c[1]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Info",-1))]),_:1}),s(e(H),{value:"orders",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(pe),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[2]||(c[2]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Order",-1))]),_:1}),d.value?(r(),P(e(H),{key:0,value:"network",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(st),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[3]||(c[3]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Mitra",-1))]),_:1})):C("",!0),d.value?(r(),P(e(H),{key:1,value:"binary",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ce),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[4]||(c[4]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Network",-1))]),_:1})):C("",!0),d.value?(r(),P(e(H),{key:2,value:"bonus",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(tt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[5]||(c[5]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Bonus",-1))]),_:1})):C("",!0),s(e(H),{value:"wallet",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ye),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[6]||(c[6]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Wallet",-1))]),_:1}),s(e(H),{value:"security",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Be),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[7]||(c[7]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lock",-1))]),_:1}),s(e(H),{value:"danger",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ie),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[8]||(c[8]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Del",-1))]),_:1})]),_:1})])]),t("div",ld,[s(e(Z),{value:"profile",class:"mt-0"},{default:a(()=>[s(Hs,{customer:l.customer},null,8,["customer"])]),_:1}),s(e(Z),{value:"orders",class:"mt-0"},{default:a(()=>[s(hl,{orders:l.orders},null,8,["orders"])]),_:1}),d.value?(r(),P(e(Z),{key:0,value:"network",class:"mt-0"},{default:a(()=>[s(vr,{"active-members":l.activeMembers,"passive-members":l.passiveMembers,"prospect-members":l.prospectMembers},null,8,["active-members","passive-members","prospect-members"])]),_:1})):C("",!0),d.value?(r(),P(e(Z),{key:1,value:"binary",class:"mt-0"},{default:a(()=>[l.binaryTree?(r(),P(qr,{key:0,"binary-tree":l.binaryTree,"total-downlines":l.totalDownlines,"total-left":l.totalLeft,"total-right":l.totalRight,"passive-members":l.passiveMembers},null,8,["binary-tree","total-downlines","total-left","total-right","passive-members"])):(r(),p("div",nd,[s(e(ce),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c[9]||(c[9]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Jaringan Binary",-1)),c[10]||(c[10]=t("p",{class:"text-muted-foreground"}," Anda belum memiliki posisi dalam jaringan binary tree MLM. ",-1))]))]),_:1})):C("",!0),d.value?(r(),P(e(Z),{key:2,value:"bonus",class:"mt-0"},{default:a(()=>[s(Ti,{"bonus-sponsors":l.bonusSponsors,"bonus-matchings":l.bonusMatchings,"bonus-pairings":l.bonusPairings,"bonus-cashbacks":l.bonusCashbacks,"bonus-rewards":l.bonusRewards,"bonus-retails":l.bonusRetails,"bonus-lifetime-cash-rewards":l.bonusLifetimeCashRewards},null,8,["bonus-sponsors","bonus-matchings","bonus-pairings","bonus-cashbacks","bonus-rewards","bonus-retails","bonus-lifetime-cash-rewards"])]),_:1})):C("",!0),s(e(Z),{value:"wallet",class:"mt-0"},{default:a(()=>[s(hn,{customer:l.customer,transactions:l.walletTransactions},null,8,["customer","transactions"])]),_:1}),s(e(Z),{value:"security",class:"mt-0"},{default:a(()=>[s(An)]),_:1}),s(e(Z),{value:"danger",class:"mt-0"},{default:a(()=>[s(Un)]),_:1})])]),_:1},8,["default-value"])])])])])]),_:1}))}});export{jd as default};
