import{_ as Je,a as He,b as ee,c as te}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-DbyjjjN8.js";import{_ as pt}from"./Ecommerce.vue_vue_type_script_setup_true_lang-Dn2ymvG3.js";import{d as J,r as D,p as E,c as S,g as o,u as e,w as a,b as s,e as t,s as r,K as l,cx as ie,aM as pe,bu as xt,cN as ft,dg as gt,Q as M,E as Se,v as c,M as fe,Y as vt,F as G,x as se,J as A,t as k,aX as bt,$ as yt,z as Ee,h as ne,j as me,D as de,d6 as kt,du as _t,dv as tt,cu as ht,de as wt,aH as Re,aE as ge,aD as $t,ds as Pt,ad as Me,L as Ne,a2 as be,aj as Ct,C as St,aN as Xe,dw as st,dx as Rt,a3 as jt,dy as at,dz as lt,o as Ye,aG as nt,ap as ot,da as Ke,ao as Te,dq as De,cy as Ze,cw as Ve,cZ as ce,dA as ve,dB as Mt,d5 as Tt,aq as rt,as as Qe,dC as Dt,dj as Vt,dD as At,aC as Bt,dE as Lt,dF as Ut,at as It,dG as Et,a1 as Nt,ar as it,dH as dt,a0 as Kt}from"./vendor-DGO3ezSh.js";import{_ as Oe,a as Ot}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-BCTRkhoz.js";import{_ as ze}from"./AvatarImage.vue_vue_type_script_setup_true_lang-IyrdkPzY.js";import{_ as V}from"./index-Dh_LIAYg.js";import{_ as z,a as F}from"./CardContent.vue_vue_type_script_setup_true_lang-Bn_j05SD.js";import{_ as I}from"./index-p1XqrTaB.js";import{_ as q}from"./CardHeader.vue_vue_type_script_setup_true_lang-CXiZUsYP.js";import{_ as W}from"./CardTitle.vue_vue_type_script_setup_true_lang-C8sdAIK-.js";import{a as ke,b as _e,c as he,d as we,_ as $e}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C_P63gaN.js";import{_ as Pe}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CPRgfznK.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-BOQ98pUO.js";import{_ as O}from"./Label.vue_vue_type_script_setup_true_lang-DhaSprrA.js";import{_ as ye}from"./Textarea.vue_vue_type_script_setup_true_lang-z-HimzkJ.js";import{_ as zt}from"./Switch.vue_vue_type_script_setup_true_lang-BcJu8ILj.js";import{_ as le}from"./Separator.vue_vue_type_script_setup_true_lang-Dk-7dO75.js";import{_ as Fe,a as Ge,b as qe,c as We,d as je}from"./SelectValue.vue_vue_type_script_setup_true_lang-Dp0JlaKf.js";import{_ as oe}from"./CardDescription.vue_vue_type_script_setup_true_lang-DX-GJzuo.js";import{f as Ft,g as Gt,h as qt,i as Wt,j as Jt}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CBMnmEAQ.js";import{_ as Ae,a as Be,b as Le}from"./index-BFeJnJOI.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BBoe3Ojv.js";import"./app-Bd-bbTlF.js";function xe(){return{formatCurrency:u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(u),formatDate:u=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(u)),getStatusLabel:u=>({pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",delivered:"Selesai",cancelled:"Dibatalkan"})[u]||u,getTransactionTypeLabel:u=>({topup:"Top Up",withdrawal:"Penarikan",bonus:"Bonus",purchase:"Pembelian",refund:"Refund"})[u]||u,getTransactionStatusLabel:u=>({pending:"Menunggu",completed:"Selesai",failed:"Gagal",cancelled:"Dibatalkan"})[u]||u}}const Ht={class:"flex flex-col items-center text-center"},Xt={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Yt={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Zt={class:"mt-4 w-full space-y-2 text-sm"},Qt={class:"space-y-1.5"},es={class:"flex items-center justify-between"},ts={class:"flex gap-1"},ss={class:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},as={class:"flex items-center justify-between"},ls={class:"font-mono font-semibold"},ns={class:"text-[10px] text-gray-500 dark:text-gray-400 mt-1 break-all"},os={class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},rs={class:"font-mono font-semibold"},is={class:"flex items-center justify-between p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},ds={class:"font-semibold text-emerald-700 dark:text-emerald-400"},us=J({__name:"ProfileCard",props:{customer:{}},setup(n){const x=n,{formatCurrency:i}=xe(),m=D(!1),b=E(()=>x.customer.name.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2)),u=E(()=>typeof window>"u"?"":`${window.location.origin}/client/register?ref=${x.customer.ref_code}`),p=async()=>{if(typeof window>"u"||!navigator.clipboard){M.error("Tidak dapat menyalin link ke clipboard");return}try{await navigator.clipboard.writeText(u.value),m.value=!0,M.success("Link referral telah disalin ke clipboard"),setTimeout(()=>{m.value=!1},2e3)}catch{M.error("Tidak dapat menyalin link ke clipboard")}},w=async()=>{if(typeof window>"u")return;const j={title:"Bergabung dengan Referral Saya",text:`Gunakan kode referral saya: ${x.customer.ref_code}`,url:u.value};if(navigator.share)try{await navigator.share(j),M.success("Link referral berhasil dibagikan")}catch(d){d.name!=="AbortError"&&console.error("Error sharing:",d)}else await p()};return(j,d)=>(o(),S(e(z),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",Ht,[s(e(Oe),{class:"h-24 w-24 mb-4"},{default:a(()=>[s(e(ze),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${n.customer.name}`},null,8,["src"]),s(e(Ot),null,{default:a(()=>[r(l(b.value),1)]),_:1})]),_:1}),t("h2",Xt,l(n.customer.name),1),t("p",Yt,l(n.customer.email),1),n.customer.email_verified_at?(o(),S(e(V),{key:0,class:"mt-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100"},{default:a(()=>[s(e(ie),{class:"w-3 h-3 mr-1"}),d[0]||(d[0]=r(" Email Terverifikasi ",-1))]),_:1})):(o(),S(e(V),{key:1,variant:"secondary",class:"mt-3"},{default:a(()=>[s(e(pe),{class:"w-3 h-3 mr-1"}),d[1]||(d[1]=r(" Email Belum Terverifikasi ",-1))]),_:1})),t("div",Zt,[t("div",Qt,[t("div",es,[d[3]||(d[3]=t("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Referral Link",-1)),t("div",ts,[s(e(I),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:p},{default:a(()=>[m.value?(o(),S(e(xt),{key:0,class:"w-3 h-3 mr-1"})):(o(),S(e(ft),{key:1,class:"w-3 h-3 mr-1"})),r(" "+l(m.value?"Tersalin":"Salin"),1)]),_:1}),s(e(I),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:w},{default:a(()=>[s(e(gt),{class:"w-3 h-3 mr-1"}),d[2]||(d[2]=r(" Bagikan ",-1))]),_:1})])]),t("div",ss,[t("div",as,[d[4]||(d[4]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Kode Referral",-1)),t("span",ls,l(n.customer.ref_code),1)]),t("p",ns,l(u.value),1)])]),t("div",os,[d[5]||(d[5]=t("span",{class:"text-gray-600 dark:text-gray-400"},"E-Wallet ID",-1)),t("span",rs,l(n.customer.ewallet_id),1)]),t("div",is,[d[6]||(d[6]=t("span",{class:"text-emerald-700 dark:text-emerald-400"},"Saldo",-1)),t("span",ds,l(e(i)(n.customer.ewallet_saldo)),1)])])])]),_:1})]),_:1}))}}),ms={class:"flex items-center justify-between"},cs={key:0,class:"text-center py-12 text-muted-foreground"},ps={key:1,class:"space-y-4"},xs={class:"flex items-start gap-3 mb-3"},fs={class:"flex-1 min-w-0"},gs={class:"flex items-center gap-2 mb-1"},vs={class:"font-semibold text-sm"},bs={class:"text-sm font-medium"},ys={class:"text-xs text-muted-foreground"},ks={class:"space-y-1 mb-3"},_s={class:"text-sm"},hs={key:0,class:"text-sm text-muted-foreground"},ws={class:"text-sm text-muted-foreground"},$s={key:0},Ps={class:"text-xs text-muted-foreground"},Cs={key:1,class:"text-xs text-muted-foreground italic mt-2"},Ss={class:"flex items-center gap-2"},Rs={class:"space-y-4 py-4"},js={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ms={class:"space-y-2"},Ts={class:"flex items-center space-x-2 pt-8"},Ds={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Vs={class:"space-y-2"},As={class:"space-y-2"},Bs={class:"space-y-2"},Ls={class:"space-y-2"},Us={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Is={class:"space-y-2"},Es={class:"space-y-2"},Ns={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ks={class:"space-y-2"},Os={class:"space-y-2"},zs={class:"space-y-2"},Fs=J({__name:"AddressManagement",props:{addresses:{}},setup(n){const x=D(!1),i=D(!1),m=D(!1),b=D(!1),u=D([]),p=D([]),w=D(!1),j=D(!1),d=D(""),g=D(""),v=D({label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""}),f=D(null),R=async()=>{w.value=!0;try{const T=await ne.get("/api/shipping/provinces");u.value=T.data.data}catch(T){M.error("Gagal memuat data provinsi"),console.error("Error loading provinces:",T)}finally{w.value=!1}},N=async T=>{if(T){j.value=!0,p.value=[],g.value="";try{const y=await ne.get("/api/shipping/cities",{params:{province_id:T}});p.value=y.data.data}catch(y){M.error("Gagal memuat data kota"),console.error("Error loading cities:",y)}finally{j.value=!1}}};Se(d,T=>{if(!T)return;const y=u.value.find(P=>P.id.toString()===T);y&&(v.value.province_id=parseInt(T),v.value.province_label=y.name,N(T))}),Se(g,T=>{if(!T)return;const y=p.value.find(P=>P.id.toString()===T);y&&(v.value.city_id=parseInt(T),v.value.city_label=y.name)});const C=()=>{i.value=!1,v.value={label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""},d.value="",g.value="",p.value=[],R(),x.value=!0},U=T=>{i.value=!0,f.value=T.id,v.value={...T},R().then(()=>{T.province_id&&(d.value=T.province_id.toString(),N(T.province_id.toString()).then(()=>{T.city_id&&(g.value=T.city_id.toString())}))}),x.value=!0},Z=()=>{x.value=!1,f.value=null},re=()=>{if(!v.value.recipient_name||!v.value.recipient_phone||!v.value.address_line1){M.error("Mohon lengkapi nama penerima, telepon, dan alamat");return}if(!v.value.province_id||!v.value.city_id){M.error("Mohon pilih provinsi dan kota/kabupaten");return}b.value=!0;const T=i.value&&f.value?`/client/profile/addresses/${f.value}`:"/client/profile/addresses",y=i.value?"put":"post";me[y](T,v.value,{preserveScroll:!0,onSuccess:()=>{M.success(`Alamat berhasil ${i.value?"diperbarui":"ditambahkan"}`),Z()},onError:P=>{if(console.error("Address save error:",P),typeof P=="object"&&P!==null){const Q=Object.values(P)[0],$=Array.isArray(Q)?Q[0]:Q;M.error($||"Gagal menyimpan alamat")}else M.error("Gagal menyimpan alamat. Silakan coba lagi.")},onFinish:()=>{b.value=!1}})},X=T=>{confirm("Apakah Anda yakin ingin menghapus alamat ini?")&&(m.value=!0,me.delete(`/client/profile/addresses/${T}`,{preserveScroll:!0,onSuccess:()=>{M.success("Alamat berhasil dihapus")},onError:y=>{if(console.error("Address delete error:",y),typeof y=="object"&&y!==null){const P=Object.values(y)[0],Q=Array.isArray(P)?P[0]:P;M.error(Q||"Gagal menghapus alamat")}else M.error("Gagal menghapus alamat. Silakan coba lagi.")},onFinish:()=>{m.value=!1}}))},L=T=>{de({}).post(`/client/profile/addresses/${T}/set-default`,{preserveScroll:!0,onSuccess:()=>{M.success("Alamat utama berhasil diubah")},onError:P=>{if(console.error("Set default address error:",P),typeof P=="object"&&P!==null){const Q=Object.values(P)[0],$=Array.isArray(Q)?Q[0]:Q;M.error($||"Gagal mengubah alamat utama")}else M.error("Gagal mengubah alamat utama. Silakan coba lagi.")}})},H=T=>T?T.toLowerCase().includes("rumah")||T.toLowerCase().includes("home")?kt:T.toLowerCase().includes("kantor")||T.toLowerCase().includes("office")?_t:fe:fe;return(T,y)=>(o(),c(G,null,[s(e(z),null,{default:a(()=>[s(e(q),null,{default:a(()=>[t("div",ms,[s(e(W),{class:"flex items-center gap-2"},{default:a(()=>[s(e(fe),{class:"w-5 h-5"}),y[11]||(y[11]=r(" Kelola Alamat ",-1))]),_:1}),s(e(I),{size:"sm",onClick:C},{default:a(()=>[s(e(vt),{class:"w-4 h-4 mr-2"}),y[12]||(y[12]=r(" Tambah Alamat ",-1))]),_:1})])]),_:1}),s(e(F),null,{default:a(()=>[n.addresses.length===0?(o(),c("div",cs,[s(e(fe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),y[13]||(y[13]=t("p",{class:"mb-2"},"Belum ada alamat tersimpan",-1)),y[14]||(y[14]=t("p",{class:"text-sm"},"Tambahkan alamat untuk mempermudah proses pengiriman",-1))])):(o(),c("div",ps,[(o(!0),c(G,null,se(n.addresses,P=>(o(),c("div",{key:P.id,class:A(["relative p-4 rounded-lg border transition-all",P.is_default?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[P.is_default?(o(),S(e(V),{key:0,variant:"default",class:"absolute top-2 right-2 text-xs"},{default:a(()=>[...y[15]||(y[15]=[r(" Utama ",-1)])]),_:1})):k("",!0),t("div",xs,[(o(),S(bt(H(P.label)),{class:A(["w-5 h-5 mt-1 flex-shrink-0",P.is_default?"text-primary":"text-muted-foreground"])},null,8,["class"])),t("div",fs,[t("div",gs,[t("h4",vs,l(P.label||"Alamat"),1)]),t("p",bs,l(P.recipient_name),1),t("p",ys,l(P.recipient_phone),1)])]),t("div",ks,[t("p",_s,l(P.address_line1),1),P.address_line2?(o(),c("p",hs,l(P.address_line2),1)):k("",!0),t("p",ws,[r(l(P.city_label)+", "+l(P.province_label)+" ",1),P.postal_code?(o(),c("span",$s,l(P.postal_code),1)):k("",!0)]),t("p",Ps,l(P.country),1),P.description?(o(),c("p",Cs,l(P.description),1)):k("",!0)]),s(e(le),{class:"my-3"}),t("div",Ss,[P.is_default?k("",!0):(o(),S(e(I),{key:0,variant:"outline",size:"sm",onClick:Q=>L(P.id)},{default:a(()=>[...y[16]||(y[16]=[r(" Jadikan Utama ",-1)])]),_:1},8,["onClick"])),s(e(I),{variant:"outline",size:"sm",onClick:Q=>U(P)},{default:a(()=>[s(e(yt),{class:"w-3 h-3 mr-1"}),y[17]||(y[17]=r(" Edit ",-1))]),_:1},8,["onClick"]),s(e(I),{variant:"destructive",size:"sm",disabled:m.value,onClick:Q=>X(P.id)},{default:a(()=>[s(e(Ee),{class:"w-3 h-3 mr-1"}),y[18]||(y[18]=r(" Hapus ",-1))]),_:1},8,["disabled","onClick"])])],2))),128))]))]),_:1})]),_:1}),s(e($e),{open:x.value,"onUpdate:open":Z},{default:a(()=>[s(e(ke),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[s(e(_e),null,{default:a(()=>[s(e(he),null,{default:a(()=>[r(l(i.value?"Edit Alamat":"Tambah Alamat Baru"),1)]),_:1}),s(e(we),null,{default:a(()=>[r(l(i.value?"Perbarui informasi alamat Anda":"Tambahkan alamat pengiriman baru"),1)]),_:1})]),_:1}),t("div",Rs,[t("div",js,[t("div",Ms,[s(e(O),{for:"label"},{default:a(()=>[...y[19]||(y[19]=[r("Label Alamat",-1)])]),_:1}),s(e(Y),{id:"label",modelValue:v.value.label,"onUpdate:modelValue":y[0]||(y[0]=P=>v.value.label=P),placeholder:"Rumah, Kantor, dll"},null,8,["modelValue"])]),t("div",Ts,[s(e(zt),{id:"is_default",checked:v.value.is_default,"onUpdate:checked":y[1]||(y[1]=P=>v.value.is_default=P)},null,8,["checked"]),s(e(O),{for:"is_default",class:"cursor-pointer"},{default:a(()=>[...y[20]||(y[20]=[r("Jadikan alamat utama",-1)])]),_:1})])]),t("div",Ds,[t("div",Vs,[s(e(O),{for:"recipient_name"},{default:a(()=>[...y[21]||(y[21]=[r("Nama Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Y),{id:"recipient_name",modelValue:v.value.recipient_name,"onUpdate:modelValue":y[2]||(y[2]=P=>v.value.recipient_name=P),placeholder:"Nama lengkap penerima",required:""},null,8,["modelValue"])]),t("div",As,[s(e(O),{for:"recipient_phone"},{default:a(()=>[...y[22]||(y[22]=[r("No. Telepon Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Y),{id:"recipient_phone",modelValue:v.value.recipient_phone,"onUpdate:modelValue":y[3]||(y[3]=P=>v.value.recipient_phone=P),placeholder:"08xxxxxxxxxx",required:""},null,8,["modelValue"])])]),t("div",Bs,[s(e(O),{for:"address_line1"},{default:a(()=>[...y[23]||(y[23]=[r("Alamat Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(ye),{id:"address_line1",modelValue:v.value.address_line1,"onUpdate:modelValue":y[4]||(y[4]=P=>v.value.address_line1=P),placeholder:"Jalan, nomor rumah, RT/RW, blok",rows:"3",required:""},null,8,["modelValue"])]),t("div",Ls,[s(e(O),{for:"address_line2"},{default:a(()=>[...y[24]||(y[24]=[r("Detail Tambahan (Opsional)",-1)])]),_:1}),s(e(Y),{id:"address_line2",modelValue:v.value.address_line2,"onUpdate:modelValue":y[5]||(y[5]=P=>v.value.address_line2=P),placeholder:"Patokan, gedung, unit, warna rumah, dll"},null,8,["modelValue"])]),t("div",Us,[t("div",Is,[s(e(O),{for:"province"},{default:a(()=>[...y[25]||(y[25]=[r("Provinsi ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Fe),{modelValue:d.value,"onUpdate:modelValue":y[6]||(y[6]=P=>d.value=P),disabled:w.value},{default:a(()=>[s(e(Ge),{id:"province"},{default:a(()=>[s(e(qe),{placeholder:w.value?"Memuat provinsi...":"Pilih provinsi"},null,8,["placeholder"])]),_:1}),s(e(We),null,{default:a(()=>[(o(!0),c(G,null,se(u.value,P=>(o(),S(e(je),{key:P.id,value:P.id.toString()},{default:a(()=>[r(l(P.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",Es,[s(e(O),{for:"city"},{default:a(()=>[...y[26]||(y[26]=[r("Kota/Kabupaten ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Fe),{modelValue:g.value,"onUpdate:modelValue":y[7]||(y[7]=P=>g.value=P),disabled:!d.value||j.value},{default:a(()=>[s(e(Ge),{id:"city"},{default:a(()=>[s(e(qe),{placeholder:j.value?"Memuat kota...":d.value?"Pilih kota/kabupaten":"Pilih provinsi terlebih dahulu"},null,8,["placeholder"])]),_:1}),s(e(We),null,{default:a(()=>[(o(!0),c(G,null,se(p.value,P=>(o(),S(e(je),{key:P.id,value:P.id.toString()},{default:a(()=>[r(l(P.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),t("div",Ns,[t("div",Ks,[s(e(O),{for:"postal_code"},{default:a(()=>[...y[27]||(y[27]=[r("Kode Pos",-1)])]),_:1}),s(e(Y),{id:"postal_code",modelValue:v.value.postal_code,"onUpdate:modelValue":y[8]||(y[8]=P=>v.value.postal_code=P),placeholder:"12345"},null,8,["modelValue"])]),t("div",Os,[s(e(O),{for:"country"},{default:a(()=>[...y[28]||(y[28]=[r("Negara",-1)])]),_:1}),s(e(Y),{id:"country",modelValue:v.value.country,"onUpdate:modelValue":y[9]||(y[9]=P=>v.value.country=P),placeholder:"Indonesia"},null,8,["modelValue"])])]),t("div",zs,[s(e(O),{for:"description"},{default:a(()=>[...y[29]||(y[29]=[r("Catatan (Opsional)",-1)])]),_:1}),s(e(ye),{id:"description",modelValue:v.value.description,"onUpdate:modelValue":y[10]||(y[10]=P=>v.value.description=P),placeholder:"Catatan khusus untuk alamat ini",rows:"2"},null,8,["modelValue"])])]),s(e(Pe),null,{default:a(()=>[s(e(I),{variant:"outline",onClick:Z,disabled:b.value},{default:a(()=>[...y[30]||(y[30]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{onClick:re,disabled:b.value},{default:a(()=>[r(l(b.value?"Menyimpan...":i.value?"Perbarui":"Simpan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Gs={class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},qs={class:"text-xl font-bold text-emerald-700 dark:text-emerald-400"},Ws={class:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},Js={class:"text-xl font-bold text-amber-700 dark:text-amber-400"},Hs=J({__name:"BonusStatsCard",props:{customer:{}},setup(n){const{formatCurrency:x}=xe();return(i,m)=>(o(),S(e(z),null,{default:a(()=>[s(e(q),null,{default:a(()=>[s(e(W),{class:"flex items-center gap-2"},{default:a(()=>[s(e(tt),{class:"w-5 h-5"}),m[0]||(m[0]=r(" Statistik Bonus ",-1))]),_:1})]),_:1}),s(e(F),{class:"space-y-3"},{default:a(()=>[t("div",Gs,[m[1]||(m[1]=t("p",{class:"text-xs text-emerald-700 dark:text-emerald-400 mb-1"},"Total Dirilis",-1)),t("p",qs,l(e(x)(n.customer.bonus_stats.total_released)),1)]),t("div",Ws,[m[2]||(m[2]=t("p",{class:"text-xs text-amber-700 dark:text-amber-400 mb-1"},"Total Pending",-1)),t("p",Js,l(e(x)(n.customer.bonus_stats.total_pending)),1)])]),_:1})]),_:1}))}}),Xs={class:"flex items-center gap-3"},Ys={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},Zs={class:"font-semibold"},Qs=J({__name:"MemberSinceCard",props:{createdAt:{}},setup(n){const{formatDate:x}=xe();return(i,m)=>(o(),S(e(z),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",Xs,[t("div",Ys,[s(e(ht),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[m[0]||(m[0]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Member Sejak",-1)),t("p",Zs,l(e(x)(n.createdAt)),1)])])]),_:1})]),_:1}))}}),ea={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ta={class:"space-y-2"},sa={class:"relative"},aa={key:0,class:"text-sm text-red-500"},la={class:"space-y-2"},na={class:"relative"},oa={key:0,class:"text-sm text-red-500"},ra={class:"space-y-2"},ia={class:"relative"},da={key:0,class:"text-sm text-red-500"},ua={class:"space-y-2"},ma={key:0,class:"text-sm text-red-500"},ca={class:"space-y-2"},pa={class:"relative"},xa={key:0,class:"text-sm text-red-500"},fa={class:"space-y-2"},ga={class:"relative"},va={key:0,class:"text-sm text-red-500"},ba={class:"space-y-2"},ya={class:"relative"},ka={key:0,class:"text-sm text-red-500"},_a={class:"space-y-2"},ha={key:0,class:"text-sm text-red-500"},wa={class:"flex items-center justify-end gap-3"},$a=J({__name:"ProfileInformationTab",props:{customer:{}},setup(n){const x=n,i=de({name:x.customer.name,username:x.customer.username||"",nik:x.customer.nik||"",gender:x.customer.gender||"",alamat:x.customer.alamat||"",email:x.customer.email,phone:x.customer.phone,description:x.customer.description||""}),m=()=>{i.patch("/client/profile",{preserveScroll:!0,onSuccess:()=>{M.success("Informasi profil berhasil diperbarui")}})};return(b,u)=>(o(),S(e(z),null,{default:a(()=>[s(e(q),null,{default:a(()=>[s(e(W),null,{default:a(()=>[...u[9]||(u[9]=[r("Informasi Profile",-1)])]),_:1}),s(e(oe),null,{default:a(()=>[...u[10]||(u[10]=[r(" Update informasi profil Anda di sini ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:Me(m,["prevent"]),class:"space-y-6"},[t("div",ea,[t("div",ta,[s(e(O),{for:"username"},{default:a(()=>[...u[11]||(u[11]=[r(" Username ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",sa,[s(e(wt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"username",modelValue:e(i).username,"onUpdate:modelValue":u[0]||(u[0]=p=>e(i).username=p),type:"text",placeholder:"username",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.username?(o(),c("p",aa,l(e(i).errors.username),1)):k("",!0)]),t("div",la,[s(e(O),{for:"name"},{default:a(()=>[...u[12]||(u[12]=[r(" Nama Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",na,[s(e(Re),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"name",modelValue:e(i).name,"onUpdate:modelValue":u[1]||(u[1]=p=>e(i).name=p),type:"text",placeholder:"Masukkan nama lengkap",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.name?(o(),c("p",oa,l(e(i).errors.name),1)):k("",!0)]),t("div",ra,[s(e(O),{for:"nik"},{default:a(()=>[...u[13]||(u[13]=[r("NIK (Nomor Induk Kependudukan)",-1)])]),_:1}),t("div",ia,[s(e(ge),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"nik",modelValue:e(i).nik,"onUpdate:modelValue":u[2]||(u[2]=p=>e(i).nik=p),type:"text",placeholder:"16 digit NIK",class:"pl-10",maxlength:"16"},null,8,["modelValue"])]),e(i).errors.nik?(o(),c("p",da,l(e(i).errors.nik),1)):k("",!0)]),t("div",ua,[s(e(O),{for:"gender"},{default:a(()=>[...u[14]||(u[14]=[r("Jenis Kelamin",-1)])]),_:1}),s(e(Fe),{modelValue:e(i).gender,"onUpdate:modelValue":u[3]||(u[3]=p=>e(i).gender=p)},{default:a(()=>[s(e(Ge),null,{default:a(()=>[s(e(qe),{placeholder:"Pilih jenis kelamin"})]),_:1}),s(e(We),null,{default:a(()=>[s(e(je),{value:"male"},{default:a(()=>[...u[15]||(u[15]=[r("Laki-laki",-1)])]),_:1}),s(e(je),{value:"female"},{default:a(()=>[...u[16]||(u[16]=[r("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(i).errors.gender?(o(),c("p",ma,l(e(i).errors.gender),1)):k("",!0)]),t("div",ca,[s(e(O),{for:"email"},{default:a(()=>[...u[17]||(u[17]=[r(" Email ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",pa,[s(e($t),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"email",modelValue:e(i).email,"onUpdate:modelValue":u[4]||(u[4]=p=>e(i).email=p),type:"email",placeholder:"email@example.com",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.email?(o(),c("p",xa,l(e(i).errors.email),1)):k("",!0)]),t("div",fa,[s(e(O),{for:"phone"},{default:a(()=>[...u[18]||(u[18]=[r(" Nomor Telepon ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ga,[s(e(Pt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"phone",modelValue:e(i).phone,"onUpdate:modelValue":u[5]||(u[5]=p=>e(i).phone=p),type:"tel",placeholder:"08123456789",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.phone?(o(),c("p",va,l(e(i).errors.phone),1)):k("",!0)])]),t("div",ba,[s(e(O),{for:"alamat"},{default:a(()=>[...u[19]||(u[19]=[r("Alamat",-1)])]),_:1}),t("div",ya,[s(e(fe),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(ye),{id:"alamat",modelValue:e(i).alamat,"onUpdate:modelValue":u[6]||(u[6]=p=>e(i).alamat=p),placeholder:"Masukkan alamat lengkap...",rows:"3",class:"pl-10"},null,8,["modelValue"])]),e(i).errors.alamat?(o(),c("p",ka,l(e(i).errors.alamat),1)):k("",!0)]),t("div",_a,[s(e(O),{for:"description"},{default:a(()=>[...u[20]||(u[20]=[r("Deskripsi",-1)])]),_:1}),s(e(ye),{id:"description",modelValue:e(i).description,"onUpdate:modelValue":u[7]||(u[7]=p=>e(i).description=p),placeholder:"Ceritakan tentang diri Anda...",rows:"4"},null,8,["modelValue"]),u[21]||(u[21]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Maksimal 1000 karakter ",-1)),e(i).errors.description?(o(),c("p",ha,l(e(i).errors.description),1)):k("",!0)]),t("div",wa,[s(e(I),{type:"button",variant:"outline",onClick:u[8]||(u[8]=p=>e(i).reset()),disabled:e(i).processing},{default:a(()=>[...u[22]||(u[22]=[r(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(i).processing},{default:a(()=>[e(i).processing?k("",!0):(o(),S(e(ie),{key:0,class:"w-4 h-4 mr-2"})),r(" "+l(e(i).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Pa={key:0,class:"flex items-center justify-center py-12"},Ca={key:1,class:"space-y-6 py-6"},Sa={class:"space-y-3"},Ra={class:"flex items-center gap-2 text-sm font-medium"},ja={class:"space-y-2"},Ma={class:"flex justify-between"},Ta={class:"text-sm font-medium"},Da={class:"flex justify-between items-center"},Va={key:0,class:"flex justify-between"},Aa={class:"text-sm font-medium"},Ba={key:1,class:"flex justify-between items-center"},La={class:"space-y-3"},Ua={class:"flex items-center gap-2 text-sm font-medium"},Ia={class:"space-y-3"},Ea=["src","alt"],Na={class:"flex-1"},Ka={class:"font-medium text-sm"},Oa={class:"text-xs text-muted-foreground"},za={class:"text-xs text-muted-foreground"},Fa={class:"text-right"},Ga={class:"font-semibold text-sm"},qa={key:0,class:"space-y-3"},Wa={class:"flex items-center gap-2 text-sm font-medium"},Ja={class:"p-3 bg-muted/30 rounded-lg space-y-1"},Ha={class:"font-medium text-sm"},Xa={class:"text-sm text-muted-foreground"},Ya={class:"text-sm text-muted-foreground"},Za={class:"text-sm text-muted-foreground"},Qa={key:1,class:"space-y-3"},el={class:"flex items-center gap-2 text-sm font-medium"},tl={class:"p-3 bg-muted/30 rounded-lg space-y-2"},sl={class:"flex justify-between"},al={class:"text-sm font-medium"},ll={class:"flex justify-between"},nl={class:"text-sm font-medium"},ol={class:"flex justify-between"},rl={class:"text-sm font-medium"},il={class:"space-y-3"},dl={class:"flex items-center gap-2 text-sm font-medium"},ul={class:"space-y-2 text-sm"},ml={class:"flex justify-between"},cl={key:0,class:"flex justify-between"},pl={class:"text-red-600"},xl={class:"flex justify-between"},fl={key:1,class:"flex justify-between"},gl={class:"flex justify-between font-semibold text-base"},vl={class:"text-primary"},bl={key:2,class:"space-y-2"},yl={class:"space-y-1"},kl={class:"text-sm text-muted-foreground"},_l={key:3,class:"pt-4"},hl={key:2,class:"flex items-center justify-center py-12 text-muted-foreground"},wl=J({__name:"OrderDetailSheet",props:{open:{type:Boolean},orderId:{}},emits:["update:open"],setup(n,{emit:x}){const i=n,m=x,{formatCurrency:b,formatDate:u,getStatusLabel:p}=xe(),w=D(!1),j=D(!1),d=D(null),g=E(()=>d.value?.status?.toUpperCase()==="SHIPPED"),v=E(()=>{const N=d.value?.status?.toLowerCase();return{"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":N==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":N==="processing"||N==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":N==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":N==="delivered"||N==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":N==="cancelled"}}),f=async()=>{if(i.orderId){w.value=!0;try{const N=await ne.get(`/api/client/orders/${i.orderId}`);d.value=N.data.data}catch(N){console.error("Failed to load order:",N),M.error("Gagal memuat detail pesanan")}finally{w.value=!1}}},R=async()=>{if(!(!d.value||!g.value||j.value)){j.value=!0;try{await ne.post(`/api/client/orders/${d.value.id}/complete`),await f(),me.reload({only:["orders"]}),M.success('Status pesanan berhasil diperbarui menjadi "Selesai".')}catch(N){console.error("Failed to update order status:",N),M.error(N.response?.data?.message||"Gagal memperbarui status pesanan")}finally{j.value=!1}}};return Se(()=>[i.open,i.orderId],([N,C])=>{N&&C&&f()}),(N,C)=>(o(),S(e(Ft),{open:n.open,"onUpdate:open":C[0]||(C[0]=U=>m("update:open",U))},{default:a(()=>[s(e(Gt),{side:"right",class:"sm:max-w-2xl w-full overflow-y-auto"},{default:a(()=>[s(e(qt),null,{default:a(()=>[s(e(Wt),null,{default:a(()=>[...C[1]||(C[1]=[r("Detail Pesanan",-1)])]),_:1}),s(e(Jt),null,{default:a(()=>[...C[2]||(C[2]=[r(" Informasi lengkap pesanan Anda ",-1)])]),_:1})]),_:1}),w.value?(o(),c("div",Pa,[s(e(Ne),{class:"h-8 w-8 animate-spin text-muted-foreground"})])):d.value?(o(),c("div",Ca,[t("div",Sa,[t("div",Ra,[s(e(be),{class:"h-4 w-4"}),C[3]||(C[3]=t("span",null,"Ringkasan Pesanan",-1))]),t("div",ja,[t("div",Ma,[C[4]||(C[4]=t("span",{class:"text-sm text-muted-foreground"},"Nomor Pesanan",-1)),t("span",Ta,l(d.value.order_no),1)]),t("div",Da,[C[5]||(C[5]=t("span",{class:"text-sm text-muted-foreground"},"Status",-1)),s(e(V),{class:A(v.value)},{default:a(()=>[r(l(e(p)(d.value.status)),1)]),_:1},8,["class"])]),d.value.placed_at?(o(),c("div",Va,[C[6]||(C[6]=t("span",{class:"text-sm text-muted-foreground"},"Tanggal Pesan",-1)),t("span",Aa,l(e(u)(d.value.placed_at)),1)])):k("",!0),d.value.paid_at?(o(),c("div",Ba,[C[7]||(C[7]=t("span",{class:"text-sm text-muted-foreground"},"Status Pembayaran",-1)),s(e(V),{variant:"secondary"},{default:a(()=>[s(e(ie),{class:"w-3 h-3 mr-1"}),r(" Dibayar "+l(e(u)(d.value.paid_at)),1)]),_:1})])):k("",!0)])]),s(e(le)),t("div",La,[t("div",Ua,[s(e(be),{class:"h-4 w-4"}),C[8]||(C[8]=t("span",null,"Produk Pesanan",-1))]),t("div",Ia,[(o(!0),c(G,null,se(d.value.items,U=>(o(),c("div",{key:U.id,class:"flex gap-4 p-3 bg-muted/30 rounded-lg"},[U.meta_json?.image?(o(),c("img",{key:0,src:U.meta_json.image,alt:U.name,class:"w-16 h-16 object-cover rounded-md"},null,8,Ea)):k("",!0),t("div",Na,[t("h4",Ka,l(U.name),1),t("p",Oa,"SKU: "+l(U.sku),1),t("p",za,l(U.qty)+"x "+l(e(b)(U.unit_price)),1)]),t("div",Fa,[t("p",Ga,l(e(b)(U.row_total)),1)])]))),128))])]),s(e(le)),d.value.shipping_address?(o(),c("div",qa,[t("div",Wa,[s(e(fe),{class:"h-4 w-4"}),C[9]||(C[9]=t("span",null,"Alamat Pengiriman",-1))]),t("div",Ja,[t("p",Ha,l(d.value.shipping_address.recipient_name),1),t("p",Xa,l(d.value.shipping_address.recipient_phone),1),t("p",Ya,l(d.value.shipping_address.address_line1),1),t("p",Za,l(d.value.shipping_address.city_label)+", "+l(d.value.shipping_address.province_label)+" "+l(d.value.shipping_address.postal_code),1)])])):k("",!0),s(e(le)),d.value.applied_promos?.shipping?(o(),c("div",Qa,[t("div",el,[s(e(Ct),{class:"h-4 w-4"}),C[10]||(C[10]=t("span",null,"Informasi Pengiriman",-1))]),t("div",tl,[t("div",sl,[C[11]||(C[11]=t("span",{class:"text-sm text-muted-foreground"},"Kurir",-1)),t("span",al,l(d.value.applied_promos.shipping.courier),1)]),t("div",ll,[C[12]||(C[12]=t("span",{class:"text-sm text-muted-foreground"},"Layanan",-1)),t("span",nl,l(d.value.applied_promos.shipping.service),1)]),t("div",ol,[C[13]||(C[13]=t("span",{class:"text-sm text-muted-foreground"},"Estimasi",-1)),t("span",rl,l(d.value.applied_promos.shipping.etd)+" hari",1)])])])):k("",!0),s(e(le)),t("div",il,[t("div",dl,[s(e(ge),{class:"h-4 w-4"}),C[14]||(C[14]=t("span",null,"Ringkasan Pembayaran",-1))]),t("div",ul,[t("div",ml,[C[15]||(C[15]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),t("span",null,l(e(b)(d.value.subtotal_amount)),1)]),d.value.discount_amount>0?(o(),c("div",cl,[C[16]||(C[16]=t("span",{class:"text-muted-foreground"},"Diskon",-1)),t("span",pl,"-"+l(e(b)(d.value.discount_amount)),1)])):k("",!0),t("div",xl,[C[17]||(C[17]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),t("span",null,l(e(b)(d.value.shipping_amount)),1)]),d.value.tax_amount>0?(o(),c("div",fl,[C[18]||(C[18]=t("span",{class:"text-muted-foreground"},"Pajak",-1)),t("span",null,l(e(b)(d.value.tax_amount)),1)])):k("",!0),s(e(le)),t("div",gl,[C[19]||(C[19]=t("span",null,"Total",-1)),t("span",vl,l(e(b)(d.value.grand_total)),1)])])]),d.value.notes?(o(),c("div",bl,[s(e(le)),t("div",yl,[C[20]||(C[20]=t("p",{class:"text-sm font-medium"},"Catatan",-1)),t("p",kl,l(d.value.notes),1)])])):k("",!0),g.value?(o(),c("div",_l,[s(e(I),{onClick:R,disabled:j.value,class:"w-full",size:"lg"},{default:a(()=>[j.value?(o(),S(e(Ne),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(o(),S(e(ie),{key:1,class:"h-4 w-4 mr-2"})),C[21]||(C[21]=r(" Tandai Pesanan Selesai ",-1))]),_:1},8,["disabled"])])):k("",!0)])):(o(),c("div",hl," Tidak ada data pesanan "))]),_:1})]),_:1},8,["open"]))}}),$l={class:"space-y-6 py-4"},Pl={key:2,class:"flex gap-4 rounded-lg bg-muted p-4"},Cl=["src","alt"],Sl={class:"flex-1"},Rl={class:"font-medium"},jl={class:"space-y-2"},Ml={class:"flex items-center gap-2"},Tl=["onClick","onMouseenter"],Dl={class:"ml-2 text-sm text-muted-foreground"},Vl={class:"space-y-2"},Al={key:0,class:"text-sm text-destructive"},Bl={class:"space-y-2"},Ll={class:"text-right text-xs text-muted-foreground"},Ul={key:0,class:"text-sm text-destructive"},Il=J({__name:"ProductReviewDialog",props:{open:{type:Boolean},orderId:{},orderItems:{}},emits:["update:open","review-submitted"],setup(n,{emit:x}){const i=n,m=x,b=D(0),u=D(null),p=D(!1),w=D({}),j=E(()=>i.orderItems[b.value]),d=E(()=>b.value<i.orderItems.length-1),g=E(()=>b.value===i.orderItems.length-1),v=D({order_item_id:0,product_id:0,rating:5,title:"",comment:""}),f=D(0),R=X=>{v.value.rating=X},N=async()=>{if(j.value){v.value.order_item_id=j.value.id,v.value.product_id=j.value.product_id,u.value=null,w.value={},p.value=!0;try{const X=await ne.post(`/api/client/orders/${i.orderId}/reviews`,v.value);if(X.data.success){const L=X.data.message||"Review berhasil dikirim dan menunggu persetujuan!";u.value={type:"success",message:L},M.success(L),d.value?setTimeout(()=>{b.value++,U(),u.value=null},1500):setTimeout(()=>{m("update:open",!1),m("review-submitted"),Z()},2e3)}}catch(X){console.error("Submit review error:",X);let L="Gagal mengirim review. Silakan coba lagi.";if(X.response?.data){const H=X.response.data;if(H.message&&(L=H.message),H.errors){w.value=H.errors;const T=Object.values(H.errors)[0];Array.isArray(T)&&T.length>0?L=T[0]:typeof T=="string"&&(L=T)}}u.value={type:"error",message:L},M.error(L)}finally{p.value=!1}}},C=()=>{d.value?(b.value++,U(),u.value=null):(m("update:open",!1),m("review-submitted"),Z())},U=()=>{v.value={order_item_id:0,product_id:0,rating:5,title:"",comment:""},w.value={}},Z=()=>{b.value=0,U(),u.value=null},re=X=>{m("update:open",X),X||Z()};return(X,L)=>(o(),S(e($e),{open:n.open,"onUpdate:open":re},{default:a(()=>[s(e(ke),{class:"sm:max-w-[500px]"},{default:a(()=>[s(e(_e),null,{default:a(()=>[s(e(he),null,{default:a(()=>[...L[4]||(L[4]=[r("Beri Rating & Review",-1)])]),_:1}),s(e(we),null,{default:a(()=>[r(" Bagikan pengalaman Anda dengan produk ini ("+l(b.value+1)+" dari "+l(n.orderItems.length)+") ",1)]),_:1})]),_:1}),t("div",$l,[!j.value||n.orderItems.length===0?(o(),S(e(Ae),{key:0,variant:"default"},{default:a(()=>[s(e(pe),{class:"h-4 w-4"}),s(e(Be),null,{default:a(()=>[...L[5]||(L[5]=[r("Tidak Ada Item",-1)])]),_:1}),s(e(Le),null,{default:a(()=>[...L[6]||(L[6]=[r(" Tidak ada produk yang dapat direview dari pesanan ini. ",-1)])]),_:1})]),_:1})):(o(),c(G,{key:1},[u.value?.type==="success"?(o(),S(e(Ae),{key:0,variant:"default"},{default:a(()=>[s(e(St),{class:"h-4 w-4"}),s(e(Be),null,{default:a(()=>[...L[7]||(L[7]=[r("Berhasil!",-1)])]),_:1}),s(e(Le),null,{default:a(()=>[r(l(u.value.message),1)]),_:1})]),_:1})):k("",!0),u.value?.type==="error"?(o(),S(e(Ae),{key:1,variant:"destructive"},{default:a(()=>[s(e(pe),{class:"h-4 w-4"}),s(e(Be),null,{default:a(()=>[...L[8]||(L[8]=[r("Terjadi Kesalahan",-1)])]),_:1}),s(e(Le),null,{default:a(()=>[r(l(u.value.message),1)]),_:1})]),_:1})):k("",!0),j.value?(o(),c("div",Pl,[j.value.product_image?(o(),c("img",{key:0,src:j.value.product_image,alt:j.value.product_name,class:"h-20 w-20 rounded-md object-cover"},null,8,Cl)):k("",!0),t("div",Sl,[t("h4",Rl,l(j.value.product_name),1)])])):k("",!0),t("div",jl,[s(e(O),null,{default:a(()=>[...L[9]||(L[9]=[r("Rating Produk",-1)])]),_:1}),t("div",Ml,[(o(),c(G,null,se(5,H=>t("button",{key:H,type:"button",onClick:T=>R(H),onMouseenter:T=>f.value=H,onMouseleave:L[0]||(L[0]=T=>f.value=0),class:"transition-transform hover:scale-110 focus:outline-none"},[s(e(Xe),{class:A(["h-8 w-8 transition-colors",(f.value||v.value.rating)>=H?"fill-yellow-400 text-yellow-400":"text-gray-300"])},null,8,["class"])],40,Tl)),64)),t("span",Dl,l(v.value.rating)+" / 5 ",1)])]),t("div",Vl,[s(e(O),{for:"title"},{default:a(()=>[...L[10]||(L[10]=[r("Judul Review (Opsional)",-1)])]),_:1}),s(e(Y),{id:"title",modelValue:v.value.title,"onUpdate:modelValue":L[1]||(L[1]=H=>v.value.title=H),placeholder:"Ringkasan singkat pengalaman Anda",maxlength:"100"},null,8,["modelValue"]),w.value.title?(o(),c("p",Al,l(w.value.title),1)):k("",!0)]),t("div",Bl,[s(e(O),{for:"comment"},{default:a(()=>[...L[11]||(L[11]=[r("Komentar (Opsional)",-1)])]),_:1}),s(e(ye),{id:"comment",modelValue:v.value.comment,"onUpdate:modelValue":L[2]||(L[2]=H=>v.value.comment=H),placeholder:"Ceritakan pengalaman Anda dengan produk ini...",rows:"4",maxlength:"500"},null,8,["modelValue"]),t("p",Ll,l(v.value.comment?.length||0)+" / 500 karakter ",1),w.value.comment?(o(),c("p",Ul,l(w.value.comment),1)):k("",!0)])],64))]),s(e(Pe),{class:"flex-col gap-2 sm:flex-row"},{default:a(()=>[j.value&&n.orderItems.length>0?(o(),c(G,{key:0},[d.value||g.value?(o(),S(e(I),{key:0,type:"button",variant:"outline",onClick:C,disabled:p.value},{default:a(()=>[r(l(d.value?"Lewati":"Tutup"),1)]),_:1},8,["disabled"])):k("",!0),s(e(I),{type:"button",onClick:N,disabled:p.value||v.value.rating===0,class:"w-full sm:w-auto"},{default:a(()=>[p.value?(o(),S(e(Ne),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):k("",!0),r(" "+l(d.value?"Kirim & Lanjut":"Kirim Review"),1)]),_:1},8,["disabled"])],64)):(o(),S(e(I),{key:1,type:"button",variant:"outline",onClick:L[3]||(L[3]=H=>re(!1))},{default:a(()=>[...L[12]||(L[12]=[r(" Tutup ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"]))}}),El={class:"rounded-lg border p-4 transition-colors hover:border-primary"},Nl={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},Kl={class:"flex-1"},Ol={class:"mb-2 flex items-center gap-3"},zl={class:"text-sm font-semibold"},Fl={class:"text-xs text-muted-foreground"},Gl={class:"mt-2 flex items-center gap-2"},ql={class:"flex flex-col gap-2 md:items-end"},Wl={class:"text-lg font-bold text-primary"},Jl={class:"flex flex-wrap gap-2"},Hl=J({__name:"OrderCard",props:{order:{}},setup(n){const x=n,{formatCurrency:i,formatDate:m,getStatusLabel:b}=xe(),u=D(!1),p=D(!1),w=D(!1),j=D(!1),d=D(x.order.status),g=D(x.order.paid_at),v=async()=>{if(!w.value){w.value=!0;try{const C=await ne.post(`/api/client/orders/${x.order.id}/check-payment-status`);C.data.success?(d.value=C.data.status,C.data.paid_at&&(g.value=C.data.paid_at),M.success(C.data.message),setTimeout(()=>{me.reload({only:["orders"]})},500)):M.error(C.data.message)}catch(C){console.error("Check payment status error:",C),M.error(C.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{w.value=!1}}},f=async()=>{if(!j.value){j.value=!0;try{const C=await ne.post(`/api/client/orders/${x.order.id}/complete`);C.data.success&&(d.value="COMPLETED",M.success(C.data.message||"Pesanan berhasil diselesaikan"),C.data.items&&C.data.items.length>0?(x.order.items=C.data.items,p.value=!0):setTimeout(()=>{me.reload({only:["orders"]})},500))}catch(C){console.error("Complete order error:",C),M.error(C.response?.data?.message||"Gagal menandai pesanan sebagai diterima")}finally{j.value=!1}}},R=()=>{me.reload({only:["orders"]})},N=()=>{const C=(x.order.items||[]).filter(U=>!U.has_review);C.length>0?(x.order.items=C,p.value=!0):M.info("Semua produk sudah direview")};return(C,U)=>(o(),c("div",El,[t("div",Nl,[t("div",Kl,[t("div",Ol,[s(e(be),{class:"h-5 w-5 text-muted-foreground"}),t("div",null,[t("p",zl,l(n.order.order_no),1),t("p",Fl,l(n.order.placed_at?e(m)(n.order.placed_at):"Belum ditempatkan"),1)])]),t("div",Gl,[s(e(V),{class:A({"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":d.value.toUpperCase()==="PENDING","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":d.value.toUpperCase()==="PROCESSING"||d.value.toUpperCase()==="PAID","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":d.value.toUpperCase()==="SHIPPED","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":d.value.toUpperCase()==="DELIVERED"||d.value.toUpperCase()==="COMPLETED","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":d.value.toUpperCase()==="CANCELLED"})},{default:a(()=>[r(l(e(b)(d.value)),1)]),_:1},8,["class"]),g.value?(o(),S(e(V),{key:0,variant:"secondary"},{default:a(()=>[s(e(ie),{class:"mr-1 h-3 w-3"}),U[3]||(U[3]=r(" Dibayar ",-1))]),_:1})):k("",!0)])]),t("div",ql,[t("p",Wl,l(e(i)(n.order.grand_total)),1),t("div",Jl,[d.value.toUpperCase()==="PENDING"&&!g.value?(o(),S(e(I),{key:0,variant:"outline",size:"sm",disabled:w.value,onClick:v},{default:a(()=>[s(e(st),{class:A(["mr-1 h-3 w-3",{"animate-spin":w.value}])},null,8,["class"]),U[4]||(U[4]=r(" Cek Status ",-1))]),_:1},8,["disabled"])):k("",!0),d.value.toUpperCase()==="SHIPPED"?(o(),S(e(I),{key:1,variant:"default",size:"sm",disabled:j.value,onClick:f},{default:a(()=>[s(e(Rt),{class:"mr-1 h-3 w-3"}),U[5]||(U[5]=r(" Pesanan Diterima ",-1))]),_:1},8,["disabled"])):k("",!0),d.value.toUpperCase()==="COMPLETED"&&n.order.has_unreviewed_items?(o(),S(e(I),{key:2,variant:"outline",size:"sm",onClick:N},{default:a(()=>[s(e(Xe),{class:"mr-1 h-3 w-3"}),U[6]||(U[6]=r(" Tambah Review ",-1))]),_:1})):k("",!0),s(e(I),{variant:"outline",size:"sm",onClick:U[0]||(U[0]=Z=>u.value=!0)},{default:a(()=>[...U[7]||(U[7]=[r(" Lihat Detail ",-1)])]),_:1})])])]),s(wl,{open:u.value,"onUpdate:open":U[1]||(U[1]=Z=>u.value=Z),"order-id":n.order.id},null,8,["open","order-id"]),s(Il,{open:p.value,"onUpdate:open":U[2]||(U[2]=Z=>p.value=Z),"order-id":n.order.id,"order-items":n.order.items||[],onReviewSubmitted:R},null,8,["open","order-id","order-items"])]))}}),Xl={key:0,class:"space-y-4"},Yl={key:1,class:"py-12 text-center"},Zl=J({__name:"OrdersTab",props:{orders:{}},setup(n){return(x,i)=>(o(),S(e(z),null,{default:a(()=>[s(e(q),null,{default:a(()=>[s(e(W),null,{default:a(()=>[...i[0]||(i[0]=[r("Pesanan Saya",-1)])]),_:1}),s(e(oe),null,{default:a(()=>[...i[1]||(i[1]=[r(" Riwayat pesanan dan status pengiriman ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[n.orders.length>0?(o(),c("div",Xl,[(o(!0),c(G,null,se(n.orders,m=>(o(),S(Hl,{key:m.id,order:m},null,8,["order"]))),128))])):(o(),c("div",Yl,[s(e(be),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),i[3]||(i[3]=t("p",{class:"text-muted-foreground mb-4"},"Belum ada pesanan",-1)),s(e(jt),{href:"/beranda"},{default:a(()=>[s(e(I),null,{default:a(()=>[...i[2]||(i[2]=[r(" Mulai Belanja ",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),Ql={class:"text-center"},en={class:"text-4xl font-bold text-primary mb-4"},tn={class:"flex gap-3 justify-center"},sn=J({__name:"WalletBalance",props:{balance:{}},emits:["topup","withdrawal"],setup(n,{emit:x}){const i=x,{formatCurrency:m}=xe();return(b,u)=>(o(),S(e(z),null,{default:a(()=>[s(e(F),{class:"pt-6"},{default:a(()=>[t("div",Ql,[u[4]||(u[4]=t("p",{class:"text-sm text-muted-foreground mb-2"},"Saldo E-Wallet",-1)),t("p",en,l(e(m)(n.balance)),1),t("div",tn,[s(e(I),{onClick:u[0]||(u[0]=p=>i("topup")),size:"sm"},{default:a(()=>[s(e(at),{class:"w-4 h-4 mr-2"}),u[2]||(u[2]=r(" Top Up ",-1))]),_:1}),s(e(I),{onClick:u[1]||(u[1]=p=>i("withdrawal")),variant:"outline",size:"sm"},{default:a(()=>[s(e(lt),{class:"w-4 h-4 mr-2"}),u[3]||(u[3]=r(" Tarik Dana ",-1))]),_:1})])])]),_:1})]),_:1}))}}),an={class:"space-y-2"},ln={class:"relative"},nn={key:0,class:"text-sm text-red-500"},on={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},rn={class:"flex items-start gap-3"},dn={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},un={class:"flex items-start gap-3"},mn={class:"flex items-center justify-end gap-3"},cn={key:0},pn={key:1},xn={key:2},fn={key:3},gn=J({__name:"WalletTopupForm",emits:["cancel"],setup(n,{emit:x}){const i=x,m=de({amount:"",payment_method:"midtrans"}),b=D(!1),u=D(!1);Ye(()=>{if(window.snap){b.value=!0;return}if(typeof window>"u")return;const d=()=>{window.snap&&(b.value=!0,u.value=!1,console.log("Midtrans Snap loaded (event)."))};window.addEventListener("midtrans:snap:loaded",d,{once:!0}),setTimeout(()=>{b.value||(window.snap?(b.value=!0,console.log("Midtrans Snap loaded (fallback).")):(u.value=!0,console.error("Failed to load Midtrans Snap (timeout).")))},5e3)});const p=d=>{if(!window.snap){console.error("Snap not available"),alert("Pembayaran tidak dapat diproses. Silakan refresh halaman dan coba lagi."),i("cancel");return}try{window.snap.pay(d,{onSuccess:function(g){console.log("Payment success:",g),M.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(g){console.log("Payment pending:",g),M.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(g){console.error("Payment error (Midtrans):",g),M.error("Pembayaran gagal.");try{console.log("Midtrans raw error JSON:",JSON.stringify(g,null,2))}catch{}const v=g?.status_message||g?.status_code||"Terjadi kesalahan pembayaran.",f=g?.status_code==="505"?`
Catatan: Sandbox sering menolak VA dengan nominal rendah (coba >= 15000 atau metode lain).`:"";if(g?.status_code==="505"){alert("Midtrans Error: "+v+f+`
Sandbox akan otomatis mencoba QRIS.`),j("qris");return}alert("Midtrans Error: "+v+`
Silakan coba metode lain atau refresh.`),i("cancel")},onClose:function(){console.log("Payment modal closed"),M("Pembayaran ditutup sebelum selesai."),i("cancel")}})}catch(g){console.error("Error opening Snap modal:",g),alert("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),M.error("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),i("cancel")}},w=async()=>{if(!m.processing){if(!b.value||!window.snap){M.error("Sistem pembayaran belum siap. Silakan tunggu beberapa saat atau refresh halaman.");return}try{m.processing=!0;const g=(await ne.post("/client/wallet/topup",{amount:m.amount,payment_method:m.payment_method})).data,v=g.snap_token;if(g.success===!1&&g.message){M.error(g.message),m.processing=!1;return}v&&typeof v=="string"&&v.trim()!==""?(m.reset(),m.processing=!1,setTimeout(()=>{p(v)},100)):(m.processing=!1,console.error("Invalid snap token:",v),console.error("Full response:",g),M.error("Gagal mendapatkan token pembayaran. Silakan coba lagi."),m.reset(),i("cancel"))}catch(d){if(m.processing=!1,console.error("Form submission error:",d),M.error("Terjadi kesalahan saat mengirim formulir."),d.response?.status===422&&d.response?.data?.errors){const g=d.response.data.errors,v=Object.values(g)[0],f=Array.isArray(v)?v[0]:v;M.error(f)}else{const g=d.response?.data?.message||d.message||"Terjadi kesalahan. Silakan coba lagi.";M.error(g)}m.reset()}}},j=async d=>{if(!m.processing){if(!b.value||!window.snap){alert("Sistem pembayaran belum siap untuk retry.");return}try{m.processing=!0;const v=(await ne.post("/client/wallet/topup",{amount:m.amount||"20000",payment_method:m.payment_method,force_payment:d})).data,f=v.snap_token;if(!v.success||!f){M.error(v.message||"Retry gagal mendapatkan token."),m.processing=!1;return}m.processing=!1,M.success("Metode dialihkan ke "+d.toUpperCase()+". Silakan lanjutkan pembayaran."),p(f)}catch(g){m.processing=!1,M.error(g?.response?.data?.message||g.message||"Retry gagal.")}}};return(d,g)=>(o(),S(e(z),null,{default:a(()=>[s(e(q),null,{default:a(()=>[s(e(W),null,{default:a(()=>[...g[2]||(g[2]=[r("Top Up E-Wallet",-1)])]),_:1}),s(e(oe),null,{default:a(()=>[...g[3]||(g[3]=[r(" Isi saldo e-wallet Anda melalui Midtrans ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:Me(w,["prevent"]),class:"space-y-6"},[t("div",an,[s(e(O),{for:"topup_amount"},{default:a(()=>[...g[4]||(g[4]=[r(" Jumlah Top Up ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ln,[s(e(ge),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"topup_amount",modelValue:e(m).amount,"onUpdate:modelValue":g[0]||(g[0]=v=>e(m).amount=v),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:"10000000",required:""},null,8,["modelValue"])]),g[5]||(g[5]=t("p",{class:"text-xs text-muted-foreground"}," Minimum Rp 10.000 - Maximum Rp 10.000.000. Disarankan >= Rp 15.000 untuk Virtual Account agar tidak ditolak (505). ",-1)),e(m).errors.amount?(o(),c("p",nn,l(e(m).errors.amount),1)):k("",!0)]),t("div",on,[t("div",rn,[s(e(ge),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),g[6]||(g[6]=t("div",null,[t("p",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"}," Pembayaran via Midtrans "),t("p",{class:"text-xs text-blue-700 dark:text-blue-300 mt-1"}," Anda akan diarahkan ke halaman pembayaran Midtrans untuk menyelesaikan transaksi ")],-1))])]),u.value?(o(),c("div",dn,[t("div",un,[s(e(pe),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),g[7]||(g[7]=t("div",null,[t("p",{class:"text-sm font-semibold text-red-900 dark:text-red-100"}," Sistem Pembayaran Belum Siap "),t("p",{class:"text-xs text-red-700 dark:text-red-300 mt-1"}," Silakan refresh halaman untuk memuat ulang sistem pembayaran. ")],-1))])])):k("",!0),t("div",mn,[s(e(I),{type:"button",variant:"outline",onClick:g[1]||(g[1]=v=>{e(m).reset(),i("cancel")}),disabled:e(m).processing},{default:a(()=>[...g[8]||(g[8]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(m).processing||u.value||!b.value},{default:a(()=>[e(m).processing?(o(),c("span",cn,"Memproses...")):!b.value&&!u.value?(o(),c("span",pn,"Memuat sistem pembayaran...")):u.value?(o(),c("span",xn,"Sistem pembayaran error")):(o(),c("span",fn,"Lanjut ke Pembayaran"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),vn={class:"space-y-2"},bn={class:"relative"},yn={class:"text-xs text-muted-foreground"},kn={key:0,class:"text-sm text-red-500"},_n={class:"space-y-4"},hn={class:"space-y-2"},wn={key:0,class:"text-sm text-red-500"},$n={class:"space-y-2"},Pn={key:0,class:"text-sm text-red-500"},Cn={class:"space-y-2"},Sn={key:0,class:"text-sm text-red-500"},Rn={class:"flex items-center justify-end gap-3"},jn=J({__name:"WalletWithdrawalForm",props:{maxAmount:{}},emits:["cancel"],setup(n,{emit:x}){const i=x,m=de({amount:"",bank_name:"",bank_account:"",bank_holder:""}),b=()=>{m.post("/client/wallet/withdrawal",{preserveScroll:!0,onSuccess:()=>{m.reset(),i("cancel"),M.success("Permintaan penarikan berhasil diajukan.")}})};return(u,p)=>(o(),S(e(z),null,{default:a(()=>[s(e(q),null,{default:a(()=>[s(e(W),null,{default:a(()=>[...p[5]||(p[5]=[r("Tarik Dana E-Wallet",-1)])]),_:1}),s(e(oe),null,{default:a(()=>[...p[6]||(p[6]=[r(" Tarik saldo ke rekening bank Anda ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:Me(b,["prevent"]),class:"space-y-6"},[t("div",vn,[s(e(O),{for:"withdrawal_amount"},{default:a(()=>[...p[7]||(p[7]=[r(" Jumlah Penarikan ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",bn,[s(e(ge),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"withdrawal_amount",modelValue:e(m).amount,"onUpdate:modelValue":p[0]||(p[0]=w=>e(m).amount=w),type:"number",placeholder:"Minimal Rp 50.000",class:"pl-10",min:"50000",max:n.maxAmount,required:""},null,8,["modelValue","max"])]),t("p",yn," Minimum Rp 50.000 - Maksimal Rp "+l(n.maxAmount.toLocaleString("id-ID")),1),e(m).errors.amount?(o(),c("p",kn,l(e(m).errors.amount),1)):k("",!0)]),s(e(le)),t("div",_n,[p[11]||(p[11]=t("h4",{class:"font-semibold"},"Informasi Rekening",-1)),t("div",hn,[s(e(O),{for:"bank_name"},{default:a(()=>[...p[8]||(p[8]=[r(" Nama Bank ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Y),{id:"bank_name",modelValue:e(m).bank_name,"onUpdate:modelValue":p[1]||(p[1]=w=>e(m).bank_name=w),type:"text",placeholder:"e.g., BCA, Mandiri, BNI",required:""},null,8,["modelValue"]),e(m).errors.bank_name?(o(),c("p",wn,l(e(m).errors.bank_name),1)):k("",!0)]),t("div",$n,[s(e(O),{for:"bank_account"},{default:a(()=>[...p[9]||(p[9]=[r(" Nomor Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Y),{id:"bank_account",modelValue:e(m).bank_account,"onUpdate:modelValue":p[2]||(p[2]=w=>e(m).bank_account=w),type:"text",placeholder:"Nomor rekening bank",required:""},null,8,["modelValue"]),e(m).errors.bank_account?(o(),c("p",Pn,l(e(m).errors.bank_account),1)):k("",!0)]),t("div",Cn,[s(e(O),{for:"bank_holder"},{default:a(()=>[...p[10]||(p[10]=[r(" Nama Pemilik Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Y),{id:"bank_holder",modelValue:e(m).bank_holder,"onUpdate:modelValue":p[3]||(p[3]=w=>e(m).bank_holder=w),type:"text",placeholder:"Nama sesuai rekening bank",required:""},null,8,["modelValue"]),e(m).errors.bank_holder?(o(),c("p",Sn,l(e(m).errors.bank_holder),1)):k("",!0)])]),p[13]||(p[13]=t("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},[t("p",{class:"text-sm text-amber-700 dark:text-amber-300"},[t("strong",null,"Catatan:"),r(" Penarikan akan diproses dalam 1-3 hari kerja. Pastikan data rekening sudah benar. ")])],-1)),t("div",Rn,[s(e(I),{type:"button",variant:"outline",onClick:p[4]||(p[4]=w=>{e(m).reset(),i("cancel")}),disabled:e(m).processing},{default:a(()=>[...p[12]||(p[12]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(m).processing},{default:a(()=>[r(l(e(m).processing?"Memproses...":"Ajukan Penarikan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Mn={class:"p-3 border rounded-lg"},Tn={class:"flex items-center justify-between"},Dn={class:"flex items-center gap-3"},Vn={class:"font-semibold text-sm"},An={class:"text-xs text-muted-foreground"},Bn={class:"text-xs text-muted-foreground"},Ln={class:"text-right"},Un={key:0,class:"mt-3 pt-3 border-t"},In={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},En={class:"flex gap-2"},Nn=J({__name:"WalletTransactionCard",props:{transaction:{}},emits:["continue-payment","status-updated"],setup(n,{emit:x}){const i=n,m=x,{formatCurrency:b,formatDate:u,getTransactionTypeLabel:p,getTransactionStatusLabel:w}=xe(),j=D(!1),d=D(i.transaction.status),g=async v=>{if(!j.value){j.value=!0;try{const f=await ne.post("/client/wallet/check-status",{transaction_ref:v});f.data.success?(d.value=f.data.status,m("status-updated",{transactionRef:v,status:f.data.status,newBalance:f.data.new_balance}),M.success(f.data.message),setTimeout(()=>{me.reload({only:["customer","transactions"]})},500)):M.error(f.data.message)}catch(f){console.error("Check status error:",f),M.error(f.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{j.value=!1}}};return(v,f)=>(o(),c("div",Mn,[t("div",Tn,[t("div",Dn,[t("div",{class:A(["p-2 rounded-full",{"bg-emerald-100 dark:bg-emerald-900/20":n.transaction.type==="topup"||n.transaction.type==="bonus","bg-red-100 dark:bg-red-900/20":n.transaction.type==="withdrawal"||n.transaction.type==="purchase","bg-blue-100 dark:bg-blue-900/20":n.transaction.type==="refund"}])},[n.transaction.type==="topup"||n.transaction.type==="bonus"||n.transaction.type==="refund"?(o(),S(e(at),{key:0,class:A(["w-4 h-4",{"text-emerald-600 dark:text-emerald-400":n.transaction.type==="topup"||n.transaction.type==="bonus","text-blue-600 dark:text-blue-400":n.transaction.type==="refund"}])},null,8,["class"])):(o(),S(e(lt),{key:1,class:"w-4 h-4 text-red-600 dark:text-red-400"}))],2),t("div",null,[t("p",Vn,l(e(p)(n.transaction.type)),1),t("p",An,l(n.transaction.transaction_ref),1),t("p",Bn,l(e(u)(n.transaction.created_at)),1)])]),t("div",Ln,[t("p",{class:A(["font-bold",{"text-emerald-600 dark:text-emerald-400":n.transaction.type==="topup"||n.transaction.type==="bonus"||n.transaction.type==="refund","text-red-600 dark:text-red-400":n.transaction.type==="withdrawal"||n.transaction.type==="purchase"}])},l(n.transaction.type==="topup"||n.transaction.type==="bonus"||n.transaction.type==="refund"?"+":"-")+" "+l(e(b)(n.transaction.amount)),3),s(e(V),{variant:"secondary",class:A({"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100":d.value==="pending","bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-100":d.value==="completed","bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-100":d.value==="failed"||d.value==="cancelled"})},{default:a(()=>[r(l(e(w)(d.value)),1)]),_:1},8,["class"])])]),n.transaction.type==="topup"&&d.value==="pending"&&n.transaction.midtrans_transaction_id?(o(),c("div",Un,[t("div",In,[f[4]||(f[4]=t("p",{class:"text-xs text-muted-foreground"}," Pembayaran menunggu konfirmasi ",-1)),t("div",En,[s(e(I),{size:"sm",variant:"outline",disabled:j.value,onClick:f[0]||(f[0]=R=>g(n.transaction.transaction_ref)),class:"shrink-0"},{default:a(()=>[s(e(st),{class:A(["w-3 h-3 mr-1",{"animate-spin":j.value}])},null,8,["class"]),f[2]||(f[2]=r(" Cek Status ",-1))]),_:1},8,["disabled"]),s(e(I),{size:"sm",onClick:f[1]||(f[1]=R=>m("continue-payment",n.transaction.midtrans_transaction_id)),class:"shrink-0"},{default:a(()=>[s(e(ge),{class:"w-3 h-3 mr-1"}),f[3]||(f[3]=r(" Lanjutkan Pembayaran ",-1))]),_:1})])])])):k("",!0)]))}}),Kn={key:0,class:"space-y-3"},On={key:1,class:"py-12 text-center"},zn=J({__name:"WalletTransactionList",props:{transactions:{}},setup(n){const x=nt(),i=E(()=>x.props.customer),m=u=>{typeof window>"u"||(window.snap?window.snap.pay(u,{onSuccess:function(p){console.log("Payment success:",p),M.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(p){console.log("Payment pending:",p),M.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(p){M.error("Pembayaran gagal."),console.error("Payment error:",p)},onClose:function(){M("Pembayaran ditutup sebelum selesai."),console.log("Payment modal closed")}}):alert("Midtrans Snap belum siap. Silakan refresh halaman."))},b=u=>{u.newBalance!==void 0&&i.value&&(i.value.ewallet_saldo=u.newBalance)};return(u,p)=>(o(),S(e(z),null,{default:a(()=>[s(e(q),null,{default:a(()=>[s(e(W),null,{default:a(()=>[...p[0]||(p[0]=[r("Riwayat Transaksi",-1)])]),_:1}),s(e(oe),null,{default:a(()=>[r(l(n.transactions.length)+" transaksi e-wallet terbaru ",1)]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[n.transactions.length>0?(o(),c("div",Kn,[(o(!0),c(G,null,se(n.transactions,w=>(o(),S(Nn,{key:w.id,transaction:w,onContinuePayment:m,onStatusUpdated:b},null,8,["transaction"]))),128))])):(o(),c("div",On,[s(e(ot),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),p[1]||(p[1]=t("p",{class:"text-muted-foreground"},"Belum ada transaksi",-1))]))]),_:1})]),_:1}))}}),Fn={class:"flex-1"},Gn={key:0,class:"text-xs mt-1 text-gray-700 dark:text-gray-300"},qn={class:"font-mono"},Wn={class:"uppercase"},Jn=["disabled"],Hn={key:1,class:"border border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 text-xs text-amber-800 dark:text-amber-200"},Xn=J({__name:"WalletStatusBanner",props:{initialTransactions:{}},setup(n){const x=n,i=D(!1),m=D(null),b=D(null),u=E(()=>{const d=b.value?.status||"";return d==="completed"||d==="success"?{tone:"success",title:"Top up berhasil",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900",text:"text-green-800 dark:text-green-200"}:d==="pending"?{tone:"pending",title:"Menunggu pembayaran",bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-900",text:"text-yellow-800 dark:text-yellow-200"}:d==="cancelled"||d==="failed"||d==="expire"||d==="denied"||d==="deny"?{tone:"failed",title:"Pembayaran gagal / dibatalkan",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-900",text:"text-red-800 dark:text-red-200"}:{tone:"info",title:"Status transaksi",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900",text:"text-blue-800 dark:text-blue-200"}});function p(d,g=2){const v=new Date(d).getTime();return(Date.now()-v)/36e5<=g}const w=E(()=>{if(!b.value)return!1;const d=b.value.status;return d==="pending"?!0:d==="completed"||d==="success"?p(b.value.created_at,2):p(b.value.created_at,6)});async function j(){try{i.value=!0,m.value=null;const{data:d}=await ne.get("/client/wallet/history",{params:{type:"topup"}}),g=Array.isArray(d?.data)?d.data:Array.isArray(d)?d:[];g.length>0&&(b.value=g[0])}catch(d){m.value=d?.response?.data?.message||d?.message||"Gagal memuat status transaksi."}finally{i.value=!1}}return Ye(()=>{x.initialTransactions&&x.initialTransactions.length>0&&(b.value=x.initialTransactions[0]),j()}),(d,g)=>w.value?(o(),c("div",{key:0,class:A(["border rounded-lg p-4 flex items-start gap-3",u.value.border,u.value.bg])},[t("div",Fn,[t("p",{class:A(["text-sm font-semibold",u.value.text])},l(u.value.title),3),b.value?(o(),c("p",Gn,[g[0]||(g[0]=r(" Ref: ",-1)),t("span",qn,l(b.value.transaction_ref),1),r("  Jumlah: Rp "+l(new Intl.NumberFormat("id-ID").format(b.value.amount))+"  Status: ",1),t("span",Wn,l(b.value.status),1)])):k("",!0)]),t("button",{type:"button",class:"text-xs underline text-gray-700 dark:text-gray-300",onClick:j,disabled:i.value},l(i.value?"Menyegarkan...":"Segarkan"),9,Jn)],2)):m.value?(o(),c("div",Hn,l(m.value),1)):k("",!0)}}),Yn={class:"space-y-6"},Zn=J({__name:"WalletTab",props:{customer:{},transactions:{}},setup(n){const x=D("wallet");return(i,m)=>(o(),c("div",Yn,[s(sn,{balance:Number(n.customer.ewallet_saldo)||0,onTopup:m[0]||(m[0]=b=>x.value="wallet-topup"),onWithdrawal:m[1]||(m[1]=b=>x.value="wallet-withdrawal")},null,8,["balance"]),x.value==="wallet"?(o(),S(Xn,{key:0,"initial-transactions":n.transactions},null,8,["initial-transactions"])):k("",!0),x.value==="wallet-topup"?(o(),S(gn,{key:1,onCancel:m[2]||(m[2]=b=>x.value="wallet")})):k("",!0),x.value==="wallet-withdrawal"?(o(),S(jn,{key:2,"max-amount":Number(n.customer.ewallet_saldo)||0,onCancel:m[3]||(m[3]=b=>x.value="wallet")},null,8,["max-amount"])):k("",!0),x.value==="wallet"?(o(),S(zn,{key:3,transactions:n.transactions},null,8,["transactions"])):k("",!0)]))}}),Qn={class:"space-y-2"},eo={class:"relative"},to={key:0,class:"text-sm text-red-500"},so={class:"space-y-2"},ao={class:"relative"},lo={key:0,class:"text-sm text-red-500"},no={class:"space-y-2"},oo={class:"relative"},ro={class:"flex items-center justify-end gap-3"},io=J({__name:"SecurityTab",setup(n){const x=de({current_password:"",password:"",password_confirmation:""}),i=D(!1),m=D(!1),b=D(!1),u=()=>{x.patch("/client/profile/password",{preserveScroll:!0,onSuccess:()=>{x.reset(),i.value=!1,m.value=!1,b.value=!1,M.success("Password berhasil diubah")}})};return(p,w)=>(o(),S(e(z),null,{default:a(()=>[s(e(q),null,{default:a(()=>[s(e(W),null,{default:a(()=>[...w[7]||(w[7]=[r("Ubah Password",-1)])]),_:1}),s(e(oe),null,{default:a(()=>[...w[8]||(w[8]=[r(" Pastikan akun Anda menggunakan password yang kuat ",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("form",{onSubmit:Me(u,["prevent"]),class:"space-y-6"},[t("div",Qn,[s(e(O),{for:"current_password"},{default:a(()=>[...w[9]||(w[9]=[r(" Password Saat Ini ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",eo,[s(e(Ke),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"current_password",modelValue:e(x).current_password,"onUpdate:modelValue":w[0]||(w[0]=j=>e(x).current_password=j),type:i.value?"text":"password",placeholder:"Masukkan password saat ini",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:w[1]||(w[1]=j=>i.value=!i.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[i.value?(o(),S(e(De),{key:1,class:"h-4 w-4"})):(o(),S(e(Te),{key:0,class:"h-4 w-4"}))])]),e(x).errors.current_password?(o(),c("p",to,l(e(x).errors.current_password),1)):k("",!0)]),s(e(le)),t("div",so,[s(e(O),{for:"password"},{default:a(()=>[...w[10]||(w[10]=[r(" Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ao,[s(e(Ze),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"password",modelValue:e(x).password,"onUpdate:modelValue":w[2]||(w[2]=j=>e(x).password=j),type:m.value?"text":"password",placeholder:"Masukkan password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:w[3]||(w[3]=j=>m.value=!m.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[m.value?(o(),S(e(De),{key:1,class:"h-4 w-4"})):(o(),S(e(Te),{key:0,class:"h-4 w-4"}))])]),w[11]||(w[11]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimal 8 karakter ",-1)),e(x).errors.password?(o(),c("p",lo,l(e(x).errors.password),1)):k("",!0)]),t("div",no,[s(e(O),{for:"password_confirmation"},{default:a(()=>[...w[12]||(w[12]=[r(" Konfirmasi Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",oo,[s(e(Ze),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"password_confirmation",modelValue:e(x).password_confirmation,"onUpdate:modelValue":w[4]||(w[4]=j=>e(x).password_confirmation=j),type:b.value?"text":"password",placeholder:"Konfirmasi password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:w[5]||(w[5]=j=>b.value=!b.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[b.value?(o(),S(e(De),{key:1,class:"h-4 w-4"})):(o(),S(e(Te),{key:0,class:"h-4 w-4"}))])])]),t("div",ro,[s(e(I),{type:"button",variant:"outline",onClick:w[6]||(w[6]=j=>e(x).reset()),disabled:e(x).processing},{default:a(()=>[...w[13]||(w[13]=[r(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"submit",disabled:e(x).processing},{default:a(()=>[e(x).processing?k("",!0):(o(),S(e(Ke),{key:0,class:"w-4 h-4 mr-2"})),r(" "+l(e(x).processing?"Mengupdate...":"Update Password"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),uo={class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},mo={class:"flex items-start gap-3"},co={class:"flex-1"},po=J({__name:"DangerZoneTab",setup(n){const x=D(!1),i=de({}),m=()=>{i.delete("/client/profile",{onFinish:()=>{x.value=!1}})};return(b,u)=>(o(),c(G,null,[s(e(z),{class:"border-red-200 dark:border-red-900"},{default:a(()=>[s(e(q),null,{default:a(()=>[s(e(W),{class:"text-red-600 dark:text-red-400"},{default:a(()=>[...u[3]||(u[3]=[r("Zona Bahaya",-1)])]),_:1}),s(e(oe),null,{default:a(()=>[...u[4]||(u[4]=[r(" Tindakan di bawah ini bersifat permanen dan tidak dapat dibatalkan ",-1)])]),_:1})]),_:1}),s(e(F),{class:"space-y-6"},{default:a(()=>[t("div",uo,[t("div",mo,[s(e(pe),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),t("div",co,[u[6]||(u[6]=t("h3",{class:"font-semibold text-red-900 dark:text-red-100"}," Hapus Akun ",-1)),u[7]||(u[7]=t("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Setelah akun Anda dihapus, semua data akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1)),s(e(I),{type:"button",variant:"destructive",class:"mt-4",onClick:u[0]||(u[0]=p=>x.value=!0)},{default:a(()=>[s(e(Ee),{class:"w-4 h-4 mr-2"}),u[5]||(u[5]=r(" Hapus Akun Saya ",-1))]),_:1})])])])]),_:1})]),_:1}),s(e($e),{open:x.value,"onUpdate:open":u[2]||(u[2]=p=>x.value=p)},{default:a(()=>[s(e(ke),null,{default:a(()=>[s(e(_e),null,{default:a(()=>[s(e(he),{class:"flex items-center gap-2 text-red-600"},{default:a(()=>[s(e(pe),{class:"w-5 h-5"}),u[8]||(u[8]=r(" Konfirmasi Hapus Akun ",-1))]),_:1}),s(e(we),null,{default:a(()=>[...u[9]||(u[9]=[r(" Apakah Anda yakin ingin menghapus akun Anda? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan dihapus secara permanen. ",-1)])]),_:1})]),_:1}),u[11]||(u[11]=t("div",{class:"py-4"},[t("div",{class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},[t("p",{class:"text-sm text-red-700 dark:text-red-300"},[t("strong",null,"Data yang akan dihapus:")]),t("ul",{class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside space-y-1"},[t("li",null,"Informasi profil dan akun"),t("li",null,"Riwayat transaksi"),t("li",null,"E-wallet dan saldo"),t("li",null,"Jaringan dan bonus")])])],-1)),s(e(Pe),null,{default:a(()=>[s(e(I),{type:"button",variant:"outline",onClick:u[1]||(u[1]=p=>x.value=!1),disabled:e(i).processing},{default:a(()=>[...u[10]||(u[10]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{type:"button",variant:"destructive",onClick:m,disabled:e(i).processing},{default:a(()=>[s(e(Ee),{class:"w-4 h-4 mr-2"}),r(" "+l(e(i).processing?"Menghapus...":"Ya, Hapus Akun"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),xo={key:0,class:"text-center py-12 text-muted-foreground"},fo={class:"flex items-start justify-between"},go={class:"flex-1"},vo={class:"flex items-center gap-2 mb-2"},bo={class:"font-semibold text-lg"},yo={class:"space-y-1 text-sm text-muted-foreground"},ko={key:0},_o={key:1,class:"text-xs font-medium text-primary"},ho={key:2,class:"text-xs"},wo={class:"text-blue-600 dark:text-blue-400"},$o={class:"text-green-600 dark:text-green-400"},Po={class:"text-xs"},Co={class:"text-xs font-medium text-green-600 dark:text-green-400"},So={class:"flex flex-col items-end gap-2"},Ro={key:0,class:"text-center py-12 text-muted-foreground"},jo={class:"flex items-start justify-between"},Mo={class:"flex-1"},To={class:"flex items-center gap-2 mb-2"},Do={class:"font-semibold text-lg"},Vo={class:"space-y-1 text-sm text-muted-foreground"},Ao={key:0},Bo={key:1,class:"text-xs font-medium text-primary"},Lo={key:2,class:"text-xs"},Uo={class:"text-blue-600 dark:text-blue-400"},Io={class:"text-green-600 dark:text-green-400"},Eo={class:"text-xs"},No={class:"text-xs font-medium text-orange-600 dark:text-orange-400"},Ko={class:"flex flex-col items-end gap-2"},Oo={key:0,class:"text-center py-12 text-muted-foreground"},zo={class:"flex items-start justify-between"},Fo={class:"flex-1"},Go={class:"flex items-center gap-2 mb-2"},qo={class:"font-semibold text-lg"},Wo={class:"space-y-1 text-sm text-muted-foreground"},Jo={key:0},Ho={key:1,class:"text-xs font-medium text-primary"},Xo={key:2,class:"text-xs"},Yo={class:"text-blue-600 dark:text-blue-400"},Zo={class:"text-green-600 dark:text-green-400"},Qo={class:"text-xs"},er={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},tr={class:"flex flex-col items-end gap-2"},sr={class:"font-semibold"},ar={class:"grid grid-cols-2 gap-4 py-4"},lr=J({__name:"NetworkMembersTab",props:{activeMembers:{},passiveMembers:{},prospectMembers:{}},setup(n){const x=D(!1),i=D(null),m=D(null),b=de({member_id:0,position:""}),u=v=>{i.value=v,m.value=null,b.member_id=v.id,b.position="",x.value=!0},p=()=>{x.value=!1,i.value=null,m.value=null,b.reset()},w=()=>{if(!i.value||!m.value){M.error("Pilih posisi terlebih dahulu");return}b.position=m.value,b.post("/client/profile/place-member",{onSuccess:()=>{M.success(`${i.value?.name} berhasil ditempatkan di posisi ${m.value}`),p()},onError:v=>{const f=v.error||"Gagal menempatkan member ke binary tree";M.error(f)}})},j=v=>new Date(v).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),d=v=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(v),g=v=>v?{variant:v==="left"?"default":"secondary",text:v==="left"?"Kiri":"Kanan"}:{variant:"outline",text:"Belum Ditempatkan"};return(v,f)=>(o(),c(G,null,[s(e(z),null,{default:a(()=>[s(e(q),null,{default:a(()=>[s(e(W),null,{default:a(()=>[...f[2]||(f[2]=[r("Jaringan Member",-1)])]),_:1}),s(e(oe),null,{default:a(()=>[...f[3]||(f[3]=[r("Kelola dan lihat member dalam jaringan Anda",-1)])]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[s(e(Je),{"default-value":"active",class:"w-full"},{default:a(()=>[s(e(He),{class:"grid w-full grid-cols-3"},{default:a(()=>[s(e(ee),{value:"active"},{default:a(()=>[s(e(ie),{class:"w-4 h-4 mr-2"}),r(" Aktif ("+l(n.activeMembers.length)+") ",1)]),_:1}),s(e(ee),{value:"passive"},{default:a(()=>[s(e(Ve),{class:"w-4 h-4 mr-2"}),r(" Pasif ("+l(n.passiveMembers.length)+") ",1)]),_:1}),s(e(ee),{value:"prospect"},{default:a(()=>[s(e(ce),{class:"w-4 h-4 mr-2"}),r(" Prospek ("+l(n.prospectMembers.length)+") ",1)]),_:1})]),_:1}),s(e(te),{value:"active",class:"space-y-4"},{default:a(()=>[n.activeMembers.length===0?(o(),c("div",xo,[s(e(ie),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),f[4]||(f[4]=t("p",null,"Belum ada member aktif",-1)),f[5]||(f[5]=t("p",{class:"text-sm mt-2"},"Member aktif adalah member yang sudah ditempatkan di binary tree",-1))])):k("",!0),(o(!0),c(G,null,se(n.activeMembers,R=>(o(),S(e(z),{key:R.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",fo,[t("div",go,[t("div",vo,[t("h4",bo,l(R.name),1),s(e(V),{variant:g(R.position).variant},{default:a(()=>[r(l(g(R.position).text),1)]),_:2},1032,["variant"]),R.level?(o(),S(e(V),{key:0,variant:"outline"},{default:a(()=>[r(" Level "+l(R.level),1)]),_:2},1024)):k("",!0)]),t("div",yo,[t("p",null,l(R.email),1),R.phone?(o(),c("p",ko,l(R.phone),1)):k("",!0),R.package_name?(o(),c("p",_o," Paket: "+l(R.package_name),1)):k("",!0),(R.total_left??0)>0||(R.total_right??0)>0?(o(),c("p",ho,[t("span",wo,"Kiri: "+l(R.total_left??0),1),f[6]||(f[6]=t("span",{class:"mx-1"},"|",-1)),t("span",$o,"Kanan: "+l(R.total_right??0),1)])):k("",!0),t("p",Po,"Bergabung: "+l(j(R.joined_at)),1),t("p",Co," Omzet: "+l(d(R.omzet)),1)])]),t("div",So,[s(e(V),{variant:"default"},{default:a(()=>[s(e(ie),{class:"w-3 h-3 mr-1"}),f[7]||(f[7]=r(" Aktif ",-1))]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(te),{value:"passive",class:"space-y-4"},{default:a(()=>[n.passiveMembers.length===0?(o(),c("div",Ro,[s(e(Ve),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),f[8]||(f[8]=t("p",null,"Belum ada member pasif",-1)),f[9]||(f[9]=t("p",{class:"text-sm mt-2"},"Member pasif adalah member yang belum ditempatkan di binary tree tapi sudah memiliki pembelian/order",-1))])):k("",!0),(o(!0),c(G,null,se(n.passiveMembers,R=>(o(),S(e(z),{key:R.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",jo,[t("div",Mo,[t("div",To,[t("h4",Do,l(R.name),1),s(e(V),{variant:"secondary"},{default:a(()=>[...f[10]||(f[10]=[r("Belum Ditempatkan",-1)])]),_:1})]),t("div",Vo,[t("p",null,l(R.email),1),R.phone?(o(),c("p",Ao,l(R.phone),1)):k("",!0),R.package_name?(o(),c("p",Bo," Paket: "+l(R.package_name),1)):k("",!0),(R.total_left??0)>0||(R.total_right??0)>0?(o(),c("p",Lo,[t("span",Uo,"Kiri: "+l(R.total_left??0),1),f[11]||(f[11]=t("span",{class:"mx-1"},"|",-1)),t("span",Io,"Kanan: "+l(R.total_right??0),1)])):k("",!0),t("p",Eo,"Bergabung: "+l(j(R.joined_at)),1),t("p",No," Omzet: "+l(d(R.omzet)),1)])]),t("div",Ko,[s(e(V),{variant:"outline"},{default:a(()=>[s(e(Ve),{class:"w-3 h-3 mr-1"}),f[12]||(f[12]=r(" Pasif ",-1))]),_:1}),s(e(V),{variant:"default"},{default:a(()=>[...f[13]||(f[13]=[r(" Sudah Belanja ",-1)])]),_:1}),n.activeMembers.length<2?(o(),S(e(I),{key:0,size:"sm",variant:"default",class:"mt-2",onClick:N=>u(R)},{default:a(()=>[s(e(ve),{class:"w-3 h-3 mr-1"}),f[14]||(f[14]=r(" Tempatkan ke Binary ",-1))]),_:1},8,["onClick"])):k("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(te),{value:"prospect",class:"space-y-4"},{default:a(()=>[n.prospectMembers.length===0?(o(),c("div",Oo,[s(e(ce),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),f[15]||(f[15]=t("p",null,"Belum ada member prospek",-1)),f[16]||(f[16]=t("p",{class:"text-sm mt-2"},"Member prospek adalah member yang baru mendaftar, belum ditempatkan di binary tree dan belum memiliki pembelian/order",-1))])):k("",!0),(o(!0),c(G,null,se(n.prospectMembers,R=>(o(),S(e(z),{key:R.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(F),{class:"p-4"},{default:a(()=>[t("div",zo,[t("div",Fo,[t("div",Go,[t("h4",qo,l(R.name),1),s(e(V),{variant:"outline"},{default:a(()=>[...f[17]||(f[17]=[r("Baru Bergabung",-1)])]),_:1})]),t("div",Wo,[t("p",null,l(R.email),1),R.phone?(o(),c("p",Jo,l(R.phone),1)):k("",!0),R.package_name?(o(),c("p",Ho," Paket: "+l(R.package_name),1)):k("",!0),(R.total_left??0)>0||(R.total_right??0)>0?(o(),c("p",Xo,[t("span",Yo,"Kiri: "+l(R.total_left??0),1),f[18]||(f[18]=t("span",{class:"mx-1"},"|",-1)),t("span",Zo,"Kanan: "+l(R.total_right??0),1)])):k("",!0),t("p",Qo,"Bergabung: "+l(j(R.joined_at)),1),t("p",er," Omzet: "+l(d(R.omzet)),1)])]),t("div",tr,[s(e(V),{variant:"secondary"},{default:a(()=>[s(e(ce),{class:"w-3 h-3 mr-1"}),f[19]||(f[19]=r(" Prospek ",-1))]),_:1}),s(e(V),{variant:"secondary"},{default:a(()=>[...f[20]||(f[20]=[r(" Belum Belanja ",-1)])]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),s(e($e),{open:x.value,"onUpdate:open":p},{default:a(()=>[s(e(ke),{class:"sm:max-w-md"},{default:a(()=>[s(e(_e),null,{default:a(()=>[s(e(he),null,{default:a(()=>[...f[21]||(f[21]=[r("Tempatkan Member ke Binary Tree",-1)])]),_:1}),s(e(we),null,{default:a(()=>[f[22]||(f[22]=r(" Pilih posisi untuk menempatkan ",-1)),t("span",sr,l(i.value?.name),1),f[23]||(f[23]=r(" di jaringan binary tree Anda. ",-1))]),_:1})]),_:1}),t("div",ar,[t("button",{type:"button",class:A(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",m.value==="left"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:f[0]||(f[0]=R=>m.value="left")},[s(e(ve),{class:"w-8 h-8 mb-2 rotate-90"}),f[24]||(f[24]=t("span",{class:"font-semibold"},"Posisi Kiri",-1)),f[25]||(f[25]=t("span",{class:"text-xs text-muted-foreground mt-1"},"Left Position",-1))],2),t("button",{type:"button",class:A(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",m.value==="right"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:f[1]||(f[1]=R=>m.value="right")},[s(e(ve),{class:"w-8 h-8 mb-2 -rotate-90"}),f[26]||(f[26]=t("span",{class:"font-semibold"},"Posisi Kanan",-1)),f[27]||(f[27]=t("span",{class:"text-xs text-muted-foreground mt-1"},"Right Position",-1))],2)]),s(e(Pe),null,{default:a(()=>[s(e(I),{variant:"outline",onClick:p,disabled:e(b).processing},{default:a(()=>[...f[28]||(f[28]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{onClick:w,disabled:!m.value||e(b).processing},{default:a(()=>[r(l(e(b).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),nr={class:"flex justify-center mb-3 sm:mb-6"},or={class:"flex-1 min-w-0"},rr={class:"sm:hidden"},ir={class:"hidden sm:inline"},dr={class:"sm:hidden"},ur={class:"hidden sm:inline"},mr={class:"sm:hidden"},cr={class:"hidden sm:inline"},pr={class:"text-blue-600 dark:text-blue-400"},xr={class:"text-green-600 dark:text-green-400"},fr={class:"flex items-center gap-0.5 sm:gap-1 mt-0.5 sm:mt-1 flex-wrap"},gr={class:"text-center"},vr={class:"hidden sm:inline"},br={key:1,class:"flex justify-center mb-3 sm:mb-6"},yr={class:"text-center"},kr={key:1,class:"flex justify-center mb-3 sm:mb-6"},_r={class:"text-center"},hr=J({__name:"TreeNodeComponent",props:{node:{},isRoot:{type:Boolean},maxLevel:{default:15}},emits:["open-placement"],setup(n,{emit:x}){const i=n,m=x,b=(d,g)=>{if(!g)return"bg-gray-100 border-gray-300 dark:bg-gray-800 dark:border-gray-600";const v=["bg-primary/10 border-primary/30","bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800","bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800","bg-purple-50 border-purple-200 dark:bg-purple-950 dark:border-purple-800","bg-orange-50 border-orange-200 dark:bg-orange-950 dark:border-orange-800","bg-pink-50 border-pink-200 dark:bg-pink-950 dark:border-pink-800"];return v[Math.min(d-1,v.length-1)]||v[v.length-1]},u=(d,g)=>{m("open-placement",d,g)},p=i.node.level<i.maxLevel,w=(d,g)=>d.length<=g?d:d.substring(0,g)+"...",j=(d,g)=>d.length<=g?d:d.indexOf("@")>g-3?d.substring(0,g-3)+"...":d.substring(0,g)+"...";return(d,g)=>{const v=Mt("TreeNodeComponent",!0);return o(),c("div",null,[t("div",nr,[n.node.name?(o(),c("div",{key:0,class:A(["relative rounded-lg border-2 shadow-sm sm:shadow-lg transition-all hover:shadow-md sm:hover:shadow-xl max-w-[120px] sm:max-w-none",n.isRoot?"px-2 py-2 sm:px-6 sm:py-4":"px-1.5 py-1.5 sm:px-3 sm:py-2",b(n.node.level,n.node.status)])},[t("div",{class:A(["flex items-center gap-1.5 sm:gap-2",n.isRoot&&"sm:gap-3"])},[t("div",{class:A(["flex items-center justify-center rounded-full text-primary-foreground flex-shrink-0",n.isRoot?"h-7 w-7 sm:h-12 sm:w-12 bg-primary":"h-5 w-5 sm:h-8 sm:w-8 bg-blue-100 dark:bg-blue-900"])},[s(e(Re),{class:A(n.isRoot?"h-4 w-4 sm:h-6 sm:w-6":"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 dark:text-blue-400")},null,8,["class"])],2),t("div",or,[t("div",{class:A(["font-medium truncate",n.isRoot?"text-xs sm:text-base font-semibold":"text-[10px] sm:text-xs"])},[t("span",rr,l(w(n.node.name,10)),1),t("span",ir,l(n.node.name),1)],2),t("div",{class:A(["text-muted-foreground truncate",n.isRoot?"text-[10px] sm:text-xs":"text-[8px] sm:text-[10px]"])},[t("span",dr,l(j(n.node.email,12)),1),t("span",ur,l(n.node.email),1)],2),n.node.package_name?(o(),c("div",{key:0,class:A(["font-medium truncate",n.isRoot?"text-[9px] sm:text-xs text-primary":"text-[7px] sm:text-[10px] text-primary"])},[t("span",mr,l(w(n.node.package_name,8)),1),t("span",cr,l(n.node.package_name),1)],2)):k("",!0),n.node.total_left!==void 0&&n.node.total_left>0||n.node.total_right!==void 0&&n.node.total_right>0?(o(),c("div",{key:1,class:A(["flex items-center gap-1 text-muted-foreground",n.isRoot?"text-[9px] sm:text-xs":"text-[7px] sm:text-[10px]"])},[t("span",pr,"L:"+l(n.node.total_left??0),1),g[5]||(g[5]=t("span",{class:"text-muted-foreground"},"|",-1)),t("span",xr,"R:"+l(n.node.total_right??0),1)],2)):k("",!0),t("div",fr,[n.node.position==="left"?(o(),S(e(V),{key:0,variant:"secondary",class:A(n.isRoot?"text-[8px] sm:text-xs px-1 py-0":"text-[7px] sm:text-[10px] px-0.5 py-0")},{default:a(()=>[...g[6]||(g[6]=[t("span",{class:"sm:hidden"},"L",-1),t("span",{class:"hidden sm:inline"},"Kiri",-1)])]),_:1},8,["class"])):n.node.position==="right"?(o(),S(e(V),{key:1,variant:"secondary",class:A(n.isRoot?"text-[8px] sm:text-xs px-1 py-0":"text-[7px] sm:text-[10px] px-0.5 py-0")},{default:a(()=>[...g[7]||(g[7]=[t("span",{class:"sm:hidden"},"R",-1),t("span",{class:"hidden sm:inline"},"Kanan",-1)])]),_:1},8,["class"])):k("",!0),s(e(V),{variant:"outline",class:A(n.isRoot?"text-[8px] sm:text-xs px-1 py-0":"text-[7px] sm:text-[10px] px-0.5 py-0")},{default:a(()=>[r(" L"+l(n.node.level),1)]),_:1},8,["class"])])])],2)],2)):n.node.member_id>0?(o(),c("div",{key:1,class:A(["rounded-lg border-2 border-dashed bg-muted/50 hover:bg-muted hover:border-primary/50 transition-all cursor-pointer group",n.isRoot?"px-2 py-2 sm:px-6 sm:py-4":"px-1.5 py-1 sm:px-3 sm:py-2"]),onClick:g[0]||(g[0]=f=>u(n.node.member_id,n.node.position))},[t("div",gr,[s(e(ce),{class:A(["mx-auto mb-0.5 sm:mb-1 text-muted-foreground group-hover:text-primary",n.isRoot?"w-4 h-4 sm:w-6 sm:h-6":"w-3 h-3 sm:w-4 sm:h-4"])},null,8,["class"]),t("div",{class:A(["text-muted-foreground group-hover:text-primary",n.isRoot?"text-[10px] sm:text-sm":"text-[8px] sm:text-[10px]"])},[g[8]||(g[8]=t("span",{class:"sm:hidden"},"+",-1)),t("span",vr,l(n.isRoot?"Tempatkan Member":"Tambah"),1)],2)])],2)):(o(),c("div",{key:2,class:A(["rounded-lg border-2 border-dashed bg-muted/30",n.isRoot?"px-2 py-2 sm:px-6 sm:py-4":"px-1.5 py-1 sm:px-3 sm:py-2"])},[t("div",{class:A(["text-center text-muted-foreground",n.isRoot?"text-[10px] sm:text-sm":"text-[8px] sm:text-[10px]"])}," - ",2)],2))]),n.node.name&&p?(o(),c("div",{key:0,class:A(["flex justify-center gap-1 sm:gap-4 mb-2 sm:mb-4",n.isRoot&&"gap-2 sm:gap-16 sm:mb-6"])},[t("div",{class:A(n.isRoot?"w-[130px] sm:w-64":"w-[65px] sm:w-36")},[n.node.left?(o(),S(v,{key:0,node:n.node.left,"is-root":!1,"max-level":n.maxLevel,onOpenPlacement:g[1]||(g[1]=(f,R)=>d.$emit("open-placement",f,R))},null,8,["node","max-level"])):(o(),c("div",br,[t("div",{class:A(["rounded-lg border-2 border-dashed bg-muted/50 hover:bg-muted hover:border-primary/50 transition-all cursor-pointer group",n.isRoot?"px-2 py-2 sm:px-6 sm:py-4":"px-1.5 py-1 sm:px-3 sm:py-2"]),onClick:g[2]||(g[2]=f=>u(n.node.member_id,"left"))},[t("div",yr,[s(e(ce),{class:A(["mx-auto mb-0.5 sm:mb-1 text-muted-foreground group-hover:text-primary",n.isRoot?"w-4 h-4 sm:w-6 sm:h-6":"w-3 h-3 sm:w-4 sm:h-4"])},null,8,["class"]),t("div",{class:A(["text-muted-foreground group-hover:text-primary",n.isRoot?"text-[10px] sm:text-sm":"text-[8px] sm:text-[10px]"])},[...g[9]||(g[9]=[t("span",{class:"sm:hidden"},"+",-1),t("span",{class:"hidden sm:inline"},"Tambah",-1)])],2)])],2)]))],2),t("div",{class:A(n.isRoot?"w-[130px] sm:w-64":"w-[65px] sm:w-36")},[n.node.right?(o(),S(v,{key:0,node:n.node.right,"is-root":!1,"max-level":n.maxLevel,onOpenPlacement:g[3]||(g[3]=(f,R)=>d.$emit("open-placement",f,R))},null,8,["node","max-level"])):(o(),c("div",kr,[t("div",{class:A(["rounded-lg border-2 border-dashed bg-muted/50 hover:bg-muted hover:border-primary/50 transition-all cursor-pointer group",n.isRoot?"px-2 py-2 sm:px-6 sm:py-4":"px-1.5 py-1 sm:px-3 sm:py-2"]),onClick:g[4]||(g[4]=f=>u(n.node.member_id,"right"))},[t("div",_r,[s(e(ce),{class:A(["mx-auto mb-0.5 sm:mb-1 text-muted-foreground group-hover:text-primary",n.isRoot?"w-4 h-4 sm:w-6 sm:h-6":"w-3 h-3 sm:w-4 sm:h-4"])},null,8,["class"]),t("div",{class:A(["text-muted-foreground group-hover:text-primary",n.isRoot?"text-[10px] sm:text-sm":"text-[8px] sm:text-[10px]"])},[...g[10]||(g[10]=[t("span",{class:"sm:hidden"},"+",-1),t("span",{class:"hidden sm:inline"},"Tambah",-1)])],2)])],2)]))],2)],2)):k("",!0)])}}}),wr={class:"space-y-4 sm:space-y-6"},$r={class:"grid grid-cols-3 gap-2 sm:gap-4"},Pr={class:"text-lg sm:text-2xl font-bold"},Cr={class:"text-lg sm:text-2xl font-bold text-blue-600"},Sr={class:"text-lg sm:text-2xl font-bold text-green-600"},Rr={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},jr={class:"flex items-center gap-1 sm:gap-2"},Mr={class:"mt-4 sm:mt-6 p-2 sm:p-4 rounded-lg bg-muted/50"},Tr={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-center sm:text-left"},Dr={class:"text-[10px] sm:text-sm text-muted-foreground"},Vr={class:"hidden sm:inline"},Ar={class:"sm:hidden"},Br={class:"text-[10px] sm:text-sm text-muted-foreground"},Lr={class:"sm:hidden"},Ur={class:"font-semibold"},Ir={class:"flex-1 overflow-y-auto py-2 sm:py-4"},Er={key:0,class:"text-center py-8 sm:py-12 text-muted-foreground"},Nr={key:1,class:"space-y-2"},Kr=["onClick"],Or={class:"flex items-start justify-between gap-2"},zr={class:"flex-1 min-w-0"},Fr={class:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1"},Gr={class:"font-semibold text-sm sm:text-base truncate"},qr={class:"space-y-0.5 text-xs sm:text-sm text-muted-foreground"},Wr={class:"truncate"},Jr={key:0,class:"truncate"},Hr={class:"text-[10px] sm:text-xs"},Xr={key:0,class:"flex-shrink-0"},Ue=.3,Ie=2,et=.1,Yr=J({__name:"BinaryTreeTab",props:{binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},passiveMembers:{}},setup(n){const x=n,i=D(!1),m=E(()=>i.value?3:15),b=D(1),u=()=>{b.value<Ie&&(b.value=Math.min(Ie,b.value+et))},p=()=>{b.value>Ue&&(b.value=Math.max(Ue,b.value-et))},w=()=>{b.value=1},j=E(()=>Math.round(b.value*100)),d=D(null),g=D(null),v=D(!1),f=D({x:0,y:0}),R=D({x:0,y:0}),N=D({x:0,y:0}),C=K=>{if(!d.value)return;v.value=!0;const B="touches"in K?K.touches[0].clientX:K.clientX,ae="touches"in K?K.touches[0].clientY:K.clientY;R.value={x:B,y:ae},N.value={x:d.value.scrollLeft,y:d.value.scrollTop},K.preventDefault()},U=K=>{if(!v.value||!d.value)return;const B="touches"in K?K.touches[0].clientX:K.clientX,ae="touches"in K?K.touches[0].clientY:K.clientY,ue=R.value.x-B,Ce=R.value.y-ae;d.value.scrollLeft=N.value.x+ue,d.value.scrollTop=N.value.y+Ce},Z=()=>{v.value=!1};Se(b,()=>{});const re=()=>{b.value=1,f.value={x:0,y:0},d.value&&(d.value.scrollLeft=0,d.value.scrollTop=0)},X=()=>{i.value=window.innerWidth<640};Ye(()=>{X(),window.addEventListener("resize",X)}),Tt(()=>{window.removeEventListener("resize",X)});const L=D(!1),H=D(null),T=D(null),y=D(null),P=de({member_id:0,position:""}),Q=(K,B,ae,ue)=>{if(ue>m.value)return null;if(K){const Ce=ue<m.value;return{...K,left:Ce?Q(K.left||null,K.member_id,"left",ue+1):void 0,right:Ce?Q(K.right||null,K.member_id,"right",ue+1):void 0}}return null},$=E(()=>Q(x.binaryTree,null,null,x.binaryTree.level)||x.binaryTree),h=(K,B)=>{H.value=K,T.value=B,y.value=null,L.value=!0},_=()=>{L.value=!1,H.value=null,T.value=null,y.value=null},ut=K=>{y.value=K},mt=()=>{if(!y.value||!T.value){M.error("Pilih member terlebih dahulu");return}P.member_id=y.value.id,P.position=T.value,P.post("/client/profile/place-member",{onSuccess:()=>{M.success(`${y.value?.name} berhasil ditempatkan di posisi ${T.value}`),_()},onError:K=>{const B=K.error||"Gagal menempatkan member ke binary tree";M.error(B)}})},ct=K=>new Date(K).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"});return(K,B)=>(o(),c(G,null,[t("div",wr,[t("div",$r,[s(e(z),{class:"p-0"},{default:a(()=>[s(e(q),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(W),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...B[0]||(B[0]=[r("Total Jaringan",-1)])]),_:1}),s(e(rt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Pr,l(n.totalDownlines),1),B[1]||(B[1]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member aktif di jaringan Anda",-1))]),_:1})]),_:1}),s(e(z),{class:"p-0"},{default:a(()=>[s(e(q),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(W),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...B[2]||(B[2]=[r("Kaki Kiri",-1)])]),_:1}),s(e(Qe),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Cr,l(n.totalLeft),1),B[3]||(B[3]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kiri",-1))]),_:1})]),_:1}),s(e(z),{class:"p-0"},{default:a(()=>[s(e(q),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(W),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...B[4]||(B[4]=[r("Kaki Kanan",-1)])]),_:1}),s(e(Qe),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"})]),_:1}),s(e(F),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Sr,l(n.totalRight),1),B[5]||(B[5]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kanan",-1))]),_:1})]),_:1})]),s(e(z),null,{default:a(()=>[s(e(q),{class:"p-3 sm:p-6"},{default:a(()=>[t("div",Rr,[t("div",null,[s(e(W),{class:"text-sm sm:text-base"},{default:a(()=>[...B[6]||(B[6]=[r("Struktur Binary Tree",-1)])]),_:1}),s(e(oe),{class:"text-xs sm:text-sm"},{default:a(()=>[...B[7]||(B[7]=[r(" Visualisasi jaringan MLM binary tree Anda ",-1)])]),_:1})]),t("div",jr,[s(e(I),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:p,disabled:b.value<=Ue},{default:a(()=>[s(e(Dt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1},8,["disabled"]),s(e(I),{variant:"outline",size:"sm",class:"h-7 px-2 sm:h-8 sm:px-3 text-xs sm:text-sm min-w-[50px] sm:min-w-[60px]",onClick:w},{default:a(()=>[r(l(j.value)+"% ",1)]),_:1}),s(e(I),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:u,disabled:b.value>=Ie},{default:a(()=>[s(e(Vt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1},8,["disabled"]),s(e(I),{variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:re,title:"Reset View"},{default:a(()=>[s(e(At),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1})])])]),_:1}),s(e(F),{class:"p-2 sm:p-6 pt-0"},{default:a(()=>[t("div",{ref_key:"treeContainer",ref:d,class:A(["overflow-auto pb-4 -mx-2 px-2 max-h-[60vh] sm:max-h-[70vh] select-none",{"cursor-grab":!v.value&&b.value!==1,"cursor-grabbing":v.value}]),onMousedown:C,onMousemove:U,onMouseup:Z,onMouseleave:Z,onTouchstart:C,onTouchmove:U,onTouchend:Z},[t("div",{ref_key:"treeWrapper",ref:g,class:"min-w-[280px] sm:min-w-max transition-transform duration-200 origin-top-left inline-block",style:Bt({transform:`scale(${b.value})`,transformOrigin:"top left"})},[s(hr,{node:$.value,"is-root":!0,"max-level":m.value,onOpenPlacement:h},null,8,["node","max-level"])],4)],34),t("div",Mr,[t("div",Tr,[t("p",Dr,[B[8]||(B[8]=r("  ",-1)),t("span",Vr,"Tree menampilkan maksimal "+l(m.value)+" level untuk performa optimal",1),t("span",Ar,"Max "+l(m.value)+" level",1)]),t("p",Br,[s(e(Lt),{class:"inline-block h-3 w-3 sm:h-4 sm:w-4 mr-1"}),B[9]||(B[9]=t("span",{class:"hidden sm:inline"},"Drag untuk menggeser, gunakan tombol zoom untuk resize",-1)),t("span",Lr,"Geser & Zoom: "+l(j.value)+"%",1)])])])]),_:1})]),_:1})]),s(e($e),{open:L.value,"onUpdate:open":_},{default:a(()=>[s(e(ke),{class:"w-[95vw] max-w-2xl max-h-[85vh] overflow-hidden flex flex-col p-4 sm:p-6"},{default:a(()=>[s(e(_e),{class:"space-y-1 sm:space-y-2"},{default:a(()=>[s(e(he),{class:"text-base sm:text-lg"},{default:a(()=>[...B[10]||(B[10]=[r("Pilih Member untuk Ditempatkan",-1)])]),_:1}),s(e(we),{class:"text-xs sm:text-sm"},{default:a(()=>[B[11]||(B[11]=r(" Pilih member pasif untuk ditempatkan di posisi ",-1)),t("span",Ur,l(T.value==="left"?"Kiri":"Kanan"),1)]),_:1})]),_:1}),t("div",Ir,[n.passiveMembers.length===0?(o(),c("div",Er,[s(e(ce),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),B[12]||(B[12]=t("p",{class:"text-sm sm:text-base"},"Tidak ada member pasif",-1)),B[13]||(B[13]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Semua member sudah ditempatkan",-1))])):(o(),c("div",Nr,[(o(!0),c(G,null,se(n.passiveMembers,ae=>(o(),c("button",{key:ae.id,type:"button",class:A(["w-full p-3 sm:p-4 rounded-lg border-2 text-left transition-all",y.value?.id===ae.id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"]),onClick:ue=>ut(ae)},[t("div",Or,[t("div",zr,[t("div",Fr,[t("h4",Gr,l(ae.name),1),ae.has_purchase?(o(),S(e(V),{key:0,variant:"default",class:"text-[10px] sm:text-xs"},{default:a(()=>[...B[14]||(B[14]=[t("span",{class:"hidden sm:inline"},"Ada Pembelian",-1),t("span",{class:"sm:hidden"},"Beli",-1)])]),_:1})):(o(),S(e(V),{key:1,variant:"secondary",class:"text-[10px] sm:text-xs"},{default:a(()=>[...B[15]||(B[15]=[t("span",{class:"hidden sm:inline"},"Belum Belanja",-1),t("span",{class:"sm:hidden"},"Belum",-1)])]),_:1}))]),t("div",qr,[t("p",Wr,l(ae.email),1),ae.phone?(o(),c("p",Jr,l(ae.phone),1)):k("",!0),t("p",Hr,"Bergabung: "+l(ct(ae.joined_at)),1)])]),y.value?.id===ae.id?(o(),c("div",Xr,[...B[16]||(B[16]=[t("div",{class:"flex h-5 w-5 sm:h-6 sm:w-6 items-center justify-center rounded-full bg-primary text-primary-foreground"},[t("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):k("",!0)])],10,Kr))),128))]))]),s(e(Pe),{class:"flex-col-reverse sm:flex-row gap-2 sm:gap-0"},{default:a(()=>[s(e(I),{variant:"outline",onClick:_,disabled:e(P).processing,class:"w-full sm:w-auto"},{default:a(()=>[...B[17]||(B[17]=[r(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(I),{onClick:mt,disabled:!y.value||e(P).processing,class:"w-full sm:w-auto"},{default:a(()=>[r(l(e(P).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Zr={class:"space-y-4 sm:space-y-6"},Qr={class:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},ei={class:"text-xl sm:text-2xl font-bold truncate"},ti={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},si={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},ai={class:"text-xl sm:text-2xl font-bold truncate"},li={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ni={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},oi={class:"text-xl sm:text-2xl font-bold truncate"},ri={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ii={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},di={class:"text-xl sm:text-2xl font-bold truncate"},ui={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},mi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},ci={class:"text-xl sm:text-2xl font-bold truncate"},pi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},xi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},fi={class:"text-xl sm:text-2xl font-bold truncate"},gi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},vi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},bi={class:"text-xl sm:text-2xl font-bold truncate"},yi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},ki={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},_i={class:"text-xl sm:text-2xl font-bold text-primary truncate"},hi={class:"w-full text-center overflow-x-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] -mx-2 px-2 sm:mx-0 sm:px-0",style:{"-webkit-overflow-scrolling":"touch"}},wi={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},$i={key:1,class:"space-y-1.5 sm:space-y-3"},Pi={class:"flex-1 min-w-0"},Ci={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Si={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Ri={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},ji={key:0,class:"block sm:inline"},Mi={class:"block sm:inline sm:ml-1"},Ti={class:"text-left sm:text-right flex-shrink-0"},Di={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Vi={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Ai={key:1,class:"space-y-1.5 sm:space-y-3"},Bi={class:"flex-1 min-w-0"},Li={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Ui={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Ii={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Ei={key:0,class:"block sm:inline"},Ni={class:"block sm:inline sm:ml-2"},Ki={class:"text-left sm:text-right flex-shrink-0"},Oi={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},zi={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Fi={key:1,class:"space-y-3"},Gi={class:"flex-1 min-w-0"},qi={class:"flex flex-wrap items-center gap-2"},Wi={class:"text-xs sm:text-sm font-medium break-words"},Ji={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Hi={class:"text-left sm:text-right flex-shrink-0"},Xi={class:"text-base sm:text-lg font-bold text-green-600"},Yi={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Zi={key:1,class:"space-y-1.5 sm:space-y-3"},Qi={class:"flex-1 min-w-0"},ed={class:"flex flex-wrap items-center gap-1 sm:gap-2"},td={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},sd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},ad={key:0,class:"block sm:inline"},ld={class:"block sm:inline sm:ml-1"},nd={class:"text-left sm:text-right flex-shrink-0"},od={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},rd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},id={key:1,class:"space-y-1.5 sm:space-y-3"},dd={class:"flex-1 min-w-0"},ud={class:"flex flex-wrap items-center gap-1 sm:gap-2"},md={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},cd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},pd={class:"text-left sm:text-right flex-shrink-0"},xd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},fd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},gd={key:1,class:"space-y-1.5 sm:space-y-3"},vd={class:"flex-1 min-w-0"},bd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},yd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},kd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},_d={key:0,class:"block sm:inline"},hd={class:"block sm:inline sm:ml-1"},wd={class:"text-left sm:text-right flex-shrink-0"},$d={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Pd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Cd={key:1,class:"space-y-1.5 sm:space-y-3"},Sd={class:"flex-1 min-w-0"},Rd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},jd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Md={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Td={class:"block sm:inline"},Dd={class:"block sm:inline sm:ml-1"},Vd={class:"text-left sm:text-right flex-shrink-0"},Ad={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Bd=J({__name:"BonusTab",props:{bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{}},setup(n){const x=n,i=$=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format($),m=$=>new Date($).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),b=E(()=>x.bonusSponsors.reduce(($,h)=>$+h.amount,0)),u=E(()=>x.bonusMatchings.reduce(($,h)=>$+h.amount,0)),p=E(()=>x.bonusPairings.reduce(($,h)=>$+h.amount,0)),w=E(()=>x.bonusCashbacks.reduce(($,h)=>$+h.amount,0)),j=E(()=>x.bonusRewards.reduce(($,h)=>$+h.amount,0)),d=E(()=>x.bonusSponsors.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),g=E(()=>x.bonusSponsors.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),v=E(()=>x.bonusMatchings.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),f=E(()=>x.bonusMatchings.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),R=E(()=>x.bonusPairings.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),N=E(()=>x.bonusPairings.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),C=E(()=>x.bonusCashbacks.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),U=E(()=>x.bonusCashbacks.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),Z=E(()=>x.bonusRewards.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),re=E(()=>x.bonusRewards.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),X=E(()=>x.bonusRetails.reduce(($,h)=>$+h.amount,0)),L=E(()=>x.bonusRetails.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),H=E(()=>x.bonusRetails.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),T=E(()=>x.bonusLifetimeCashRewards.reduce(($,h)=>$+h.amount,0)),y=E(()=>x.bonusLifetimeCashRewards.filter($=>$.status===0).reduce(($,h)=>$+h.amount,0)),P=E(()=>x.bonusLifetimeCashRewards.filter($=>$.status===1).reduce(($,h)=>$+h.amount,0)),Q=E(()=>b.value+u.value+p.value+w.value+j.value+X.value+T.value);return($,h)=>(o(),c("div",Zr,[t("div",Qr,[s(e(z),null,{default:a(()=>[s(e(q),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(W),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(rt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),h[0]||(h[0]=t("span",{class:"truncate"},"Referral Incentive",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",ei,l(i(b.value)),1),t("p",ti,l(n.bonusSponsors.length)+" transaksi ",1),t("div",si,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(d.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(g.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(q),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(W),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Ut),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"}),h[1]||(h[1]=t("span",{class:"truncate"},"Team Affiliate Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",ai,l(i(u.value)),1),t("p",li,l(n.bonusMatchings.length)+" transaksi ",1),t("div",ni,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(v.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(f.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(q),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(W),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(It),{class:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),h[2]||(h[2]=t("span",{class:"truncate"},"Partner Team Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",oi,l(i(p.value)),1),t("p",ri,l(n.bonusPairings.length)+" transaksi ",1),t("div",ii,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(R.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(N.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(q),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(W),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Et),{class:"h-3 w-3 sm:h-4 sm:w-4 text-orange-500 flex-shrink-0"}),h[3]||(h[3]=t("span",{class:"truncate"},"Cashback Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",di,l(i(w.value)),1),t("p",ui,l(n.bonusCashbacks.length)+" transaksi ",1),t("div",mi,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(C.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(U.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(q),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(W),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(tt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 flex-shrink-0"}),h[4]||(h[4]=t("span",{class:"truncate"},"Promotions Rewards",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",ci,l(i(j.value)),1),t("p",pi,l(n.bonusRewards.length)+" transaksi ",1),t("div",xi,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(Z.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(re.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(q),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(W),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Nt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-500 flex-shrink-0"}),h[5]||(h[5]=t("span",{class:"truncate"},"Retail Commission",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",fi,l(i(X.value)),1),t("p",gi,l(n.bonusRetails.length)+" transaksi ",1),t("div",vi,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(L.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(H.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(q),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(W),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Xe),{class:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"}),h[6]||(h[6]=t("span",{class:"truncate"},"Lifetime Cash Rewards",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",bi,l(i(T.value)),1),t("p",yi,l(n.bonusLifetimeCashRewards.length)+" transaksi ",1),t("div",ki,[s(e(V),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Pending: "+l(i(y.value)),1)]),_:1}),s(e(V),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[r(" Released: "+l(i(P.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(z),null,{default:a(()=>[s(e(q),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(W),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(it),{class:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"}),h[7]||(h[7]=t("span",{class:"truncate"},"Total Bonus",-1))]),_:1})]),_:1}),s(e(F),null,{default:a(()=>[t("div",_i,l(i(Q.value)),1),h[8]||(h[8]=t("p",{class:"text-[10px] sm:text-xs text-muted-foreground mt-1"}," Semua jenis bonus ",-1))]),_:1})]),_:1})]),s(e(z),null,{default:a(()=>[s(e(q),{class:"p-2 sm:p-4 md:p-6 pb-2"},{default:a(()=>[s(e(W),{class:"text-xs sm:text-base md:text-lg"},{default:a(()=>[...h[9]||(h[9]=[r("Riwayat Bonus",-1)])]),_:1}),s(e(oe),{class:"text-[9px] sm:text-xs md:text-sm"},{default:a(()=>[...h[10]||(h[10]=[r(" Detail transaksi bonus ",-1)])]),_:1})]),_:1}),s(e(F),{class:"p-2 sm:p-4 md:p-6 pt-0"},{default:a(()=>[s(e(Je),{"default-value":"sponsor",class:"w-full"},{default:a(()=>[t("div",hi,[s(e(He),{class:"flex w-max sm:grid sm:w-full sm:grid-cols-7 gap-0.5 sm:gap-1 h-7 sm:h-auto bg-muted/30"},{default:a(()=>[s(e(ee),{value:"sponsor",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[11]||(h[11]=[r(" Referral ",-1)])]),_:1}),s(e(ee),{value:"matching",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[12]||(h[12]=[r(" Team Aff. ",-1)])]),_:1}),s(e(ee),{value:"pairing",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[13]||(h[13]=[r(" Partner ",-1)])]),_:1}),s(e(ee),{value:"cashback",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[14]||(h[14]=[r(" Cashback ",-1)])]),_:1}),s(e(ee),{value:"reward",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[15]||(h[15]=[r(" Rewards ",-1)])]),_:1}),s(e(ee),{value:"retail",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[16]||(h[16]=[r(" Retail ",-1)])]),_:1}),s(e(ee),{value:"lifetime",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...h[17]||(h[17]=[r(" Lifetime ",-1)])]),_:1})]),_:1})]),s(e(te),{value:"sponsor",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusSponsors.length===0?(o(),c("div",wi," Belum ada bonus referral incentive ")):(o(),c("div",$i,[(o(!0),c(G,null,se(n.bonusSponsors,_=>(o(),c("div",{key:_.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Pi,[t("div",Ci,[s(e(V),{variant:_.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(_.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",Si,l(_.description||"Bonus Sponsor"),1)]),t("p",Ri,[_.from_member?(o(),c("span",ji," Dari: "+l(_.from_member.name),1)):k("",!0),t("span",Mi,l(m(_.created_at)),1)])]),t("div",Ti,[t("div",Di,l(i(_.amount)),1),t("div",{class:A(["text-[8px] sm:text-xs",_.status===1?"text-green-600":"text-yellow-600"])},l(_.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"matching",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusMatchings.length===0?(o(),c("div",Vi," Belum ada bonus team affiliate commission ")):(o(),c("div",Ai,[(o(!0),c(G,null,se(n.bonusMatchings,_=>(o(),c("div",{key:_.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Bi,[t("div",Li,[s(e(V),{variant:_.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(_.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(V),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(" L"+l(_.level),1)]),_:2},1024),t("span",Ui,l(_.description||"Bonus Matching"),1)]),t("p",Ii,[_.from_member?(o(),c("span",Ei," Dari: "+l(_.from_member.name),1)):k("",!0),t("span",Ni,l(m(_.created_at)),1)])]),t("div",Ki,[t("div",Oi,l(i(_.amount)),1),t("div",{class:A(["text-[8px] sm:text-xs",_.status===1?"text-green-600":"text-yellow-600"])},l(_.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"pairing",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusPairings.length===0?(o(),c("div",zi," Belum ada bonus partner team commission ")):(o(),c("div",Fi,[(o(!0),c(G,null,se(n.bonusPairings,_=>(o(),c("div",{key:_.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Gi,[t("div",qi,[s(e(V),{variant:_.status===1?"secondary":"outline",class:"text-xs"},{default:a(()=>[r(l(_.status===1?"Released":"Pending"),1)]),_:2},1032,["variant"]),s(e(V),{variant:"outline",class:"text-xs"},{default:a(()=>[r(l(_.pair)+" Pairs ",1)]),_:2},1024),t("span",Wi,l(_.description||"Bonus Pairing"),1)]),t("p",Ji,l(m(_.created_at)),1)]),t("div",Hi,[t("div",Xi,l(i(_.amount)),1),t("div",{class:A(["text-[8px] sm:text-xs",_.status===1?"text-green-600":"text-yellow-600"])},l(_.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"cashback",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusCashbacks.length===0?(o(),c("div",Yi," Belum ada bonus cashback commission ")):(o(),c("div",Zi,[(o(!0),c(G,null,se(n.bonusCashbacks,_=>(o(),c("div",{key:_.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Qi,[t("div",ed,[s(e(V),{variant:_.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(_.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",td,l(_.description||"Bonus Cashback"),1)]),t("p",sd,[h[18]||(h[18]=r('eground mt-0.5"> ',-1)),_.order_id?(o(),c("span",ad," #"+l(_.order_id),1)):k("",!0),t("span",ld,l(m(_.created_at)),1)])]),t("div",nd,[t("div",od,l(i(_.amount)),1),t("div",{class:A(["text-[8px] sm:text-xs",_.status===1?"text-green-600":"text-yellow-600"])},l(_.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"reward",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusRewards.length===0?(o(),c("div",rd," Belum ada promotions rewards ")):(o(),c("div",id,[(o(!0),c(G,null,se(n.bonusRewards,_=>(o(),c("div",{key:_.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",dd,[t("div",ud,[s(e(V),{variant:_.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(_.status===1?"R":"P"),1)]),_:2},1032,["variant"]),_.reward_type?(o(),S(e(V),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(_.reward_type),1)]),_:2},1024)):k("",!0),t("span",md,l(_.description||"Promotions Reward"),1)]),t("p",cd,l(m(_.created_at)),1)]),t("div",pd,[t("div",xd,l(i(_.amount)),1),t("div",{class:A(["text-[8px] sm:text-xs",_.status===1?"text-green-600":"text-yellow-600"])},l(_.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"retail",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusRetails.length===0?(o(),c("div",fd," Belum ada bonus retail commission ")):(o(),c("div",gd,[(o(!0),c(G,null,se(n.bonusRetails,_=>(o(),c("div",{key:_.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",vd,[t("div",bd,[s(e(V),{variant:_.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(_.status===1?"R":"P"),1)]),_:2},1032,["variant"]),_.index_value?(o(),S(e(V),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(" IDX: "+l(_.index_value),1)]),_:2},1024)):k("",!0),t("span",yd,l(_.description||"Retail Commission"),1)]),t("p",kd,[_.from_member?(o(),c("span",_d," Dari: "+l(_.from_member.name),1)):k("",!0),t("span",hd,l(m(_.created_at)),1)])]),t("div",wd,[t("div",$d,l(i(_.amount)),1),t("div",{class:A(["text-[8px] sm:text-xs",_.status===1?"text-green-600":"text-yellow-600"])},l(_.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"lifetime",class:"mt-2 sm:mt-4"},{default:a(()=>[n.bonusLifetimeCashRewards.length===0?(o(),c("div",Pd," Belum ada lifetime cash rewards ")):(o(),c("div",Cd,[(o(!0),c(G,null,se(n.bonusLifetimeCashRewards,_=>(o(),c("div",{key:_.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Sd,[t("div",Rd,[s(e(V),{variant:_.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(_.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(V),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[r(l(_.reward_name),1)]),_:2},1024),t("span",jd,l(_.description||"Lifetime Cash Reward"),1)]),t("p",Md,[t("span",Td," Reward: "+l(i(_.reward))+" | BV: "+l(_.bv),1),t("span",Dd,l(m(_.created_at)),1)])]),t("div",Vd,[t("div",Ad,l(i(_.amount)),1),t("div",{class:A(["text-[8px] sm:text-xs",_.status===1?"text-green-600":"text-yellow-600"])},l(_.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Ld={class:"flex items-center justify-between"},Ud={class:"font-semibold"},Id={class:"flex items-center justify-between"},Ed={class:"font-semibold"},Nd={class:"flex items-center justify-between"},Kd={key:0,class:"space-y-2"},Od={class:"flex items-center gap-2"},zd={class:"text-sm font-medium"},Fd={class:"text-xs text-gray-500 dark:text-gray-400"},Gd={key:1,class:"space-y-2"},qd={class:"flex items-center gap-2"},Wd={class:"text-sm font-medium"},Jd={class:"text-xs text-gray-500 dark:text-gray-400"},Hd=J({__name:"NetworkStatsCard",props:{customer:{}},setup(n){return(x,i)=>(o(),S(e(z),null,{default:a(()=>[s(e(q),null,{default:a(()=>[s(e(W),{class:"flex items-center gap-2"},{default:a(()=>[s(e(dt),{class:"w-5 h-5"}),i[0]||(i[0]=r(" Statistik Jaringan ",-1))]),_:1})]),_:1}),s(e(F),{class:"space-y-3"},{default:a(()=>[t("div",Ld,[i[1]||(i[1]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kiri",-1)),t("span",Ud,l(n.customer.network_stats.left_count),1)]),s(e(le)),t("div",Id,[i[2]||(i[2]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kanan",-1)),t("span",Ed,l(n.customer.network_stats.right_count),1)]),s(e(le)),t("div",Nd,[i[3]||(i[3]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Downline",-1)),s(e(V),{variant:"secondary"},{default:a(()=>[r(l(n.customer.network_stats.total_downlines),1)]),_:1})]),n.customer.upline||n.customer.sponsor?(o(),c(G,{key:0},[s(e(le),{class:"my-4"}),n.customer.upline?(o(),c("div",Kd,[i[4]||(i[4]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Upline",-1)),t("div",Od,[s(e(Oe),{class:"h-8 w-8"},{default:a(()=>[s(e(ze),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${n.customer.upline.name}`},null,8,["src"])]),_:1}),t("div",null,[t("p",zd,l(n.customer.upline.name),1),t("p",Fd,l(n.customer.upline.email),1)])])])):k("",!0),n.customer.sponsor?(o(),c("div",Gd,[i[5]||(i[5]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Sponsor",-1)),t("div",qd,[s(e(Oe),{class:"h-8 w-8"},{default:a(()=>[s(e(ze),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${n.customer.sponsor.name}`},null,8,["src"])]),_:1}),t("div",null,[t("p",Wd,l(n.customer.sponsor.name),1),t("p",Jd,l(n.customer.sponsor.email),1)])])])):k("",!0)],64)):k("",!0)]),_:1})]),_:1}))}}),Xd={class:"bg-gradient-to-br from-primary/10 via-primary/5 to-background border-b"},Yd={class:"container mx-auto px-3 py-6 sm:px-4 sm:py-12 max-w-7xl"},Zd={class:"flex items-center justify-between"},Qd={class:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-background/80 backdrop-blur-sm border shadow-sm"},eu={class:"font-semibold"},tu={class:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-7xl"},su={class:"grid gap-4 sm:gap-6 lg:grid-cols-3"},au={class:"lg:col-span-1 space-y-4 sm:space-y-6"},lu={class:"lg:col-span-2"},nu={class:"rounded-xl border bg-card overflow-hidden"},ou={class:"border-b bg-muted/30"},ru={class:"overflow-x-auto text-center overflow-y-hidden px-1.5 py-1.5 sm:px-2 sm:py-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},iu={class:"p-3 sm:p-4 md:p-6"},du={key:1,class:"text-center py-12"},Vu=J({__name:"Index",props:{customer:{},orders:{},walletTransactions:{},activeMembers:{},passiveMembers:{},prospectMembers:{},binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{},addresses:{}},setup(n){const x=n,i=nt(),m=E(()=>Number(x.customer.status)===3),b=E(()=>{if(typeof window>"u")return"profile";const u=i.url;try{return new URL(u,window.location.origin).searchParams.get("tab")||"profile"}catch{return"profile"}});return(u,p)=>(o(),S(pt,null,{default:a(()=>[s(e(Kt),{title:"Profile Saya"}),t("div",Xd,[t("div",Yd,[t("div",Zd,[p[0]||(p[0]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-2"},"Profile Saya"),t("p",{class:"text-sm sm:text-base md:text-lg text-muted-foreground"}," Kelola informasi profil dan keamanan akun Anda ")],-1)),t("div",Qd,[s(e(Re),{class:"w-5 h-5 text-primary"}),t("span",eu,l(n.customer.name),1)])])])]),t("div",tu,[t("div",su,[t("div",au,[s(us,{customer:n.customer},null,8,["customer"]),m.value?(o(),S(Hd,{key:0,customer:n.customer},null,8,["customer"])):k("",!0),s(Fs,{addresses:n.addresses},null,8,["addresses"]),m.value?(o(),S(Hs,{key:1,customer:n.customer},null,8,["customer"])):k("",!0),s(Qs,{"created-at":n.customer.created_at},null,8,["created-at"])]),t("div",lu,[t("div",nu,[s(e(Je),{"default-value":b.value,class:"w-full"},{default:a(()=>[t("div",ou,[t("div",ru,[s(e(He),{class:"inline-flex h-auto w-max bg-transparent gap-1 sm:gap-1.5 p-0"},{default:a(()=>[s(e(ee),{value:"profile",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Re),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),p[1]||(p[1]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Info",-1))]),_:1}),s(e(ee),{value:"orders",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(be),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),p[2]||(p[2]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Order",-1))]),_:1}),m.value?(o(),S(e(ee),{key:0,value:"network",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(dt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),p[3]||(p[3]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Mitra",-1))]),_:1})):k("",!0),m.value?(o(),S(e(ee),{key:1,value:"binary",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ve),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),p[4]||(p[4]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Network",-1))]),_:1})):k("",!0),m.value?(o(),S(e(ee),{key:2,value:"bonus",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(it),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),p[5]||(p[5]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Bonus",-1))]),_:1})):k("",!0),s(e(ee),{value:"wallet",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(ot),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),p[6]||(p[6]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Wallet",-1))]),_:1}),s(e(ee),{value:"security",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ke),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),p[7]||(p[7]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lock",-1))]),_:1}),s(e(ee),{value:"danger",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(pe),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),p[8]||(p[8]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Del",-1))]),_:1})]),_:1})])]),t("div",iu,[s(e(te),{value:"profile",class:"mt-0"},{default:a(()=>[s($a,{customer:n.customer},null,8,["customer"])]),_:1}),s(e(te),{value:"orders",class:"mt-0"},{default:a(()=>[s(Zl,{orders:n.orders},null,8,["orders"])]),_:1}),m.value?(o(),S(e(te),{key:0,value:"network",class:"mt-0"},{default:a(()=>[s(lr,{"active-members":n.activeMembers,"passive-members":n.passiveMembers,"prospect-members":n.prospectMembers},null,8,["active-members","passive-members","prospect-members"])]),_:1})):k("",!0),m.value?(o(),S(e(te),{key:1,value:"binary",class:"mt-0"},{default:a(()=>[n.binaryTree?(o(),S(Yr,{key:0,"binary-tree":n.binaryTree,"total-downlines":n.totalDownlines,"total-left":n.totalLeft,"total-right":n.totalRight,"passive-members":n.passiveMembers},null,8,["binary-tree","total-downlines","total-left","total-right","passive-members"])):(o(),c("div",du,[s(e(ve),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),p[9]||(p[9]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Jaringan Binary",-1)),p[10]||(p[10]=t("p",{class:"text-muted-foreground"}," Anda belum memiliki posisi dalam jaringan binary tree MLM. ",-1))]))]),_:1})):k("",!0),m.value?(o(),S(e(te),{key:2,value:"bonus",class:"mt-0"},{default:a(()=>[s(Bd,{"bonus-sponsors":n.bonusSponsors,"bonus-matchings":n.bonusMatchings,"bonus-pairings":n.bonusPairings,"bonus-cashbacks":n.bonusCashbacks,"bonus-rewards":n.bonusRewards,"bonus-retails":n.bonusRetails,"bonus-lifetime-cash-rewards":n.bonusLifetimeCashRewards},null,8,["bonus-sponsors","bonus-matchings","bonus-pairings","bonus-cashbacks","bonus-rewards","bonus-retails","bonus-lifetime-cash-rewards"])]),_:1})):k("",!0),s(e(te),{value:"wallet",class:"mt-0"},{default:a(()=>[s(Zn,{customer:n.customer,transactions:n.walletTransactions},null,8,["customer","transactions"])]),_:1}),s(e(te),{value:"security",class:"mt-0"},{default:a(()=>[s(io)]),_:1}),s(e(te),{value:"danger",class:"mt-0"},{default:a(()=>[s(po)]),_:1})])]),_:1},8,["default-value"])])])])])]),_:1}))}});export{Vu as default};
