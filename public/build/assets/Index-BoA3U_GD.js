const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-DaB_pQgP.js","assets/vendor-UvtswsZk.css"])))=>i.map(i=>d[i]);
import{_ as at,a as lt,b as ee,c as te}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-Bn36tJg7.js";import{b as Tt,c as ut,_ as jt}from"./Ecommerce.vue_vue_type_script_setup_true_lang-DFLsbteo.js";import{d as X,r as D,p as K,c as T,g as r,u as e,w as a,b as s,e as t,s as o,K as n,cy as _e,aM as we,bv as Mt,d1 as Rt,dx as Dt,Q as j,E as We,v as f,M as Pe,Y as At,F as Q,x as se,J as W,t as w,aX as Lt,$ as Bt,z as He,h as le,j as ie,D as ke,dm as Vt,dK as It,dL as ft,cv as Et,dv as Ut,aH as Je,aE as he,aD as Ft,dI as Kt,ad as Ue,aG as nt,dk as Nt,cQ as rt,L as Ce,a2 as je,aj as zt,am as Se,C as Ot,aN as ot,dM as xt,dN as qt,a3 as Gt,dO as gt,dP as vt,o as Fe,dr as Ze,ap as Ne,dG as ze,cz as mt,cx as Oe,dd as Ie,dQ as Te,_ as Qt,aq as Xe,as as ct,G as pt,dR as Wt,dA as Ht,dS as Jt,dT as Zt,at as Xt,dU as Yt,a1 as es,ar as yt,dV as bt,a0 as ts}from"./vendor-DaB_pQgP.js";import{_ as ss,a as as}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-BGvJCNeT.js";import{_ as ls}from"./AvatarImage.vue_vue_type_script_setup_true_lang-X5jrAjTx.js";import{_ as E}from"./index-Bpyex9Q9.js";import{_ as O,a as q}from"./CardContent.vue_vue_type_script_setup_true_lang-BjMvSn1_.js";import{_ as F}from"./index-BKBhFw5h.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-0_gXQ995.js";import{_ as Z}from"./CardTitle.vue_vue_type_script_setup_true_lang-Ctf1rv4B.js";import{a as Re,b as De,c as Ae,d as Le,_ as Be}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C8SJHVgX.js";import{_ as Ve}from"./DialogFooter.vue_vue_type_script_setup_true_lang-D1_DhrQ8.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-fAtvLyIY.js";import{_ as z}from"./Label.vue_vue_type_script_setup_true_lang-CWjlkSoM.js";import{_ as Me}from"./Textarea.vue_vue_type_script_setup_true_lang-DWH-lrtG.js";import{_ as ns}from"./Switch.vue_vue_type_script_setup_true_lang-5KQFuCiG.js";import{_ as re}from"./Separator.vue_vue_type_script_setup_true_lang-B3U8XnsE.js";import{_ as Ye,a as et,b as tt,c as st,d as Ee}from"./SelectValue.vue_vue_type_script_setup_true_lang-CL89SVC2.js";import{_ as me}from"./CardDescription.vue_vue_type_script_setup_true_lang-DsvaFasH.js";import{f as rs,g as os,h as is,i as ds,j as us}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DzqVjOcn.js";import{_ as qe,a as Ge,b as Qe}from"./index-FNE1HCy7.js";import{q as ce,a as Ke}from"./index-CMWG4mbA.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-DgTtQEY1.js";import"./app-BNCsT2F0.js";function $e(){return{formatCurrency:m=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(m),formatDate:m=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(m)),getStatusLabel:m=>({pending:"Menunggu",processing:"Diproses",shipped:"Dikirim",delivered:"Selesai",cancelled:"Dibatalkan"})[m]||m,getTransactionTypeLabel:m=>({topup:"Top Up",withdrawal:"Penarikan",bonus:"Bonus",purchase:"Pembelian",refund:"Refund"})[m]||m,getTransactionStatusLabel:m=>({pending:"Menunggu",completed:"Selesai",failed:"Gagal",cancelled:"Dibatalkan"})[m]||m}}const ms={class:"flex flex-col items-center text-center"},cs={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},ps={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},fs={class:"mt-4 w-full space-y-2 text-sm"},xs={class:"space-y-1.5"},gs={class:"flex items-center justify-between"},vs={class:"flex gap-1"},ys={class:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},bs={class:"flex items-center justify-between"},_s={class:"font-mono font-semibold"},hs={class:"text-[10px] text-gray-500 dark:text-gray-400 mt-1 break-all"},ks={class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},ws={class:"font-mono font-semibold"},$s={class:"flex items-center justify-between p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},Ps={class:"font-semibold text-emerald-700 dark:text-emerald-400"},Cs=X({__name:"ProfileCard",props:{customer:{}},setup(l){const u=l,{formatCurrency:i}=$e(),p=D(!1),h=K(()=>u.customer.name.split(" ").map(R=>R[0]).join("").toUpperCase().slice(0,2)),m=K(()=>typeof window>"u"?"":`${window.location.origin}/client/register?ref=${u.customer.ref_code}`),c=async()=>{if(typeof window>"u"||!navigator.clipboard){j.error("Tidak dapat menyalin link ke clipboard");return}try{await navigator.clipboard.writeText(m.value),p.value=!0,j.success("Link referral telah disalin ke clipboard"),setTimeout(()=>{p.value=!1},2e3)}catch{j.error("Tidak dapat menyalin link ke clipboard")}},k=async()=>{if(typeof window>"u")return;const R={title:"Bergabung dengan Referral Saya",text:`Gunakan kode referral saya: ${u.customer.ref_code}`,url:m.value};if(navigator.share)try{await navigator.share(R),j.success("Link referral berhasil dibagikan")}catch(x){x.name!=="AbortError"&&console.error("Error sharing:",x)}else await c()};return(R,x)=>(r(),T(e(O),null,{default:a(()=>[s(e(q),{class:"pt-6"},{default:a(()=>[t("div",ms,[s(e(ss),{class:"h-24 w-24 mb-4"},{default:a(()=>[s(e(ls),{src:`https://api.dicebear.com/7.x/initials/svg?seed=${l.customer.name}`},null,8,["src"]),s(e(as),null,{default:a(()=>[o(n(h.value),1)]),_:1})]),_:1}),t("h2",cs,n(l.customer.name),1),t("p",ps,n(l.customer.email),1),l.customer.email_verified_at?(r(),T(e(E),{key:0,class:"mt-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100"},{default:a(()=>[s(e(_e),{class:"w-3 h-3 mr-1"}),x[0]||(x[0]=o(" Email Terverifikasi ",-1))]),_:1})):(r(),T(e(E),{key:1,variant:"secondary",class:"mt-3"},{default:a(()=>[s(e(we),{class:"w-3 h-3 mr-1"}),x[1]||(x[1]=o(" Email Belum Terverifikasi ",-1))]),_:1})),t("div",fs,[t("div",xs,[t("div",gs,[x[3]||(x[3]=t("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Referral Link",-1)),t("div",vs,[s(e(F),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:c},{default:a(()=>[p.value?(r(),T(e(Mt),{key:0,class:"w-3 h-3 mr-1"})):(r(),T(e(Rt),{key:1,class:"w-3 h-3 mr-1"})),o(" "+n(p.value?"Tersalin":"Salin"),1)]),_:1}),s(e(F),{size:"sm",variant:"outline",class:"h-6 px-2 text-[10px]",onClick:k},{default:a(()=>[s(e(Dt),{class:"w-3 h-3 mr-1"}),x[2]||(x[2]=o(" Bagikan ",-1))]),_:1})])]),t("div",ys,[t("div",bs,[x[4]||(x[4]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Kode Referral",-1)),t("span",_s,n(l.customer.ref_code),1)]),t("p",hs,n(m.value),1)])]),t("div",ks,[x[5]||(x[5]=t("span",{class:"text-gray-600 dark:text-gray-400"},"E-Wallet ID",-1)),t("span",ws,n(l.customer.ewallet_id),1)]),t("div",$s,[x[6]||(x[6]=t("span",{class:"text-emerald-700 dark:text-emerald-400"},"Saldo",-1)),t("span",Ps,n(e(i)(l.customer.ewallet_saldo)),1)])])])]),_:1})]),_:1}))}}),Ss={class:"flex items-center justify-between"},Ts={key:0,class:"text-center py-12 text-muted-foreground"},js={key:1,class:"space-y-4"},Ms={class:"flex items-start gap-3 mb-3"},Rs={class:"flex-1 min-w-0"},Ds={class:"flex items-center gap-2 mb-1"},As={class:"font-semibold text-sm"},Ls={class:"text-sm font-medium"},Bs={class:"text-xs text-muted-foreground"},Vs={class:"space-y-1 mb-3"},Is={class:"text-sm"},Es={key:0,class:"text-sm text-muted-foreground"},Us={class:"text-sm text-muted-foreground"},Fs={key:0},Ks={class:"text-xs text-muted-foreground"},Ns={key:1,class:"text-xs text-muted-foreground italic mt-2"},zs={class:"flex items-center gap-2"},Os={class:"space-y-4 py-4"},qs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Gs={class:"space-y-2"},Qs={class:"flex items-center space-x-2 pt-8"},Ws={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Hs={class:"space-y-2"},Js={class:"space-y-2"},Zs={class:"space-y-2"},Xs={class:"space-y-2"},Ys={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ea={class:"space-y-2"},ta={class:"space-y-2"},sa={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},aa={class:"space-y-2"},la={class:"space-y-2"},na={class:"space-y-2"},ra=X({__name:"AddressManagement",props:{addresses:{}},setup(l){const u=D(!1),i=D(!1),p=D(!1),h=D(!1),m=D([]),c=D([]),k=D(!1),R=D(!1),x=D(""),$=D(""),v=D({label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""}),g=D(null),d=async()=>{k.value=!0;try{const A=await le.get("/api/shipping/provinces");m.value=A.data.data}catch(A){j.error("Gagal memuat data provinsi"),console.error("Error loading provinces:",A)}finally{k.value=!1}},L=async A=>{if(A){R.value=!0,c.value=[],$.value="";try{const _=await le.get("/api/shipping/cities",{params:{province_id:A}});c.value=_.data.data}catch(_){j.error("Gagal memuat data kota"),console.error("Error loading cities:",_)}finally{R.value=!1}}};We(x,A=>{if(!A)return;const _=m.value.find(b=>b.id.toString()===A);_&&(v.value.province_id=parseInt(A),v.value.province_label=_.name,L(A))}),We($,A=>{if(!A)return;const _=c.value.find(b=>b.id.toString()===A);_&&(v.value.city_id=parseInt(A),v.value.city_label=_.name)});const M=()=>{i.value=!1,v.value={label:"",is_default:!1,recipient_name:"",recipient_phone:"",address_line1:"",address_line2:"",province_label:"",province_id:0,city_label:"",city_id:0,postal_code:"",country:"Indonesia",description:""},x.value="",$.value="",c.value=[],d(),u.value=!0},B=A=>{i.value=!0,g.value=A.id,v.value={...A},d().then(()=>{A.province_id&&(x.value=A.province_id.toString(),L(A.province_id.toString()).then(()=>{A.city_id&&($.value=A.city_id.toString())}))}),u.value=!0},N=()=>{u.value=!1,g.value=null},U=()=>{if(!v.value.recipient_name||!v.value.recipient_phone||!v.value.address_line1){j.error("Mohon lengkapi nama penerima, telepon, dan alamat");return}if(!v.value.province_id||!v.value.city_id){j.error("Mohon pilih provinsi dan kota/kabupaten");return}h.value=!0;const A=i.value&&g.value?`/client/profile/addresses/${g.value}`:"/client/profile/addresses",_=i.value?"put":"post";ie[_](A,v.value,{preserveScroll:!0,onSuccess:()=>{j.success(`Alamat berhasil ${i.value?"diperbarui":"ditambahkan"}`),N()},onError:b=>{if(console.error("Address save error:",b),typeof b=="object"&&b!==null){const P=Object.values(b)[0],y=Array.isArray(P)?P[0]:P;j.error(y||"Gagal menyimpan alamat")}else j.error("Gagal menyimpan alamat. Silakan coba lagi.")},onFinish:()=>{h.value=!1}})},G=A=>{confirm("Apakah Anda yakin ingin menghapus alamat ini?")&&(p.value=!0,ie.delete(`/client/profile/addresses/${A}`,{preserveScroll:!0,onSuccess:()=>{j.success("Alamat berhasil dihapus")},onError:_=>{if(console.error("Address delete error:",_),typeof _=="object"&&_!==null){const b=Object.values(_)[0],P=Array.isArray(b)?b[0]:b;j.error(P||"Gagal menghapus alamat")}else j.error("Gagal menghapus alamat. Silakan coba lagi.")},onFinish:()=>{p.value=!1}}))},I=A=>{ke({}).post(`/client/profile/addresses/${A}/set-default`,{preserveScroll:!0,onSuccess:()=>{j.success("Alamat utama berhasil diubah")},onError:b=>{if(console.error("Set default address error:",b),typeof b=="object"&&b!==null){const P=Object.values(b)[0],y=Array.isArray(P)?P[0]:P;j.error(y||"Gagal mengubah alamat utama")}else j.error("Gagal mengubah alamat utama. Silakan coba lagi.")}})},H=A=>A?A.toLowerCase().includes("rumah")||A.toLowerCase().includes("home")?Vt:A.toLowerCase().includes("kantor")||A.toLowerCase().includes("office")?It:Pe:Pe;return(A,_)=>(r(),f(Q,null,[s(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[t("div",Ss,[s(e(Z),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Pe),{class:"w-5 h-5"}),_[11]||(_[11]=o(" Kelola Alamat ",-1))]),_:1}),s(e(F),{size:"sm",onClick:M},{default:a(()=>[s(e(At),{class:"w-4 h-4 mr-2"}),_[12]||(_[12]=o(" Tambah Alamat ",-1))]),_:1})])]),_:1}),s(e(q),null,{default:a(()=>[l.addresses.length===0?(r(),f("div",Ts,[s(e(Pe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),_[13]||(_[13]=t("p",{class:"mb-2"},"Belum ada alamat tersimpan",-1)),_[14]||(_[14]=t("p",{class:"text-sm"},"Tambahkan alamat untuk mempermudah proses pengiriman",-1))])):(r(),f("div",js,[(r(!0),f(Q,null,se(l.addresses,b=>(r(),f("div",{key:b.id,class:W(["relative p-4 rounded-lg border transition-all",b.is_default?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[b.is_default?(r(),T(e(E),{key:0,variant:"default",class:"absolute top-2 right-2 text-xs"},{default:a(()=>[..._[15]||(_[15]=[o(" Utama ",-1)])]),_:1})):w("",!0),t("div",Ms,[(r(),T(Lt(H(b.label)),{class:W(["w-5 h-5 mt-1 flex-shrink-0",b.is_default?"text-primary":"text-muted-foreground"])},null,8,["class"])),t("div",Rs,[t("div",Ds,[t("h4",As,n(b.label||"Alamat"),1)]),t("p",Ls,n(b.recipient_name),1),t("p",Bs,n(b.recipient_phone),1)])]),t("div",Vs,[t("p",Is,n(b.address_line1),1),b.address_line2?(r(),f("p",Es,n(b.address_line2),1)):w("",!0),t("p",Us,[o(n(b.city_label)+", "+n(b.province_label)+" ",1),b.postal_code?(r(),f("span",Fs,n(b.postal_code),1)):w("",!0)]),t("p",Ks,n(b.country),1),b.description?(r(),f("p",Ns,n(b.description),1)):w("",!0)]),s(e(re),{class:"my-3"}),t("div",zs,[b.is_default?w("",!0):(r(),T(e(F),{key:0,variant:"outline",size:"sm",onClick:P=>I(b.id)},{default:a(()=>[..._[16]||(_[16]=[o(" Jadikan Utama ",-1)])]),_:1},8,["onClick"])),s(e(F),{variant:"outline",size:"sm",onClick:P=>B(b)},{default:a(()=>[s(e(Bt),{class:"w-3 h-3 mr-1"}),_[17]||(_[17]=o(" Edit ",-1))]),_:1},8,["onClick"]),s(e(F),{variant:"destructive",size:"sm",disabled:p.value,onClick:P=>G(b.id)},{default:a(()=>[s(e(He),{class:"w-3 h-3 mr-1"}),_[18]||(_[18]=o(" Hapus ",-1))]),_:1},8,["disabled","onClick"])])],2))),128))]))]),_:1})]),_:1}),s(e(Be),{open:u.value,"onUpdate:open":N},{default:a(()=>[s(e(Re),{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[s(e(De),null,{default:a(()=>[s(e(Ae),null,{default:a(()=>[o(n(i.value?"Edit Alamat":"Tambah Alamat Baru"),1)]),_:1}),s(e(Le),null,{default:a(()=>[o(n(i.value?"Perbarui informasi alamat Anda":"Tambahkan alamat pengiriman baru"),1)]),_:1})]),_:1}),t("div",Os,[t("div",qs,[t("div",Gs,[s(e(z),{for:"label"},{default:a(()=>[..._[19]||(_[19]=[o("Label Alamat",-1)])]),_:1}),s(e(Y),{id:"label",modelValue:v.value.label,"onUpdate:modelValue":_[0]||(_[0]=b=>v.value.label=b),placeholder:"Rumah, Kantor, dll"},null,8,["modelValue"])]),t("div",Qs,[s(e(ns),{id:"is_default",checked:v.value.is_default,"onUpdate:checked":_[1]||(_[1]=b=>v.value.is_default=b)},null,8,["checked"]),s(e(z),{for:"is_default",class:"cursor-pointer"},{default:a(()=>[..._[20]||(_[20]=[o("Jadikan alamat utama",-1)])]),_:1})])]),t("div",Ws,[t("div",Hs,[s(e(z),{for:"recipient_name"},{default:a(()=>[..._[21]||(_[21]=[o("Nama Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Y),{id:"recipient_name",modelValue:v.value.recipient_name,"onUpdate:modelValue":_[2]||(_[2]=b=>v.value.recipient_name=b),placeholder:"Nama lengkap penerima",required:""},null,8,["modelValue"])]),t("div",Js,[s(e(z),{for:"recipient_phone"},{default:a(()=>[..._[22]||(_[22]=[o("No. Telepon Penerima ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Y),{id:"recipient_phone",modelValue:v.value.recipient_phone,"onUpdate:modelValue":_[3]||(_[3]=b=>v.value.recipient_phone=b),placeholder:"08xxxxxxxxxx",required:""},null,8,["modelValue"])])]),t("div",Zs,[s(e(z),{for:"address_line1"},{default:a(()=>[..._[23]||(_[23]=[o("Alamat Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Me),{id:"address_line1",modelValue:v.value.address_line1,"onUpdate:modelValue":_[4]||(_[4]=b=>v.value.address_line1=b),placeholder:"Jalan, nomor rumah, RT/RW, blok",rows:"3",required:""},null,8,["modelValue"])]),t("div",Xs,[s(e(z),{for:"address_line2"},{default:a(()=>[..._[24]||(_[24]=[o("Detail Tambahan (Opsional)",-1)])]),_:1}),s(e(Y),{id:"address_line2",modelValue:v.value.address_line2,"onUpdate:modelValue":_[5]||(_[5]=b=>v.value.address_line2=b),placeholder:"Patokan, gedung, unit, warna rumah, dll"},null,8,["modelValue"])]),t("div",Ys,[t("div",ea,[s(e(z),{for:"province"},{default:a(()=>[..._[25]||(_[25]=[o("Provinsi ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Ye),{modelValue:x.value,"onUpdate:modelValue":_[6]||(_[6]=b=>x.value=b),disabled:k.value},{default:a(()=>[s(e(et),{id:"province"},{default:a(()=>[s(e(tt),{placeholder:k.value?"Memuat provinsi...":"Pilih provinsi"},null,8,["placeholder"])]),_:1}),s(e(st),null,{default:a(()=>[(r(!0),f(Q,null,se(m.value,b=>(r(),T(e(Ee),{key:b.id,value:b.id.toString()},{default:a(()=>[o(n(b.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",ta,[s(e(z),{for:"city"},{default:a(()=>[..._[26]||(_[26]=[o("Kota/Kabupaten ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Ye),{modelValue:$.value,"onUpdate:modelValue":_[7]||(_[7]=b=>$.value=b),disabled:!x.value||R.value},{default:a(()=>[s(e(et),{id:"city"},{default:a(()=>[s(e(tt),{placeholder:R.value?"Memuat kota...":x.value?"Pilih kota/kabupaten":"Pilih provinsi terlebih dahulu"},null,8,["placeholder"])]),_:1}),s(e(st),null,{default:a(()=>[(r(!0),f(Q,null,se(c.value,b=>(r(),T(e(Ee),{key:b.id,value:b.id.toString()},{default:a(()=>[o(n(b.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),t("div",sa,[t("div",aa,[s(e(z),{for:"postal_code"},{default:a(()=>[..._[27]||(_[27]=[o("Kode Pos",-1)])]),_:1}),s(e(Y),{id:"postal_code",modelValue:v.value.postal_code,"onUpdate:modelValue":_[8]||(_[8]=b=>v.value.postal_code=b),placeholder:"12345"},null,8,["modelValue"])]),t("div",la,[s(e(z),{for:"country"},{default:a(()=>[..._[28]||(_[28]=[o("Negara",-1)])]),_:1}),s(e(Y),{id:"country",modelValue:v.value.country,"onUpdate:modelValue":_[9]||(_[9]=b=>v.value.country=b),placeholder:"Indonesia"},null,8,["modelValue"])])]),t("div",na,[s(e(z),{for:"description"},{default:a(()=>[..._[29]||(_[29]=[o("Catatan (Opsional)",-1)])]),_:1}),s(e(Me),{id:"description",modelValue:v.value.description,"onUpdate:modelValue":_[10]||(_[10]=b=>v.value.description=b),placeholder:"Catatan khusus untuk alamat ini",rows:"2"},null,8,["modelValue"])])]),s(e(Ve),null,{default:a(()=>[s(e(F),{variant:"outline",onClick:N,disabled:h.value},{default:a(()=>[..._[30]||(_[30]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{onClick:U,disabled:h.value},{default:a(()=>[o(n(h.value?"Menyimpan...":i.value?"Perbarui":"Simpan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),oa={class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg"},ia={class:"text-xl font-bold text-emerald-700 dark:text-emerald-400"},da={class:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},ua={class:"text-xl font-bold text-amber-700 dark:text-amber-400"},ma=X({__name:"BonusStatsCard",props:{customer:{}},setup(l){const{formatCurrency:u}=$e();return(i,p)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(Z),{class:"flex items-center gap-2"},{default:a(()=>[s(e(ft),{class:"w-5 h-5"}),p[0]||(p[0]=o(" Statistik Bonus ",-1))]),_:1})]),_:1}),s(e(q),{class:"space-y-3"},{default:a(()=>[t("div",oa,[p[1]||(p[1]=t("p",{class:"text-xs text-emerald-700 dark:text-emerald-400 mb-1"},"Total Dirilis",-1)),t("p",ia,n(e(u)(l.customer.bonus_stats.total_released)),1)]),t("div",da,[p[2]||(p[2]=t("p",{class:"text-xs text-amber-700 dark:text-amber-400 mb-1"},"Total Pending",-1)),t("p",ua,n(e(u)(l.customer.bonus_stats.total_pending)),1)])]),_:1})]),_:1}))}}),ca={class:"flex items-center gap-3"},pa={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},fa={class:"font-semibold"},xa=X({__name:"MemberSinceCard",props:{createdAt:{}},setup(l){const{formatDate:u}=$e();return(i,p)=>(r(),T(e(O),null,{default:a(()=>[s(e(q),{class:"pt-6"},{default:a(()=>[t("div",ca,[t("div",pa,[s(e(Et),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[p[0]||(p[0]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Member Sejak",-1)),t("p",fa,n(e(u)(l.createdAt)),1)])])]),_:1})]),_:1}))}}),ga={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},va={class:"space-y-2"},ya={class:"relative"},ba={key:0,class:"text-sm text-red-500"},_a={class:"space-y-2"},ha={class:"relative"},ka={key:0,class:"text-sm text-red-500"},wa={class:"space-y-2"},$a={class:"relative"},Pa={key:0,class:"text-sm text-red-500"},Ca={class:"space-y-2"},Sa={key:0,class:"text-sm text-red-500"},Ta={class:"space-y-2"},ja={class:"relative"},Ma={key:0,class:"text-sm text-red-500"},Ra={class:"space-y-2"},Da={class:"relative"},Aa={key:0,class:"text-sm text-red-500"},La={class:"space-y-2"},Ba={class:"relative"},Va={key:0,class:"text-sm text-red-500"},Ia={class:"space-y-2"},Ea={key:0,class:"text-sm text-red-500"},Ua={class:"flex items-center justify-end gap-3"},Fa=X({__name:"ProfileInformationTab",props:{customer:{}},setup(l){const u=l,i=ke({name:u.customer.name,username:u.customer.username||"",nik:u.customer.nik||"",gender:u.customer.gender||"",alamat:u.customer.alamat||"",email:u.customer.email,phone:u.customer.phone,description:u.customer.description||""}),p=()=>{i.patch("/client/profile",{preserveScroll:!0,onSuccess:()=>{j.success("Informasi profil berhasil diperbarui")}})};return(h,m)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(Z),null,{default:a(()=>[...m[9]||(m[9]=[o("Informasi Profile",-1)])]),_:1}),s(e(me),null,{default:a(()=>[...m[10]||(m[10]=[o(" Update informasi profil Anda di sini ",-1)])]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("form",{onSubmit:Ue(p,["prevent"]),class:"space-y-6"},[t("div",ga,[t("div",va,[s(e(z),{for:"username"},{default:a(()=>[...m[11]||(m[11]=[o(" Username ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ya,[s(e(Ut),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"username",modelValue:e(i).username,"onUpdate:modelValue":m[0]||(m[0]=c=>e(i).username=c),type:"text",placeholder:"username",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.username?(r(),f("p",ba,n(e(i).errors.username),1)):w("",!0)]),t("div",_a,[s(e(z),{for:"name"},{default:a(()=>[...m[12]||(m[12]=[o(" Nama Lengkap ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ha,[s(e(Je),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"name",modelValue:e(i).name,"onUpdate:modelValue":m[1]||(m[1]=c=>e(i).name=c),type:"text",placeholder:"Masukkan nama lengkap",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.name?(r(),f("p",ka,n(e(i).errors.name),1)):w("",!0)]),t("div",wa,[s(e(z),{for:"nik"},{default:a(()=>[...m[13]||(m[13]=[o("NIK (Nomor Induk Kependudukan)",-1)])]),_:1}),t("div",$a,[s(e(he),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"nik",modelValue:e(i).nik,"onUpdate:modelValue":m[2]||(m[2]=c=>e(i).nik=c),type:"text",placeholder:"16 digit NIK",class:"pl-10",maxlength:"16"},null,8,["modelValue"])]),e(i).errors.nik?(r(),f("p",Pa,n(e(i).errors.nik),1)):w("",!0)]),t("div",Ca,[s(e(z),{for:"gender"},{default:a(()=>[...m[14]||(m[14]=[o("Jenis Kelamin",-1)])]),_:1}),s(e(Ye),{modelValue:e(i).gender,"onUpdate:modelValue":m[3]||(m[3]=c=>e(i).gender=c)},{default:a(()=>[s(e(et),null,{default:a(()=>[s(e(tt),{placeholder:"Pilih jenis kelamin"})]),_:1}),s(e(st),null,{default:a(()=>[s(e(Ee),{value:"male"},{default:a(()=>[...m[15]||(m[15]=[o("Laki-laki",-1)])]),_:1}),s(e(Ee),{value:"female"},{default:a(()=>[...m[16]||(m[16]=[o("Perempuan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(i).errors.gender?(r(),f("p",Sa,n(e(i).errors.gender),1)):w("",!0)]),t("div",Ta,[s(e(z),{for:"email"},{default:a(()=>[...m[17]||(m[17]=[o(" Email ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",ja,[s(e(Ft),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"email",modelValue:e(i).email,"onUpdate:modelValue":m[4]||(m[4]=c=>e(i).email=c),type:"email",placeholder:"email@example.com",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.email?(r(),f("p",Ma,n(e(i).errors.email),1)):w("",!0)]),t("div",Ra,[s(e(z),{for:"phone"},{default:a(()=>[...m[18]||(m[18]=[o(" Nomor Telepon ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Da,[s(e(Kt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"phone",modelValue:e(i).phone,"onUpdate:modelValue":m[5]||(m[5]=c=>e(i).phone=c),type:"tel",placeholder:"08123456789",class:"pl-10",required:""},null,8,["modelValue"])]),e(i).errors.phone?(r(),f("p",Aa,n(e(i).errors.phone),1)):w("",!0)])]),t("div",La,[s(e(z),{for:"alamat"},{default:a(()=>[...m[19]||(m[19]=[o("Alamat",-1)])]),_:1}),t("div",Ba,[s(e(Pe),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Me),{id:"alamat",modelValue:e(i).alamat,"onUpdate:modelValue":m[6]||(m[6]=c=>e(i).alamat=c),placeholder:"Masukkan alamat lengkap...",rows:"3",class:"pl-10"},null,8,["modelValue"])]),e(i).errors.alamat?(r(),f("p",Va,n(e(i).errors.alamat),1)):w("",!0)]),t("div",Ia,[s(e(z),{for:"description"},{default:a(()=>[...m[20]||(m[20]=[o("Deskripsi",-1)])]),_:1}),s(e(Me),{id:"description",modelValue:e(i).description,"onUpdate:modelValue":m[7]||(m[7]=c=>e(i).description=c),placeholder:"Ceritakan tentang diri Anda...",rows:"4"},null,8,["modelValue"]),m[21]||(m[21]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Maksimal 1000 karakter ",-1)),e(i).errors.description?(r(),f("p",Ea,n(e(i).errors.description),1)):w("",!0)]),t("div",Ua,[s(e(F),{type:"button",variant:"outline",onClick:m[8]||(m[8]=c=>e(i).reset()),disabled:e(i).processing},{default:a(()=>[...m[22]||(m[22]=[o(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"submit",disabled:e(i).processing},{default:a(()=>[e(i).processing?w("",!0):(r(),T(e(_e),{key:0,class:"w-4 h-4 mr-2"})),o(" "+n(e(i).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Ka={key:0,class:"flex items-center justify-center py-12"},Na={key:1,class:"space-y-6 py-6"},za={class:"space-y-3"},Oa={class:"flex items-center gap-2 text-sm font-medium"},qa={class:"space-y-2"},Ga={class:"flex justify-between"},Qa={class:"text-sm font-medium"},Wa={class:"flex justify-between items-center"},Ha={key:0,class:"flex justify-between"},Ja={class:"text-sm font-medium"},Za={key:1,class:"flex justify-between items-center"},Xa={class:"space-y-3"},Ya={class:"flex items-center gap-2 text-sm font-medium"},el={class:"space-y-3"},tl=["src","alt"],sl={class:"flex-1"},al={class:"font-medium text-sm"},ll={class:"text-xs text-muted-foreground"},nl={class:"text-xs text-muted-foreground"},rl={class:"text-right"},ol={class:"font-semibold text-sm"},il={key:0,class:"space-y-3"},dl={class:"flex items-center gap-2 text-sm font-medium"},ul={class:"p-3 bg-muted/30 rounded-lg space-y-1"},ml={class:"font-medium text-sm"},cl={class:"text-sm text-muted-foreground"},pl={class:"text-sm text-muted-foreground"},fl={class:"text-sm text-muted-foreground"},xl={key:1,class:"space-y-3"},gl={class:"flex items-center gap-2 text-sm font-medium"},vl={class:"p-3 bg-muted/30 rounded-lg space-y-2"},yl={class:"flex justify-between"},bl={class:"text-sm font-medium"},_l={class:"flex justify-between"},hl={class:"text-sm font-medium"},kl={class:"flex justify-between"},wl={class:"text-sm font-medium"},$l={class:"space-y-3"},Pl={class:"flex items-center gap-2 text-sm font-medium"},Cl={class:"space-y-2 text-sm"},Sl={class:"flex justify-between"},Tl={key:0,class:"flex justify-between"},jl={class:"text-red-600"},Ml={class:"flex justify-between"},Rl={key:1,class:"flex justify-between"},Dl={class:"flex justify-between font-semibold text-base"},Al={class:"text-primary"},Ll={key:2,class:"space-y-2"},Bl={class:"space-y-1"},Vl={class:"text-sm text-muted-foreground"},Il={key:3,class:"space-y-4 pt-4"},El={class:"space-y-3"},Ul={class:"flex items-center gap-2 text-sm font-medium"},Fl={class:"flex items-start justify-between"},Kl={class:"flex items-center gap-2 font-medium text-sm"},Nl={class:"text-xs text-muted-foreground"},zl={key:0,class:"mt-1 text-xs text-destructive"},Ol={class:"flex items-start justify-between"},ql={class:"flex items-center gap-2 font-medium text-sm"},Gl={key:3},Ql={key:4},Wl={key:4,class:"pt-4"},Hl={key:2,class:"flex items-center justify-center py-12 text-muted-foreground"},Jl=X({__name:"OrderDetailSheet",props:{open:{type:Boolean},orderId:{}},emits:["update:open"],setup(l,{emit:u}){const i=l,p=u,{formatCurrency:h,formatDate:m,getStatusLabel:c}=$e(),k=nt(),R=K(()=>k.props.auth?.user?.ewallet_saldo??0),x=D(!1),$=D(!1),v=D(!1),g=D(!1),d=D(null),L=D("midtrans"),M=K(()=>d.value?.status?.toUpperCase()==="SHIPPED"),B=K(()=>d.value?.status?.toUpperCase()==="PENDING"&&!d.value?.paid_at),N=K(()=>d.value?R.value>=d.value.grand_total:!1);Nt(()=>{typeof document<"u"&&(g.value?document.body.classList.add("midtrans-popup-active"):document.body.classList.remove("midtrans-popup-active"))}),rt(()=>{typeof document<"u"&&document.body.classList.remove("midtrans-popup-active")});const U=K(()=>{const b=d.value?.status?.toLowerCase();return{"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":b==="pending","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":b==="processing"||b==="paid","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":b==="shipped","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":b==="delivered"||b==="completed","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":b==="cancelled"}}),G=async()=>{if(i.orderId){x.value=!0;try{const b=await le.get(`/api/client/orders/${i.orderId}`);d.value=b.data.data}catch(b){console.error("Failed to load order:",b),j.error("Gagal memuat detail pesanan")}finally{x.value=!1}}},I=async()=>{if(!(!d.value||!M.value||$.value)){$.value=!0;try{await le.post(`/api/client/orders/${d.value.id}/complete`),await G(),ie.reload({only:["orders"]}),j.success('Status pesanan berhasil diperbarui menjadi "Selesai".')}catch(b){console.error("Failed to update order status:",b),j.error(b.response?.data?.message||"Gagal memperbarui status pesanan")}finally{$.value=!1}}},H=async()=>{if(!d.value||!B.value||v.value)return;const b=window.snap;if(!b){j.error("Sistem pembayaran belum siap. Mohon refresh halaman.");return}v.value=!0;try{const y=(await le.post(`/api/client/orders/${d.value.id}/pay`)).data;y.success&&y.snap_token?(g.value=!0,b.pay(y.snap_token,{onSuccess:function(){g.value=!1,v.value=!1,j.success("Pembayaran berhasil!"),G(),ie.reload({only:["orders"]})},onPending:function(){g.value=!1,v.value=!1,j.info("Pembayaran tertunda. Silakan selesaikan pembayaran."),G(),ie.reload({only:["orders"]})},onError:function(){g.value=!1,v.value=!1,j.error("Pembayaran gagal. Silakan coba lagi."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)},onClose:function(){g.value=!1,v.value=!1,j.info("Pembayaran dibatalkan."),setTimeout(()=>{document.body.classList.remove("midtrans-popup-active")},100)}})):j.error(y.message||"Gagal memproses pembayaran")}catch(P){console.error("Failed to initiate payment:",P),j.error(P.response?.data?.message||"Gagal memproses pembayaran")}finally{g.value||(v.value=!1)}},A=async()=>{if(!(!d.value||!B.value||v.value)){if(!N.value){j.error("Saldo e-wallet Anda tidak mencukupi");return}v.value=!0;try{const P=(await le.post(`/api/client/orders/${d.value.id}/pay-wallet`)).data;P.success?(j.success(P.message||"Pembayaran berhasil!"),await G(),ie.reload({only:["orders","auth"]})):j.error(P.message||"Gagal memproses pembayaran")}catch(b){console.error("Failed to pay with wallet:",b),j.error(b.response?.data?.message||"Gagal memproses pembayaran")}finally{v.value=!1}}},_=()=>{L.value==="wallet"?A():H()};return We(()=>[i.open,i.orderId],([b,P])=>{b&&P&&G()}),(b,P)=>(r(),T(e(rs),{open:l.open,"onUpdate:open":P[3]||(P[3]=y=>p("update:open",y))},{default:a(()=>[s(e(os),{side:"right",class:"sm:max-w-2xl w-full overflow-y-auto"},{default:a(()=>[s(e(is),null,{default:a(()=>[s(e(ds),null,{default:a(()=>[...P[4]||(P[4]=[o("Detail Pesanan",-1)])]),_:1}),s(e(us),null,{default:a(()=>[...P[5]||(P[5]=[o(" Informasi lengkap pesanan Anda ",-1)])]),_:1})]),_:1}),x.value?(r(),f("div",Ka,[s(e(Ce),{class:"h-8 w-8 animate-spin text-muted-foreground"})])):d.value?(r(),f("div",Na,[t("div",za,[t("div",Oa,[s(e(je),{class:"h-4 w-4"}),P[6]||(P[6]=t("span",null,"Ringkasan Pesanan",-1))]),t("div",qa,[t("div",Ga,[P[7]||(P[7]=t("span",{class:"text-sm text-muted-foreground"},"Nomor Pesanan",-1)),t("span",Qa,n(d.value.order_no),1)]),t("div",Wa,[P[8]||(P[8]=t("span",{class:"text-sm text-muted-foreground"},"Status",-1)),s(e(E),{class:W(U.value)},{default:a(()=>[o(n(e(c)(d.value.status)),1)]),_:1},8,["class"])]),d.value.placed_at?(r(),f("div",Ha,[P[9]||(P[9]=t("span",{class:"text-sm text-muted-foreground"},"Tanggal Pesan",-1)),t("span",Ja,n(e(m)(d.value.placed_at)),1)])):w("",!0),d.value.paid_at?(r(),f("div",Za,[P[10]||(P[10]=t("span",{class:"text-sm text-muted-foreground"},"Status Pembayaran",-1)),s(e(E),{variant:"secondary"},{default:a(()=>[s(e(_e),{class:"w-3 h-3 mr-1"}),o(" Dibayar "+n(e(m)(d.value.paid_at)),1)]),_:1})])):w("",!0)])]),s(e(re)),t("div",Xa,[t("div",Ya,[s(e(je),{class:"h-4 w-4"}),P[11]||(P[11]=t("span",null,"Produk Pesanan",-1))]),t("div",el,[(r(!0),f(Q,null,se(d.value.items,y=>(r(),f("div",{key:y.id,class:"flex gap-4 p-3 bg-muted/30 rounded-lg"},[y.meta_json?.image?(r(),f("img",{key:0,src:y.meta_json.image,alt:y.name,class:"w-16 h-16 object-cover rounded-md"},null,8,tl)):w("",!0),t("div",sl,[t("h4",al,n(y.name),1),t("p",ll,"SKU: "+n(y.sku),1),t("p",nl,n(y.qty)+"x "+n(e(h)(y.unit_price)),1)]),t("div",rl,[t("p",ol,n(e(h)(y.row_total)),1)])]))),128))])]),s(e(re)),d.value.shipping_address?(r(),f("div",il,[t("div",dl,[s(e(Pe),{class:"h-4 w-4"}),P[12]||(P[12]=t("span",null,"Alamat Pengiriman",-1))]),t("div",ul,[t("p",ml,n(d.value.shipping_address.recipient_name),1),t("p",cl,n(d.value.shipping_address.recipient_phone),1),t("p",pl,n(d.value.shipping_address.address_line1),1),t("p",fl,n(d.value.shipping_address.city_label)+", "+n(d.value.shipping_address.province_label)+" "+n(d.value.shipping_address.postal_code),1)])])):w("",!0),s(e(re)),d.value.applied_promos?.shipping?(r(),f("div",xl,[t("div",gl,[s(e(zt),{class:"h-4 w-4"}),P[13]||(P[13]=t("span",null,"Informasi Pengiriman",-1))]),t("div",vl,[t("div",yl,[P[14]||(P[14]=t("span",{class:"text-sm text-muted-foreground"},"Kurir",-1)),t("span",bl,n(d.value.applied_promos.shipping.courier),1)]),t("div",_l,[P[15]||(P[15]=t("span",{class:"text-sm text-muted-foreground"},"Layanan",-1)),t("span",hl,n(d.value.applied_promos.shipping.service),1)]),t("div",kl,[P[16]||(P[16]=t("span",{class:"text-sm text-muted-foreground"},"Estimasi",-1)),t("span",wl,n(d.value.applied_promos.shipping.etd)+" hari",1)])])])):w("",!0),s(e(re)),t("div",$l,[t("div",Pl,[s(e(he),{class:"h-4 w-4"}),P[17]||(P[17]=t("span",null,"Ringkasan Pembayaran",-1))]),t("div",Cl,[t("div",Sl,[P[18]||(P[18]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),t("span",null,n(e(h)(d.value.subtotal_amount)),1)]),d.value.discount_amount>0?(r(),f("div",Tl,[P[19]||(P[19]=t("span",{class:"text-muted-foreground"},"Diskon",-1)),t("span",jl,"-"+n(e(h)(d.value.discount_amount)),1)])):w("",!0),t("div",Ml,[P[20]||(P[20]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),t("span",null,n(e(h)(d.value.shipping_amount)),1)]),d.value.tax_amount>0?(r(),f("div",Rl,[P[21]||(P[21]=t("span",{class:"text-muted-foreground"},"Pajak",-1)),t("span",null,n(e(h)(d.value.tax_amount)),1)])):w("",!0),s(e(re)),t("div",Dl,[P[22]||(P[22]=t("span",null,"Total",-1)),t("span",Al,n(e(h)(d.value.grand_total)),1)])])]),d.value.notes?(r(),f("div",Ll,[s(e(re)),t("div",Bl,[P[23]||(P[23]=t("p",{class:"text-sm font-medium"},"Catatan",-1)),t("p",Vl,n(d.value.notes),1)])])):w("",!0),B.value?(r(),f("div",Il,[s(e(re)),t("div",El,[t("div",Ul,[s(e(Se),{class:"h-4 w-4"}),P[24]||(P[24]=t("span",null,"Metode Pembayaran",-1))]),s(e(Tt),{modelValue:L.value,"onUpdate:modelValue":P[2]||(P[2]=y=>L.value=y),class:"space-y-3"},{default:a(()=>[t("div",{class:W(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":L.value==="wallet","hover:bg-muted":L.value!=="wallet","cursor-not-allowed opacity-50":!N.value}]),onClick:P[0]||(P[0]=y=>N.value&&(L.value="wallet"))},[s(e(ut),{value:"wallet",id:"payment-wallet-detail",disabled:!N.value},null,8,["disabled"]),s(e(z),{for:"payment-wallet-detail",class:W(["flex-1 cursor-pointer",{"cursor-not-allowed":!N.value}])},{default:a(()=>[t("div",Fl,[t("div",null,[t("div",Kl,[s(e(Se),{class:"h-4 w-4"}),P[25]||(P[25]=o(" E-Wallet ",-1))]),t("div",Nl," Saldo: "+n(e(h)(R.value)),1),N.value?w("",!0):(r(),f("div",zl," Saldo tidak mencukupi (kurang "+n(e(h)(d.value.grand_total-R.value))+") ",1))])])]),_:1},8,["class"])],2),t("div",{class:W(["flex cursor-pointer items-center space-x-3 rounded-lg border p-3 transition-colors",{"border-primary bg-primary/10":L.value==="midtrans","hover:bg-muted":L.value!=="midtrans"}]),onClick:P[1]||(P[1]=y=>L.value="midtrans")},[s(e(ut),{value:"midtrans",id:"payment-midtrans-detail"}),s(e(z),{for:"payment-midtrans-detail",class:"flex-1 cursor-pointer"},{default:a(()=>[t("div",Ol,[t("div",null,[t("div",ql,[s(e(he),{class:"h-4 w-4"}),P[26]||(P[26]=o(" Payment Gateway ",-1))]),P[27]||(P[27]=t("div",{class:"text-xs text-muted-foreground"}," Transfer Bank, E-wallet, Kartu Kredit ",-1))])])]),_:1})],2)]),_:1},8,["modelValue"])]),s(e(F),{onClick:_,disabled:v.value||g.value||L.value==="wallet"&&!N.value,class:"w-full",size:"lg"},{default:a(()=>[v.value?(r(),T(e(Ce),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):L.value==="wallet"?(r(),T(e(Se),{key:1,class:"h-4 w-4 mr-2"})):(r(),T(e(he),{key:2,class:"h-4 w-4 mr-2"})),L.value==="wallet"?(r(),f("span",Gl," Bayar dengan E-Wallet "+n(e(h)(d.value.grand_total)),1)):(r(),f("span",Ql," Bayar "+n(e(h)(d.value.grand_total)),1))]),_:1},8,["disabled"])])):w("",!0),M.value?(r(),f("div",Wl,[s(e(F),{onClick:I,disabled:$.value,class:"w-full",size:"lg"},{default:a(()=>[$.value?(r(),T(e(Ce),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(r(),T(e(_e),{key:1,class:"h-4 w-4 mr-2"})),P[28]||(P[28]=o(" Tandai Pesanan Selesai ",-1))]),_:1},8,["disabled"])])):w("",!0)])):(r(),f("div",Hl," Tidak ada data pesanan "))]),_:1})]),_:1},8,["open"]))}}),Zl={class:"space-y-6 py-4"},Xl={key:2,class:"flex gap-4 rounded-lg bg-muted p-4"},Yl=["src","alt"],en={class:"flex-1"},tn={class:"font-medium"},sn={class:"space-y-2"},an={class:"flex items-center gap-2"},ln=["onClick","onMouseenter"],nn={class:"ml-2 text-sm text-muted-foreground"},rn={class:"space-y-2"},on={key:0,class:"text-sm text-destructive"},dn={class:"space-y-2"},un={class:"text-right text-xs text-muted-foreground"},mn={key:0,class:"text-sm text-destructive"},cn=X({__name:"ProductReviewDialog",props:{open:{type:Boolean},orderId:{},orderItems:{}},emits:["update:open","review-submitted"],setup(l,{emit:u}){const i=l,p=u,h=D(0),m=D(null),c=D(!1),k=D({}),R=K(()=>i.orderItems[h.value]),x=K(()=>h.value<i.orderItems.length-1),$=K(()=>h.value===i.orderItems.length-1),v=D({order_item_id:0,product_id:0,rating:5,title:"",comment:""}),g=D(0),d=G=>{v.value.rating=G},L=async()=>{if(R.value){v.value.order_item_id=R.value.id,v.value.product_id=R.value.product_id,m.value=null,k.value={},c.value=!0;try{const G=await le.post(`/api/client/orders/${i.orderId}/reviews`,v.value);if(G.data.success){const I=G.data.message||"Review berhasil dikirim dan menunggu persetujuan!";m.value={type:"success",message:I},j.success(I),x.value?setTimeout(()=>{h.value++,B(),m.value=null},1500):setTimeout(()=>{p("update:open",!1),p("review-submitted"),N()},2e3)}}catch(G){console.error("Submit review error:",G);let I="Gagal mengirim review. Silakan coba lagi.";if(G.response?.data){const H=G.response.data;if(H.message&&(I=H.message),H.errors){k.value=H.errors;const A=Object.values(H.errors)[0];Array.isArray(A)&&A.length>0?I=A[0]:typeof A=="string"&&(I=A)}}m.value={type:"error",message:I},j.error(I)}finally{c.value=!1}}},M=()=>{x.value?(h.value++,B(),m.value=null):(p("update:open",!1),p("review-submitted"),N())},B=()=>{v.value={order_item_id:0,product_id:0,rating:5,title:"",comment:""},k.value={}},N=()=>{h.value=0,B(),m.value=null},U=G=>{p("update:open",G),G||N()};return(G,I)=>(r(),T(e(Be),{open:l.open,"onUpdate:open":U},{default:a(()=>[s(e(Re),{class:"sm:max-w-[500px]"},{default:a(()=>[s(e(De),null,{default:a(()=>[s(e(Ae),null,{default:a(()=>[...I[4]||(I[4]=[o("Beri Rating & Review",-1)])]),_:1}),s(e(Le),null,{default:a(()=>[o(" Bagikan pengalaman Anda dengan produk ini ("+n(h.value+1)+" dari "+n(l.orderItems.length)+") ",1)]),_:1})]),_:1}),t("div",Zl,[!R.value||l.orderItems.length===0?(r(),T(e(qe),{key:0,variant:"default"},{default:a(()=>[s(e(we),{class:"h-4 w-4"}),s(e(Ge),null,{default:a(()=>[...I[5]||(I[5]=[o("Tidak Ada Item",-1)])]),_:1}),s(e(Qe),null,{default:a(()=>[...I[6]||(I[6]=[o(" Tidak ada produk yang dapat direview dari pesanan ini. ",-1)])]),_:1})]),_:1})):(r(),f(Q,{key:1},[m.value?.type==="success"?(r(),T(e(qe),{key:0,variant:"default"},{default:a(()=>[s(e(Ot),{class:"h-4 w-4"}),s(e(Ge),null,{default:a(()=>[...I[7]||(I[7]=[o("Berhasil!",-1)])]),_:1}),s(e(Qe),null,{default:a(()=>[o(n(m.value.message),1)]),_:1})]),_:1})):w("",!0),m.value?.type==="error"?(r(),T(e(qe),{key:1,variant:"destructive"},{default:a(()=>[s(e(we),{class:"h-4 w-4"}),s(e(Ge),null,{default:a(()=>[...I[8]||(I[8]=[o("Terjadi Kesalahan",-1)])]),_:1}),s(e(Qe),null,{default:a(()=>[o(n(m.value.message),1)]),_:1})]),_:1})):w("",!0),R.value?(r(),f("div",Xl,[R.value.product_image?(r(),f("img",{key:0,src:R.value.product_image,alt:R.value.product_name,class:"h-20 w-20 rounded-md object-cover"},null,8,Yl)):w("",!0),t("div",en,[t("h4",tn,n(R.value.product_name),1)])])):w("",!0),t("div",sn,[s(e(z),null,{default:a(()=>[...I[9]||(I[9]=[o("Rating Produk",-1)])]),_:1}),t("div",an,[(r(),f(Q,null,se(5,H=>t("button",{key:H,type:"button",onClick:A=>d(H),onMouseenter:A=>g.value=H,onMouseleave:I[0]||(I[0]=A=>g.value=0),class:"transition-transform hover:scale-110 focus:outline-none"},[s(e(ot),{class:W(["h-8 w-8 transition-colors",(g.value||v.value.rating)>=H?"fill-yellow-400 text-yellow-400":"text-gray-300"])},null,8,["class"])],40,ln)),64)),t("span",nn,n(v.value.rating)+" / 5 ",1)])]),t("div",rn,[s(e(z),{for:"title"},{default:a(()=>[...I[10]||(I[10]=[o("Judul Review (Opsional)",-1)])]),_:1}),s(e(Y),{id:"title",modelValue:v.value.title,"onUpdate:modelValue":I[1]||(I[1]=H=>v.value.title=H),placeholder:"Ringkasan singkat pengalaman Anda",maxlength:"100"},null,8,["modelValue"]),k.value.title?(r(),f("p",on,n(k.value.title),1)):w("",!0)]),t("div",dn,[s(e(z),{for:"comment"},{default:a(()=>[...I[11]||(I[11]=[o("Komentar (Opsional)",-1)])]),_:1}),s(e(Me),{id:"comment",modelValue:v.value.comment,"onUpdate:modelValue":I[2]||(I[2]=H=>v.value.comment=H),placeholder:"Ceritakan pengalaman Anda dengan produk ini...",rows:"4",maxlength:"500"},null,8,["modelValue"]),t("p",un,n(v.value.comment?.length||0)+" / 500 karakter ",1),k.value.comment?(r(),f("p",mn,n(k.value.comment),1)):w("",!0)])],64))]),s(e(Ve),{class:"flex-col gap-2 sm:flex-row"},{default:a(()=>[R.value&&l.orderItems.length>0?(r(),f(Q,{key:0},[x.value||$.value?(r(),T(e(F),{key:0,type:"button",variant:"outline",onClick:M,disabled:c.value},{default:a(()=>[o(n(x.value?"Lewati":"Tutup"),1)]),_:1},8,["disabled"])):w("",!0),s(e(F),{type:"button",onClick:L,disabled:c.value||v.value.rating===0,class:"w-full sm:w-auto"},{default:a(()=>[c.value?(r(),T(e(Ce),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):w("",!0),o(" "+n(x.value?"Kirim & Lanjut":"Kirim Review"),1)]),_:1},8,["disabled"])],64)):(r(),T(e(F),{key:1,type:"button",variant:"outline",onClick:I[3]||(I[3]=H=>U(!1))},{default:a(()=>[...I[12]||(I[12]=[o(" Tutup ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"]))}}),pn={class:"rounded-lg border p-4 transition-colors hover:border-primary"},fn={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},xn={class:"flex-1"},gn={class:"mb-2 flex items-center gap-3"},vn={class:"text-sm font-semibold"},yn={class:"text-xs text-muted-foreground"},bn={class:"mt-2 flex items-center gap-2"},_n={class:"flex flex-col gap-2 md:items-end"},hn={class:"text-lg font-bold text-primary"},kn={class:"flex flex-wrap gap-2"},wn=X({__name:"OrderCard",props:{order:{}},setup(l){const u=l,{formatCurrency:i,formatDate:p,getStatusLabel:h}=$e(),m=D(!1),c=D(!1),k=D(!1),R=D(!1),x=D(u.order.status),$=D(u.order.paid_at),v=async()=>{if(!k.value){k.value=!0;try{const M=await le.post(`/api/client/orders/${u.order.id}/check-payment-status`);M.data.success?(x.value=M.data.status,M.data.paid_at&&($.value=M.data.paid_at),j.success(M.data.message),setTimeout(()=>{ie.reload({only:["orders"]})},500)):j.error(M.data.message)}catch(M){console.error("Check payment status error:",M),j.error(M.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{k.value=!1}}},g=async()=>{if(!R.value){R.value=!0;try{const M=await le.post(`/api/client/orders/${u.order.id}/complete`);M.data.success&&(x.value="COMPLETED",j.success(M.data.message||"Pesanan berhasil diselesaikan"),M.data.items&&M.data.items.length>0?(u.order.items=M.data.items,c.value=!0):setTimeout(()=>{ie.reload({only:["orders"]})},500))}catch(M){console.error("Complete order error:",M),j.error(M.response?.data?.message||"Gagal menandai pesanan sebagai diterima")}finally{R.value=!1}}},d=()=>{ie.reload({only:["orders"]})},L=()=>{const M=(u.order.items||[]).filter(B=>!B.has_review);M.length>0?(u.order.items=M,c.value=!0):j.info("Semua produk sudah direview")};return(M,B)=>(r(),f("div",pn,[t("div",fn,[t("div",xn,[t("div",gn,[s(e(je),{class:"h-5 w-5 text-muted-foreground"}),t("div",null,[t("p",vn,n(l.order.order_no),1),t("p",yn,n(l.order.placed_at?e(p)(l.order.placed_at):"Belum ditempatkan"),1)])]),t("div",bn,[s(e(E),{class:W({"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-100":x.value.toUpperCase()==="PENDING","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100":x.value.toUpperCase()==="PROCESSING"||x.value.toUpperCase()==="PAID","bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-100":x.value.toUpperCase()==="SHIPPED","bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-100":x.value.toUpperCase()==="DELIVERED"||x.value.toUpperCase()==="COMPLETED","bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-100":x.value.toUpperCase()==="CANCELLED"})},{default:a(()=>[o(n(e(h)(x.value)),1)]),_:1},8,["class"]),$.value?(r(),T(e(E),{key:0,variant:"secondary"},{default:a(()=>[s(e(_e),{class:"mr-1 h-3 w-3"}),B[3]||(B[3]=o(" Dibayar ",-1))]),_:1})):w("",!0)])]),t("div",_n,[t("p",hn,n(e(i)(l.order.grand_total)),1),t("div",kn,[x.value.toUpperCase()==="PENDING"&&!$.value?(r(),T(e(F),{key:0,variant:"outline",size:"sm",disabled:k.value,onClick:v},{default:a(()=>[s(e(xt),{class:W(["mr-1 h-3 w-3",{"animate-spin":k.value}])},null,8,["class"]),B[4]||(B[4]=o(" Cek Status ",-1))]),_:1},8,["disabled"])):w("",!0),x.value.toUpperCase()==="SHIPPED"?(r(),T(e(F),{key:1,variant:"default",size:"sm",disabled:R.value,onClick:g},{default:a(()=>[s(e(qt),{class:"mr-1 h-3 w-3"}),B[5]||(B[5]=o(" Pesanan Diterima ",-1))]),_:1},8,["disabled"])):w("",!0),x.value.toUpperCase()==="COMPLETED"&&l.order.has_unreviewed_items?(r(),T(e(F),{key:2,variant:"outline",size:"sm",onClick:L},{default:a(()=>[s(e(ot),{class:"mr-1 h-3 w-3"}),B[6]||(B[6]=o(" Tambah Review ",-1))]),_:1})):w("",!0),s(e(F),{variant:"outline",size:"sm",onClick:B[0]||(B[0]=N=>m.value=!0)},{default:a(()=>[...B[7]||(B[7]=[o(" Lihat Detail ",-1)])]),_:1})])])]),s(Jl,{open:m.value,"onUpdate:open":B[1]||(B[1]=N=>m.value=N),"order-id":l.order.id},null,8,["open","order-id"]),s(cn,{open:c.value,"onUpdate:open":B[2]||(B[2]=N=>c.value=N),"order-id":l.order.id,"order-items":l.order.items||[],onReviewSubmitted:d},null,8,["open","order-id","order-items"])]))}}),$n={key:0,class:"space-y-4"},Pn={key:1,class:"py-12 text-center"},Cn=X({__name:"OrdersTab",props:{orders:{}},setup(l){return(u,i)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(Z),null,{default:a(()=>[...i[0]||(i[0]=[o("Pesanan Saya",-1)])]),_:1}),s(e(me),null,{default:a(()=>[...i[1]||(i[1]=[o(" Riwayat pesanan dan status pengiriman ",-1)])]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[l.orders.length>0?(r(),f("div",$n,[(r(!0),f(Q,null,se(l.orders,p=>(r(),T(wn,{key:p.id,order:p},null,8,["order"]))),128))])):(r(),f("div",Pn,[s(e(je),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),i[3]||(i[3]=t("p",{class:"text-muted-foreground mb-4"},"Belum ada pesanan",-1)),s(e(Gt),{href:"/beranda"},{default:a(()=>[s(e(F),null,{default:a(()=>[...i[2]||(i[2]=[o(" Mulai Belanja ",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),Sn={class:"text-center"},Tn={class:"text-4xl font-bold text-primary mb-4"},jn={class:"flex gap-3 justify-center"},Mn=X({__name:"WalletBalance",props:{balance:{}},emits:["topup","withdrawal"],setup(l,{emit:u}){const i=u,{formatCurrency:p}=$e();return(h,m)=>(r(),T(e(O),null,{default:a(()=>[s(e(q),{class:"pt-6"},{default:a(()=>[t("div",Sn,[m[4]||(m[4]=t("p",{class:"text-sm text-muted-foreground mb-2"},"Saldo E-Wallet",-1)),t("p",Tn,n(e(p)(l.balance)),1),t("div",jn,[s(e(F),{onClick:m[0]||(m[0]=c=>i("topup")),size:"sm"},{default:a(()=>[s(e(gt),{class:"w-4 h-4 mr-2"}),m[2]||(m[2]=o(" Top Up ",-1))]),_:1}),s(e(F),{onClick:m[1]||(m[1]=c=>i("withdrawal")),variant:"outline",size:"sm"},{default:a(()=>[s(e(vt),{class:"w-4 h-4 mr-2"}),m[3]||(m[3]=o(" Tarik Dana ",-1))]),_:1})])])]),_:1})]),_:1}))}}),Rn={class:"space-y-2"},Dn={class:"relative"},An={key:0,class:"text-sm text-red-500"},Ln={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-lg"},Bn={class:"flex items-start gap-3"},Vn={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},In={class:"flex items-start gap-3"},En={class:"flex items-center justify-end gap-3"},Un={key:0},Fn={key:1},Kn={key:2},Nn={key:3},zn=X({__name:"WalletTopupForm",emits:["cancel"],setup(l,{emit:u}){const i=u,p=ke({amount:"",payment_method:"midtrans"}),h=D(!1),m=D(!1);Fe(()=>{if(window.snap){h.value=!0;return}if(typeof window>"u")return;const x=()=>{window.snap&&(h.value=!0,m.value=!1,console.log("Midtrans Snap loaded (event)."))};window.addEventListener("midtrans:snap:loaded",x,{once:!0}),setTimeout(()=>{h.value||(window.snap?(h.value=!0,console.log("Midtrans Snap loaded (fallback).")):(m.value=!0,console.error("Failed to load Midtrans Snap (timeout).")))},5e3)});const c=x=>{if(!window.snap){console.error("Snap not available"),alert("Pembayaran tidak dapat diproses. Silakan refresh halaman dan coba lagi."),i("cancel");return}try{window.snap.pay(x,{onSuccess:function($){console.log("Payment success:",$),j.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function($){console.log("Payment pending:",$),j.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function($){console.error("Payment error (Midtrans):",$),j.error("Pembayaran gagal.");try{console.log("Midtrans raw error JSON:",JSON.stringify($,null,2))}catch{}const v=$?.status_message||$?.status_code||"Terjadi kesalahan pembayaran.",g=$?.status_code==="505"?`
Catatan: Sandbox sering menolak VA dengan nominal rendah (coba >= 15000 atau metode lain).`:"";if($?.status_code==="505"){alert("Midtrans Error: "+v+g+`
Sandbox akan otomatis mencoba QRIS.`),R("qris");return}alert("Midtrans Error: "+v+`
Silakan coba metode lain atau refresh.`),i("cancel")},onClose:function(){console.log("Payment modal closed"),j("Pembayaran ditutup sebelum selesai."),i("cancel")}})}catch($){console.error("Error opening Snap modal:",$),alert("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),j.error("Terjadi kesalahan saat membuka pembayaran. Silakan coba lagi."),i("cancel")}},k=async()=>{if(!p.processing){if(!h.value||!window.snap){j.error("Sistem pembayaran belum siap. Silakan tunggu beberapa saat atau refresh halaman.");return}try{p.processing=!0;const $=(await le.post("/client/wallet/topup",{amount:p.amount,payment_method:p.payment_method})).data,v=$.snap_token;if($.success===!1&&$.message){j.error($.message),p.processing=!1;return}v&&typeof v=="string"&&v.trim()!==""?(p.reset(),p.processing=!1,setTimeout(()=>{c(v)},100)):(p.processing=!1,console.error("Invalid snap token:",v),console.error("Full response:",$),j.error("Gagal mendapatkan token pembayaran. Silakan coba lagi."),p.reset(),i("cancel"))}catch(x){if(p.processing=!1,console.error("Form submission error:",x),j.error("Terjadi kesalahan saat mengirim formulir."),x.response?.status===422&&x.response?.data?.errors){const $=x.response.data.errors,v=Object.values($)[0],g=Array.isArray(v)?v[0]:v;j.error(g)}else{const $=x.response?.data?.message||x.message||"Terjadi kesalahan. Silakan coba lagi.";j.error($)}p.reset()}}},R=async x=>{if(!p.processing){if(!h.value||!window.snap){alert("Sistem pembayaran belum siap untuk retry.");return}try{p.processing=!0;const v=(await le.post("/client/wallet/topup",{amount:p.amount||"20000",payment_method:p.payment_method,force_payment:x})).data,g=v.snap_token;if(!v.success||!g){j.error(v.message||"Retry gagal mendapatkan token."),p.processing=!1;return}p.processing=!1,j.success("Metode dialihkan ke "+x.toUpperCase()+". Silakan lanjutkan pembayaran."),c(g)}catch($){p.processing=!1,j.error($?.response?.data?.message||$.message||"Retry gagal.")}}};return(x,$)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(Z),null,{default:a(()=>[...$[2]||($[2]=[o("Top Up E-Wallet",-1)])]),_:1}),s(e(me),null,{default:a(()=>[...$[3]||($[3]=[o(" Isi saldo e-wallet Anda melalui Midtrans ",-1)])]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("form",{onSubmit:Ue(k,["prevent"]),class:"space-y-6"},[t("div",Rn,[s(e(z),{for:"topup_amount"},{default:a(()=>[...$[4]||($[4]=[o(" Jumlah Top Up ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Dn,[s(e(he),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"topup_amount",modelValue:e(p).amount,"onUpdate:modelValue":$[0]||($[0]=v=>e(p).amount=v),type:"number",placeholder:"Minimal Rp 10.000",class:"pl-10",min:"10000",max:"10000000",required:""},null,8,["modelValue"])]),$[5]||($[5]=t("p",{class:"text-xs text-muted-foreground"}," Minimum Rp 10.000 - Maximum Rp 10.000.000. Disarankan >= Rp 15.000 untuk Virtual Account agar tidak ditolak (505). ",-1)),e(p).errors.amount?(r(),f("p",An,n(e(p).errors.amount),1)):w("",!0)]),t("div",Ln,[t("div",Bn,[s(e(he),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),$[6]||($[6]=t("div",null,[t("p",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"}," Pembayaran via Midtrans "),t("p",{class:"text-xs text-blue-700 dark:text-blue-300 mt-1"}," Anda akan diarahkan ke halaman pembayaran Midtrans untuk menyelesaikan transaksi ")],-1))])]),m.value?(r(),f("div",Vn,[t("div",In,[s(e(we),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),$[7]||($[7]=t("div",null,[t("p",{class:"text-sm font-semibold text-red-900 dark:text-red-100"}," Sistem Pembayaran Belum Siap "),t("p",{class:"text-xs text-red-700 dark:text-red-300 mt-1"}," Silakan refresh halaman untuk memuat ulang sistem pembayaran. ")],-1))])])):w("",!0),t("div",En,[s(e(F),{type:"button",variant:"outline",onClick:$[1]||($[1]=v=>{e(p).reset(),i("cancel")}),disabled:e(p).processing},{default:a(()=>[...$[8]||($[8]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"submit",disabled:e(p).processing||m.value||!h.value},{default:a(()=>[e(p).processing?(r(),f("span",Un,"Memproses...")):!h.value&&!m.value?(r(),f("span",Fn,"Memuat sistem pembayaran...")):m.value?(r(),f("span",Kn,"Sistem pembayaran error")):(r(),f("span",Nn,"Lanjut ke Pembayaran"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),On={class:"space-y-2"},qn={class:"relative"},Gn={class:"text-xs text-muted-foreground"},Qn={key:0,class:"text-sm text-red-500"},Wn={class:"space-y-4"},Hn={class:"space-y-2"},Jn={key:0,class:"text-sm text-red-500"},Zn={class:"space-y-2"},Xn={key:0,class:"text-sm text-red-500"},Yn={class:"space-y-2"},er={key:0,class:"text-sm text-red-500"},tr={class:"flex items-center justify-end gap-3"},sr=X({__name:"WalletWithdrawalForm",props:{maxAmount:{}},emits:["cancel"],setup(l,{emit:u}){const i=u,p=ke({amount:"",bank_name:"",bank_account:"",bank_holder:""}),h=()=>{p.post("/client/wallet/withdrawal",{preserveScroll:!0,onSuccess:()=>{p.reset(),i("cancel"),j.success("Permintaan penarikan berhasil diajukan.")}})};return(m,c)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(Z),null,{default:a(()=>[...c[5]||(c[5]=[o("Tarik Dana E-Wallet",-1)])]),_:1}),s(e(me),null,{default:a(()=>[...c[6]||(c[6]=[o(" Tarik saldo ke rekening bank Anda ",-1)])]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("form",{onSubmit:Ue(h,["prevent"]),class:"space-y-6"},[t("div",On,[s(e(z),{for:"withdrawal_amount"},{default:a(()=>[...c[7]||(c[7]=[o(" Jumlah Penarikan ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",qn,[s(e(he),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"withdrawal_amount",modelValue:e(p).amount,"onUpdate:modelValue":c[0]||(c[0]=k=>e(p).amount=k),type:"number",placeholder:"Minimal Rp 50.000",class:"pl-10",min:"50000",max:l.maxAmount,required:""},null,8,["modelValue","max"])]),t("p",Gn," Minimum Rp 50.000 - Maksimal Rp "+n(l.maxAmount.toLocaleString("id-ID")),1),e(p).errors.amount?(r(),f("p",Qn,n(e(p).errors.amount),1)):w("",!0)]),s(e(re)),t("div",Wn,[c[11]||(c[11]=t("h4",{class:"font-semibold"},"Informasi Rekening",-1)),t("div",Hn,[s(e(z),{for:"bank_name"},{default:a(()=>[...c[8]||(c[8]=[o(" Nama Bank ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Y),{id:"bank_name",modelValue:e(p).bank_name,"onUpdate:modelValue":c[1]||(c[1]=k=>e(p).bank_name=k),type:"text",placeholder:"e.g., BCA, Mandiri, BNI",required:""},null,8,["modelValue"]),e(p).errors.bank_name?(r(),f("p",Jn,n(e(p).errors.bank_name),1)):w("",!0)]),t("div",Zn,[s(e(z),{for:"bank_account"},{default:a(()=>[...c[9]||(c[9]=[o(" Nomor Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Y),{id:"bank_account",modelValue:e(p).bank_account,"onUpdate:modelValue":c[2]||(c[2]=k=>e(p).bank_account=k),type:"text",placeholder:"Nomor rekening bank",required:""},null,8,["modelValue"]),e(p).errors.bank_account?(r(),f("p",Xn,n(e(p).errors.bank_account),1)):w("",!0)]),t("div",Yn,[s(e(z),{for:"bank_holder"},{default:a(()=>[...c[10]||(c[10]=[o(" Nama Pemilik Rekening ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),s(e(Y),{id:"bank_holder",modelValue:e(p).bank_holder,"onUpdate:modelValue":c[3]||(c[3]=k=>e(p).bank_holder=k),type:"text",placeholder:"Nama sesuai rekening bank",required:""},null,8,["modelValue"]),e(p).errors.bank_holder?(r(),f("p",er,n(e(p).errors.bank_holder),1)):w("",!0)])]),c[13]||(c[13]=t("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900 rounded-lg"},[t("p",{class:"text-sm text-amber-700 dark:text-amber-300"},[t("strong",null,"Catatan:"),o(" Penarikan akan diproses dalam 1-3 hari kerja. Pastikan data rekening sudah benar. ")])],-1)),t("div",tr,[s(e(F),{type:"button",variant:"outline",onClick:c[4]||(c[4]=k=>{e(p).reset(),i("cancel")}),disabled:e(p).processing},{default:a(()=>[...c[12]||(c[12]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"submit",disabled:e(p).processing},{default:a(()=>[o(n(e(p).processing?"Memproses...":"Ajukan Penarikan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),ar={class:"p-3 border rounded-lg"},lr={class:"flex items-center justify-between"},nr={class:"flex items-center gap-3"},rr={class:"font-semibold text-sm"},or={class:"text-xs text-muted-foreground"},ir={class:"text-xs text-muted-foreground"},dr={class:"text-right"},ur={key:0,class:"mt-3 pt-3 border-t"},mr={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"},cr={class:"flex gap-2"},pr=X({__name:"WalletTransactionCard",props:{transaction:{}},emits:["continue-payment","status-updated"],setup(l,{emit:u}){const i=l,p=u,{formatCurrency:h,formatDate:m,getTransactionTypeLabel:c,getTransactionStatusLabel:k}=$e(),R=D(!1),x=D(i.transaction.status),$=async v=>{if(!R.value){R.value=!0;try{const g=await le.post("/client/wallet/check-status",{transaction_ref:v});g.data.success?(x.value=g.data.status,p("status-updated",{transactionRef:v,status:g.data.status,newBalance:g.data.new_balance}),j.success(g.data.message),setTimeout(()=>{ie.reload({only:["customer","transactions"]})},500)):j.error(g.data.message)}catch(g){console.error("Check status error:",g),j.error(g.response?.data?.message||"Gagal memeriksa status pembayaran")}finally{R.value=!1}}};return(v,g)=>(r(),f("div",ar,[t("div",lr,[t("div",nr,[t("div",{class:W(["p-2 rounded-full",{"bg-emerald-100 dark:bg-emerald-900/20":l.transaction.type==="topup"||l.transaction.type==="bonus","bg-red-100 dark:bg-red-900/20":l.transaction.type==="withdrawal"||l.transaction.type==="purchase","bg-blue-100 dark:bg-blue-900/20":l.transaction.type==="refund"}])},[l.transaction.type==="topup"||l.transaction.type==="bonus"||l.transaction.type==="refund"?(r(),T(e(gt),{key:0,class:W(["w-4 h-4",{"text-emerald-600 dark:text-emerald-400":l.transaction.type==="topup"||l.transaction.type==="bonus","text-blue-600 dark:text-blue-400":l.transaction.type==="refund"}])},null,8,["class"])):(r(),T(e(vt),{key:1,class:"w-4 h-4 text-red-600 dark:text-red-400"}))],2),t("div",null,[t("p",rr,n(e(c)(l.transaction.type)),1),t("p",or,n(l.transaction.transaction_ref),1),t("p",ir,n(e(m)(l.transaction.created_at)),1)])]),t("div",dr,[t("p",{class:W(["font-bold",{"text-emerald-600 dark:text-emerald-400":l.transaction.type==="topup"||l.transaction.type==="bonus"||l.transaction.type==="refund","text-red-600 dark:text-red-400":l.transaction.type==="withdrawal"||l.transaction.type==="purchase"}])},n(l.transaction.type==="topup"||l.transaction.type==="bonus"||l.transaction.type==="refund"?"+":"-")+" "+n(e(h)(l.transaction.amount)),3),s(e(E),{variant:"secondary",class:W({"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-100":x.value==="pending","bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-100":x.value==="completed","bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-100":x.value==="failed"||x.value==="cancelled"})},{default:a(()=>[o(n(e(k)(x.value)),1)]),_:1},8,["class"])])]),l.transaction.type==="topup"&&x.value==="pending"&&l.transaction.midtrans_transaction_id?(r(),f("div",ur,[t("div",mr,[g[4]||(g[4]=t("p",{class:"text-xs text-muted-foreground"}," Pembayaran menunggu konfirmasi ",-1)),t("div",cr,[s(e(F),{size:"sm",variant:"outline",disabled:R.value,onClick:g[0]||(g[0]=d=>$(l.transaction.transaction_ref)),class:"shrink-0"},{default:a(()=>[s(e(xt),{class:W(["w-3 h-3 mr-1",{"animate-spin":R.value}])},null,8,["class"]),g[2]||(g[2]=o(" Cek Status ",-1))]),_:1},8,["disabled"]),s(e(F),{size:"sm",onClick:g[1]||(g[1]=d=>p("continue-payment",l.transaction.midtrans_transaction_id)),class:"shrink-0"},{default:a(()=>[s(e(he),{class:"w-3 h-3 mr-1"}),g[3]||(g[3]=o(" Lanjutkan Pembayaran ",-1))]),_:1})])])])):w("",!0)]))}}),fr={key:0,class:"space-y-3"},xr={key:1,class:"py-12 text-center"},gr=X({__name:"WalletTransactionList",props:{transactions:{}},setup(l){const u=nt(),i=K(()=>u.props.customer),p=m=>{typeof window>"u"||(window.snap?window.snap.pay(m,{onSuccess:function(c){console.log("Payment success:",c),j.success("Pembayaran berhasil."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onPending:function(c){console.log("Payment pending:",c),j.info("Pembayaran sedang diproses."),typeof window<"u"&&(window.location.href="/client/profile?tab=wallet")},onError:function(c){j.error("Pembayaran gagal."),console.error("Payment error:",c)},onClose:function(){j("Pembayaran ditutup sebelum selesai."),console.log("Payment modal closed")}}):alert("Midtrans Snap belum siap. Silakan refresh halaman."))},h=m=>{m.newBalance!==void 0&&i.value&&(i.value.ewallet_saldo=m.newBalance)};return(m,c)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(Z),null,{default:a(()=>[...c[0]||(c[0]=[o("Riwayat Transaksi",-1)])]),_:1}),s(e(me),null,{default:a(()=>[o(n(l.transactions.length)+" transaksi e-wallet terbaru ",1)]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[l.transactions.length>0?(r(),f("div",fr,[(r(!0),f(Q,null,se(l.transactions,k=>(r(),T(pr,{key:k.id,transaction:k,onContinuePayment:p,onStatusUpdated:h},null,8,["transaction"]))),128))])):(r(),f("div",xr,[s(e(Se),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),c[1]||(c[1]=t("p",{class:"text-muted-foreground"},"Belum ada transaksi",-1))]))]),_:1})]),_:1}))}}),vr={class:"flex-1"},yr={key:0,class:"text-xs mt-1 text-gray-700 dark:text-gray-300"},br={class:"font-mono"},_r={class:"uppercase"},hr=["disabled"],kr={key:1,class:"border border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 text-xs text-amber-800 dark:text-amber-200"},wr=X({__name:"WalletStatusBanner",props:{initialTransactions:{}},setup(l){const u=l,i=D(!1),p=D(null),h=D(null),m=K(()=>{const x=h.value?.status||"";return x==="completed"||x==="success"?{tone:"success",title:"Top up berhasil",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900",text:"text-green-800 dark:text-green-200"}:x==="pending"?{tone:"pending",title:"Menunggu pembayaran",bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-900",text:"text-yellow-800 dark:text-yellow-200"}:x==="cancelled"||x==="failed"||x==="expire"||x==="denied"||x==="deny"?{tone:"failed",title:"Pembayaran gagal / dibatalkan",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-900",text:"text-red-800 dark:text-red-200"}:{tone:"info",title:"Status transaksi",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900",text:"text-blue-800 dark:text-blue-200"}});function c(x,$=2){const v=new Date(x).getTime();return(Date.now()-v)/36e5<=$}const k=K(()=>{if(!h.value)return!1;const x=h.value.status;return x==="pending"?!0:x==="completed"||x==="success"?c(h.value.created_at,2):c(h.value.created_at,6)});async function R(){try{i.value=!0,p.value=null;const{data:x}=await le.get("/client/wallet/history",{params:{type:"topup"}}),$=Array.isArray(x?.data)?x.data:Array.isArray(x)?x:[];$.length>0&&(h.value=$[0])}catch(x){p.value=x?.response?.data?.message||x?.message||"Gagal memuat status transaksi."}finally{i.value=!1}}return Fe(()=>{u.initialTransactions&&u.initialTransactions.length>0&&(h.value=u.initialTransactions[0]),R()}),(x,$)=>k.value?(r(),f("div",{key:0,class:W(["border rounded-lg p-4 flex items-start gap-3",m.value.border,m.value.bg])},[t("div",vr,[t("p",{class:W(["text-sm font-semibold",m.value.text])},n(m.value.title),3),h.value?(r(),f("p",yr,[$[0]||($[0]=o(" Ref: ",-1)),t("span",br,n(h.value.transaction_ref),1),o("  Jumlah: Rp "+n(new Intl.NumberFormat("id-ID").format(h.value.amount))+"  Status: ",1),t("span",_r,n(h.value.status),1)])):w("",!0)]),t("button",{type:"button",class:"text-xs underline text-gray-700 dark:text-gray-300",onClick:R,disabled:i.value},n(i.value?"Menyegarkan...":"Segarkan"),9,hr)],2)):p.value?(r(),f("div",kr,n(p.value),1)):w("",!0)}}),$r={class:"space-y-6"},Pr=X({__name:"WalletTab",props:{customer:{},transactions:{}},setup(l){const u=D("wallet");return(i,p)=>(r(),f("div",$r,[s(Mn,{balance:Number(l.customer.ewallet_saldo)||0,onTopup:p[0]||(p[0]=h=>u.value="wallet-topup"),onWithdrawal:p[1]||(p[1]=h=>u.value="wallet-withdrawal")},null,8,["balance"]),u.value==="wallet"?(r(),T(wr,{key:0,"initial-transactions":l.transactions},null,8,["initial-transactions"])):w("",!0),u.value==="wallet-topup"?(r(),T(zn,{key:1,onCancel:p[2]||(p[2]=h=>u.value="wallet")})):w("",!0),u.value==="wallet-withdrawal"?(r(),T(sr,{key:2,"max-amount":Number(l.customer.ewallet_saldo)||0,onCancel:p[3]||(p[3]=h=>u.value="wallet")},null,8,["max-amount"])):w("",!0),u.value==="wallet"?(r(),T(gr,{key:3,transactions:l.transactions},null,8,["transactions"])):w("",!0)]))}}),Cr={class:"space-y-2"},Sr={class:"relative"},Tr={key:0,class:"text-sm text-red-500"},jr={class:"space-y-2"},Mr={class:"relative"},Rr={key:0,class:"text-sm text-red-500"},Dr={class:"space-y-2"},Ar={class:"relative"},Lr={class:"flex items-center justify-end gap-3"},Br=X({__name:"SecurityTab",setup(l){const u=ke({current_password:"",password:"",password_confirmation:""}),i=D(!1),p=D(!1),h=D(!1),m=()=>{u.patch("/client/profile/password",{preserveScroll:!0,onSuccess:()=>{u.reset(),i.value=!1,p.value=!1,h.value=!1,j.success("Password berhasil diubah")}})};return(c,k)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(Z),null,{default:a(()=>[...k[7]||(k[7]=[o("Ubah Password",-1)])]),_:1}),s(e(me),null,{default:a(()=>[...k[8]||(k[8]=[o(" Pastikan akun Anda menggunakan password yang kuat ",-1)])]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("form",{onSubmit:Ue(m,["prevent"]),class:"space-y-6"},[t("div",Cr,[s(e(z),{for:"current_password"},{default:a(()=>[...k[9]||(k[9]=[o(" Password Saat Ini ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Sr,[s(e(Ze),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"current_password",modelValue:e(u).current_password,"onUpdate:modelValue":k[0]||(k[0]=R=>e(u).current_password=R),type:i.value?"text":"password",placeholder:"Masukkan password saat ini",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:k[1]||(k[1]=R=>i.value=!i.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[i.value?(r(),T(e(ze),{key:1,class:"h-4 w-4"})):(r(),T(e(Ne),{key:0,class:"h-4 w-4"}))])]),e(u).errors.current_password?(r(),f("p",Tr,n(e(u).errors.current_password),1)):w("",!0)]),s(e(re)),t("div",jr,[s(e(z),{for:"password"},{default:a(()=>[...k[10]||(k[10]=[o(" Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Mr,[s(e(mt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"password",modelValue:e(u).password,"onUpdate:modelValue":k[2]||(k[2]=R=>e(u).password=R),type:p.value?"text":"password",placeholder:"Masukkan password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:k[3]||(k[3]=R=>p.value=!p.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[p.value?(r(),T(e(ze),{key:1,class:"h-4 w-4"})):(r(),T(e(Ne),{key:0,class:"h-4 w-4"}))])]),k[11]||(k[11]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimal 8 karakter ",-1)),e(u).errors.password?(r(),f("p",Rr,n(e(u).errors.password),1)):w("",!0)]),t("div",Dr,[s(e(z),{for:"password_confirmation"},{default:a(()=>[...k[12]||(k[12]=[o(" Konfirmasi Password Baru ",-1),t("span",{class:"text-red-500"},"*",-1)])]),_:1}),t("div",Ar,[s(e(mt),{class:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s(e(Y),{id:"password_confirmation",modelValue:e(u).password_confirmation,"onUpdate:modelValue":k[4]||(k[4]=R=>e(u).password_confirmation=R),type:h.value?"text":"password",placeholder:"Konfirmasi password baru",class:"pl-10 pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",onClick:k[5]||(k[5]=R=>h.value=!h.value),class:"absolute right-3 top-3 text-gray-400 hover:text-gray-600"},[h.value?(r(),T(e(ze),{key:1,class:"h-4 w-4"})):(r(),T(e(Ne),{key:0,class:"h-4 w-4"}))])])]),t("div",Lr,[s(e(F),{type:"button",variant:"outline",onClick:k[6]||(k[6]=R=>e(u).reset()),disabled:e(u).processing},{default:a(()=>[...k[13]||(k[13]=[o(" Reset ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"submit",disabled:e(u).processing},{default:a(()=>[e(u).processing?w("",!0):(r(),T(e(Ze),{key:0,class:"w-4 h-4 mr-2"})),o(" "+n(e(u).processing?"Mengupdate...":"Update Password"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}}),Vr={class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},Ir={class:"flex items-start gap-3"},Er={class:"flex-1"},Ur=X({__name:"DangerZoneTab",setup(l){const u=D(!1),i=ke({}),p=()=>{i.delete("/client/profile",{onFinish:()=>{u.value=!1}})};return(h,m)=>(r(),f(Q,null,[s(e(O),{class:"border-red-200 dark:border-red-900"},{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(Z),{class:"text-red-600 dark:text-red-400"},{default:a(()=>[...m[3]||(m[3]=[o("Zona Bahaya",-1)])]),_:1}),s(e(me),null,{default:a(()=>[...m[4]||(m[4]=[o(" Tindakan di bawah ini bersifat permanen dan tidak dapat dibatalkan ",-1)])]),_:1})]),_:1}),s(e(q),{class:"space-y-6"},{default:a(()=>[t("div",Vr,[t("div",Ir,[s(e(we),{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),t("div",Er,[m[6]||(m[6]=t("h3",{class:"font-semibold text-red-900 dark:text-red-100"}," Hapus Akun ",-1)),m[7]||(m[7]=t("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Setelah akun Anda dihapus, semua data akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1)),s(e(F),{type:"button",variant:"destructive",class:"mt-4",onClick:m[0]||(m[0]=c=>u.value=!0)},{default:a(()=>[s(e(He),{class:"w-4 h-4 mr-2"}),m[5]||(m[5]=o(" Hapus Akun Saya ",-1))]),_:1})])])])]),_:1})]),_:1}),s(e(Be),{open:u.value,"onUpdate:open":m[2]||(m[2]=c=>u.value=c)},{default:a(()=>[s(e(Re),null,{default:a(()=>[s(e(De),null,{default:a(()=>[s(e(Ae),{class:"flex items-center gap-2 text-red-600"},{default:a(()=>[s(e(we),{class:"w-5 h-5"}),m[8]||(m[8]=o(" Konfirmasi Hapus Akun ",-1))]),_:1}),s(e(Le),null,{default:a(()=>[...m[9]||(m[9]=[o(" Apakah Anda yakin ingin menghapus akun Anda? Tindakan ini tidak dapat dibatalkan dan semua data Anda akan dihapus secara permanen. ",-1)])]),_:1})]),_:1}),m[11]||(m[11]=t("div",{class:"py-4"},[t("div",{class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 rounded-lg"},[t("p",{class:"text-sm text-red-700 dark:text-red-300"},[t("strong",null,"Data yang akan dihapus:")]),t("ul",{class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside space-y-1"},[t("li",null,"Informasi profil dan akun"),t("li",null,"Riwayat transaksi"),t("li",null,"E-wallet dan saldo"),t("li",null,"Jaringan dan bonus")])])],-1)),s(e(Ve),null,{default:a(()=>[s(e(F),{type:"button",variant:"outline",onClick:m[1]||(m[1]=c=>u.value=!1),disabled:e(i).processing},{default:a(()=>[...m[10]||(m[10]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{type:"button",variant:"destructive",onClick:p,disabled:e(i).processing},{default:a(()=>[s(e(He),{class:"w-4 h-4 mr-2"}),o(" "+n(e(i).processing?"Menghapus...":"Ya, Hapus Akun"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Fr={key:0,class:"text-center py-12 text-muted-foreground"},Kr={class:"flex items-start justify-between"},Nr={class:"flex-1"},zr={class:"flex items-center gap-2 mb-2"},Or={class:"font-semibold text-lg"},qr={class:"space-y-1 text-sm text-muted-foreground"},Gr={key:0},Qr={key:1,class:"text-xs font-medium text-primary"},Wr={key:2,class:"text-xs"},Hr={class:"text-blue-600 dark:text-blue-400"},Jr={class:"text-green-600 dark:text-green-400"},Zr={class:"text-xs"},Xr={class:"text-xs font-medium text-green-600 dark:text-green-400"},Yr={class:"flex flex-col items-end gap-2"},eo={key:0,class:"text-center py-12 text-muted-foreground"},to={class:"flex items-start justify-between"},so={class:"flex-1"},ao={class:"flex items-center gap-2 mb-2"},lo={class:"font-semibold text-lg"},no={class:"space-y-1 text-sm text-muted-foreground"},ro={key:0},oo={key:1,class:"text-xs font-medium text-primary"},io={key:2,class:"text-xs"},uo={class:"text-blue-600 dark:text-blue-400"},mo={class:"text-green-600 dark:text-green-400"},co={class:"text-xs"},po={class:"text-xs font-medium text-orange-600 dark:text-orange-400"},fo={class:"flex flex-col items-end gap-2"},xo={key:0,class:"text-center py-12 text-muted-foreground"},go={class:"flex items-start justify-between"},vo={class:"flex-1"},yo={class:"flex items-center gap-2 mb-2"},bo={class:"font-semibold text-lg"},_o={class:"space-y-1 text-sm text-muted-foreground"},ho={key:0},ko={key:1,class:"text-xs font-medium text-primary"},wo={key:2,class:"text-xs"},$o={class:"text-blue-600 dark:text-blue-400"},Po={class:"text-green-600 dark:text-green-400"},Co={class:"text-xs"},So={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},To={class:"flex flex-col items-end gap-2"},jo={class:"font-semibold"},Mo={class:"grid grid-cols-2 gap-4 py-4"},Ro=["disabled"],Do={class:"text-xs text-muted-foreground mt-1"},Ao=["disabled"],Lo={class:"text-xs text-muted-foreground mt-1"},Bo=X({__name:"NetworkMembersTab",props:{activeMembers:{},passiveMembers:{},prospectMembers:{},hasLeft:{type:Boolean},hasRight:{type:Boolean}},setup(l){const u=D(!1),i=D(null),p=D(null),h=ke({member_id:0,position:""}),m=v=>{i.value=v,p.value=null,h.member_id=v.id,h.position="",u.value=!0},c=()=>{u.value=!1,i.value=null,p.value=null,h.reset()},k=()=>{if(!i.value||!p.value){j.error("Pilih posisi terlebih dahulu");return}h.position=p.value,h.post("/client/profile/place-member",{onSuccess:()=>{j.success(`${i.value?.name} berhasil ditempatkan di posisi ${p.value}`),c()},onError:v=>{const g=v.error||"Gagal menempatkan member ke binary tree";j.error(g)}})},R=v=>new Date(v).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),x=v=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(v),$=v=>v?{variant:v==="left"?"default":"secondary",text:v==="left"?"Kiri":"Kanan"}:{variant:"outline",text:"Belum Ditempatkan"};return(v,g)=>(r(),f(Q,null,[s(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(Z),null,{default:a(()=>[...g[2]||(g[2]=[o("Jaringan Member",-1)])]),_:1}),s(e(me),null,{default:a(()=>[...g[3]||(g[3]=[o("Kelola dan lihat member dalam jaringan Anda",-1)])]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[s(e(at),{"default-value":"active",class:"w-full"},{default:a(()=>[s(e(lt),{class:"grid w-full grid-cols-3"},{default:a(()=>[s(e(ee),{value:"active"},{default:a(()=>[s(e(_e),{class:"w-4 h-4 mr-2"}),o(" Aktif ("+n(l.activeMembers.length)+") ",1)]),_:1}),s(e(ee),{value:"passive"},{default:a(()=>[s(e(Oe),{class:"w-4 h-4 mr-2"}),o(" Pasif ("+n(l.passiveMembers.length)+") ",1)]),_:1}),s(e(ee),{value:"prospect"},{default:a(()=>[s(e(Ie),{class:"w-4 h-4 mr-2"}),o(" Prospek ("+n(l.prospectMembers.length)+") ",1)]),_:1})]),_:1}),s(e(te),{value:"active",class:"space-y-4"},{default:a(()=>[l.activeMembers.length===0?(r(),f("div",Fr,[s(e(_e),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),g[4]||(g[4]=t("p",null,"Belum ada member aktif",-1)),g[5]||(g[5]=t("p",{class:"text-sm mt-2"},"Member aktif adalah member yang sudah ditempatkan di binary tree",-1))])):w("",!0),(r(!0),f(Q,null,se(l.activeMembers,d=>(r(),T(e(O),{key:d.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(q),{class:"p-4"},{default:a(()=>[t("div",Kr,[t("div",Nr,[t("div",zr,[t("h4",Or,n(d.name),1),s(e(E),{variant:$(d.position).variant},{default:a(()=>[o(n($(d.position).text),1)]),_:2},1032,["variant"]),d.level?(r(),T(e(E),{key:0,variant:"outline"},{default:a(()=>[o(" Level "+n(d.level),1)]),_:2},1024)):w("",!0)]),t("div",qr,[t("p",null,n(d.email),1),d.phone?(r(),f("p",Gr,n(d.phone),1)):w("",!0),d.package_name?(r(),f("p",Qr," Paket: "+n(d.package_name),1)):w("",!0),(d.total_left??0)>0||(d.total_right??0)>0?(r(),f("p",Wr,[t("span",Hr,"Kiri: "+n(d.total_left??0),1),g[6]||(g[6]=t("span",{class:"mx-1"},"|",-1)),t("span",Jr,"Kanan: "+n(d.total_right??0),1)])):w("",!0),t("p",Zr,"Bergabung: "+n(R(d.joined_at)),1),t("p",Xr," Omzet: "+n(x(d.omzet)),1)])]),t("div",Yr,[s(e(E),{variant:"default"},{default:a(()=>[s(e(_e),{class:"w-3 h-3 mr-1"}),g[7]||(g[7]=o(" Aktif ",-1))]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(te),{value:"passive",class:"space-y-4"},{default:a(()=>[l.passiveMembers.length===0?(r(),f("div",eo,[s(e(Oe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),g[8]||(g[8]=t("p",null,"Belum ada member pasif",-1)),g[9]||(g[9]=t("p",{class:"text-sm mt-2"},"Member pasif adalah member yang belum ditempatkan di binary tree tapi sudah memiliki pembelian/order",-1))])):w("",!0),(r(!0),f(Q,null,se(l.passiveMembers,d=>(r(),T(e(O),{key:d.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(q),{class:"p-4"},{default:a(()=>[t("div",to,[t("div",so,[t("div",ao,[t("h4",lo,n(d.name),1),s(e(E),{variant:"secondary"},{default:a(()=>[...g[10]||(g[10]=[o("Belum Ditempatkan",-1)])]),_:1})]),t("div",no,[t("p",null,n(d.email),1),d.phone?(r(),f("p",ro,n(d.phone),1)):w("",!0),d.package_name?(r(),f("p",oo," Paket: "+n(d.package_name),1)):w("",!0),(d.total_left??0)>0||(d.total_right??0)>0?(r(),f("p",io,[t("span",uo,"Kiri: "+n(d.total_left??0),1),g[11]||(g[11]=t("span",{class:"mx-1"},"|",-1)),t("span",mo,"Kanan: "+n(d.total_right??0),1)])):w("",!0),t("p",co,"Bergabung: "+n(R(d.joined_at)),1),t("p",po," Omzet: "+n(x(d.omzet)),1)])]),t("div",fo,[s(e(E),{variant:"outline"},{default:a(()=>[s(e(Oe),{class:"w-3 h-3 mr-1"}),g[12]||(g[12]=o(" Pasif ",-1))]),_:1}),s(e(E),{variant:"default"},{default:a(()=>[...g[13]||(g[13]=[o(" Sudah Belanja ",-1)])]),_:1}),!l.hasLeft||!l.hasRight?(r(),T(e(F),{key:0,size:"sm",variant:"default",class:"mt-2",onClick:L=>m(d)},{default:a(()=>[s(e(Te),{class:"w-3 h-3 mr-1"}),g[14]||(g[14]=o(" Tempatkan ke Binary ",-1))]),_:1},8,["onClick"])):w("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(e(te),{value:"prospect",class:"space-y-4"},{default:a(()=>[l.prospectMembers.length===0?(r(),f("div",xo,[s(e(Ie),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),g[15]||(g[15]=t("p",null,"Belum ada member prospek",-1)),g[16]||(g[16]=t("p",{class:"text-sm mt-2"},"Member prospek adalah member yang baru mendaftar, belum ditempatkan di binary tree dan belum memiliki pembelian/order",-1))])):w("",!0),(r(!0),f(Q,null,se(l.prospectMembers,d=>(r(),T(e(O),{key:d.id,class:"hover:shadow-md transition-shadow"},{default:a(()=>[s(e(q),{class:"p-4"},{default:a(()=>[t("div",go,[t("div",vo,[t("div",yo,[t("h4",bo,n(d.name),1),s(e(E),{variant:"outline"},{default:a(()=>[...g[17]||(g[17]=[o("Baru Bergabung",-1)])]),_:1})]),t("div",_o,[t("p",null,n(d.email),1),d.phone?(r(),f("p",ho,n(d.phone),1)):w("",!0),d.package_name?(r(),f("p",ko," Paket: "+n(d.package_name),1)):w("",!0),(d.total_left??0)>0||(d.total_right??0)>0?(r(),f("p",wo,[t("span",$o,"Kiri: "+n(d.total_left??0),1),g[18]||(g[18]=t("span",{class:"mx-1"},"|",-1)),t("span",Po,"Kanan: "+n(d.total_right??0),1)])):w("",!0),t("p",Co,"Bergabung: "+n(R(d.joined_at)),1),t("p",So," Omzet: "+n(x(d.omzet)),1)])]),t("div",To,[s(e(E),{variant:"secondary"},{default:a(()=>[s(e(Ie),{class:"w-3 h-3 mr-1"}),g[19]||(g[19]=o(" Prospek ",-1))]),_:1}),s(e(E),{variant:"secondary"},{default:a(()=>[...g[20]||(g[20]=[o(" Belum Belanja ",-1)])]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),s(e(Be),{open:u.value,"onUpdate:open":c},{default:a(()=>[s(e(Re),{class:"sm:max-w-md"},{default:a(()=>[s(e(De),null,{default:a(()=>[s(e(Ae),null,{default:a(()=>[...g[21]||(g[21]=[o("Tempatkan Member ke Binary Tree",-1)])]),_:1}),s(e(Le),null,{default:a(()=>[g[22]||(g[22]=o(" Pilih posisi untuk menempatkan ",-1)),t("span",jo,n(i.value?.name),1),g[23]||(g[23]=o(" di jaringan binary tree Anda. ",-1))]),_:1})]),_:1}),t("div",Mo,[t("button",{type:"button",disabled:l.hasLeft,class:W(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",l.hasLeft?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":p.value==="left"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:g[0]||(g[0]=d=>!l.hasLeft&&(p.value="left"))},[s(e(Te),{class:"w-8 h-8 mb-2 rotate-90"}),g[24]||(g[24]=t("span",{class:"font-semibold"},"Posisi Kiri",-1)),t("span",Do,n(l.hasLeft?"Sudah Terisi":"Left Position"),1)],10,Ro),t("button",{type:"button",disabled:l.hasRight,class:W(["flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",l.hasRight?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":p.value==="right"?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"]),onClick:g[1]||(g[1]=d=>!l.hasRight&&(p.value="right"))},[s(e(Te),{class:"w-8 h-8 mb-2 -rotate-90"}),g[25]||(g[25]=t("span",{class:"font-semibold"},"Posisi Kanan",-1)),t("span",Lo,n(l.hasRight?"Sudah Terisi":"Right Position"),1)],10,Ao)]),s(e(Ve),null,{default:a(()=>[s(e(F),{variant:"outline",onClick:c,disabled:e(h).processing},{default:a(()=>[...g[26]||(g[26]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{onClick:k,disabled:!p.value||e(h).processing},{default:a(()=>[o(n(e(h).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Vo=X({__name:"GoJSBinaryTree",props:{binaryTree:{},isDialog:{type:Boolean,default:!1}},setup(l,{expose:u}){let i=null;const p=l,h=D(null),m=D(!1);let c=null;const k=(d,L=null)=>{if(!d)return{nodes:[],links:[]};const M=[],B=[],N=(U,G,I)=>{const H=U.level<5,A={key:U.id,name:U.name,email:U.email,package:U.package_name||"Tidak ada paket",totalLeft:U.total_left||0,totalRight:U.total_right||0,position:I,isActive:U.status,hasLeft:!!U.left,hasRight:!!U.right,level:U.level,order:I==="left"?0:I==="right"?1:0};if(M.push(A),G!==null&&B.push({from:G,to:U.id,order:I==="left"?0:1}),!U.left&&U.status&&H){const _=-U.id*2;M.push({key:_,name:"+ Kiri",email:"",package:"",isPlaceholder:!0,parentId:U.id,placeholderPosition:"left",order:0}),B.push({from:U.id,to:_,order:0})}if(!U.right&&U.status&&H){const _=-U.id*2-1;M.push({key:_,name:"+ Kanan",email:"",package:"",isPlaceholder:!0,parentId:U.id,placeholderPosition:"right",order:1}),B.push({from:U.id,to:_,order:1})}U.left&&N(U.left,U.id,"left"),U.right&&N(U.right,U.id,"right")};return N(d,L,null),{nodes:M,links:B}},R=()=>{if(!h.value||!i)return;const d=i,L=d.GraphObject.make;c=L(d.Diagram,h.value,{"undoManager.isEnabled":!1,"animationManager.isEnabled":!0,initialAutoScale:d.AutoScale.Uniform,contentAlignment:d.Spot.Top,layout:L(d.TreeLayout,{angle:90,layerSpacing:50,nodeSpacing:20,arrangement:d.TreeArrangement.Horizontal,sorting:d.TreeSorting.Ascending,comparer:(M,B)=>{const N=M.node?.data?.order??0,U=B.node?.data?.order??0;return N-U}}),maxSelectionCount:1}),c.addDiagramListener("ObjectSingleClicked",M=>{const B=M.subject.part;if(B instanceof d.Node){const N=B.data;N?.isPlaceholder&&N?.parentId&&N?.placeholderPosition?window.dispatchEvent(new CustomEvent("gojs-open-placement",{detail:{uplineId:N.parentId,position:N.placeholderPosition}})):!N?.isPlaceholder&&N?.key&&window.dispatchEvent(new CustomEvent("gojs-member-click",{detail:{memberId:N.key}}))}}),c.nodeTemplate=L(d.Node,"Auto",{cursor:"pointer",selectionAdorned:!1},L(d.Shape,"RoundedRectangle",{fill:"white",stroke:"#e2e8f0",strokeWidth:2,parameter1:8},new d.Binding("fill","",M=>M.isPlaceholder?"#f8fafc":M.isActive?"#ffffff":"#fef3c7"),new d.Binding("stroke","",M=>M.isPlaceholder?"#cbd5e1":M.position==="left"?"#3b82f6":M.position==="right"?"#22c55e":"#6366f1"),new d.Binding("strokeWidth","",M=>M.isPlaceholder?1:2),new d.Binding("strokeDashArray","isPlaceholder",M=>M?[4,4]:null)),L(d.Panel,"Vertical",{margin:8,defaultAlignment:d.Spot.Left},L(d.TextBlock,{font:"bold 13px Inter, sans-serif",stroke:"#1e293b",maxSize:new d.Size(140,NaN),wrap:d.Wrap.Fit,textAlign:"center",alignment:d.Spot.Center},new d.Binding("text","name"),new d.Binding("stroke","isPlaceholder",M=>M?"#64748b":"#1e293b"),new d.Binding("font","isPlaceholder",M=>M?"12px Inter, sans-serif":"bold 13px Inter, sans-serif")),L(d.TextBlock,{font:"11px Inter, sans-serif",stroke:"#64748b",maxSize:new d.Size(140,NaN),wrap:d.Wrap.Fit,margin:new d.Margin(2,0,0,0),alignment:d.Spot.Center},new d.Binding("text","email"),new d.Binding("visible","isPlaceholder",M=>!M)),L(d.Panel,"Auto",{margin:new d.Margin(4,0,0,0),alignment:d.Spot.Center},new d.Binding("visible","isPlaceholder",M=>!M),L(d.Shape,"RoundedRectangle",{fill:"#eff6ff",stroke:"#bfdbfe",strokeWidth:1,parameter1:4}),L(d.TextBlock,{font:"10px Inter, sans-serif",stroke:"#1d4ed8",margin:new d.Margin(2,6,2,6)},new d.Binding("text","package"))),L(d.Panel,"Horizontal",{margin:new d.Margin(6,0,0,0),alignment:d.Spot.Center},new d.Binding("visible","isPlaceholder",M=>!M),L(d.Panel,"Horizontal",L(d.Shape,"Circle",{width:8,height:8,fill:"#3b82f6",stroke:null,margin:new d.Margin(0,4,0,0)}),L(d.TextBlock,{font:"10px Inter, sans-serif",stroke:"#64748b"},new d.Binding("text","totalLeft",M=>`L: ${M}`))),L(d.TextBlock," | ",{font:"10px Inter, sans-serif",stroke:"#cbd5e1"}),L(d.Panel,"Horizontal",L(d.Shape,"Circle",{width:8,height:8,fill:"#22c55e",stroke:null,margin:new d.Margin(0,4,0,0)}),L(d.TextBlock,{font:"10px Inter, sans-serif",stroke:"#64748b"},new d.Binding("text","totalRight",M=>`R: ${M}`)))))),c.linkTemplate=L(d.Link,{routing:d.Routing.Orthogonal,corner:10,selectable:!1},L(d.Shape,{strokeWidth:2,stroke:"#cbd5e1"})),x()},x=()=>{if(!c||!p.binaryTree||!i)return;const d=i,{nodes:L,links:M}=k(p.binaryTree);c.model=new d.GraphLinksModel(L,M),requestAnimationFrame(()=>{c&&c.zoomToFit()})},$=()=>{c&&c.commandHandler.increaseZoom()},v=()=>{c&&c.commandHandler.decreaseZoom()},g=()=>{c&&c.zoomToFit()};return Fe(async()=>{typeof window<"u"&&(i=await Qt(()=>import("./vendor-DaB_pQgP.js").then(d=>d.e8),__vite__mapDeps([0,1])),m.value=!0,setTimeout(()=>{R()},0))}),rt(()=>{c&&(c.removeDiagramListener("ObjectSingleClicked",()=>{}),c.clear(),c.div=null,c=null)}),u({zoomIn:$,zoomOut:v,resetZoom:g}),(d,L)=>m.value?(r(),f("div",{key:1,ref_key:"diagramDiv",ref:h,class:W(["w-full border rounded-lg bg-slate-50",l.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},null,2)):(r(),f("div",{key:0,class:W(["w-full border rounded-lg bg-slate-50 flex items-center justify-center",l.isDialog?"h-[350px] sm:h-[400px]":"h-[500px] sm:h-[600px]"])},[...L[0]||(L[0]=[t("div",{class:"text-center text-muted-foreground"},[t("div",{class:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-2"}),t("p",{class:"text-sm"},"Memuat diagram...")],-1)])],2))}}),oe=l=>({url:oe.url(l),method:"get"});oe.definition={methods:["get","head"],url:"/client/profile"};oe.url=l=>oe.definition.url+ce(l);oe.get=l=>({url:oe.url(l),method:"get"});oe.head=l=>({url:oe.url(l),method:"head"});const it=l=>({action:oe.url(l),method:"get"});it.get=l=>({action:oe.url(l),method:"get"});it.head=l=>({action:oe.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...l?.query??l?.mergeQuery??{}}}),method:"get"});oe.form=it;const pe=l=>({url:pe.url(l),method:"patch"});pe.definition={methods:["patch"],url:"/client/profile"};pe.url=l=>pe.definition.url+ce(l);pe.patch=l=>({url:pe.url(l),method:"patch"});const _t=l=>({action:pe.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});_t.patch=l=>({action:pe.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});pe.form=_t;const fe=l=>({url:fe.url(l),method:"patch"});fe.definition={methods:["patch"],url:"/client/profile/password"};fe.url=l=>fe.definition.url+ce(l);fe.patch=l=>({url:fe.url(l),method:"patch"});const ht=l=>({action:fe.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});ht.patch=l=>({action:fe.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...l?.query??l?.mergeQuery??{}}}),method:"post"});fe.form=ht;const xe=l=>({url:xe.url(l),method:"delete"});xe.definition={methods:["delete"],url:"/client/profile"};xe.url=l=>xe.definition.url+ce(l);xe.delete=l=>({url:xe.url(l),method:"delete"});const kt=l=>({action:xe.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...l?.query??l?.mergeQuery??{}}}),method:"post"});kt.delete=l=>({action:xe.url({[l?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...l?.query??l?.mergeQuery??{}}}),method:"post"});xe.form=kt;const ue=l=>({url:ue.url(l),method:"post"});ue.definition={methods:["post"],url:"/client/profile/place-member"};ue.url=l=>ue.definition.url+ce(l);ue.post=l=>({url:ue.url(l),method:"post"});const wt=l=>({action:ue.url(l),method:"post"});wt.post=l=>({action:ue.url(l),method:"post"});ue.form=wt;const ne=(l,u)=>({url:ne.url(l,u),method:"get"});ne.definition={methods:["get","head"],url:"/client/profile/member-tree/{memberId}"};ne.url=(l,u)=>{(typeof l=="string"||typeof l=="number")&&(l={memberId:l}),Array.isArray(l)&&(l={memberId:l[0]}),l=Ke(l);const i={memberId:l.memberId};return ne.definition.url.replace("{memberId}",i.memberId.toString()).replace(/\/+$/,"")+ce(u)};ne.get=(l,u)=>({url:ne.url(l,u),method:"get"});ne.head=(l,u)=>({url:ne.url(l,u),method:"head"});const dt=(l,u)=>({action:ne.url(l,u),method:"get"});dt.get=(l,u)=>({action:ne.url(l,u),method:"get"});dt.head=(l,u)=>({action:ne.url(l,{[u?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...u?.query??u?.mergeQuery??{}}}),method:"get"});ne.form=dt;const ge=l=>({url:ge.url(l),method:"post"});ge.definition={methods:["post"],url:"/client/profile/addresses"};ge.url=l=>ge.definition.url+ce(l);ge.post=l=>({url:ge.url(l),method:"post"});const $t=l=>({action:ge.url(l),method:"post"});$t.post=l=>({action:ge.url(l),method:"post"});ge.form=$t;const ve=(l,u)=>({url:ve.url(l,u),method:"put"});ve.definition={methods:["put"],url:"/client/profile/addresses/{address}"};ve.url=(l,u)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=Ke(l);const i={address:l.address};return ve.definition.url.replace("{address}",i.address.toString()).replace(/\/+$/,"")+ce(u)};ve.put=(l,u)=>({url:ve.url(l,u),method:"put"});const Pt=(l,u)=>({action:ve.url(l,{[u?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...u?.query??u?.mergeQuery??{}}}),method:"post"});Pt.put=(l,u)=>({action:ve.url(l,{[u?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...u?.query??u?.mergeQuery??{}}}),method:"post"});ve.form=Pt;const ye=(l,u)=>({url:ye.url(l,u),method:"delete"});ye.definition={methods:["delete"],url:"/client/profile/addresses/{address}"};ye.url=(l,u)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=Ke(l);const i={address:l.address};return ye.definition.url.replace("{address}",i.address.toString()).replace(/\/+$/,"")+ce(u)};ye.delete=(l,u)=>({url:ye.url(l,u),method:"delete"});const Ct=(l,u)=>({action:ye.url(l,{[u?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...u?.query??u?.mergeQuery??{}}}),method:"post"});Ct.delete=(l,u)=>({action:ye.url(l,{[u?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...u?.query??u?.mergeQuery??{}}}),method:"post"});ye.form=Ct;const be=(l,u)=>({url:be.url(l,u),method:"post"});be.definition={methods:["post"],url:"/client/profile/addresses/{address}/set-default"};be.url=(l,u)=>{(typeof l=="string"||typeof l=="number")&&(l={address:l}),Array.isArray(l)&&(l={address:l[0]}),l=Ke(l);const i={address:l.address};return be.definition.url.replace("{address}",i.address.toString()).replace(/\/+$/,"")+ce(u)};be.post=(l,u)=>({url:be.url(l,u),method:"post"});const St=(l,u)=>({action:be.url(l,u),method:"post"});St.post=(l,u)=>({action:be.url(l,u),method:"post"});be.form=St;const Io={class:"space-y-4 sm:space-y-6"},Eo={class:"grid grid-cols-3 gap-2 sm:gap-4"},Uo={class:"text-lg sm:text-2xl font-bold"},Fo={class:"text-lg sm:text-2xl font-bold text-blue-600"},Ko={class:"text-lg sm:text-2xl font-bold text-green-600"},No={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},zo={class:"flex items-center gap-2"},Oo={class:"flex items-center gap-1 sm:gap-2"},qo={class:"relative"},Go={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg"},Qo={class:"text-center"},Wo={key:2,class:"h-[400px] flex items-center justify-center text-muted-foreground"},Ho={class:"text-center"},Jo={class:"font-semibold"},Zo={class:"flex-1 overflow-y-auto py-2 sm:py-4"},Xo={key:0,class:"text-center py-8 sm:py-12 text-muted-foreground"},Yo={key:1,class:"space-y-2"},ei=["onClick"],ti={class:"flex items-start justify-between gap-2"},si={class:"flex-1 min-w-0"},ai={class:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1"},li={class:"font-semibold text-sm sm:text-base truncate"},ni={class:"space-y-0.5 text-xs sm:text-sm text-muted-foreground"},ri={class:"truncate"},oi={key:0,class:"truncate"},ii={class:"text-[10px] sm:text-xs"},di={key:0,class:"flex-shrink-0"},ui=X({__name:"BinaryTreeTab",props:{binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},passiveMembers:{}},setup(l){const u=l,i=D(null),p=D(!1),h=D(null),m=D(null),c=D(null),k=D(!1),R=D(!1),x=D(null),$=D(null),v=D({totalDownlines:0,totalLeft:0,totalRight:0}),g=K(()=>k.value?$.value:u.binaryTree),d=K(()=>k.value?v.value:{totalDownlines:u.totalDownlines,totalLeft:u.totalLeft,totalRight:u.totalRight}),L=D(0),M=K(()=>`tree-${L.value}`),B=ke({member_id:0,upline_id:null,position:""}),N=(ae,V)=>{h.value=ae,m.value=V,c.value=null,p.value=!0},U=()=>{p.value=!1,h.value=null,m.value=null,c.value=null},G=ae=>{c.value=ae},I=()=>{if(!c.value||!m.value){j.error("Pilih member terlebih dahulu");return}B.member_id=c.value.id,B.upline_id=h.value,B.position=m.value,ie.post(ue().url,{member_id:B.member_id,upline_id:B.upline_id,position:B.position},{preserveScroll:!0,onStart:()=>{B.processing=!0},onFinish:()=>{B.processing=!1},onSuccess:()=>{j.success(`${c.value?.name} berhasil ditempatkan di posisi ${m.value}`),U()},onError:ae=>{const V=ae.error||"Gagal menempatkan member ke binary tree";j.error(V)}})},H=ae=>new Date(ae).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),A=async ae=>{R.value=!0,k.value=!0;try{const V=await le.get(ne(ae).url);V.data.success?(x.value=V.data.data.member,$.value=V.data.data.tree,v.value={totalDownlines:V.data.data.totalDownlines,totalLeft:V.data.data.totalLeft,totalRight:V.data.data.totalRight},L.value++):(j.error("Gagal memuat data jaringan member"),_())}catch(V){j.error(V.response?.data?.message||"Gagal memuat data jaringan member"),_()}finally{R.value=!1}},_=()=>{k.value=!1,x.value=null,$.value=null,v.value={totalDownlines:0,totalLeft:0,totalRight:0}},b=()=>{i.value?.zoomIn()},P=()=>{i.value?.zoomOut()},y=()=>{i.value?.resetZoom()},C=ae=>{A(ae.detail.memberId)},S=ae=>{N(ae.detail.uplineId,ae.detail.position)};return Fe(()=>{window.addEventListener("gojs-member-click",C),window.addEventListener("gojs-open-placement",S)}),rt(()=>{window.removeEventListener("gojs-member-click",C),window.removeEventListener("gojs-open-placement",S)}),(ae,V)=>(r(),f(Q,null,[t("div",Io,[t("div",Eo,[s(e(O),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(Z),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...V[0]||(V[0]=[o("Total Jaringan",-1)])]),_:1}),s(e(Xe),{class:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"})]),_:1}),s(e(q),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Uo,n(d.value.totalDownlines),1),V[1]||(V[1]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member aktif di jaringan Anda",-1))]),_:1})]),_:1}),s(e(O),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(Z),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...V[2]||(V[2]=[o("Kaki Kiri",-1)])]),_:1}),s(e(ct),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 flex-shrink-0"})]),_:1}),s(e(q),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Fo,n(d.value.totalLeft),1),V[3]||(V[3]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kiri",-1))]),_:1})]),_:1}),s(e(O),{class:"p-0"},{default:a(()=>[s(e(J),{class:"flex flex-row items-center justify-between space-y-0 p-2 sm:p-4 pb-1 sm:pb-2"},{default:a(()=>[s(e(Z),{class:"text-[10px] sm:text-sm font-medium truncate"},{default:a(()=>[...V[4]||(V[4]=[o("Kaki Kanan",-1)])]),_:1}),s(e(ct),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"})]),_:1}),s(e(q),{class:"p-2 sm:p-4 pt-0 sm:pt-0"},{default:a(()=>[t("div",Ko,n(d.value.totalRight),1),V[5]||(V[5]=t("p",{class:"text-[8px] sm:text-xs text-muted-foreground hidden sm:block"},"Member di posisi kanan",-1))]),_:1})]),_:1})]),s(e(O),null,{default:a(()=>[s(e(J),{class:"p-3 sm:p-6"},{default:a(()=>[t("div",No,[t("div",zo,[k.value?(r(),T(e(F),{key:0,variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:_},{default:a(()=>[s(e(pt),{class:"h-4 w-4"})]),_:1})):w("",!0),t("div",null,[s(e(Z),{class:"text-sm sm:text-base flex items-center gap-2"},{default:a(()=>[k.value&&x.value?(r(),f(Q,{key:0},[o(" Jaringan "+n(x.value.name),1)],64)):(r(),f(Q,{key:1},[o(" Struktur Binary Tree ")],64))]),_:1}),s(e(me),{class:"text-xs sm:text-sm"},{default:a(()=>[k.value&&x.value?(r(),f(Q,{key:0},[o(n(x.value.email),1)],64)):(r(),f(Q,{key:1},[o(" Visualisasi jaringan MLM binary tree Anda ")],64))]),_:1})])]),t("div",Oo,[k.value?(r(),T(e(F),{key:0,variant:"outline",size:"sm",class:"h-7 sm:h-8 text-xs",onClick:_},{default:a(()=>[s(e(pt),{class:"h-3.5 w-3.5 mr-1"}),V[6]||(V[6]=t("span",{class:"hidden sm:inline"},"Kembali",-1))]),_:1})):w("",!0),s(e(F),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:P},{default:a(()=>[s(e(Wt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(F),{variant:"outline",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:b},{default:a(()=>[s(e(Ht),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1}),s(e(F),{variant:"ghost",size:"icon",class:"h-7 w-7 sm:h-8 sm:w-8",onClick:y,title:"Fit to Screen"},{default:a(()=>[s(e(Jt),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]),_:1})])])]),_:1}),s(e(q),{class:"p-2 sm:p-6 pt-0"},{default:a(()=>[t("div",qo,[R.value?(r(),f("div",Go,[t("div",Qo,[s(e(Ce),{class:"w-8 h-8 mx-auto mb-4 animate-spin text-primary"}),V[7]||(V[7]=t("p",{class:"text-sm text-muted-foreground"},"Memuat data jaringan...",-1))])])):w("",!0),g.value?(r(),T(Vo,{key:M.value,ref_key:"goJSTreeRef",ref:i,"binary-tree":g.value,"is-dialog":k.value},null,8,["binary-tree","is-dialog"])):(r(),f("div",Wo,[t("div",Ho,[s(e(Xe),{class:"w-12 h-12 mx-auto mb-4 opacity-20"}),V[8]||(V[8]=t("p",null,"Belum ada jaringan binary tree",-1))])]))]),V[9]||(V[9]=t("div",{class:"mt-4 sm:mt-6 p-2 sm:p-4 rounded-lg bg-muted/50"},[t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-center sm:text-left"},[t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[o("  "),t("span",{class:"hidden sm:inline"},'Klik member untuk melihat jaringannya  Klik "+" untuk menambah member'),t("span",{class:"sm:hidden"},"Klik member untuk lihat jaringan")]),t("p",{class:"text-[10px] sm:text-sm text-muted-foreground"},[t("span",{class:"hidden sm:inline"},"Scroll/drag untuk navigasi  Mouse wheel untuk zoom"),t("span",{class:"sm:hidden"},"Drag & Pinch untuk navigasi")])])],-1))]),_:1})]),_:1})]),s(e(Be),{open:p.value,"onUpdate:open":U},{default:a(()=>[s(e(Re),{class:"w-[95vw] max-w-2xl max-h-[85vh] overflow-hidden flex flex-col p-4 sm:p-6"},{default:a(()=>[s(e(De),{class:"space-y-1 sm:space-y-2"},{default:a(()=>[s(e(Ae),{class:"text-base sm:text-lg"},{default:a(()=>[...V[10]||(V[10]=[o("Pilih Member untuk Ditempatkan",-1)])]),_:1}),s(e(Le),{class:"text-xs sm:text-sm"},{default:a(()=>[V[11]||(V[11]=o(" Pilih member pasif untuk ditempatkan di posisi ",-1)),t("span",Jo,n(m.value==="left"?"Kiri":"Kanan"),1)]),_:1})]),_:1}),t("div",Zo,[l.passiveMembers.length===0?(r(),f("div",Xo,[s(e(Ie),{class:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4 opacity-20"}),V[12]||(V[12]=t("p",{class:"text-sm sm:text-base"},"Tidak ada member pasif",-1)),V[13]||(V[13]=t("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"Semua member sudah ditempatkan",-1))])):(r(),f("div",Yo,[(r(!0),f(Q,null,se(l.passiveMembers,de=>(r(),f("button",{key:de.id,type:"button",class:W(["w-full p-3 sm:p-4 rounded-lg border-2 text-left transition-all",c.value?.id===de.id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"]),onClick:xu=>G(de)},[t("div",ti,[t("div",si,[t("div",ai,[t("h4",li,n(de.name),1),de.has_purchase?(r(),T(e(E),{key:0,variant:"default",class:"text-[10px] sm:text-xs"},{default:a(()=>[...V[14]||(V[14]=[t("span",{class:"hidden sm:inline"},"Ada Pembelian",-1),t("span",{class:"sm:hidden"},"Beli",-1)])]),_:1})):(r(),T(e(E),{key:1,variant:"secondary",class:"text-[10px] sm:text-xs"},{default:a(()=>[...V[15]||(V[15]=[t("span",{class:"hidden sm:inline"},"Belum Belanja",-1),t("span",{class:"sm:hidden"},"Belum",-1)])]),_:1}))]),t("div",ni,[t("p",ri,n(de.email),1),de.phone?(r(),f("p",oi,n(de.phone),1)):w("",!0),t("p",ii,"Bergabung: "+n(H(de.joined_at)),1)])]),c.value?.id===de.id?(r(),f("div",di,[...V[16]||(V[16]=[t("div",{class:"flex h-5 w-5 sm:h-6 sm:w-6 items-center justify-center rounded-full bg-primary text-primary-foreground"},[t("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):w("",!0)])],10,ei))),128))]))]),s(e(Ve),{class:"flex-col-reverse sm:flex-row gap-2 sm:gap-0"},{default:a(()=>[s(e(F),{variant:"outline",onClick:U,disabled:e(B).processing,class:"w-full sm:w-auto"},{default:a(()=>[...V[17]||(V[17]=[o(" Batal ",-1)])]),_:1},8,["disabled"]),s(e(F),{onClick:I,disabled:!c.value||e(B).processing,class:"w-full sm:w-auto"},{default:a(()=>[o(n(e(B).processing?"Memproses...":"Tempatkan"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),mi={class:"space-y-4 sm:space-y-6"},ci={class:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},pi={class:"text-xl sm:text-2xl font-bold truncate"},fi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},xi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},gi={class:"text-xl sm:text-2xl font-bold truncate"},vi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},yi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},bi={class:"text-xl sm:text-2xl font-bold truncate"},_i={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},hi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},ki={class:"text-xl sm:text-2xl font-bold truncate"},wi={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},$i={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Pi={class:"text-xl sm:text-2xl font-bold truncate"},Ci={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Si={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Ti={class:"text-xl sm:text-2xl font-bold truncate"},ji={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Mi={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Ri={class:"text-xl sm:text-2xl font-bold truncate"},Di={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},Ai={class:"flex flex-col sm:flex-row gap-1 sm:gap-2 mt-2"},Li={class:"text-xl sm:text-2xl font-bold text-primary truncate"},Bi={class:"w-full text-center overflow-x-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] -mx-2 px-2 sm:mx-0 sm:px-0",style:{"-webkit-overflow-scrolling":"touch"}},Vi={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Ii={key:1,class:"space-y-1.5 sm:space-y-3"},Ei={class:"flex-1 min-w-0"},Ui={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Fi={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Ki={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Ni={key:0,class:"block sm:inline"},zi={class:"block sm:inline sm:ml-1"},Oi={class:"text-left sm:text-right flex-shrink-0"},qi={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Gi={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Qi={key:1,class:"space-y-1.5 sm:space-y-3"},Wi={class:"flex-1 min-w-0"},Hi={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Ji={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Zi={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Xi={key:0,class:"block sm:inline"},Yi={class:"block sm:inline sm:ml-2"},ed={class:"text-left sm:text-right flex-shrink-0"},td={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},sd={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},ad={key:1,class:"space-y-3"},ld={class:"flex-1 min-w-0"},nd={class:"flex flex-wrap items-center gap-2"},rd={class:"text-xs sm:text-sm font-medium break-words"},od={class:"text-[10px] sm:text-xs text-muted-foreground mt-1"},id={class:"text-left sm:text-right flex-shrink-0"},dd={class:"text-base sm:text-lg font-bold text-green-600"},ud={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},md={key:1,class:"space-y-1.5 sm:space-y-3"},cd={class:"flex-1 min-w-0"},pd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},fd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},xd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},gd={key:0,class:"block sm:inline"},vd={class:"block sm:inline sm:ml-1"},yd={class:"text-left sm:text-right flex-shrink-0"},bd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},_d={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},hd={key:1,class:"space-y-1.5 sm:space-y-3"},kd={class:"flex-1 min-w-0"},wd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},$d={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Pd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Cd={class:"text-left sm:text-right flex-shrink-0"},Sd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Td={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},jd={key:1,class:"space-y-1.5 sm:space-y-3"},Md={class:"flex-1 min-w-0"},Rd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Dd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},Ad={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Ld={key:0,class:"block sm:inline"},Bd={class:"block sm:inline sm:ml-1"},Vd={class:"text-left sm:text-right flex-shrink-0"},Id={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Ed={key:0,class:"text-center py-4 sm:py-8 text-muted-foreground text-[10px] sm:text-sm"},Ud={key:1,class:"space-y-1.5 sm:space-y-3"},Fd={class:"flex-1 min-w-0"},Kd={class:"flex flex-wrap items-center gap-1 sm:gap-2"},Nd={class:"text-[10px] sm:text-xs md:text-sm font-medium break-words line-clamp-1"},zd={class:"text-[8px] sm:text-[10px] md:text-xs text-muted-foreground mt-0.5"},Od={class:"block sm:inline"},qd={class:"block sm:inline sm:ml-1"},Gd={class:"text-left sm:text-right flex-shrink-0"},Qd={class:"text-xs sm:text-base md:text-lg font-bold text-green-600"},Wd=X({__name:"BonusTab",props:{bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{}},setup(l){const u=l,i=y=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(y),p=y=>new Date(y).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),h=K(()=>u.bonusSponsors.reduce((y,C)=>y+C.amount,0)),m=K(()=>u.bonusMatchings.reduce((y,C)=>y+C.amount,0)),c=K(()=>u.bonusPairings.reduce((y,C)=>y+C.amount,0)),k=K(()=>u.bonusCashbacks.reduce((y,C)=>y+C.amount,0)),R=K(()=>u.bonusRewards.reduce((y,C)=>y+C.amount,0)),x=K(()=>u.bonusSponsors.filter(y=>y.status===0).reduce((y,C)=>y+C.amount,0)),$=K(()=>u.bonusSponsors.filter(y=>y.status===1).reduce((y,C)=>y+C.amount,0)),v=K(()=>u.bonusMatchings.filter(y=>y.status===0).reduce((y,C)=>y+C.amount,0)),g=K(()=>u.bonusMatchings.filter(y=>y.status===1).reduce((y,C)=>y+C.amount,0)),d=K(()=>u.bonusPairings.filter(y=>y.status===0).reduce((y,C)=>y+C.amount,0)),L=K(()=>u.bonusPairings.filter(y=>y.status===1).reduce((y,C)=>y+C.amount,0)),M=K(()=>u.bonusCashbacks.filter(y=>y.status===0).reduce((y,C)=>y+C.amount,0)),B=K(()=>u.bonusCashbacks.filter(y=>y.status===1).reduce((y,C)=>y+C.amount,0)),N=K(()=>u.bonusRewards.filter(y=>y.status===0).reduce((y,C)=>y+C.amount,0)),U=K(()=>u.bonusRewards.filter(y=>y.status===1).reduce((y,C)=>y+C.amount,0)),G=K(()=>u.bonusRetails.reduce((y,C)=>y+C.amount,0)),I=K(()=>u.bonusRetails.filter(y=>y.status===0).reduce((y,C)=>y+C.amount,0)),H=K(()=>u.bonusRetails.filter(y=>y.status===1).reduce((y,C)=>y+C.amount,0)),A=K(()=>u.bonusLifetimeCashRewards.reduce((y,C)=>y+C.amount,0)),_=K(()=>u.bonusLifetimeCashRewards.filter(y=>y.status===0).reduce((y,C)=>y+C.amount,0)),b=K(()=>u.bonusLifetimeCashRewards.filter(y=>y.status===1).reduce((y,C)=>y+C.amount,0)),P=K(()=>h.value+m.value+c.value+k.value+R.value+G.value+A.value);return(y,C)=>(r(),f("div",mi,[t("div",ci,[s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Z),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Xe),{class:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),C[0]||(C[0]=t("span",{class:"truncate"},"Referral Incentive",-1))]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("div",pi,n(i(h.value)),1),t("p",fi,n(l.bonusSponsors.length)+" transaksi ",1),t("div",xi,[s(e(E),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(x.value)),1)]),_:1}),s(e(E),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i($.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Z),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Zt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"}),C[1]||(C[1]=t("span",{class:"truncate"},"Team Affiliate Commission",-1))]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("div",gi,n(i(m.value)),1),t("p",vi,n(l.bonusMatchings.length)+" transaksi ",1),t("div",yi,[s(e(E),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(v.value)),1)]),_:1}),s(e(E),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(g.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Z),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Xt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),C[2]||(C[2]=t("span",{class:"truncate"},"Partner Team Commission",-1))]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("div",bi,n(i(c.value)),1),t("p",_i,n(l.bonusPairings.length)+" transaksi ",1),t("div",hi,[s(e(E),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(d.value)),1)]),_:1}),s(e(E),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(L.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Z),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(Yt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-orange-500 flex-shrink-0"}),C[3]||(C[3]=t("span",{class:"truncate"},"Cashback Commission",-1))]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("div",ki,n(i(k.value)),1),t("p",wi,n(l.bonusCashbacks.length)+" transaksi ",1),t("div",$i,[s(e(E),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(M.value)),1)]),_:1}),s(e(E),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(B.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Z),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ft),{class:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 flex-shrink-0"}),C[4]||(C[4]=t("span",{class:"truncate"},"Promotions Rewards",-1))]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("div",Pi,n(i(R.value)),1),t("p",Ci,n(l.bonusRewards.length)+" transaksi ",1),t("div",Si,[s(e(E),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(N.value)),1)]),_:1}),s(e(E),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(U.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Z),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(es),{class:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-500 flex-shrink-0"}),C[5]||(C[5]=t("span",{class:"truncate"},"Retail Commission",-1))]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("div",Ti,n(i(G.value)),1),t("p",ji,n(l.bonusRetails.length)+" transaksi ",1),t("div",Mi,[s(e(E),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(I.value)),1)]),_:1}),s(e(E),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(H.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Z),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(ot),{class:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"}),C[6]||(C[6]=t("span",{class:"truncate"},"Lifetime Cash Rewards",-1))]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("div",Ri,n(i(A.value)),1),t("p",Di,n(l.bonusLifetimeCashRewards.length)+" transaksi ",1),t("div",Ai,[s(e(E),{variant:"outline",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Pending: "+n(i(_.value)),1)]),_:1}),s(e(E),{variant:"secondary",class:"text-[10px] sm:text-xs justify-center sm:justify-start"},{default:a(()=>[o(" Released: "+n(i(b.value)),1)]),_:1})])]),_:1})]),_:1}),s(e(O),null,{default:a(()=>[s(e(J),{class:"pb-2 sm:pb-3"},{default:a(()=>[s(e(Z),{class:"text-xs sm:text-sm font-medium flex items-center gap-2"},{default:a(()=>[s(e(yt),{class:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"}),C[7]||(C[7]=t("span",{class:"truncate"},"Total Bonus",-1))]),_:1})]),_:1}),s(e(q),null,{default:a(()=>[t("div",Li,n(i(P.value)),1),C[8]||(C[8]=t("p",{class:"text-[10px] sm:text-xs text-muted-foreground mt-1"}," Semua jenis bonus ",-1))]),_:1})]),_:1})]),s(e(O),null,{default:a(()=>[s(e(J),{class:"p-2 sm:p-4 md:p-6 pb-2"},{default:a(()=>[s(e(Z),{class:"text-xs sm:text-base md:text-lg"},{default:a(()=>[...C[9]||(C[9]=[o("Riwayat Bonus",-1)])]),_:1}),s(e(me),{class:"text-[9px] sm:text-xs md:text-sm"},{default:a(()=>[...C[10]||(C[10]=[o(" Detail transaksi bonus ",-1)])]),_:1})]),_:1}),s(e(q),{class:"p-2 sm:p-4 md:p-6 pt-0"},{default:a(()=>[s(e(at),{"default-value":"sponsor",class:"w-full"},{default:a(()=>[t("div",Bi,[s(e(lt),{class:"flex w-max sm:grid sm:w-full sm:grid-cols-7 gap-0.5 sm:gap-1 h-7 sm:h-auto bg-muted/30"},{default:a(()=>[s(e(ee),{value:"sponsor",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[11]||(C[11]=[o(" Referral ",-1)])]),_:1}),s(e(ee),{value:"matching",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[12]||(C[12]=[o(" Team Aff. ",-1)])]),_:1}),s(e(ee),{value:"pairing",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[13]||(C[13]=[o(" Partner ",-1)])]),_:1}),s(e(ee),{value:"cashback",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[14]||(C[14]=[o(" Cashback ",-1)])]),_:1}),s(e(ee),{value:"reward",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[15]||(C[15]=[o(" Rewards ",-1)])]),_:1}),s(e(ee),{value:"retail",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[16]||(C[16]=[o(" Retail ",-1)])]),_:1}),s(e(ee),{value:"lifetime",class:"text-[12px] sm:text-xs md:text-sm whitespace-nowrap px-1.5 sm:px-3 md:px-4 py-1 sm:py-2 h-6 sm:h-auto"},{default:a(()=>[...C[17]||(C[17]=[o(" Lifetime ",-1)])]),_:1})]),_:1})]),s(e(te),{value:"sponsor",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusSponsors.length===0?(r(),f("div",Vi," Belum ada bonus referral incentive ")):(r(),f("div",Ii,[(r(!0),f(Q,null,se(l.bonusSponsors,S=>(r(),f("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Ei,[t("div",Ui,[s(e(E),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",Fi,n(S.description||"Bonus Sponsor"),1)]),t("p",Ki,[S.from_member?(r(),f("span",Ni," Dari: "+n(S.from_member.name),1)):w("",!0),t("span",zi,n(p(S.created_at)),1)])]),t("div",Oi,[t("div",qi,n(i(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"matching",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusMatchings.length===0?(r(),f("div",Gi," Belum ada bonus team affiliate commission ")):(r(),f("div",Qi,[(r(!0),f(Q,null,se(l.bonusMatchings,S=>(r(),f("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Wi,[t("div",Hi,[s(e(E),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(E),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(" L"+n(S.level),1)]),_:2},1024),t("span",Ji,n(S.description||"Bonus Matching"),1)]),t("p",Zi,[S.from_member?(r(),f("span",Xi," Dari: "+n(S.from_member.name),1)):w("",!0),t("span",Yi,n(p(S.created_at)),1)])]),t("div",ed,[t("div",td,n(i(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"pairing",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusPairings.length===0?(r(),f("div",sd," Belum ada bonus partner team commission ")):(r(),f("div",ad,[(r(!0),f(Q,null,se(l.bonusPairings,S=>(r(),f("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",ld,[t("div",nd,[s(e(E),{variant:S.status===1?"secondary":"outline",class:"text-xs"},{default:a(()=>[o(n(S.status===1?"Released":"Pending"),1)]),_:2},1032,["variant"]),s(e(E),{variant:"outline",class:"text-xs"},{default:a(()=>[o(n(S.pair)+" Pairs ",1)]),_:2},1024),t("span",rd,n(S.description||"Bonus Pairing"),1)]),t("p",od,n(p(S.created_at)),1)]),t("div",id,[t("div",dd,n(i(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"cashback",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusCashbacks.length===0?(r(),f("div",ud," Belum ada bonus cashback commission ")):(r(),f("div",md,[(r(!0),f(Q,null,se(l.bonusCashbacks,S=>(r(),f("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",cd,[t("div",pd,[s(e(E),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),t("span",fd,n(S.description||"Bonus Cashback"),1)]),t("p",xd,[C[18]||(C[18]=o('eground mt-0.5"> ',-1)),S.order_id?(r(),f("span",gd," #"+n(S.order_id),1)):w("",!0),t("span",vd,n(p(S.created_at)),1)])]),t("div",yd,[t("div",bd,n(i(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"reward",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRewards.length===0?(r(),f("div",_d," Belum ada promotions rewards ")):(r(),f("div",hd,[(r(!0),f(Q,null,se(l.bonusRewards,S=>(r(),f("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",kd,[t("div",wd,[s(e(E),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),S.reward_type?(r(),T(e(E),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.reward_type),1)]),_:2},1024)):w("",!0),t("span",$d,n(S.description||"Promotions Reward"),1)]),t("p",Pd,n(p(S.created_at)),1)]),t("div",Cd,[t("div",Sd,n(i(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"retail",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusRetails.length===0?(r(),f("div",Td," Belum ada bonus retail commission ")):(r(),f("div",jd,[(r(!0),f(Q,null,se(l.bonusRetails,S=>(r(),f("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Md,[t("div",Rd,[s(e(E),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),S.index_value?(r(),T(e(E),{key:0,variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(" IDX: "+n(S.index_value),1)]),_:2},1024)):w("",!0),t("span",Dd,n(S.description||"Retail Commission"),1)]),t("p",Ad,[S.from_member?(r(),f("span",Ld," Dari: "+n(S.from_member.name),1)):w("",!0),t("span",Bd,n(p(S.created_at)),1)])]),t("div",Vd,[t("div",Id,n(i(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1}),s(e(te),{value:"lifetime",class:"mt-2 sm:mt-4"},{default:a(()=>[l.bonusLifetimeCashRewards.length===0?(r(),f("div",Ed," Belum ada lifetime cash rewards ")):(r(),f("div",Ud,[(r(!0),f(Q,null,se(l.bonusLifetimeCashRewards,S=>(r(),f("div",{key:S.id,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-3 p-2 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors"},[t("div",Fd,[t("div",Kd,[s(e(E),{variant:S.status===1?"secondary":"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.status===1?"R":"P"),1)]),_:2},1032,["variant"]),s(e(E),{variant:"outline",class:"text-[8px] sm:text-xs px-1 sm:px-2 py-0"},{default:a(()=>[o(n(S.reward_name),1)]),_:2},1024),t("span",Nd,n(S.description||"Lifetime Cash Reward"),1)]),t("p",zd,[t("span",Od," Reward: "+n(i(S.reward))+" | BV: "+n(S.bv),1),t("span",qd,n(p(S.created_at)),1)])]),t("div",Gd,[t("div",Qd,n(i(S.amount)),1),t("div",{class:W(["text-[8px] sm:text-xs",S.status===1?"text-green-600":"text-yellow-600"])},n(S.status===1?"Processed":"Pending"),3)])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Hd={class:"flex items-center justify-between"},Jd={class:"font-semibold"},Zd={class:"flex items-center justify-between"},Xd={class:"font-semibold"},Yd={class:"flex items-center justify-between"},eu=X({__name:"NetworkStatsCard",props:{customer:{}},setup(l){return(u,i)=>(r(),T(e(O),null,{default:a(()=>[s(e(J),null,{default:a(()=>[s(e(Z),{class:"flex items-center gap-2"},{default:a(()=>[s(e(bt),{class:"w-5 h-5"}),i[0]||(i[0]=o(" Statistik Jaringan ",-1))]),_:1})]),_:1}),s(e(q),{class:"space-y-3"},{default:a(()=>[t("div",Hd,[i[1]||(i[1]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kiri",-1)),t("span",Jd,n(l.customer.network_stats.left_count),1)]),s(e(re)),t("div",Zd,[i[2]||(i[2]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jaringan Kanan",-1)),t("span",Xd,n(l.customer.network_stats.right_count),1)]),s(e(re)),t("div",Yd,[i[3]||(i[3]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Downline",-1)),s(e(E),{variant:"secondary"},{default:a(()=>[o(n(l.customer.network_stats.total_downlines),1)]),_:1})])]),_:1})]),_:1}))}}),tu={class:"bg-gradient-to-br from-primary/10 via-primary/5 to-background border-b"},su={class:"container mx-auto px-3 py-6 sm:px-4 sm:py-12 max-w-7xl"},au={class:"flex items-center justify-between"},lu={class:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-background/80 backdrop-blur-sm border shadow-sm"},nu={class:"font-semibold"},ru={class:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-7xl"},ou={class:"grid gap-4 sm:gap-6 lg:grid-cols-3"},iu={class:"lg:col-span-1 space-y-4 sm:space-y-6"},du={class:"lg:col-span-2"},uu={class:"rounded-xl border bg-card overflow-hidden"},mu={class:"border-b bg-muted/30"},cu={class:"overflow-x-auto text-center overflow-y-hidden px-1.5 py-1.5 sm:px-2 sm:py-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},pu={class:"p-3 sm:p-4 md:p-6"},fu={key:1,class:"text-center py-12"},Fu=X({__name:"Index",props:{customer:{},orders:{},walletTransactions:{},activeMembers:{},passiveMembers:{},prospectMembers:{},binaryTree:{},totalDownlines:{},totalLeft:{},totalRight:{},bonusSponsors:{},bonusMatchings:{},bonusPairings:{},bonusCashbacks:{},bonusRewards:{},bonusRetails:{},bonusLifetimeCashRewards:{},addresses:{}},setup(l){const u=l,i=nt(),p=K(()=>Number(u.customer.status)===3),h=K(()=>{if(typeof window>"u")return"profile";const m=i.url;try{return new URL(m,window.location.origin).searchParams.get("tab")||"profile"}catch{return"profile"}});return(m,c)=>(r(),T(jt,null,{default:a(()=>[s(e(ts),{title:"Profile Saya"}),t("div",tu,[t("div",su,[t("div",au,[c[0]||(c[0]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-1 sm:mb-2"},"Profile Saya"),t("p",{class:"text-sm sm:text-base md:text-lg text-muted-foreground"}," Kelola informasi profil dan keamanan akun Anda ")],-1)),t("div",lu,[s(e(Je),{class:"w-5 h-5 text-primary"}),t("span",nu,n(l.customer.name),1)])])])]),t("div",ru,[t("div",ou,[t("div",iu,[s(Cs,{customer:l.customer},null,8,["customer"]),p.value?(r(),T(eu,{key:0,customer:l.customer},null,8,["customer"])):w("",!0),s(ra,{addresses:l.addresses},null,8,["addresses"]),p.value?(r(),T(ma,{key:1,customer:l.customer},null,8,["customer"])):w("",!0),s(xa,{"created-at":l.customer.created_at},null,8,["created-at"])]),t("div",du,[t("div",uu,[s(e(at),{"default-value":h.value,class:"w-full"},{default:a(()=>[t("div",mu,[t("div",cu,[s(e(lt),{class:"inline-flex h-auto w-max bg-transparent gap-1 sm:gap-1.5 p-0"},{default:a(()=>[s(e(ee),{value:"profile",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Je),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[1]||(c[1]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Info",-1))]),_:1}),s(e(ee),{value:"orders",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(je),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[2]||(c[2]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Order",-1))]),_:1}),p.value?(r(),T(e(ee),{key:0,value:"network",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(bt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[3]||(c[3]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Mitra",-1))]),_:1})):w("",!0),p.value?(r(),T(e(ee),{key:1,value:"binary",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Te),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[4]||(c[4]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Network",-1))]),_:1})):w("",!0),p.value?(r(),T(e(ee),{key:2,value:"bonus",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(yt),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[5]||(c[5]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Bonus",-1))]),_:1})):w("",!0),s(e(ee),{value:"wallet",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Se),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[6]||(c[6]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Wallet",-1))]),_:1}),s(e(ee),{value:"security",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(Ze),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[7]||(c[7]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Lock",-1))]),_:1}),s(e(ee),{value:"danger",class:"flex-shrink-0 flex flex-col items-center justify-center gap-0.5 py-1 px-1.5 sm:py-1.5 sm:px-2 w-[38px] sm:w-[55px] md:w-[70px] data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-md transition-all"},{default:a(()=>[s(e(we),{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),c[8]||(c[8]=t("span",{class:"text-[8px] sm:text-[9px] md:text-[10px] font-medium text-center leading-tight"},"Del",-1))]),_:1})]),_:1})])]),t("div",pu,[s(e(te),{value:"profile",class:"mt-0"},{default:a(()=>[s(Fa,{customer:l.customer},null,8,["customer"])]),_:1}),s(e(te),{value:"orders",class:"mt-0"},{default:a(()=>[s(Cn,{orders:l.orders},null,8,["orders"])]),_:1}),p.value?(r(),T(e(te),{key:0,value:"network",class:"mt-0"},{default:a(()=>[s(Bo,{"active-members":l.activeMembers,"passive-members":l.passiveMembers,"prospect-members":l.prospectMembers,"has-left":!!l.binaryTree?.left,"has-right":!!l.binaryTree?.right},null,8,["active-members","passive-members","prospect-members","has-left","has-right"])]),_:1})):w("",!0),p.value?(r(),T(e(te),{key:1,value:"binary",class:"mt-0"},{default:a(()=>[l.binaryTree?(r(),T(ui,{key:0,"binary-tree":l.binaryTree,"total-downlines":l.totalDownlines,"total-left":l.totalLeft,"total-right":l.totalRight,"passive-members":l.passiveMembers},null,8,["binary-tree","total-downlines","total-left","total-right","passive-members"])):(r(),f("div",fu,[s(e(Te),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c[9]||(c[9]=t("h3",{class:"text-lg font-semibold mb-2"},"Belum Ada Jaringan Binary",-1)),c[10]||(c[10]=t("p",{class:"text-muted-foreground"}," Anda belum memiliki posisi dalam jaringan binary tree MLM. ",-1))]))]),_:1})):w("",!0),p.value?(r(),T(e(te),{key:2,value:"bonus",class:"mt-0"},{default:a(()=>[s(Wd,{"bonus-sponsors":l.bonusSponsors,"bonus-matchings":l.bonusMatchings,"bonus-pairings":l.bonusPairings,"bonus-cashbacks":l.bonusCashbacks,"bonus-rewards":l.bonusRewards,"bonus-retails":l.bonusRetails,"bonus-lifetime-cash-rewards":l.bonusLifetimeCashRewards},null,8,["bonus-sponsors","bonus-matchings","bonus-pairings","bonus-cashbacks","bonus-rewards","bonus-retails","bonus-lifetime-cash-rewards"])]),_:1})):w("",!0),s(e(te),{value:"wallet",class:"mt-0"},{default:a(()=>[s(Pr,{customer:l.customer,transactions:l.walletTransactions},null,8,["customer","transactions"])]),_:1}),s(e(te),{value:"security",class:"mt-0"},{default:a(()=>[s(Br)]),_:1}),s(e(te),{value:"danger",class:"mt-0"},{default:a(()=>[s(Ur)]),_:1})])]),_:1},8,["default-value"])])])])])]),_:1}))}});export{Fu as default};
