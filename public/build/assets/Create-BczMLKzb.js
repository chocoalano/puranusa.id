import{d as O,r as x,D as E,c as U,g as n,w as a,e as o,b as t,u as s,E as J,s as u,S as L,G as j,v as p,t as _,H as v,J as m,K as F,F as I,x as z,X as K,j as R,N as D}from"./vendor-CraqpIJ-.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-BWDCecJb.js";import{_ as H}from"./PageBuilder.vue_vue_type_script_setup_true_lang-B2UacqOo.js";import{_ as y,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-DM70BYA8.js";import{_ as h}from"./CardDescription.vue_vue_type_script_setup_true_lang-D7Z_V3uH.js";import{_ as S}from"./CardHeader.vue_vue_type_script_setup_true_lang-D25MJpMC.js";import{_ as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-l0wDcl-m.js";import{_ as w}from"./index-DPd1r_cX.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-CqlAd_sW.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-DvVX6MKG.js";import{_ as M}from"./Textarea.vue_vue_type_script_setup_true_lang-0xlPODzz.js";import{_ as P}from"./Checkbox.vue_vue_type_script_setup_true_lang-ChiKY_-L.js";import{_ as X}from"./index-COroZ9V9.js";import"./index-B7Ms5jW_.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BmdNsnpq.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-4BlfWucD.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DA-zofsy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BZHhRcHM.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-CQgGBfly.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-Bvtl-Sz4.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-C52OMNql.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-Bw5Af064.js";const q={class:"container mx-auto py-6 space-y-6"},Q={class:"flex items-center justify-between"},W={class:"flex items-center gap-4"},Y={href:"/admin/articles"},Z={class:"flex gap-2"},ee={class:"grid gap-6 lg:grid-cols-3"},te={class:"lg:col-span-2 space-y-6"},se={class:"space-y-2"},le={key:0,class:"text-sm text-destructive"},ae={class:"space-y-2"},ie={key:0,class:"text-sm text-destructive"},oe={class:"text-sm text-muted-foreground"},ue={class:"space-y-2"},re={key:0,class:"text-sm text-destructive"},de={class:"text-sm text-muted-foreground"},ne={class:"space-y-2"},pe={key:0,class:"text-sm text-destructive"},me={class:"text-sm text-muted-foreground"},_e={class:"space-y-6"},fe={class:"flex items-center space-x-2"},ve={key:0,class:"space-y-2"},ce={key:0,class:"text-sm text-destructive"},ge={class:"flex gap-2"},ke={key:0,class:"flex flex-wrap gap-2"},be={key:1,class:"text-sm text-muted-foreground"},Ge=O({__name:"Create",setup(xe){const l=x({title:"",slug:"",seo_title:"",seo_description:"",content:"",blocks:[],tags:[],is_published:!1,published_at:""}),r=x({}),g=x(!1),k=x(""),A=d=>d.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-"),B=()=>{l.value.slug=A(l.value.title)};E(()=>l.value.blocks,d=>{l.value.content=JSON.stringify(d)},{deep:!0});const T=()=>{const d=k.value.trim();d&&!l.value.tags.includes(d)&&(l.value.tags.push(d),k.value="")},N=d=>{l.value.tags.splice(d,1)},C=(d=!1)=>{g.value=!0,r.value={};const e=JSON.stringify(l.value.blocks),i={title:l.value.title,slug:l.value.slug,seo_title:l.value.seo_title,seo_description:l.value.seo_description,content:e,tags:l.value.tags,is_published:d,published_at:d&&!l.value.published_at?new Date().toISOString():l.value.published_at};R.post("/admin/articles",i,{onSuccess:()=>{D.success(d?"Artikel berhasil diterbitkan":"Artikel berhasil disimpan sebagai draft")},onError:b=>{r.value=b,D.error("Terjadi kesalahan, periksa form Anda")},onFinish:()=>{g.value=!1}})};return(d,e)=>(n(),U(G,null,{default:a(()=>[o("div",q,[o("div",Q,[o("div",W,[t(s(w),{variant:"ghost",size:"icon","as-child":""},{default:a(()=>[o("a",Y,[t(s(J),{class:"h-4 w-4"})])]),_:1}),e[10]||(e[10]=o("div",null,[o("h1",{class:"text-3xl font-bold tracking-tight"},"Buat Artikel Baru"),o("p",{class:"text-muted-foreground"}," Tambahkan konten artikel baru ke blog ")],-1))]),o("div",Z,[t(s(w),{variant:"outline",disabled:g.value,onClick:e[0]||(e[0]=i=>C(!1))},{default:a(()=>[t(s(L),{class:"mr-2 h-4 w-4"}),e[11]||(e[11]=u(" Simpan Draft ",-1))]),_:1},8,["disabled"]),t(s(w),{disabled:g.value,onClick:e[1]||(e[1]=i=>C(!0))},{default:a(()=>[t(s(j),{class:"mr-2 h-4 w-4"}),e[12]||(e[12]=u(" Terbitkan ",-1))]),_:1},8,["disabled"])])]),o("div",ee,[o("div",te,[t(s(y),null,{default:a(()=>[t(s(S),null,{default:a(()=>[t(s($),null,{default:a(()=>[...e[13]||(e[13]=[u("Informasi Dasar",-1)])]),_:1}),t(s(h),null,{default:a(()=>[...e[14]||(e[14]=[u("Detail utama artikel",-1)])]),_:1})]),_:1}),t(s(V),{class:"space-y-4"},{default:a(()=>[o("div",se,[t(s(f),{for:"title"},{default:a(()=>[...e[15]||(e[15]=[u("Judul Artikel",-1)])]),_:1}),t(s(c),{id:"title",modelValue:l.value.title,"onUpdate:modelValue":e[2]||(e[2]=i=>l.value.title=i),placeholder:"Masukkan judul artikel",class:v({"border-destructive":r.value.title}),onInput:B},null,8,["modelValue","class"]),r.value.title?(n(),p("p",le,m(r.value.title),1)):_("",!0)]),o("div",ae,[t(s(f),{for:"slug"},{default:a(()=>[...e[16]||(e[16]=[u("Slug (URL)",-1)])]),_:1}),t(s(c),{id:"slug",modelValue:l.value.slug,"onUpdate:modelValue":e[3]||(e[3]=i=>l.value.slug=i),placeholder:"slug-artikel",class:v({"border-destructive":r.value.slug})},null,8,["modelValue","class"]),r.value.slug?(n(),p("p",ie,m(r.value.slug),1)):_("",!0),o("p",oe," URL: /articles/"+m(l.value.slug||"slug-artikel"),1)])]),_:1})]),_:1}),t(H,{modelValue:l.value.blocks,"onUpdate:modelValue":e[4]||(e[4]=i=>l.value.blocks=i)},null,8,["modelValue"]),t(s(y),null,{default:a(()=>[t(s(S),null,{default:a(()=>[t(s($),null,{default:a(()=>[...e[17]||(e[17]=[u("SEO",-1)])]),_:1}),t(s(h),null,{default:a(()=>[...e[18]||(e[18]=[u("Optimasi mesin pencari",-1)])]),_:1})]),_:1}),t(s(V),{class:"space-y-4"},{default:a(()=>[o("div",ue,[t(s(f),{for:"seo_title"},{default:a(()=>[...e[19]||(e[19]=[u("Judul SEO",-1)])]),_:1}),t(s(c),{id:"seo_title",modelValue:l.value.seo_title,"onUpdate:modelValue":e[5]||(e[5]=i=>l.value.seo_title=i),placeholder:"Judul untuk mesin pencari",class:v({"border-destructive":r.value.seo_title})},null,8,["modelValue","class"]),r.value.seo_title?(n(),p("p",re,m(r.value.seo_title),1)):_("",!0),o("p",de,m(l.value.seo_title.length)+"/255 karakter ",1)]),o("div",ne,[t(s(f),{for:"seo_description"},{default:a(()=>[...e[20]||(e[20]=[u("Deskripsi SEO",-1)])]),_:1}),t(s(M),{id:"seo_description",modelValue:l.value.seo_description,"onUpdate:modelValue":e[6]||(e[6]=i=>l.value.seo_description=i),placeholder:"Deskripsi singkat untuk mesin pencari",rows:"3",class:v({"border-destructive":r.value.seo_description})},null,8,["modelValue","class"]),r.value.seo_description?(n(),p("p",pe,m(r.value.seo_description),1)):_("",!0),o("p",me,m(l.value.seo_description.length)+"/500 karakter ",1)])]),_:1})]),_:1})]),o("div",_e,[t(s(y),null,{default:a(()=>[t(s(S),null,{default:a(()=>[t(s($),null,{default:a(()=>[...e[21]||(e[21]=[u("Publikasi",-1)])]),_:1}),t(s(h),null,{default:a(()=>[...e[22]||(e[22]=[u("Atur tanggal publikasi",-1)])]),_:1})]),_:1}),t(s(V),{class:"space-y-4"},{default:a(()=>[o("div",fe,[t(s(P),{id:"is_published",checked:l.value.is_published,"onUpdate:checked":e[7]||(e[7]=i=>l.value.is_published=i)},null,8,["checked"]),t(s(f),{for:"is_published",class:"cursor-pointer"},{default:a(()=>[...e[23]||(e[23]=[u(" Terbitkan artikel ",-1)])]),_:1})]),l.value.is_published?(n(),p("div",ve,[t(s(f),{for:"published_at"},{default:a(()=>[...e[24]||(e[24]=[u("Tanggal Terbit",-1)])]),_:1}),t(s(c),{id:"published_at",modelValue:l.value.published_at,"onUpdate:modelValue":e[8]||(e[8]=i=>l.value.published_at=i),type:"datetime-local",class:v({"border-destructive":r.value.published_at})},null,8,["modelValue","class"]),r.value.published_at?(n(),p("p",ce,m(r.value.published_at),1)):_("",!0)])):_("",!0)]),_:1})]),_:1}),t(s(y),null,{default:a(()=>[t(s(S),null,{default:a(()=>[t(s($),null,{default:a(()=>[...e[25]||(e[25]=[u("Tag",-1)])]),_:1}),t(s(h),null,{default:a(()=>[...e[26]||(e[26]=[u("Tambahkan tag untuk artikel",-1)])]),_:1})]),_:1}),t(s(V),{class:"space-y-4"},{default:a(()=>[o("div",ge,[t(s(c),{modelValue:k.value,"onUpdate:modelValue":e[9]||(e[9]=i=>k.value=i),placeholder:"Tambah tag",onKeyup:F(T,["enter"])},null,8,["modelValue"]),t(s(w),{type:"button",size:"sm",onClick:T},{default:a(()=>[...e[27]||(e[27]=[u(" Tambah ",-1)])]),_:1})]),l.value.tags.length>0?(n(),p("div",ke,[(n(!0),p(I,null,z(l.value.tags,(i,b)=>(n(),U(s(X),{key:b,variant:"secondary",class:"cursor-pointer hover:bg-destructive hover:text-destructive-foreground",onClick:ye=>N(b)},{default:a(()=>[u(m(i)+" ",1),t(s(K),{class:"ml-1 h-3 w-3"})]),_:2},1032,["onClick"]))),128))])):(n(),p("p",be," Belum ada tag "))]),_:1})]),_:1})])])])]),_:1}))}});export{Ge as default};
