import{d as W,r as p,p as E,v as P,g as r,b as l,u as e,a1 as X,w as a,e as o,c as d,t as C,a4 as T,s,Y as h,Z as ee,P as le,F as U,x as M,K as g,aq as ae,$ as te,z as se,j as q,Q as H}from"./vendor-DYgHfk08.js";import{_ as ue}from"./AppLayout.vue_vue_type_script_setup_true_lang-DRH_ebPA.js";import{_ as I,a as J}from"./CardContent.vue_vue_type_script_setup_true_lang-CnmozILa.js";import{_ as ne}from"./CardDescription.vue_vue_type_script_setup_true_lang-D5WdCzuR.js";import{_ as re}from"./CardHeader.vue_vue_type_script_setup_true_lang-9jnBdHpK.js";import{_ as oe}from"./CardTitle.vue_vue_type_script_setup_true_lang-CI_uH55v.js";import{_ as $}from"./index-DBsPyq8S.js";import{_ as de}from"./Input.vue_vue_type_script_setup_true_lang-DkLAfZys.js";import{_ as j}from"./index-C9h8PSdL.js";import{_ as ie,a as fe,b as A,c as S,d as me,e as b}from"./TableHeader.vue_vue_type_script_setup_true_lang-YFJtZzp6.js";import{_ as w,a as D,b as z,c as B,d as i}from"./SelectValue.vue_vue_type_script_setup_true_lang-DYYIQ-He.js";import{_ as _e,a as ve,b as pe,c as ge,d as ce,e as ye,f as $e,g as be}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-1hBkLUKH.js";import{_ as ke}from"./Pagination.vue_vue_type_script_setup_true_lang-CB_rUuml.js";import{u as xe}from"./usePermissions-QR2nm5rZ.js";import"./index-CSEUMRIG.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BuaobLrR.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-Bql-RK5d.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Wm0IkLbg.js";import"./index-BUE9bFsX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DRgKjkJL.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-D72m4PHj.js";const Ve={class:"container mx-auto py-6 space-y-6"},Ce={class:"flex items-center justify-between"},Se={class:"flex flex-col gap-4 lg:flex-row"},Ke={class:"flex-1 relative"},we={class:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4"},De={class:"flex gap-2"},ze={class:"font-medium"},Be={class:"text-sm text-muted-foreground"},Fe={class:"flex items-center justify-end gap-2"},el=W({__name:"Index",props:{items:{},categories:{},filters:{}},setup(c){const f=c,{isSuperAdmin:F,isAdmin:N}=xe(),k=p(f.filters.search||""),m=p(f.filters.status||"all"),_=p(f.filters.category_id?String(f.filters.category_id):"all"),x=p(f.filters.sort_by||"created_at"),V=p(f.filters.sort_order||"desc"),L=E(()=>new Map(f.categories.map(n=>[n.id,n]))),Z=n=>{if(!n)return"-";const t=n.parent_id?L.value.get(n.parent_id):null;return t?`${t.name} / ${n.name}`:n.name},v=()=>{q.get("/admin/zenner-club/contents",{search:k.value||void 0,status:m.value!=="all"?m.value:void 0,category_id:_.value!=="all"?Number(_.value):void 0,sort_by:x.value,sort_order:V.value},{preserveScroll:!0,preserveState:!0})},G=()=>{k.value="",m.value="all",_.value="all",x.value="created_at",V.value="desc",v()},y=p(null),K=p(!1),O=n=>{y.value=n},Q=()=>{y.value&&(K.value=!0,q.delete(`/admin/zenner-club/contents/${y.value}`,{preserveScroll:!0,onSuccess:()=>{H.success("Konten berhasil dihapus"),y.value=null},onError:()=>{H.error("Gagal menghapus konten")},onFinish:()=>{K.value=!1}}))},R=n=>new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),Y=E(()=>({search:k.value||void 0,status:m.value!=="all"?m.value:void 0,category_id:_.value!=="all"?Number(_.value):void 0,sort_by:x.value,sort_order:V.value}));return(n,t)=>(r(),P(U,null,[l(e(X),{title:"Konten Zenner Club"}),l(ue,null,{default:a(()=>[o("div",Ve,[o("div",Ce,[t[7]||(t[7]=o("div",null,[o("h1",{class:"text-3xl font-bold tracking-tight"},"Konten Zenner Club"),o("p",{class:"text-muted-foreground"}," Kelola konten untuk halaman Zenner Club ")],-1)),e(F)||e(N)?(r(),d(e(T),{key:0,href:"/admin/zenner-club/contents/create"},{default:a(()=>[l(e($),null,{default:a(()=>[l(e(h),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=s(" Tambah Konten ",-1))]),_:1})]),_:1})):C("",!0)]),l(e(I),null,{default:a(()=>[l(e(re),null,{default:a(()=>[l(e(oe),null,{default:a(()=>[...t[8]||(t[8]=[s("Filter & Pencarian",-1)])]),_:1}),l(e(ne),null,{default:a(()=>[...t[9]||(t[9]=[s("Cari dan filter konten",-1)])]),_:1})]),_:1}),l(e(J),null,{default:a(()=>[o("div",Se,[o("div",Ke,[l(e(ee),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l(e(de),{modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=u=>k.value=u),placeholder:"Cari judul atau slug...",class:"pl-10",onKeyup:le(v,["enter"])},null,8,["modelValue"])]),o("div",we,[l(e(w),{modelValue:_.value,"onUpdate:modelValue":[t[1]||(t[1]=u=>_.value=u),v]},{default:a(()=>[l(e(D),null,{default:a(()=>[l(e(z),{placeholder:"Kategori"})]),_:1}),l(e(B),null,{default:a(()=>[l(e(i),{value:"all"},{default:a(()=>[...t[10]||(t[10]=[s("Semua Kategori",-1)])]),_:1}),(r(!0),P(U,null,M(c.categories,u=>(r(),d(e(i),{key:u.id,value:String(u.id)},{default:a(()=>[s(g(Z(u)),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),l(e(w),{modelValue:m.value,"onUpdate:modelValue":[t[2]||(t[2]=u=>m.value=u),v]},{default:a(()=>[l(e(D),null,{default:a(()=>[l(e(z),{placeholder:"Status"})]),_:1}),l(e(B),null,{default:a(()=>[l(e(i),{value:"all"},{default:a(()=>[...t[11]||(t[11]=[s("Semua Status",-1)])]),_:1}),l(e(i),{value:"published"},{default:a(()=>[...t[12]||(t[12]=[s("Published",-1)])]),_:1}),l(e(i),{value:"draft"},{default:a(()=>[...t[13]||(t[13]=[s("Draft",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(e(w),{modelValue:x.value,"onUpdate:modelValue":[t[3]||(t[3]=u=>x.value=u),v]},{default:a(()=>[l(e(D),null,{default:a(()=>[l(e(z),{placeholder:"Urutkan"})]),_:1}),l(e(B),null,{default:a(()=>[l(e(i),{value:"created_at"},{default:a(()=>[...t[14]||(t[14]=[s("Tanggal",-1)])]),_:1}),l(e(i),{value:"title"},{default:a(()=>[...t[15]||(t[15]=[s("Judul",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(e(w),{modelValue:V.value,"onUpdate:modelValue":[t[4]||(t[4]=u=>V.value=u),v]},{default:a(()=>[l(e(D),null,{default:a(()=>[l(e(z),{placeholder:"Arah"})]),_:1}),l(e(B),null,{default:a(()=>[l(e(i),{value:"desc"},{default:a(()=>[...t[16]||(t[16]=[s("Terbaru",-1)])]),_:1}),l(e(i),{value:"asc"},{default:a(()=>[...t[17]||(t[17]=[s("Terlama",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",De,[l(e($),{onClick:v},{default:a(()=>[...t[18]||(t[18]=[s("Cari",-1)])]),_:1}),l(e($),{variant:"outline",onClick:G},{default:a(()=>[...t[19]||(t[19]=[s("Reset",-1)])]),_:1})])])]),_:1})]),_:1}),l(e(I),null,{default:a(()=>[l(e(J),{class:"p-0"},{default:a(()=>[l(e(ie),null,{default:a(()=>[l(e(fe),null,{default:a(()=>[l(e(A),null,{default:a(()=>[l(e(S),null,{default:a(()=>[...t[20]||(t[20]=[s("Judul",-1)])]),_:1}),l(e(S),null,{default:a(()=>[...t[21]||(t[21]=[s("Kategori",-1)])]),_:1}),l(e(S),null,{default:a(()=>[...t[22]||(t[22]=[s("Status",-1)])]),_:1}),l(e(S),null,{default:a(()=>[...t[23]||(t[23]=[s("Dibuat",-1)])]),_:1}),l(e(S),{class:"text-right"},{default:a(()=>[...t[24]||(t[24]=[s("Aksi",-1)])]),_:1})]),_:1})]),_:1}),l(e(me),null,{default:a(()=>[c.items.data.length===0?(r(),d(e(A),{key:0},{default:a(()=>[l(e(b),{colspan:"5",class:"text-center text-muted-foreground py-8"},{default:a(()=>[...t[25]||(t[25]=[s(" Belum ada konten. ",-1)])]),_:1})]),_:1})):C("",!0),(r(!0),P(U,null,M(c.items.data,u=>(r(),d(e(A),{key:u.id},{default:a(()=>[l(e(b),null,{default:a(()=>[o("div",null,[o("p",ze,g(u.title),1),o("p",Be,g(u.slug),1)])]),_:2},1024),l(e(b),null,{default:a(()=>[s(g(Z(u.category)),1)]),_:2},1024),l(e(b),null,{default:a(()=>[u.status==="published"?(r(),d(e(j),{key:0,variant:"default"},{default:a(()=>[...t[26]||(t[26]=[s("Published",-1)])]),_:1})):u.status==="draft"?(r(),d(e(j),{key:1,variant:"secondary"},{default:a(()=>[...t[27]||(t[27]=[s("Draft",-1)])]),_:1})):(r(),d(e(j),{key:2,variant:"outline"},{default:a(()=>[s(g(u.status||"Draft"),1)]),_:2},1024))]),_:2},1024),l(e(b),{class:"text-sm text-muted-foreground"},{default:a(()=>[s(g(R(u.created_at)),1)]),_:2},1024),l(e(b),{class:"text-right"},{default:a(()=>[o("div",Fe,[l(e(T),{href:`/admin/zenner-club/contents/${u.id}`},{default:a(()=>[l(e($),{variant:"ghost",size:"icon"},{default:a(()=>[l(e(ae),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),e(F)||e(N)?(r(),d(e(T),{key:0,href:`/admin/zenner-club/contents/${u.id}/edit`},{default:a(()=>[l(e($),{variant:"ghost",size:"icon"},{default:a(()=>[l(e(te),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"])):C("",!0),e(F)||e(N)?(r(),d(e($),{key:1,variant:"ghost",size:"icon",onClick:Ne=>O(u.id)},{default:a(()=>[l(e(se),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])):C("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),c.items.last_page>1?(r(),d(ke,{key:0,data:c.items,url:"/admin/zenner-club/contents",filters:Y.value},null,8,["data","filters"])):C("",!0)]),l(e(_e),{open:y.value!==null,"onUpdate:open":t[5]||(t[5]=u=>y.value=null)},{default:a(()=>[l(e(ve),null,{default:a(()=>[l(e(pe),null,{default:a(()=>[l(e(ge),null,{default:a(()=>[...t[28]||(t[28]=[s("Hapus Konten?",-1)])]),_:1}),l(e(ce),null,{default:a(()=>[...t[29]||(t[29]=[s(" Konten akan dihapus permanen. Apakah Anda yakin ingin melanjutkan? ",-1)])]),_:1})]),_:1}),l(e(ye),null,{default:a(()=>[l(e($e),null,{default:a(()=>[...t[30]||(t[30]=[s("Batal",-1)])]),_:1}),l(e(be),{disabled:K.value,onClick:Q},{default:a(()=>[s(g(K.value?"Menghapus...":"Hapus"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{el as default};
