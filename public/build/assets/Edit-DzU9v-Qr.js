import{d as N,D as P,v as p,g as d,b as a,u as e,a0 as h,w as o,e as t,a3 as K,s as l,G as j,ad as B,K as i,c as v,t as x,J as c,ag as D,ak as C,F as T,Q as k}from"./vendor-DaB_pQgP.js";import{i as E,_ as I,u as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-D2z6-G88.js";import{_ as b}from"./index-BKBhFw5h.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-fAtvLyIY.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-CWjlkSoM.js";import{_ as y,a as w}from"./CardContent.vue_vue_type_script_setup_true_lang-BjMvSn1_.js";import{_ as V}from"./CardDescription.vue_vue_type_script_setup_true_lang-DsvaFasH.js";import{_ as U}from"./CardHeader.vue_vue_type_script_setup_true_lang-0_gXQ995.js";import{_ as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-Ctf1rv4B.js";import{_}from"./index-Bpyex9Q9.js";import"./index-CMWG4mbA.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BGvJCNeT.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-X5jrAjTx.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DzqVjOcn.js";import"./index-DqFeuJ-n.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DeW2TNT-.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DvbSElDR.js";const q={class:"rounded-xl p-4 space-y-6 py-6"},F={class:"flex items-center justify-between"},A={class:"flex items-center justify-between"},G={class:"flex items-center gap-2"},J={class:"grid gap-4 md:grid-cols-2"},z={class:"space-y-2"},H={key:0,class:"text-sm text-destructive"},O={class:"space-y-2"},Q={key:0,class:"text-sm text-destructive"},R={class:"space-y-2"},W={key:0,class:"text-sm text-destructive"},X={class:"space-y-2"},Y={key:0,class:"text-sm text-destructive"},Z={class:"space-y-2"},ee={class:"grid gap-4 md:grid-cols-3"},se={class:"space-y-2"},ae={class:"rounded-md border bg-muted p-3"},te={class:"text-sm font-medium"},oe={class:"space-y-2"},re={class:"rounded-md border bg-muted p-3"},le={class:"text-sm font-medium"},ne={class:"space-y-2"},ie={class:"rounded-md border bg-muted p-3"},de={key:1,class:"text-sm"},ue={class:"grid gap-4 md:grid-cols-2"},me={class:"space-y-2"},pe={key:0,class:"text-sm text-destructive"},fe={class:"space-y-2"},ge={class:"flex justify-end gap-4"},he=N({__name:"Edit",props:{customer:{}},setup(m){const f=m,r=P({name:f.customer.name,username:f.customer.username,email:f.customer.email,phone:f.customer.phone||"",password:"",password_confirmation:"",description:f.customer.description||""}),M=()=>{r.put(L.url(f.customer.id),{preserveScroll:!0,onSuccess:()=>{k.success("Data pelanggan berhasil diperbarui")},onError:S=>{const s=Object.values(S);s.length>0?(k.error(s[0]),s.length>1&&k.warning(`Terdapat ${s.length} kesalahan pada form. Silakan periksa kembali.`)):k.error("Gagal memperbarui data pelanggan. Silakan periksa data yang dimasukkan.")}})};return(S,s)=>(d(),p(T,null,[a(e(h),{title:`Edit ${m.customer.name}`},null,8,["title"]),a(I,null,{default:o(()=>[t("div",q,[t("div",F,[s[8]||(s[8]=t("div",null,[t("h1",{class:"text-3xl font-bold"},"Edit Pelanggan"),t("p",{class:"mt-2 text-muted-foreground"}," Perbarui informasi pelanggan ")],-1)),a(e(K),{href:e(E).url()},{default:o(()=>[a(e(b),{variant:"outline"},{default:o(()=>[a(e(j),{class:"mr-2 h-4 w-4"}),s[7]||(s[7]=l(" Kembali ",-1))]),_:1})]),_:1},8,["href"])]),t("form",{onSubmit:B(M,["prevent"]),class:"space-y-6"},[a(e(y),null,{default:o(()=>[a(e(U),null,{default:o(()=>[t("div",A,[t("div",null,[a(e($),null,{default:o(()=>[...s[9]||(s[9]=[l("Informasi Akun",-1)])]),_:1}),a(e(V),null,{default:o(()=>[l("ID Ewallet: "+i(m.customer.ewallet_id),1)]),_:1})]),t("div",G,[a(e(_),{variant:"outline"},{default:o(()=>[l(" Saldo: Rp "+i(m.customer.ewallet_saldo.toLocaleString("id-ID")),1)]),_:1}),m.customer.email_verified_at?(d(),v(e(_),{key:0,variant:"default"},{default:o(()=>[...s[10]||(s[10]=[l(" Terverifikasi ",-1)])]),_:1})):(d(),v(e(_),{key:1,variant:"secondary"},{default:o(()=>[...s[11]||(s[11]=[l(" Belum Verifikasi ",-1)])]),_:1}))])])]),_:1}),a(e(w),{class:"space-y-4"},{default:o(()=>[t("div",J,[t("div",z,[a(e(u),{for:"name"},{default:o(()=>[...s[12]||(s[12]=[l("Nama Lengkap *",-1)])]),_:1}),a(e(g),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":s[0]||(s[0]=n=>e(r).name=n),placeholder:"Masukkan nama lengkap",class:c({"border-destructive":e(r).errors.name}),required:""},null,8,["modelValue","class"]),s[13]||(s[13]=t("p",{class:"text-xs text-muted-foreground"}," Nama lengkap sesuai identitas, maksimal 255 karakter ",-1)),e(r).errors.name?(d(),p("p",H,i(e(r).errors.name),1)):x("",!0)]),t("div",O,[a(e(u),{for:"username"},{default:o(()=>[...s[14]||(s[14]=[l("Username *",-1)])]),_:1}),a(e(g),{id:"username",modelValue:e(r).username,"onUpdate:modelValue":s[1]||(s[1]=n=>e(r).username=n),placeholder:"contoh: johndoe123",class:c({"border-destructive":e(r).errors.username}),required:""},null,8,["modelValue","class"]),s[15]||(s[15]=t("p",{class:"text-xs text-muted-foreground"}," Username untuk login. Hanya boleh huruf, angka, dash (-) dan underscore (_) ",-1)),e(r).errors.username?(d(),p("p",Q,i(e(r).errors.username),1)):x("",!0)]),t("div",R,[a(e(u),{for:"email"},{default:o(()=>[...s[16]||(s[16]=[l("Email *",-1)])]),_:1}),a(e(g),{id:"email",modelValue:e(r).email,"onUpdate:modelValue":s[2]||(s[2]=n=>e(r).email=n),type:"email",placeholder:"nama@email.com",class:c({"border-destructive":e(r).errors.email}),required:""},null,8,["modelValue","class"]),s[17]||(s[17]=t("p",{class:"text-xs text-muted-foreground"}," Email aktif untuk menerima notifikasi dan verifikasi akun ",-1)),e(r).errors.email?(d(),p("p",W,i(e(r).errors.email),1)):x("",!0)]),t("div",X,[a(e(u),{for:"phone"},{default:o(()=>[...s[18]||(s[18]=[l("No. Telepon",-1)])]),_:1}),a(e(g),{id:"phone",modelValue:e(r).phone,"onUpdate:modelValue":s[3]||(s[3]=n=>e(r).phone=n),placeholder:"08xxxxxxxxxx",class:c({"border-destructive":e(r).errors.phone})},null,8,["modelValue","class"]),s[19]||(s[19]=t("p",{class:"text-xs text-muted-foreground"}," Nomor telepon aktif (opsional), maksimal 20 karakter ",-1)),e(r).errors.phone?(d(),p("p",Y,i(e(r).errors.phone),1)):x("",!0)])]),t("div",Z,[a(e(u),{for:"description"},{default:o(()=>[...s[20]||(s[20]=[l("Keterangan",-1)])]),_:1}),D(t("textarea",{id:"description","onUpdate:modelValue":s[4]||(s[4]=n=>e(r).description=n),placeholder:"Keterangan tambahan (opsional)",rows:"3",class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"},null,512),[[C,e(r).description]]),s[21]||(s[21]=t("p",{class:"text-xs text-muted-foreground"}," Catatan tambahan tentang pelanggan, seperti sumber referral atau informasi penting lainnya ",-1))])]),_:1})]),_:1}),a(e(y),null,{default:o(()=>[a(e(U),null,{default:o(()=>[a(e($),null,{default:o(()=>[...s[22]||(s[22]=[l("Informasi Jaringan MLM",-1)])]),_:1}),a(e(V),null,{default:o(()=>[...s[23]||(s[23]=[l(" Data jaringan tidak dapat diubah ",-1)])]),_:1})]),_:1}),a(e(w),null,{default:o(()=>[t("div",ee,[t("div",se,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>[...s[24]||(s[24]=[l("Sponsor",-1)])]),_:1}),t("div",ae,[t("p",te,i(m.customer.sponsor_name||"-"),1)])]),t("div",oe,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>[...s[25]||(s[25]=[l("Upline",-1)])]),_:1}),t("div",re,[t("p",le,i(m.customer.upline_name||"-"),1)])]),t("div",ne,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>[...s[26]||(s[26]=[l("Posisi",-1)])]),_:1}),t("div",ie,[m.customer.position?(d(),v(e(_),{key:0,variant:"outline"},{default:o(()=>[l(i(m.customer.position==="left"?"Kiri":"Kanan"),1)]),_:1})):(d(),p("span",de,"-"))])])])]),_:1})]),_:1}),a(e(y),null,{default:o(()=>[a(e(U),null,{default:o(()=>[a(e($),null,{default:o(()=>[...s[27]||(s[27]=[l("Ubah Password",-1)])]),_:1}),a(e(V),null,{default:o(()=>[...s[28]||(s[28]=[l(" Kosongkan jika tidak ingin mengubah password ",-1)])]),_:1})]),_:1}),a(e(w),{class:"space-y-4"},{default:o(()=>[t("div",ue,[t("div",me,[a(e(u),{for:"password"},{default:o(()=>[...s[29]||(s[29]=[l("Password Baru",-1)])]),_:1}),a(e(g),{id:"password",modelValue:e(r).password,"onUpdate:modelValue":s[5]||(s[5]=n=>e(r).password=n),type:"password",placeholder:"Minimal 8 karakter",class:c({"border-destructive":e(r).errors.password})},null,8,["modelValue","class"]),s[30]||(s[30]=t("p",{class:"text-xs text-muted-foreground"}," Password minimal 8 karakter, gunakan kombinasi huruf dan angka ",-1)),e(r).errors.password?(d(),p("p",pe,i(e(r).errors.password),1)):x("",!0)]),t("div",fe,[a(e(u),{for:"password_confirmation"},{default:o(()=>[...s[31]||(s[31]=[l("Konfirmasi Password",-1)])]),_:1}),a(e(g),{id:"password_confirmation",modelValue:e(r).password_confirmation,"onUpdate:modelValue":s[6]||(s[6]=n=>e(r).password_confirmation=n),type:"password",placeholder:"Ulangi password"},null,8,["modelValue"]),s[32]||(s[32]=t("p",{class:"text-xs text-muted-foreground"}," Ketik ulang password baru yang sama untuk konfirmasi ",-1))])])]),_:1})]),_:1}),t("div",ge,[a(e(K),{href:e(E).url()},{default:o(()=>[a(e(b),{type:"button",variant:"outline"},{default:o(()=>[...s[33]||(s[33]=[l(" Batal ",-1)])]),_:1})]),_:1},8,["href"]),a(e(b),{type:"submit",disabled:e(r).processing},{default:o(()=>[l(i(e(r).processing?"Menyimpan...":"Simpan Perubahan"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{he as default};
