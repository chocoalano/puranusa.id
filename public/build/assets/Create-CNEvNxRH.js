const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PageBuilder-ujNAAitY.js","assets/PageBuilder.vue_vue_type_script_setup_true_lang-Df8hutHo.js","assets/CardContent.vue_vue_type_script_setup_true_lang-DMEXwOYw.js","assets/index-D-ZDeNW7.js","assets/vendor-zBKKL15G.js","assets/vendor-UvtswsZk.css","assets/CardDescription.vue_vue_type_script_setup_true_lang-D-xxhgKX.js","assets/CardHeader.vue_vue_type_script_setup_true_lang-DAmVrl_s.js","assets/CardTitle.vue_vue_type_script_setup_true_lang-BNxuRtlf.js","assets/Input.vue_vue_type_script_setup_true_lang-B8h33Tay.js","assets/Label.vue_vue_type_script_setup_true_lang-DvD9zvFD.js","assets/Textarea.vue_vue_type_script_setup_true_lang-CJXO7QmN.js","assets/SelectValue.vue_vue_type_script_setup_true_lang-DhBu_Vgs.js","assets/DialogTitle.vue_vue_type_script_setup_true_lang-BztoJuNo.js","assets/DialogFooter.vue_vue_type_script_setup_true_lang-DbfMc8As.js","assets/index-Bgaf6fPq.js","assets/PageBuilder-B_VyrZVp.css"])))=>i.map(i=>d[i]);
import{d as N,r as x,D as J,c as U,g as n,w as a,e as i,b as s,u as t,E as L,s as u,S as I,G as P,v as p,t as _,H as v,J as m,K as j,N as F,F as z,x as K,X as R,j as G,P as A,_ as H}from"./vendor-zBKKL15G.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-B4Q7M_yc.js";import{_ as y,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-DMEXwOYw.js";import{_ as h}from"./CardDescription.vue_vue_type_script_setup_true_lang-D-xxhgKX.js";import{_ as S}from"./CardHeader.vue_vue_type_script_setup_true_lang-DAmVrl_s.js";import{_ as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-BNxuRtlf.js";import{_ as X}from"./Skeleton.vue_vue_type_script_setup_true_lang-WEMsGz8i.js";import{_ as $}from"./index-D-ZDeNW7.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-B8h33Tay.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-DvD9zvFD.js";import{_ as q}from"./Textarea.vue_vue_type_script_setup_true_lang-CJXO7QmN.js";import{_ as Q}from"./Checkbox.vue_vue_type_script_setup_true_lang-B0h4TtcN.js";import{_ as W}from"./index-Bgaf6fPq.js";import"./index-DaR_mHDg.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-kKofCkkG.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-CzoF4v2h.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CJL3Y8wp.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-5qqdoF-N.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DSZTc71l.js";const Y={class:"container mx-auto py-6 space-y-6"},Z={class:"flex items-center justify-between"},ee={class:"flex items-center gap-4"},te={href:"/admin/articles"},se={class:"flex gap-2"},le={class:"grid gap-6 lg:grid-cols-3"},ae={class:"lg:col-span-2 space-y-6"},oe={class:"space-y-2"},ie={key:0,class:"text-sm text-destructive"},ue={class:"space-y-2"},de={key:0,class:"text-sm text-destructive"},re={class:"text-sm text-muted-foreground"},ne={class:"space-y-2"},pe={key:0,class:"text-sm text-destructive"},me={class:"text-sm text-muted-foreground"},_e={class:"space-y-2"},fe={key:0,class:"text-sm text-destructive"},ve={class:"text-sm text-muted-foreground"},ce={class:"space-y-6"},ge={class:"flex items-center space-x-2"},ke={key:0,class:"space-y-2"},be={key:0,class:"text-sm text-destructive"},xe={class:"flex gap-2"},ye={key:0,class:"flex flex-wrap gap-2"},Ve={key:1,class:"text-sm text-muted-foreground"},Re=N({__name:"Create",setup(he){const D=j({loader:()=>H(()=>import("./PageBuilder-ujNAAitY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])),loadingComponent:{template:'<div class="space-y-4"><Skeleton class="h-12 w-full" /><Skeleton class="h-64 w-full" /><Skeleton class="h-12 w-full" /></div>',components:{Skeleton:X}}}),l=x({title:"",slug:"",seo_title:"",seo_description:"",content:"",blocks:[],tags:[],is_published:!1,published_at:""}),d=x({}),g=x(!1),k=x(""),B=r=>r.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-"),E=()=>{l.value.slug=B(l.value.title)};J(()=>l.value.blocks,r=>{l.value.content=JSON.stringify(r)},{deep:!0});const T=()=>{const r=k.value.trim();r&&!l.value.tags.includes(r)&&(l.value.tags.push(r),k.value="")},O=r=>{l.value.tags.splice(r,1)},C=(r=!1)=>{g.value=!0,d.value={};const e=JSON.stringify(l.value.blocks),o={title:l.value.title,slug:l.value.slug,seo_title:l.value.seo_title,seo_description:l.value.seo_description,content:e,tags:l.value.tags,is_published:r,published_at:r&&!l.value.published_at?new Date().toISOString():l.value.published_at};G.post("/admin/articles",o,{onSuccess:()=>{A.success(r?"Artikel berhasil diterbitkan":"Artikel berhasil disimpan sebagai draft")},onError:b=>{d.value=b,A.error("Terjadi kesalahan, periksa form Anda")},onFinish:()=>{g.value=!1}})};return(r,e)=>(n(),U(M,null,{default:a(()=>[i("div",Y,[i("div",Z,[i("div",ee,[s(t($),{variant:"ghost",size:"icon","as-child":""},{default:a(()=>[i("a",te,[s(t(L),{class:"h-4 w-4"})])]),_:1}),e[10]||(e[10]=i("div",null,[i("h1",{class:"text-3xl font-bold tracking-tight"},"Buat Artikel Baru"),i("p",{class:"text-muted-foreground"}," Tambahkan konten artikel baru ke blog ")],-1))]),i("div",se,[s(t($),{variant:"outline",disabled:g.value,onClick:e[0]||(e[0]=o=>C(!1))},{default:a(()=>[s(t(I),{class:"mr-2 h-4 w-4"}),e[11]||(e[11]=u(" Simpan Draft ",-1))]),_:1},8,["disabled"]),s(t($),{disabled:g.value,onClick:e[1]||(e[1]=o=>C(!0))},{default:a(()=>[s(t(P),{class:"mr-2 h-4 w-4"}),e[12]||(e[12]=u(" Terbitkan ",-1))]),_:1},8,["disabled"])])]),i("div",le,[i("div",ae,[s(t(y),null,{default:a(()=>[s(t(S),null,{default:a(()=>[s(t(w),null,{default:a(()=>[...e[13]||(e[13]=[u("Informasi Dasar",-1)])]),_:1}),s(t(h),null,{default:a(()=>[...e[14]||(e[14]=[u("Detail utama artikel",-1)])]),_:1})]),_:1}),s(t(V),{class:"space-y-4"},{default:a(()=>[i("div",oe,[s(t(f),{for:"title"},{default:a(()=>[...e[15]||(e[15]=[u("Judul Artikel",-1)])]),_:1}),s(t(c),{id:"title",modelValue:l.value.title,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.title=o),placeholder:"Masukkan judul artikel",class:v({"border-destructive":d.value.title}),onInput:E},null,8,["modelValue","class"]),d.value.title?(n(),p("p",ie,m(d.value.title),1)):_("",!0)]),i("div",ue,[s(t(f),{for:"slug"},{default:a(()=>[...e[16]||(e[16]=[u("Slug (URL)",-1)])]),_:1}),s(t(c),{id:"slug",modelValue:l.value.slug,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.slug=o),placeholder:"slug-artikel",class:v({"border-destructive":d.value.slug})},null,8,["modelValue","class"]),d.value.slug?(n(),p("p",de,m(d.value.slug),1)):_("",!0),i("p",re," URL: /articles/"+m(l.value.slug||"slug-artikel"),1)])]),_:1})]),_:1}),s(t(D),{modelValue:l.value.blocks,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.blocks=o)},null,8,["modelValue"]),s(t(y),null,{default:a(()=>[s(t(S),null,{default:a(()=>[s(t(w),null,{default:a(()=>[...e[17]||(e[17]=[u("SEO",-1)])]),_:1}),s(t(h),null,{default:a(()=>[...e[18]||(e[18]=[u("Optimasi mesin pencari",-1)])]),_:1})]),_:1}),s(t(V),{class:"space-y-4"},{default:a(()=>[i("div",ne,[s(t(f),{for:"seo_title"},{default:a(()=>[...e[19]||(e[19]=[u("Judul SEO",-1)])]),_:1}),s(t(c),{id:"seo_title",modelValue:l.value.seo_title,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.seo_title=o),placeholder:"Judul untuk mesin pencari",class:v({"border-destructive":d.value.seo_title})},null,8,["modelValue","class"]),d.value.seo_title?(n(),p("p",pe,m(d.value.seo_title),1)):_("",!0),i("p",me,m(l.value.seo_title.length)+"/255 karakter ",1)]),i("div",_e,[s(t(f),{for:"seo_description"},{default:a(()=>[...e[20]||(e[20]=[u("Deskripsi SEO",-1)])]),_:1}),s(t(q),{id:"seo_description",modelValue:l.value.seo_description,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.seo_description=o),placeholder:"Deskripsi singkat untuk mesin pencari",rows:"3",class:v({"border-destructive":d.value.seo_description})},null,8,["modelValue","class"]),d.value.seo_description?(n(),p("p",fe,m(d.value.seo_description),1)):_("",!0),i("p",ve,m(l.value.seo_description.length)+"/500 karakter ",1)])]),_:1})]),_:1})]),i("div",ce,[s(t(y),null,{default:a(()=>[s(t(S),null,{default:a(()=>[s(t(w),null,{default:a(()=>[...e[21]||(e[21]=[u("Publikasi",-1)])]),_:1}),s(t(h),null,{default:a(()=>[...e[22]||(e[22]=[u("Atur tanggal publikasi",-1)])]),_:1})]),_:1}),s(t(V),{class:"space-y-4"},{default:a(()=>[i("div",ge,[s(t(Q),{id:"is_published",checked:l.value.is_published,"onUpdate:checked":e[7]||(e[7]=o=>l.value.is_published=o)},null,8,["checked"]),s(t(f),{for:"is_published",class:"cursor-pointer"},{default:a(()=>[...e[23]||(e[23]=[u(" Terbitkan artikel ",-1)])]),_:1})]),l.value.is_published?(n(),p("div",ke,[s(t(f),{for:"published_at"},{default:a(()=>[...e[24]||(e[24]=[u("Tanggal Terbit",-1)])]),_:1}),s(t(c),{id:"published_at",modelValue:l.value.published_at,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.published_at=o),type:"datetime-local",class:v({"border-destructive":d.value.published_at})},null,8,["modelValue","class"]),d.value.published_at?(n(),p("p",be,m(d.value.published_at),1)):_("",!0)])):_("",!0)]),_:1})]),_:1}),s(t(y),null,{default:a(()=>[s(t(S),null,{default:a(()=>[s(t(w),null,{default:a(()=>[...e[25]||(e[25]=[u("Tag",-1)])]),_:1}),s(t(h),null,{default:a(()=>[...e[26]||(e[26]=[u("Tambahkan tag untuk artikel",-1)])]),_:1})]),_:1}),s(t(V),{class:"space-y-4"},{default:a(()=>[i("div",xe,[s(t(c),{modelValue:k.value,"onUpdate:modelValue":e[9]||(e[9]=o=>k.value=o),placeholder:"Tambah tag",onKeyup:F(T,["enter"])},null,8,["modelValue"]),s(t($),{type:"button",size:"sm",onClick:T},{default:a(()=>[...e[27]||(e[27]=[u(" Tambah ",-1)])]),_:1})]),l.value.tags.length>0?(n(),p("div",ye,[(n(!0),p(z,null,K(l.value.tags,(o,b)=>(n(),U(t(W),{key:b,variant:"secondary",class:"cursor-pointer hover:bg-destructive hover:text-destructive-foreground",onClick:Se=>O(b)},{default:a(()=>[u(m(o)+" ",1),s(t(R),{class:"ml-1 h-3 w-3"})]),_:2},1032,["onClick"]))),128))])):(n(),p("p",Ve," Belum ada tag "))]),_:1})]),_:1})])])])]),_:1}))}});export{Re as default};
